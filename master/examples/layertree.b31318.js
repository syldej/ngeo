(function(u){function e(e){var r=e[0];var t=e[1];var n=e[2];var a,o,l=0,i=[];for(;l<r.length;l++){o=r[l];if(s[o]){i.push(s[o][0])}s[o]=0}for(a in t){if(Object.prototype.hasOwnProperty.call(t,a)){u[a]=t[a]}}if(y)y(e);while(i.length){i.shift()()}c.push.apply(c,n||[]);return p()}function p(){var e;for(var r=0;r<c.length;r++){var t=c[r];var n=true;for(var a=1;a<t.length;a++){var o=t[a];if(s[o]!==0)n=false}if(n){c.splice(r--,1);e=l(l.s=t[0])}}return e}var t={};var s={22:0};var c=[];function l(e){if(t[e]){return t[e].exports}var r=t[e]={i:e,l:false,exports:{}};u[e].call(r.exports,r,r.exports,l);r.l=true;return r.exports}l.m=u;l.c=t;l.d=function(e,r,t){if(!l.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t})}};l.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};l.t=function(r,e){if(e&1)r=l(r);if(e&8)return r;if(e&4&&typeof r==="object"&&r&&r.__esModule)return r;var t=Object.create(null);l.r(t);Object.defineProperty(t,"default",{enumerable:true,value:r});if(e&2&&typeof r!="string")for(var n in r)l.d(t,n,function(e){return r[e]}.bind(null,n));return t};l.n=function(r){var e=r&&r.__esModule?function e(){return r["default"]}:function e(){return r};l.d(e,"a",e);return e};l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};l.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[];var n=r.push.bind(r);r.push=e;r=r.slice();for(var a=0;a<r.length;a++)e(r[a]);var y=n;c.push([469,0]);return p()})({469:function(e,r,t){t(51);t(52);e.exports=t(470)},470:function(e,r,t){"use strict";t.r(r);var n=t(471);var a=t.n(n);var o=t(19);var l=t(25);var i=t(18);var u=t(30);var p=t(306);var s=t(295);var c=t(23);var y=t(204);var f={};f.module=angular.module("app",["gettext",s["a"].name,c["a"].name,y["a"].module.name]);f.layertreeComponent={bindings:{map:"=appLayertreeMap"},controller:"AppLayertreeController",template:'<div ngeo-layertree="::$ctrl.tree" '+'ngeo-layertree-templateurl="examples/layertree" '+'ngeo-layertree-map="$ctrl.map" '+'ngeo-layertree-nodelayer="$ctrl.getLayer(node)">'+"</div>"};f.module.run(["$templateCache",function(e){e.put("examples/layertree",t(472))}]);f.module.component("appLayertree",f.layertreeComponent);f.LayertreeController=function(e,r,t,n){var a=this;this.tree=undefined;e.get("data/tree.json").then(function(e){a.tree=e.data});this.http_=e;this.sce_=r;this.getLayer_=t;this.infoPopup_=n();this.promises_={}};f.LayertreeController.$inject=["$http","$sce","appGetLayer","ngeoCreatePopup"];f.LayertreeController.prototype.getLayer=function(e){return this.getLayer_(e)};f.LayertreeController.prototype.onButtonClick=function(r,e){var t=this;var n=r["layerType"];if(!(n in this.promises_)){this.promises_[n]=this.http_.get("data/metadata.html").then(function(e){var r=t.sce_.trustAsHtml(e.data);return r})}var a=this.infoPopup_;this.promises_[n].then(function(e){a.setTitle(r["name"]);a.setContent(e);a.setOpen(true)})};f.module.controller("AppLayertreeController",f.LayertreeController);f.getLayer=function(){var a={};return function(e){if(!("layerType"in e)){return null}var r=e["layerType"];if(r in a){return a[r]}var t;if(r=="stamenWatercolor"){t=new p["a"]({layer:"watercolor"})}else if(r=="stamenTerrain-labels"){t=new p["a"]({layer:"terrain-labels"})}else if(r=="osmHumanitarian"){t=new u["b"]({url:"https://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png"})}else if(r=="osmCycle"){t=new u["b"]({url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png"})}else if(r=="osmTransport"){t=new u["b"]({url:"https://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png"})}else{t=new u["b"]}var n=new i["a"]({source:t});n.set("type",r);a[r]=n;return n}}();f.module.value("appGetLayer",f.getLayer);f.MainController=function(){this.map=new o["a"]({layers:[new i["a"]({source:new u["b"]})],view:new l["a"]({center:[-10983710.59086991,4686507.078220731],zoom:4})})};f.module.controller("MainController",f.MainController);r["default"]=f},471:function(e,r){},472:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<span ng-if="::!layertreeCtrl.isRoot">{{::layertreeCtrl.node.name}}</span>\n<input type="checkbox" ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n    ng-model="layertreeCtrl.getSetActive" ng-model-options="{getterSetter: true}"/>\n<button ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n        ng-click="ctrl.onButtonClick(layertreeCtrl.node, layertreeCtrl.layer)">i</button>\n<ul ng-if="::layertreeCtrl.node.children">\n  <li ng-repeat="node in ::layertreeCtrl.node.children"\n      ngeo-layertree="::node"\n      ngeo-layertree-templateurl="partials/layertree.html"\n      ngeo-layertree-notroot\n      ngeo-layertree-map="layertreeCtrl.map"\n      ngeo-layertree-nodelayerexpr="layertreeCtrl.nodelayerExpr">\n  </li>\n</ul>\n'}return __p}}});
//# sourceMappingURL=layertree.b31318.js.map