(function(c){function e(e){var r=e[0];var t=e[1];var n=e[2];var o,a,i=0,l=[];for(;i<r.length;i++){a=r[i];if(s[a]){l.push(s[a][0])}s[a]=0}for(o in t){if(Object.prototype.hasOwnProperty.call(t,o)){c[o]=t[o]}}if(f)f(e);while(l.length){l.shift()()}p.push.apply(p,n||[]);return u()}function u(){var e;for(var r=0;r<p.length;r++){var t=p[r];var n=true;for(var o=1;o<t.length;o++){var a=t[o];if(s[a]!==0)n=false}if(n){p.splice(r--,1);e=i(i.s=t[0])}}return e}var t={};var s={39:0};var p=[];function i(e){if(t[e]){return t[e].exports}var r=t[e]={i:e,l:false,exports:{}};c[e].call(r.exports,r,r.exports,i);r.l=true;return r.exports}i.m=c;i.c=t;i.d=function(e,r,t){if(!i.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(r,e){if(e&1)r=i(r);if(e&8)return r;if(e&4&&typeof r==="object"&&r&&r.__esModule)return r;var t=Object.create(null);i.r(t);Object.defineProperty(t,"default",{enumerable:true,value:r});if(e&2&&typeof r!="string")for(var n in r)i.d(t,n,function(e){return r[e]}.bind(null,n));return t};i.n=function(r){var e=r&&r.__esModule?function e(){return r["default"]}:function e(){return r};i.d(e,"a",e);return e};i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[];var n=r.push.bind(r);r.push=e;r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var f=n;p.push([525,0]);return u()})({525:function(e,r,t){t(51);t(52);e.exports=t(526)},526:function(e,r,t){"use strict";t.r(r);var n=t(113);var o=t(527);var a=t.n(o);var l=t(1);var i=t(23);var c=t(88);var u=t(228);var s=t(19);var p=t(25);var f=t(18);var d=t(41);var h=t(8);var v=t(30);var g=t(36);var m={};m.module=angular.module("app",["gettext",i["a"].name,u["a"].name]);m.searchComponent={bindings:{map:"=appSearchMap"},controller:"AppSearchController",template:'<input type="text" placeholder="searchâ€¦" '+'ngeo-search="$ctrl.options" '+'ngeo-search-datasets="$ctrl.datasets" '+'ngeo-search-listeners="$ctrl.listeners">'};m.module.component("appSearch",m.searchComponent);m.SearchController=function(e,a,i,r){this.$element=e;this.map;this.vectorLayer_=this.createVectorLayer_();var t=this.createAndInitBloodhound_(r);this.options={highlight:true,hint:undefined,minLength:undefined};this.datasets=[{source:t.ttAdapter(),display:function e(r){var t=r;return t.get("label")},templates:{header:function e(){return'<div class="ngeo-header">Addresses</div>'},suggestion:function e(r){var t=r;var n=a.$new(true);n["feature"]=t;n["click"]=function(e){window.alert(t.get("label"));e.stopPropagation()};var o="<p>"+t.get("label")+'<button ng-click="click($event)">i</button></p>';return i(o)(n)}}}];this.listeners={select:m.SearchController.select_.bind(this)}};m.SearchController.$inject=["$element","$rootScope","$compile","ngeoSearchCreateGeoJSONBloodhound"];m.SearchController.prototype.$onInit=function(){var e=this.$element.find("input");e.on("focus blur",function(){e.val("")})};m.SearchController.prototype.createVectorLayer_=function(){var e=new d["a"]({source:new g["a"]});e.setMap(this.map);return e};m.SearchController.prototype.createAndInitBloodhound_=function(e){var r=n["a"].SEARCH;var t=e(r,undefined,h["g"]("EPSG:3857"),c["a"]);t.initialize();return t};m.SearchController.select_=function(e,r,t){var n=r;var o=n.getGeometry();var a=this.map.getSize();l["a"].assert(a!==undefined);var i=this.vectorLayer_.getSource();i.clear(true);i.addFeature(n);this.map.getView().fit(o,{size:a,maxZoom:16})};m.module.controller("AppSearchController",m.SearchController);m.MainController=function(){this.map=new s["a"]({layers:[new f["a"]({source:new v["b"]})],view:new p["a"]({center:[0,0],zoom:4})})};m.module.controller("MainController",m.MainController);r["default"]=m},527:function(e,r){}});
//# sourceMappingURL=search.2d2eea.js.map