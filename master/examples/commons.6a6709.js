(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],[function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"c",function(){return i});n.d(e,"d",function(){return l});n.d(e,"e",function(){return a});n.d(e,"g",function(){return u});n.d(e,"f",function(){return c});n.d(e,"r",function(){return h});n.d(e,"h",function(){return f});n.d(e,"i",function(){return d});n.d(e,"n",function(){return p});n.d(e,"l",function(){return v});n.d(e,"m",function(){return g});n.d(e,"k",function(){return m});n.d(e,"j",function(){return y});n.d(e,"p",function(){return _});n.d(e,"b",function(){return b});n.d(e,"o",function(){return O});n.d(e,"q",function(){return w});n.d(e,"s",function(){return S});n.d(e,"t",function(){return T});n.d(e,"u",function(){return E});var o=n(9);var r=document.implementation.createDocument("","",null);var i="http://www.w3.org/2001/XMLSchema-instance";function l(t,e){return r.createElementNS(t,e)}function a(t,e){return s(t,e,[]).join("")}function s(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE){if(e){n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""))}else{n.push(t.nodeValue)}}else{var r;for(r=t.firstChild;r;r=r.nextSibling){s(r,e,n)}}return n}function u(t){return"documentElement"in t}function c(t,e,n){return t.getAttributeNS(e,n)||""}function h(t){return(new DOMParser).parseFromString(t,"application/xml")}function f(i,a){return function(t,e){var n=i.call(a!==undefined?a:this,t,e);if(n!==undefined){var r=e[e.length-1];Object(o["c"])(r,n)}}}function d(i,a){return function(t,e){var n=i.call(a!==undefined?a:this,t,e);if(n!==undefined){var r=e[e.length-1];r.push(n)}}}function p(r,i){return function(t,e){var n=r.call(i!==undefined?i:this,t,e);if(n!==undefined){e[e.length-1]=n}}}function v(o,s,u){return function(t,e){var n=o.call(u!==undefined?u:this,t,e);if(n!==undefined){var r=e[e.length-1];var i=s!==undefined?s:t.localName;var a;if(i in r){a=r[i]}else{a=r[i]=[]}a.push(n)}}}function g(a,o,s){return function(t,e){var n=a.call(s!==undefined?s:this,t,e);if(n!==undefined){var r=e[e.length-1];var i=o!==undefined?o:t.localName;r[i]=n}}}function m(a,o){return function(t,e,n){a.call(o!==undefined?o:this,t,e,n);var r=n[n.length-1];var i=r.node;i.appendChild(t)}}function y(i,t){var a,o;return function(t,e,n){if(a===undefined){a={};var r={};r[t.localName]=i;a[t.namespaceURI]=r;o=_(t.localName)}x(a,o,e,n)}}function _(t,s){var u=t;return function(t,e,n){var r=e[e.length-1];var i=r.node;var a=u;if(a===undefined){a=n}var o=s!==undefined?s:i.namespaceURI;return l(o,a)}}var b=_();function O(t,e){var n=e.length;var r=new Array(n);for(var i=0;i<n;++i){r[i]=t[e[i]]}return r}function w(t,e,n){var r=n!==undefined?n:{};var i,a;for(i=0,a=t.length;i<a;++i){r[t[i]]=e}return r}function S(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var a=t[i.namespaceURI];if(a!==undefined){var o=a[i.localName];if(o!==undefined){o.call(r,i,n)}}}}function T(t,e,n,r,i){r.push(t);S(e,n,r,i);return r.pop()}function x(t,e,n,r,i,a){var o=(i!==undefined?i:n).length;var s,u;for(var l=0;l<o;++l){s=n[l];if(s!==undefined){u=e.call(a!==undefined?a:this,s,r,i!==undefined?i[l]:undefined);if(u!==undefined){t[u.namespaceURI][u.localName].call(a,u,s,r)}}}}function E(t,e,n,r,i,a,o){i.push(t);x(e,n,r,i,a,o);return i.pop()}},function(t,e,n){"use strict";var r={};r.assert=function(t,e,n){return t};r.assertNumber=function(t,e,n){return t};r.assertString=function(t,e,n){return t};r.assertFunction=function(t,e,n){return t};r.assertObject=function(t,e,n){return t};r.assertArray=function(t,e,n){return t};r.assertBoolean=function(t,e,n){return t};r.assertElement=function(t,e,n){return t};r.assertInstanceof=function(t,e,n,r){return t};r.assertObjectPrototypeIsIntact=function(){};e["a"]=r},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"b",function(){return a});n.d(e,"c",function(){return f});n.d(e,"e",function(){return d});n.d(e,"d",function(){return p});var o=n(10);function u(i){var t=function t(e){var n=i.listener;var r=i.bindTo||i.target;if(i.callOnce){d(i)}return n.call(r,e)};i.boundListener=t;return t}function l(t,e,n,r){var i;for(var a=0,o=t.length;a<o;++a){i=t[a];if(i.listener===e&&i.bindTo===n){if(r){i.deleteIndex=a}return i}}return undefined}function s(t,e){var n=c(t);return n?n[e]:undefined}function c(t,e){var n=t.ol_lm;if(!n&&e){n=t.ol_lm={}}return n}function h(t){delete t.ol_lm}function r(t,e){var n=s(t,e);if(n){for(var r=0,i=n.length;r<i;++r){t.removeEventListener(e,n[r].boundListener);Object(o["b"])(n[r])}n.length=0;var a=c(t);if(a){delete a[e];if(Object.keys(a).length===0){h(t)}}}}function i(t,e,n,r,i){var a=c(t,true);var o=a[e];if(!o){o=a[e]=[]}var s=l(o,n,r,false);if(s){if(!i){s.callOnce=false}}else{s={bindTo:r,callOnce:!!i,listener:n,target:t,type:e};t.addEventListener(e,u(s));o.push(s)}return s}function a(t,e,n,r){return i(t,e,n,r,true)}function f(t,e,n,r){var i=s(t,e);if(i){var a=l(i,n,r,true);if(a){d(a)}}}function d(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=s(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);if(n!==-1){e.splice(n,1)}if(e.length===0){r(t.target,t.type)}}Object(o["b"])(t)}}function p(t){var e=c(t);if(e){for(var n in e){r(t,n)}}}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});n.d(e,"c",function(){return s});n.d(e,"d",function(){return u});n.d(e,"e",function(){return l});n.d(e,"f",function(){return c});n.d(e,"g",function(){return h});n.d(e,"h",function(){return f});n.d(e,"i",function(){return y});n.d(e,"j",function(){return d});n.d(e,"k",function(){return S});n.d(e,"l",function(){return p});n.d(e,"m",function(){return v});n.d(e,"n",function(){return g});n.d(e,"o",function(){return _});n.d(e,"p",function(){return O});n.d(e,"q",function(){return w});n.d(e,"r",function(){return T});n.d(e,"s",function(){return E});n.d(e,"t",function(){return j});n.d(e,"u",function(){return A});n.d(e,"v",function(){return k});n.d(e,"w",function(){return I});n.d(e,"x",function(){return R});n.d(e,"y",function(){return D});n.d(e,"z",function(){return N});n.d(e,"A",function(){return L});n.d(e,"B",function(){return F});n.d(e,"C",function(){return U});n.d(e,"D",function(){return W});n.d(e,"E",function(){return Y});n.d(e,"F",function(){return V});n.d(e,"H",function(){return q});n.d(e,"I",function(){return z});n.d(e,"J",function(){return B});n.d(e,"G",function(){return K});n.d(e,"a",function(){return X});var r=n(20);var i=n(206);var m=n(99);function a(t){var e=d();for(var n=0,r=t.length;n<r;++n){T(e,t[n])}return e}function o(t,e,n){var r=Math.min.apply(null,t);var i=Math.min.apply(null,e);var a=Math.max.apply(null,t);var o=Math.max.apply(null,e);return S(r,i,a,o,n)}function s(t,e,n){if(n){n[0]=t[0]-e;n[1]=t[1]-e;n[2]=t[2]+e;n[3]=t[3]+e;return n}else{return[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}}function u(t,e){if(e){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e}else{return t.slice()}}function l(t,e,n){var r,i;if(e<t[0]){r=t[0]-e}else if(t[2]<e){r=e-t[2]}else{r=0}if(n<t[1]){i=t[1]-n}else if(t[3]<n){i=n-t[3]}else{i=0}return r*r+i*i}function c(t,e){return f(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function y(t,e){var n=t[0];var r=t[1];var i=t[2];var a=t[3];var o=e[0];var s=e[1];var u=m["a"].UNKNOWN;if(o<n){u=u|m["a"].LEFT}else if(o>i){u=u|m["a"].RIGHT}if(s<r){u=u|m["a"].BELOW}else if(s>a){u=u|m["a"].ABOVE}if(u===m["a"].UNKNOWN){u=m["a"].INTERSECTING}return u}function d(){return[Infinity,Infinity,-Infinity,-Infinity]}function S(t,e,n,r,i){if(i){i[0]=t;i[1]=e;i[2]=n;i[3]=r;return i}else{return[t,e,n,r]}}function p(t){return S(Infinity,Infinity,-Infinity,-Infinity,t)}function v(t,e){var n=t[0];var r=t[1];return S(n,r,n,r,e)}function g(t,e){var n=p(e);return x(n,t)}function _(t,e,n,r,i){var a=p(i);return E(a,t,e,n,r)}function b(t,e){var n=p(e);return C(n,t)}function O(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function w(t,e){if(e[0]<t[0]){t[0]=e[0]}if(e[2]>t[2]){t[2]=e[2]}if(e[1]<t[1]){t[1]=e[1]}if(e[3]>t[3]){t[3]=e[3]}return t}function T(t,e){if(e[0]<t[0]){t[0]=e[0]}if(e[0]>t[2]){t[2]=e[0]}if(e[1]<t[1]){t[1]=e[1]}if(e[1]>t[3]){t[3]=e[1]}}function x(t,e){for(var n=0,r=e.length;n<r;++n){T(t,e[n])}return t}function E(t,e,n,r,i){for(;n<r;n+=i){M(t,e[n],e[n+1])}return t}function C(t,e){for(var n=0,r=e.length;n<r;++n){x(t,e[n])}return t}function M(t,e,n){t[0]=Math.min(t[0],e);t[1]=Math.min(t[1],n);t[2]=Math.max(t[2],e);t[3]=Math.max(t[3],n)}function j(t,e,n){var r;r=e.call(n,k(t));if(r){return r}r=e.call(n,I(t));if(r){return r}r=e.call(n,W(t));if(r){return r}r=e.call(n,U(t));if(r){return r}return false}function A(t){var e=0;if(!q(t)){e=Y(t)*L(t)}return e}function k(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function D(t,e){var n;if(e===i["a"].BOTTOM_LEFT){n=k(t)}else if(e===i["a"].BOTTOM_RIGHT){n=I(t)}else if(e===i["a"].TOP_LEFT){n=U(t)}else if(e===i["a"].TOP_RIGHT){n=W(t)}else{Object(r["a"])(false,13)}return n}function P(t,e){var n=Math.min(t[0],e[0]);var r=Math.min(t[1],e[1]);var i=Math.max(t[2],e[2]);var a=Math.max(t[3],e[3]);return(i-n)*(a-r)}function N(t,e,n,r,i){var a=e*r[0]/2;var o=e*r[1]/2;var s=Math.cos(n);var u=Math.sin(n);var l=a*s;var c=a*u;var h=o*s;var f=o*u;var d=t[0];var p=t[1];var v=d-l+f;var g=d-l-f;var m=d+l-f;var y=d+l+f;var _=p-c-h;var b=p-c+h;var O=p+c+h;var w=p+c-h;return S(Math.min(v,g,m,y),Math.min(_,b,O,w),Math.max(v,g,m,y),Math.max(_,b,O,w),i)}function L(t){return t[3]-t[1]}function $(t,e){var n=F(t,e);return A(n)}function F(t,e,n){var r=n?n:d();if(V(t,e)){if(t[0]>e[0]){r[0]=t[0]}else{r[0]=e[0]}if(t[1]>e[1]){r[1]=t[1]}else{r[1]=e[1]}if(t[2]<e[2]){r[2]=t[2]}else{r[2]=e[2]}if(t[3]<e[3]){r[3]=t[3]}else{r[3]=e[3]}}else{p(r)}return r}function G(t){return Y(t)+L(t)}function H(t){return[t[2]-t[0],t[3]-t[1]]}function U(t){return[t[0],t[3]]}function W(t){return[t[2],t[3]]}function Y(t){return t[2]-t[0]}function V(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function q(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){if(e){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e}else{return t}}function B(t,e){var n=(t[2]-t[0])/2*(e-1);var r=(t[3]-t[1])/2*(e-1);t[0]-=n;t[2]+=n;t[1]-=r;t[3]+=r}function K(t,e,n){var r=false;var i=y(t,e);var a=y(t,n);if(i===m["a"].INTERSECTING||a===m["a"].INTERSECTING){r=true}else{var o=t[0];var s=t[1];var u=t[2];var l=t[3];var c=e[0];var h=e[1];var f=n[0];var d=n[1];var p=(d-h)/(f-c);var v,g;if(!!(a&m["a"].ABOVE)&&!(i&m["a"].ABOVE)){v=f-(d-l)/p;r=v>=o&&v<=u}if(!r&&!!(a&m["a"].RIGHT)&&!(i&m["a"].RIGHT)){g=d-(f-u)*p;r=g>=s&&g<=l}if(!r&&!!(a&m["a"].BELOW)&&!(i&m["a"].BELOW)){v=f-(d-s)/p;r=v>=o&&v<=u}if(!r&&!!(a&m["a"].LEFT)&&!(i&m["a"].LEFT)){g=d-(f-o)*p;r=g>=s&&g<=l}}return r}function X(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(r,r,2);var i=[r[0],r[2],r[4],r[6]];var a=[r[1],r[3],r[5],r[7]];return o(i,a,n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return o});n.d(e,"c",function(){return s});n.d(e,"d",function(){return u});n.d(e,"e",function(){return l});n.d(e,"f",function(){return c});n.d(e,"g",function(){return h});n.d(e,"h",function(){return f});n.d(e,"i",function(){return d});n.d(e,"j",function(){return p});n.d(e,"k",function(){return v});n.d(e,"l",function(){return g});n.d(e,"m",function(){return m});n.d(e,"n",function(){return y});var i=n(0);var a=n(123);function r(t){var e=Object(i["e"])(t,false);return o(e)}function o(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e){return e[1]!==undefined||false}else{return undefined}}function s(t){var e=Object(i["e"])(t,false);var n=Date.parse(e);return isNaN(n)?undefined:n/1e3}function u(t){var e=Object(i["e"])(t,false);return l(e)}function l(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e){return parseFloat(e[1])}else{return undefined}}function c(t){var e=Object(i["e"])(t,false);return h(e)}function h(t){var e=/^\s*(\d+)\s*$/.exec(t);if(e){return parseInt(e[1],10)}else{return undefined}}function f(t){return Object(i["e"])(t,false).trim()}function d(t,e){y(t,e?"1":"0")}function p(t,e){t.appendChild(i["a"].createCDATASection(e))}function v(t,e){var n=new Date(e*1e3);var r=n.getUTCFullYear()+"-"+Object(a["b"])(n.getUTCMonth()+1,2)+"-"+Object(a["b"])(n.getUTCDate(),2)+"T"+Object(a["b"])(n.getUTCHours(),2)+":"+Object(a["b"])(n.getUTCMinutes(),2)+":"+Object(a["b"])(n.getUTCSeconds(),2)+"Z";t.appendChild(i["a"].createTextNode(r))}function g(t,e){var n=e.toPrecision();t.appendChild(i["a"].createTextNode(n))}function m(t,e){var n=e.toString();t.appendChild(i["a"].createTextNode(n))}function y(t,e){t.appendChild(i["a"].createTextNode(e))}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"d",function(){return i});n.d(e,"c",function(){return o});n.d(e,"a",function(){return s});function r(){return function(){throw new Error("Unimplemented abstract method.")}()}function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t}var a=0;function o(t){return t.ol_uid||(t.ol_uid=String(++a))}var s="5.3.0"},function(t,e,n){"use strict";n.d(e,"c",function(){return a});n.d(e,"h",function(){return o});n.d(e,"i",function(){return s});n.d(e,"k",function(){return u});n.d(e,"m",function(){return l});n.d(e,"d",function(){return c});n.d(e,"j",function(){return h});n.d(e,"l",function(){return f});n.d(e,"e",function(){return d});n.d(e,"f",function(){return p});n.d(e,"g",function(){return v});n.d(e,"r",function(){return g});n.d(e,"p",function(){return m});n.d(e,"n",function(){return y});n.d(e,"o",function(){return _});n.d(e,"q",function(){return b});n.d(e,"s",function(){return O});n.d(e,"a",function(){return S});n.d(e,"b",function(){return T});n.d(e,"t",function(){return E});var r=n(62);var i=n(106);var a=/\d/;var o=/\d\d/;var s=/\d{3}/;var u=/\d{4}/;var l=/[+-]?\d{6}/;var c=/\d\d?/;var h=/\d\d\d\d?/;var f=/\d\d\d\d\d\d?/;var d=/\d{1,3}/;var p=/\d{1,4}/;var v=/[+-]?\d{1,6}/;var g=/\d+/;var m=/[+-]?\d+/;var y=/Z|[+-]\d\d:?\d\d/gi;var _=/Z|[+-]\d\d(?::?\d\d)?/gi;var b=/[+-]?\d+(\.\d{1,3})?/;var O=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var w={};function S(t,n,r){w[t]=Object(i["a"])(n)?n:function(t,e){return t&&r?r:n}}function T(t,e){if(!Object(r["a"])(w,t)){return new RegExp(x(t))}return w[t](e._strict,e._locale)}function x(t){return E(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function E(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},function(t,e,n){"use strict";e["a"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";var f=n(187);var i=n(3);var a=n(14);var r=n(154);var d=n(67);var l=6378137;var c=Math.PI*l;var o=[-c,-c,c,c];var s=[-180,-85,180,85];var u=function(e){function t(t){e.call(this,{code:t,units:d["b"].METERS,extent:o,global:true,worldExtent:s,getPointResolution:function t(e,n){return e/Object(a["b"])(n[1]/l)}})}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;return t}(r["a"]);var h=[new u("EPSG:3857"),new u("EPSG:102100"),new u("EPSG:102113"),new u("EPSG:900913"),new u("urn:ogc:def:crs:EPSG:6.18:3:3857"),new u("urn:ogc:def:crs:EPSG::3857"),new u("http://www.opengis.net/gml/srs/epsg.xml#3857")];function p(t,e,n){var r=t.length;var i=n>1?n:2;var a=e;if(a===undefined){if(i>2){a=t.slice()}else{a=new Array(r)}}var o=c;for(var s=0;s<r;s+=i){a[s]=o*t[s]/180;var u=l*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));if(u>o){u=o}else if(u<-o){u=-o}a[s+1]=u}return a}function v(t,e,n){var r=t.length;var i=n>1?n:2;var a=e;if(a===undefined){if(i>2){a=t.slice()}else{a=new Array(r)}}for(var o=0;o<r;o+=i){a[o]=180*t[o]/c;a[o+1]=360*Math.atan(Math.exp(t[o+1]/l))/Math.PI-90}return a}var g=6378137;var m=[-180,-90,180,90];var y=Math.PI*g/180;var _=function(n){function t(t,e){n.call(this,{code:t,units:d["b"].DEGREES,extent:m,axisOrientation:e,global:true,metersPerUnit:y,worldExtent:m})}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(r["a"]);var b=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:EPSG::4326","neu"),new _("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("urn:x-ogc:def:crs:EPSG:4326","neu")];var O={};function w(){O={}}function S(t){return O[t]||null}function T(t,e){O[t]=e}var x=n(152);n.d(e,"k",function(){return C});n.d(e,"c",function(){return M});n.d(e,"g",function(){return A});n.d(e,"h",function(){return k});n.d(e,"b",function(){return I});n.d(e,"d",function(){return P});n.d(e,"a",function(){return L});n.d(e,"f",function(){return $});n.d(e,"l",function(){return F});n.d(e,"e",function(){return G});n.d(e,"j",function(){return H});n.d(e,"i",function(){return U});n.d(e,"m",function(){return W});n.d(e,"n",function(){return Y});function E(t,e,n){var r;if(e!==undefined){for(var i=0,a=t.length;i<a;++i){e[i]=t[i]}r=e}else{r=t.slice()}return r}function C(t,e,n){if(e!==undefined&&t!==e){for(var r=0,i=t.length;r<i;++r){e[r]=t[r]}t=e}return t}function M(t){T(t.getCode(),t);Object(x["a"])(t,t,E)}function j(t){t.forEach(M)}function A(t){return typeof t==="string"?S(t):t||null}function k(t,e,n,r){t=A(t);var i;var a=t.getPointResolutionFunc();if(a){i=a(e,n)}else{var o=t.getUnits();if(o==d["b"].DEGREES&&!r||r==d["b"].DEGREES){i=e}else{var s=H(t,A("EPSG:4326"));var u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=s(u,u,2);var l=Object(f["b"])(u.slice(0,2),u.slice(2,4));var c=Object(f["b"])(u.slice(4,6),u.slice(6,8));i=(l+c)/2;var h=r?d["a"][r]:t.getMetersPerUnit();if(h!==undefined){i/=h}}}return i}function I(t){j(t);t.forEach(function(e){t.forEach(function(t){if(e!==t){Object(x["a"])(e,t,E)}})})}function R(t,n,r,i){t.forEach(function(e){n.forEach(function(t){Object(x["a"])(e,t,r);Object(x["a"])(t,e,i)})})}function D(){w();Object(x["b"])()}function P(t,e){if(!t){return A(e)}else if(typeof t==="string"){return A(t)}else{return t}}function N(l){return function(t,e,n){var r=t.length;var i=n!==undefined?n:2;var a=e!==undefined?e:new Array(r);for(var o=0;o<r;o+=i){var s=l([t[o],t[o+1]]);a[o]=s[0];a[o+1]=s[1];for(var u=i-1;u>=2;--u){a[o+u]=t[o+u]}}return a}}function L(t,e,n,r){var i=A(t);var a=A(e);Object(x["a"])(i,a,N(n));Object(x["a"])(a,i,N(r))}function $(t,e){return W(t,"EPSG:4326",e!==undefined?e:"EPSG:3857")}function F(t,e){var n=W(t,e!==undefined?e:"EPSG:3857","EPSG:4326");var r=n[0];if(r<-180||r>180){n[0]=Object(a["d"])(r+180,360)-180}return n}function G(t,e){if(t===e){return true}var n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode()){return n}else{var r=H(t,e);return r===E&&n}}function H(t,e){var n=t.getCode();var r=e.getCode();var i=Object(x["c"])(n,r);if(!i){i=C}return i}function U(t,e){var n=A(t);var r=A(e);return H(n,r)}function W(t,e,n){var r=U(e,n);return r(t,undefined,t.length)}function Y(t,e,n){var r=U(e,n);return Object(i["a"])(t,r)}function V(t,e,n){var r=H(e,n);return r(t)}function q(){I(h);I(b);R(b,h,p,v)}q()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"i",function(){return l});n.d(e,"f",function(){return i});n.d(e,"h",function(){return a});n.d(e,"k",function(){return o});n.d(e,"c",function(){return s});n.d(e,"j",function(){return u});n.d(e,"d",function(){return c});n.d(e,"b",function(){return h});n.d(e,"l",function(){return f});n.d(e,"e",function(){return d});n.d(e,"g",function(){return p});function r(t,e,n){var r,i;var a=n||l;var o=0;var s=t.length;var u=false;while(o<s){r=o+(s-o>>1);i=+a(t[r],e);if(i<0){o=r+1}else{s=r;u=!i}}return u?o:~o}function l(t,e){return t>e?1:t<e?-1:0}function i(t,e){return t.indexOf(e)>=0}function a(t,e,n){var r=t.length;if(t[0]<=e){return 0}else if(e<=t[r-1]){return r-1}else{var i;if(n>0){for(i=1;i<r;++i){if(t[i]<e){return i-1}}}else if(n<0){for(i=1;i<r;++i){if(t[i]<=e){return i}}}else{for(i=1;i<r;++i){if(t[i]==e){return i}else if(t[i]<e){if(t[i-1]-e<e-t[i]){return i-1}else{return i}}}}return r-1}}function o(t,e,n){while(e<n){var r=t[e];t[e]=t[n];t[n]=r;++e;--n}}function s(t,e){var n=Array.isArray(e)?e:[e];var r=n.length;for(var i=0;i<r;i++){t[t.length]=n[i]}}function u(t,e){var n=t.indexOf(e);var r=n>-1;if(r){t.splice(n,1)}return r}function c(t,e){var n=t.length>>>0;var r;for(var i=0;i<n;i++){r=t[i];if(e(r,i,t)){return r}}return null}function h(t,e){var n=t.length;if(n!==e.length){return false}for(var r=0;r<n;r++){if(t[r]!==e[r]){return false}}return true}function f(t,n){var e=t.length;var r=Array(t.length);var i;for(i=0;i<e;i++){r[i]={index:i,value:t[i]}}r.sort(function(t,e){return n(t.value,e.value)||t.index-e.index});for(i=0;i<t.length;i++){t[i]=r[i].value}}function d(n,r){var i;var t=!n.every(function(t,e){i=e;return!r(t,e,n)});return t?i:-1}function p(r,t,i){var a=t||l;return r.every(function(t,e){if(e===0){return true}var n=a(r[e-1],t);return!(n>0||i&&n===0)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});n.d(e,"c",function(){return a});n.d(e,"d",function(){return o});var r=typeof Object.assign==="function"?Object.assign:function(t,e){var n=arguments;if(t===undefined||t===null){throw new TypeError("Cannot convert undefined or null to object")}var r=Object(t);for(var i=1,a=arguments.length;i<a;++i){var o=n[i];if(o!==undefined&&o!==null){for(var s in o){if(o.hasOwnProperty(s)){r[s]=o[s]}}}}return r};function i(t){for(var e in t){delete t[e]}}function a(t){var e=[];for(var n in t){e.push(t[n])}return e}function o(t){var e;for(e in t){return false}return!e}},function(t,e,n){"use strict";e["a"]={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";n.d(e,"c",function(){return s});n.d(e,"b",function(){return u});n.d(e,"d",function(){return l});n.d(e,"e",function(){return c});n.d(e,"f",function(){return h});n.d(e,"g",function(){return f});n.d(e,"i",function(){return d});n.d(e,"k",function(){return p});n.d(e,"l",function(){return g});n.d(e,"m",function(){return m});n.d(e,"j",function(){return y});n.d(e,"h",function(){return _});n.d(e,"o",function(){return b});n.d(e,"a",function(){return T});n.d(e,"p",function(){return E});n.d(e,"q",function(){return C});n.d(e,"s",function(){return M});n.d(e,"r",function(){return j});n.d(e,"n",function(){return A});var v=n(80);var r=n(48);var i=n(10);var a=n(253);var o=n(29);var s="10px sans-serif";var u=[0,0,0,1];var l="round";var c=[];var h=0;var f="round";var d=10;var p=[0,0,0,1];var g="center";var m="middle";var y=[0,0,0,0];var _=1;var b=new a["a"];var O={};var w=null;var S={};var T=function(){var a=60;var o=O;var u="32px ";var l=["monospace","serif"];var c=l.length;var h="wmytzilWMYTZIL@#/&?$%10";var s,f;function d(t){var e=x();for(var n=100;n<=700;n+=300){var r=n+" ";var i=true;for(var a=0;a<c;++a){var o=l[a];e.font=r+u+o;f=e.measureText(h).width;if(t!=o){e.font=r+u+t+","+o;var s=e.measureText(h).width;i=i&&s!=f}}if(i){return true}}return false}function p(){var t=true;for(var e in o){if(o[e]<a){if(d(e)){o[e]=a;Object(i["b"])(S);w=null;b.clear()}else{++o[e];t=false}}}if(t){clearInterval(s);s=undefined}}return function(t){var e=Object(v["f"])(t);if(!e){return}for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!(i in o)){o[i]=a;if(!d(i)){o[i]=0;if(s===undefined){s=setInterval(p,32)}}}}}}();function x(){if(!w){w=Object(r["a"])(1,1)}return w}var E=function(){var n;var r=S;return function(t){var e=r[t];if(e==undefined){if(!n){n=document.createElement("span");n.textContent="M";n.style.margin=n.style.padding="0 !important";n.style.position="absolute !important";n.style.left="-99999px !important"}n.style.font=t;document.body.appendChild(n);e=r[t]=n.offsetHeight;document.body.removeChild(n)}return e}}();function C(t,e){var n=x();if(t!=n.font){n.font=t}return n.measureText(e).width}function M(t,e,n,r){if(e!==0){t.translate(n,r);t.rotate(e);t.translate(-n,-r)}}var j=Object(o["c"])();function A(t,e,n,r,i,a,o,s,u,l,c){var h;if(n!=1){h=t.globalAlpha;t.globalAlpha=h*n}if(e){t.setTransform.apply(t,e)}t.drawImage(r,i,a,o,s,u,l,o*c,s*c);if(h){t.globalAlpha=h}if(e){t.setTransform.apply(t,j)}}},function(t,e,n){"use strict";n.d(e,"i",function(){return r});n.d(e,"e",function(){return i});n.d(e,"a",function(){return a});n.d(e,"b",function(){return o});n.d(e,"d",function(){return s});n.d(e,"f",function(){return u});n.d(e,"c",function(){return l});n.d(e,"g",function(){return c});n.d(e,"h",function(){return h});var r=0;var i=1;var a=2;var o=3;var s=4;var u=5;var l=6;var c=7;var h=8},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"b",function(){return a});n.d(e,"g",function(){return s});n.d(e,"f",function(){return l});n.d(e,"e",function(){return u});n.d(e,"h",function(){return c});n.d(e,"i",function(){return h});n.d(e,"d",function(){return f});n.d(e,"c",function(){return d});var r=n(20);function i(t,e,n){return Math.min(Math.max(t,e),n)}var a=function(){var t;if("cosh"in Math){t=Math.cosh}else{t=function t(e){var n=Math.exp(e);return(n+1/n)/2}}return t}();function o(t){Object(r["a"])(0<t,29);return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function s(t,e,n,r,i,a){var o=i-n;var s=a-r;if(o!==0||s!==0){var u=((t-n)*o+(e-r)*s)/(o*o+s*s);if(u>1){n=i;r=a}else if(u>0){n+=o*u;r+=s*u}}return l(t,e,n,r)}function l(t,e,n,r){var i=n-t;var a=r-e;return i*i+a*a}function u(t){var e=t.length;for(var n=0;n<e;n++){var r=n;var i=Math.abs(t[n][n]);for(var a=n+1;a<e;a++){var o=Math.abs(t[a][n]);if(o>i){i=o;r=a}}if(i===0){return null}var s=t[r];t[r]=t[n];t[n]=s;for(var u=n+1;u<e;u++){var l=-t[u][n]/t[n][n];for(var c=n;c<e+1;c++){if(n==c){t[u][c]=0}else{t[u][c]+=l*t[n][c]}}}}var h=new Array(e);for(var f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--){t[d][e]-=t[d][f]*h[f]}}return h}function c(t){return t*180/Math.PI}function h(t){return t*Math.PI/180}function f(t,e){var n=t%e;return n*e<0?n+e:n}function d(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";var r=n(20);var a=n(2);var o=n(11);var s=n(42);var i=function(r){function i(t){r.call(this);this.id_=undefined;this.geometryName_="geometry";this.style_=null;this.styleFunction_=undefined;this.geometryChangeKey_=null;Object(a["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this);if(t){if(typeof t.getSimplifiedGeometry==="function"){var e=t;this.setGeometry(e)}else{var n=t;this.setProperties(n)}}}if(r)i.__proto__=r;i.prototype=Object.create(r&&r.prototype);i.prototype.constructor=i;i.prototype.clone=function t(){var t=new i(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();if(e){t.setGeometry(e.clone())}var n=this.getStyle();if(n){t.setStyle(n)}return t};i.prototype.getGeometry=function t(){return this.get(this.geometryName_)};i.prototype.getId=function t(){return this.id_};i.prototype.getGeometryName=function t(){return this.geometryName_};i.prototype.getStyle=function t(){return this.style_};i.prototype.getStyleFunction=function t(){return this.styleFunction_};i.prototype.handleGeometryChange_=function t(){this.changed()};i.prototype.handleGeometryChanged_=function t(){if(this.geometryChangeKey_){Object(a["e"])(this.geometryChangeKey_);this.geometryChangeKey_=null}var e=this.getGeometry();if(e){this.geometryChangeKey_=Object(a["a"])(e,o["a"].CHANGE,this.handleGeometryChange_,this)}this.changed()};i.prototype.setGeometry=function t(e){this.set(this.geometryName_,e)};i.prototype.setStyle=function t(e){this.style_=e;this.styleFunction_=!e?undefined:u(e);this.changed()};i.prototype.setId=function t(e){this.id_=e;this.changed()};i.prototype.setGeometryName=function t(e){Object(a["c"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=e;Object(a["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};return i}(s["a"]);function u(t){if(typeof t==="function"){return t}else{var e;if(Array.isArray(t)){e=t}else{Object(r["a"])(typeof t.getZIndex==="function",41);var n=t;e=[n]}return function(){return e}}}e["a"]=i},function(t,e,n){"use strict";n.d(e,"d",function(){return r});n.d(e,"a",function(){return h});n.d(e,"b",function(){return f});var i=n(20);var a=n(7);var o=n(73);var s=n(33);var u=n(34);var l=function t(e){var n=e||{};this.geometry_=null;this.geometryFunction_=d;if(n.geometry!==undefined){this.setGeometry(n.geometry)}this.fill_=n.fill!==undefined?n.fill:null;this.image_=n.image!==undefined?n.image:null;this.renderer_=n.renderer!==undefined?n.renderer:null;this.stroke_=n.stroke!==undefined?n.stroke:null;this.text_=n.text!==undefined?n.text:null;this.zIndex_=n.zIndex};l.prototype.clone=function t(){var e=this.getGeometry();if(e&&typeof e==="object"){e=e.clone()}return new l({geometry:e,fill:this.getFill()?this.getFill().clone():undefined,image:this.getImage()?this.getImage().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,text:this.getText()?this.getText().clone():undefined,zIndex:this.getZIndex()})};l.prototype.getRenderer=function t(){return this.renderer_};l.prototype.setRenderer=function t(e){this.renderer_=e};l.prototype.getGeometry=function t(){return this.geometry_};l.prototype.getGeometryFunction=function t(){return this.geometryFunction_};l.prototype.getFill=function t(){return this.fill_};l.prototype.setFill=function t(e){this.fill_=e};l.prototype.getImage=function t(){return this.image_};l.prototype.setImage=function t(e){this.image_=e};l.prototype.getStroke=function t(){return this.stroke_};l.prototype.setStroke=function t(e){this.stroke_=e};l.prototype.getText=function t(){return this.text_};l.prototype.setText=function t(e){this.text_=e};l.prototype.getZIndex=function t(){return this.zIndex_};l.prototype.setGeometry=function t(e){if(typeof e==="function"){this.geometryFunction_=e}else if(typeof e==="string"){this.geometryFunction_=function(t){return t.get(e)}}else if(!e){this.geometryFunction_=d}else if(e!==undefined){this.geometryFunction_=function(){return e}}this.geometry_=e};l.prototype.setZIndex=function t(e){this.zIndex_=e};function r(t){var e;if(typeof t==="function"){e=t}else{var n;if(Array.isArray(t)){n=t}else{Object(i["a"])(typeof t.getZIndex==="function",41);var r=t;n=[r]}e=function t(){return n}}return e}var c=null;function h(t,e){if(!c){var n=new s["a"]({color:"rgba(255,255,255,0.4)"});var r=new u["a"]({color:"#3399CC",width:1.25});c=[new l({image:new o["a"]({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return c}function f(){var t={};var e=[255,255,255,1];var n=[0,153,255,1];var r=3;t[a["a"].POLYGON]=[new l({fill:new s["a"]({color:[255,255,255,.5]})})];t[a["a"].MULTI_POLYGON]=t[a["a"].POLYGON];t[a["a"].LINE_STRING]=[new l({stroke:new u["a"]({color:e,width:r+2})}),new l({stroke:new u["a"]({color:n,width:r})})];t[a["a"].MULTI_LINE_STRING]=t[a["a"].LINE_STRING];t[a["a"].CIRCLE]=t[a["a"].POLYGON].concat(t[a["a"].LINE_STRING]);t[a["a"].POINT]=[new l({image:new o["a"]({radius:r*2,fill:new s["a"]({color:n}),stroke:new u["a"]({color:e,width:r/2})}),zIndex:Infinity})];t[a["a"].MULTI_POINT]=t[a["a"].POINT];t[a["a"].GEOMETRY_COLLECTION]=t[a["a"].POLYGON].concat(t[a["a"].LINE_STRING],t[a["a"].POINT]);return t}function d(t){return t.getGeometry()}e["c"]=l},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"b",function(){return a});var r;function i(){return r.apply(null,arguments)}function a(t){r=t}},function(t,e,n){"use strict";var i=n(119);var r=n(87);var a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var o=n(10);var s=function(r){function t(t){var e=t?t:{};var n=Object(o["a"])({},e);delete n.preload;delete n.useInterimTilesOnError;r.call(this,n);this.setPreload(e.preload!==undefined?e.preload:0);this.setUseInterimTilesOnError(e.useInterimTilesOnError!==undefined?e.useInterimTilesOnError:true);this.type=i["a"].TILE}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.getPreload=function t(){return this.get(a.PRELOAD)};t.prototype.setPreload=function t(e){this.set(a.PRELOAD,e)};t.prototype.getUseInterimTilesOnError=function t(){return this.get(a.USE_INTERIM_TILES_ON_ERROR)};t.prototype.setUseInterimTilesOnError=function t(e){this.set(a.USE_INTERIM_TILES_ON_ERROR,e)};return t}(r["a"]);s.prototype.getSource;var u=e["a"]=s},function(t,e,n){"use strict";var Mt=n(5);var f=n(39);var s=n(93);var a=n(269);var x=n(60);var u=n(46);var i=n(149);var d=n(2);var r=n(128);var o={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var c=n(190);var l=n(180);var h=["","unavailable","touch","pen","mouse"];function p(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function v(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function g(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t);this.cleanup(t.pointerId)}function m(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function y(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function _(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t);this.cleanup(t.pointerId)}function b(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function O(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var w=function(n){function t(t){var e={MSPointerDown:p,MSPointerMove:v,MSPointerUp:g,MSPointerOut:m,MSPointerOver:y,MSPointerCancel:_,MSGotPointerCapture:O,MSLostPointerCapture:b};n.call(this,t,e);this.pointerMap=t.pointerMap}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.prepareEvent_=function t(e){var n=e;if(typeof e.pointerType==="number"){n=this.dispatcher.cloneEvent(e,e);n.pointerType=h[e.pointerType]}return n};t.prototype.cleanup=function t(e){delete this.pointerMap[e.toString()]};return t}(l["a"]);var S=w;function T(t){this.dispatcher.fireNativeEvent(t)}function E(t){this.dispatcher.fireNativeEvent(t)}function C(t){this.dispatcher.fireNativeEvent(t)}function M(t){this.dispatcher.fireNativeEvent(t)}function j(t){this.dispatcher.fireNativeEvent(t)}function A(t){this.dispatcher.fireNativeEvent(t)}function k(t){this.dispatcher.fireNativeEvent(t)}function I(t){this.dispatcher.fireNativeEvent(t)}var R=function(n){function t(t){var e={pointerdown:T,pointermove:E,pointerup:C,pointerout:M,pointerover:j,pointercancel:A,gotpointercapture:I,lostpointercapture:k};n.call(this,t,e)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(l["a"]);var D=R;var P=n(61);var N=false;var L=function(i){function t(t,e,n){i.call(this,t);this.originalEvent=e;var r=n?n:{};this.buttons=$(r);this.pressure=F(r,this.buttons);this.bubbles="bubbles"in r?r["bubbles"]:false;this.cancelable="cancelable"in r?r["cancelable"]:false;this.view="view"in r?r["view"]:null;this.detail="detail"in r?r["detail"]:null;this.screenX="screenX"in r?r["screenX"]:0;this.screenY="screenY"in r?r["screenY"]:0;this.clientX="clientX"in r?r["clientX"]:0;this.clientY="clientY"in r?r["clientY"]:0;this.ctrlKey="ctrlKey"in r?r["ctrlKey"]:false;this.altKey="altKey"in r?r["altKey"]:false;this.shiftKey="shiftKey"in r?r["shiftKey"]:false;this.metaKey="metaKey"in r?r["metaKey"]:false;this.button="button"in r?r["button"]:0;this.relatedTarget="relatedTarget"in r?r["relatedTarget"]:null;this.pointerId="pointerId"in r?r["pointerId"]:0;this.width="width"in r?r["width"]:0;this.height="height"in r?r["height"]:0;this.tiltX="tiltX"in r?r["tiltX"]:0;this.tiltY="tiltY"in r?r["tiltY"]:0;this.pointerType="pointerType"in r?r["pointerType"]:"";this.hwTimestamp="hwTimestamp"in r?r["hwTimestamp"]:0;this.isPrimary="isPrimary"in r?r["isPrimary"]:false;if(e.preventDefault){this.preventDefault=function(){e.preventDefault()}}}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;return t}(P["a"]);function $(t){var e;if(t.buttons||N){e=t.buttons}else{switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}}return e}function F(t,e){var n=0;if(t.pressure){n=t.pressure}else{n=e?.5:0}return n}(function(){try{var t=new MouseEvent("click",{buttons:1});N=t.buttons===1}catch(t){}})();var G=L;var jt=n(9);var H=200;var U="touch";function W(t){this.vacuumTouches_(t);this.setPrimaryTouch_(t.changedTouches[0]);this.dedupSynthMouse_(t);this.clickCount_++;this.processTouches_(t,this.overDown_)}function Y(t){this.processTouches_(t,this.moveOverOut_)}function V(t){this.dedupSynthMouse_(t);this.processTouches_(t,this.upOut_)}function q(t){this.processTouches_(t,this.cancelOut_)}var z=function(r){function t(t,e){var n={touchstart:W,touchmove:Y,touchend:V,touchcancel:q};r.call(this,t,n);this.pointerMap=t.pointerMap;this.mouseSource=e;this.firstTouchId_=undefined;this.clickCount_=0;this.resetId_;this.dedupTimeout_=2500}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.isPrimaryTouch_=function t(e){return this.firstTouchId_===e.identifier};t.prototype.setPrimaryTouch_=function t(e){var n=Object.keys(this.pointerMap).length;if(n===0||n===1&&c["a"].toString()in this.pointerMap){this.firstTouchId_=e.identifier;this.cancelResetClickCount_()}};t.prototype.removePrimaryPointer_=function t(e){if(e.isPrimary){this.firstTouchId_=undefined;this.resetClickCount_()}};t.prototype.resetClickCount_=function t(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),H)};t.prototype.resetClickCountHandler_=function t(){this.clickCount_=0;this.resetId_=undefined};t.prototype.cancelResetClickCount_=function t(){if(this.resetId_!==undefined){clearTimeout(this.resetId_)}};t.prototype.touchToPointer_=function t(e,n){var r=this.dispatcher.cloneEvent(e,n);r.pointerId=n.identifier+2;r.bubbles=true;r.cancelable=true;r.detail=this.clickCount_;r.button=0;r.buttons=1;r.width=n.radiusX||0;r.height=n.radiusY||0;r.pressure=n.force||.5;r.isPrimary=this.isPrimaryTouch_(n);r.pointerType=U;r.clientX=n.clientX;r.clientY=n.clientY;r.screenX=n.screenX;r.screenY=n.screenY;return r};t.prototype.processTouches_=function t(e,n){var r=Array.prototype.slice.call(e.changedTouches);var i=r.length;function a(){e.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(e,r[o]);s.preventDefault=a;n.call(this,e,s)}};t.prototype.findTouch_=function t(e,n){var r=e.length;for(var i=0;i<r;i++){var a=e[i];if(a.identifier===n){return true}}return false};t.prototype.vacuumTouches_=function t(e){var n=e.touches;var r=Object.keys(this.pointerMap);var i=r.length;if(i>=n.length){var a=[];for(var o=0;o<i;++o){var s=Number(r[o]);var u=this.pointerMap[s];if(s!=c["a"]&&!this.findTouch_(n,s-2)){a.push(u.out)}}for(var l=0;l<a.length;++l){this.cancelOut_(e,a[l])}}};t.prototype.overDown_=function t(e,n){this.pointerMap[n.pointerId]={target:n.target,out:n,outTarget:n.target};this.dispatcher.over(n,e);this.dispatcher.enter(n,e);this.dispatcher.down(n,e)};t.prototype.moveOverOut_=function t(e,n){var r=n;var i=this.pointerMap[r.pointerId];if(!i){return}var a=i.out;var o=i.outTarget;this.dispatcher.move(r,e);if(a&&o!==r.target){a.relatedTarget=r.target;r.relatedTarget=o;a.target=o;if(r.target){this.dispatcher.leaveOut(a,e);this.dispatcher.enterOver(r,e)}else{r.target=o;r.relatedTarget=null;this.cancelOut_(e,r)}}i.out=r;i.outTarget=r.target};t.prototype.upOut_=function t(e,n){this.dispatcher.up(n,e);this.dispatcher.out(n,e);this.dispatcher.leave(n,e);this.cleanUpPointer_(n)};t.prototype.cancelOut_=function t(e,n){this.dispatcher.cancel(n,e);this.dispatcher.out(n,e);this.dispatcher.leave(n,e);this.cleanUpPointer_(n)};t.prototype.cleanUpPointer_=function t(e){delete this.pointerMap[e.pointerId];this.removePrimaryPointer_(e)};t.prototype.dedupSynthMouse_=function t(e){var n=this.mouseSource.lastTouches;var r=e.changedTouches[0];if(this.isPrimaryTouch_(r)){var i=[r.clientX,r.clientY];n.push(i);setTimeout(function(){Object(jt["j"])(n,i)},this.dedupTimeout_)}};return t}(l["a"]);var B=z;var K=[["bubbles",false],["cancelable",false],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",false],["altKey",false],["shiftKey",false],["metaKey",false],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",false],["type",""],["target",null],["currentTarget",null],["which",0]];var X=function(e){function t(t){e.call(this);this.element_=t;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.registerSources=function t(){if(x["g"]){this.registerSource("native",new D(this))}else if(x["f"]){this.registerSource("ms",new S(this))}else{var e=new c["c"](this);this.registerSource("mouse",e);if(x["i"]){this.registerSource("touch",new B(this,e))}}this.register_()};t.prototype.registerSource=function t(e,n){var r=n;var i=r.getEvents();if(i){i.forEach(function(t){var e=r.getHandlerForEvent(t);if(e){this.eventMap_[t]=e.bind(r)}}.bind(this));this.eventSourceList_.push(r)}};t.prototype.register_=function t(){var e=this.eventSourceList_.length;for(var n=0;n<e;n++){var r=this.eventSourceList_[n];this.addEvents_(r.getEvents())}};t.prototype.unregister_=function t(){var e=this.eventSourceList_.length;for(var n=0;n<e;n++){var r=this.eventSourceList_[n];this.removeEvents_(r.getEvents())}};t.prototype.eventHandler_=function t(e){var n=e.type;var r=this.eventMap_[n];if(r){r(e)}};t.prototype.addEvents_=function t(e){e.forEach(function(t){Object(d["a"])(this.element_,t,this.eventHandler_,this)}.bind(this))};t.prototype.removeEvents_=function t(e){e.forEach(function(t){Object(d["c"])(this.element_,t,this.eventHandler_,this)}.bind(this))};t.prototype.cloneEvent=function t(e,n){var r={};for(var i=0,a=K.length;i<a;i++){var o=K[i][0];r[o]=e[o]||n[o]||K[i][1]}return r};t.prototype.down=function t(e,n){this.fireEvent(o.POINTERDOWN,e,n)};t.prototype.move=function t(e,n){this.fireEvent(o.POINTERMOVE,e,n)};t.prototype.up=function t(e,n){this.fireEvent(o.POINTERUP,e,n)};t.prototype.enter=function t(e,n){e.bubbles=false;this.fireEvent(o.POINTERENTER,e,n)};t.prototype.leave=function t(e,n){e.bubbles=false;this.fireEvent(o.POINTERLEAVE,e,n)};t.prototype.over=function t(e,n){e.bubbles=true;this.fireEvent(o.POINTEROVER,e,n)};t.prototype.out=function t(e,n){e.bubbles=true;this.fireEvent(o.POINTEROUT,e,n)};t.prototype.cancel=function t(e,n){this.fireEvent(o.POINTERCANCEL,e,n)};t.prototype.leaveOut=function t(e,n){this.out(e,n);if(!this.contains_(e.target,e.relatedTarget)){this.leave(e,n)}};t.prototype.enterOver=function t(e,n){this.over(e,n);if(!this.contains_(e.target,e.relatedTarget)){this.enter(e,n)}};t.prototype.contains_=function t(e,n){if(!e||!n){return false}return e.contains(n)};t.prototype.makeEvent=function t(e,n,r){return new G(e,r,n)};t.prototype.fireEvent=function t(e,n,r){var i=this.makeEvent(e,n,r);this.dispatchEvent(i)};t.prototype.fireNativeEvent=function t(e){var n=this.makeEvent(e.type,e,e);this.dispatchEvent(n)};t.prototype.wrapMouseEvent=function t(e,n){var r=this.makeEvent(e,Object(c["d"])(n,this),n);return r};t.prototype.disposeInternal=function t(){this.unregister_();e.prototype.disposeInternal.call(this)};return t}(r["a"]);var Z=X;var Q=function(r){function t(t,e){r.call(this);this.map_=t;this.clickTimeoutId_;this.dragging_=false;this.dragListenerKeys_=[];this.moveTolerance_=e?e*x["b"]:x["b"];this.down_=null;var n=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new Z(n);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=Object(d["a"])(this.pointerEventHandler_,o.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=Object(d["a"])(this.pointerEventHandler_,o.POINTERMOVE,this.relayEvent_,this)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.emulateClick_=function t(e){var n=new i["a"](u["a"].CLICK,this.map_,e);this.dispatchEvent(n);if(this.clickTimeoutId_!==undefined){clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=undefined;n=new i["a"](u["a"].DBLCLICK,this.map_,e);this.dispatchEvent(n)}else{this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=undefined;var t=new i["a"](u["a"].SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)}};t.prototype.updateActivePointers_=function t(e){var n=e;if(n.type==u["a"].POINTERUP||n.type==u["a"].POINTERCANCEL){delete this.trackedTouches_[n.pointerId]}else if(n.type==u["a"].POINTERDOWN){this.trackedTouches_[n.pointerId]=true}this.activePointers_=Object.keys(this.trackedTouches_).length};t.prototype.handlePointerUp_=function t(e){this.updateActivePointers_(e);var n=new i["a"](u["a"].POINTERUP,this.map_,e);this.dispatchEvent(n);if(!n.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)){this.emulateClick_(this.down_)}if(this.activePointers_===0){this.dragListenerKeys_.forEach(d["e"]);this.dragListenerKeys_.length=0;this.dragging_=false;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};t.prototype.isMouseActionButton_=function t(e){return e.button===0};t.prototype.handlePointerDown_=function t(e){this.updateActivePointers_(e);var n=new i["a"](u["a"].POINTERDOWN,this.map_,e);this.dispatchEvent(n);this.down_=e;if(this.dragListenerKeys_.length===0){this.documentPointerEventHandler_=new Z(document);this.dragListenerKeys_.push(Object(d["a"])(this.documentPointerEventHandler_,u["a"].POINTERMOVE,this.handlePointerMove_,this),Object(d["a"])(this.documentPointerEventHandler_,u["a"].POINTERUP,this.handlePointerUp_,this),Object(d["a"])(this.pointerEventHandler_,u["a"].POINTERCANCEL,this.handlePointerUp_,this))}};t.prototype.handlePointerMove_=function t(e){if(this.isMoving_(e)){this.dragging_=true;var n=new i["a"](u["a"].POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(n)}e.preventDefault()};t.prototype.relayEvent_=function t(e){var n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new i["a"](e.type,this.map_,e,n))};t.prototype.isMoving_=function t(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_};t.prototype.disposeInternal=function t(){if(this.relayedListenerKey_){Object(d["e"])(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){Object(d["e"])(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(d["e"]);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}r.prototype.disposeInternal.call(this)};return t}(r["a"]);var J=Q;var tt=n(232);var et=n(188);var nt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var rt=n(130);var it=n(42);var at=n(160);var ot=n(24);var st=n(11);var ut=n(20);var At=n(10);var lt=Infinity;var ct=function t(e,n){this.priorityFunction_=e;this.keyFunction_=n;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ct.prototype.clear=function t(){this.elements_.length=0;this.priorities_.length=0;Object(At["b"])(this.queuedElements_)};ct.prototype.dequeue=function t(){var e=this.elements_;var n=this.priorities_;var r=e[0];if(e.length==1){e.length=0;n.length=0}else{e[0]=e.pop();n[0]=n.pop();this.siftUp_(0)}var i=this.keyFunction_(r);delete this.queuedElements_[i];return r};ct.prototype.enqueue=function t(e){Object(ut["a"])(!(this.keyFunction_(e)in this.queuedElements_),31);var n=this.priorityFunction_(e);if(n!=lt){this.elements_.push(e);this.priorities_.push(n);this.queuedElements_[this.keyFunction_(e)]=true;this.siftDown_(0,this.elements_.length-1);return true}return false};ct.prototype.getCount=function t(){return this.elements_.length};ct.prototype.getLeftChildIndex_=function t(e){return e*2+1};ct.prototype.getRightChildIndex_=function t(e){return e*2+2};ct.prototype.getParentIndex_=function t(e){return e-1>>1};ct.prototype.heapify_=function t(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--){this.siftUp_(e)}};ct.prototype.isEmpty=function t(){return this.elements_.length===0};ct.prototype.isKeyQueued=function t(e){return e in this.queuedElements_};ct.prototype.isQueued=function t(e){return this.isKeyQueued(this.keyFunction_(e))};ct.prototype.siftUp_=function t(e){var n=this.elements_;var r=this.priorities_;var i=n.length;var a=n[e];var o=r[e];var s=e;while(e<i>>1){var u=this.getLeftChildIndex_(e);var l=this.getRightChildIndex_(e);var c=l<i&&r[l]<r[u]?l:u;n[e]=n[c];r[e]=r[c];e=c}n[e]=a;r[e]=o;this.siftDown_(s,e)};ct.prototype.siftDown_=function t(e,n){var r=this.elements_;var i=this.priorities_;var a=r[n];var o=i[n];while(n>e){var s=this.getParentIndex_(n);if(i[s]>o){r[n]=r[s];i[n]=i[s];n=s}else{break}}r[n]=a;i[n]=o};ct.prototype.reprioritize=function t(){var e=this.priorityFunction_;var n=this.elements_;var r=this.priorities_;var i=0;var a=n.length;var o,s,u;for(s=0;s<a;++s){o=n[s];u=e(o);if(u==lt){delete this.queuedElements_[this.keyFunction_(o)]}else{r[i]=u;n[i++]=o}}n.length=i;r.length=i;this.heapify_()};var ht=ct;var ft=function(i){function t(e,t){i.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()});this.tileChangeCallback_=t;this.tilesLoading_=0;this.tilesLoadingKeys_={}}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.enqueue=function t(e){var n=i.prototype.enqueue.call(this,e);if(n){var r=e[0];Object(d["a"])(r,st["a"].CHANGE,this.handleTileChange,this)}return n};t.prototype.getTilesLoading=function t(){return this.tilesLoading_};t.prototype.handleTileChange=function t(e){var n=e.target;var r=n.getState();if(r===ot["a"].LOADED||r===ot["a"].ERROR||r===ot["a"].EMPTY||r===ot["a"].ABORT){Object(d["c"])(n,st["a"].CHANGE,this.handleTileChange,this);var i=n.getKey();if(i in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[i];--this.tilesLoading_}this.tileChangeCallback_()}};t.prototype.loadMoreTiles=function t(e,n){var r=0;var i=false;var a,o,s;while(this.tilesLoading_<e&&r<n&&this.getCount()>0){o=this.dequeue()[0];s=o.getKey();a=o.getState();if(a===ot["a"].ABORT){i=true}else if(a===ot["a"].IDLE&&!(s in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[s]=true;++this.tilesLoading_;++r;o.load()}}if(r===0&&i){this.tileChangeCallback_()}};return t}(ht);var dt=ft;var pt=n(25);var vt=n(55);var gt=n(48);var kt=n(3);var mt=n(47);var yt=n(97);var _t=n(92);var It=n(29);var bt=function(o){function t(t){o.call(this);var e=Ot(t);this.maxTilesLoading_=t.maxTilesLoading!==undefined?t.maxTilesLoading:16;this.loadTilesWhileAnimating_=t.loadTilesWhileAnimating!==undefined?t.loadTilesWhileAnimating:false;this.loadTilesWhileInteracting_=t.loadTilesWhileInteracting!==undefined?t.loadTilesWhileInteracting:false;this.pixelRatio_=t.pixelRatio!==undefined?t.pixelRatio:x["b"];this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=undefined;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=Object(It["c"])();this.pixelToCoordinateTransform_=Object(It["c"])();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=null;this.viewPropertyListenerKey_=null;this.viewChangeListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement("div");this.viewport_.className="ol-viewport"+(x["i"]?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("div");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("div");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var n=[st["a"].CLICK,st["a"].DBLCLICK,st["a"].MOUSEDOWN,st["a"].TOUCHSTART,st["a"].MSPOINTERDOWN,u["a"].POINTERDOWN,st["a"].MOUSEWHEEL,st["a"].WHEEL];for(var r=0,i=n.length;r<i;++r){Object(d["a"])(this.overlayContainerStopEvent_,n[r],P["b"])}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new J(this,t.moveTolerance);for(var a in u["a"]){Object(d["a"])(this.mapBrowserEventHandler_,u["a"][a],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=e.keyboardEventTarget;this.keyHandlerKeys_=null;Object(d["a"])(this.viewport_,st["a"].CONTEXTMENU,this.handleBrowserEvent,this);Object(d["a"])(this.viewport_,st["a"].WHEEL,this.handleBrowserEvent,this);Object(d["a"])(this.viewport_,st["a"].MOUSEWHEEL,this.handleBrowserEvent,this);this.controls=e.controls||new f["a"];this.interactions=e.interactions||new f["a"];this.overlays_=e.overlays;this.overlayIdIndex_={};this.renderer_=this.createRenderer();this.handleResize_;this.focus_=null;this.postRenderFunctions_=[];this.tileQueue_=new dt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};Object(d["a"])(this,Object(it["b"])(nt.LAYERGROUP),this.handleLayerGroupChanged_,this);Object(d["a"])(this,Object(it["b"])(nt.VIEW),this.handleViewChanged_,this);Object(d["a"])(this,Object(it["b"])(nt.SIZE),this.handleSizeChanged_,this);Object(d["a"])(this,Object(it["b"])(nt.TARGET),this.handleTargetChanged_,this);this.setProperties(e.values);this.controls.forEach(function(t){t.setMap(this)}.bind(this));Object(d["a"])(this.controls,s["a"].ADD,function(t){t.element.setMap(this)},this);Object(d["a"])(this.controls,s["a"].REMOVE,function(t){t.element.setMap(null)},this);this.interactions.forEach(function(t){t.setMap(this)}.bind(this));Object(d["a"])(this.interactions,s["a"].ADD,function(t){t.element.setMap(this)},this);Object(d["a"])(this.interactions,s["a"].REMOVE,function(t){t.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_.bind(this));Object(d["a"])(this.overlays_,s["a"].ADD,function(t){this.addOverlayInternal_(t.element)},this);Object(d["a"])(this.overlays_,s["a"].REMOVE,function(t){var e=t.element;var n=e.getId();if(n!==undefined){delete this.overlayIdIndex_[n.toString()]}t.element.setMap(null)},this)}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.createRenderer=function t(){throw new Error("Use a map type that has a createRenderer method")};t.prototype.addControl=function t(e){this.getControls().push(e)};t.prototype.addInteraction=function t(e){this.getInteractions().push(e)};t.prototype.addLayer=function t(e){var n=this.getLayerGroup().getLayers();n.push(e)};t.prototype.addOverlay=function t(e){this.getOverlays().push(e)};t.prototype.addOverlayInternal_=function t(e){var n=e.getId();if(n!==undefined){this.overlayIdIndex_[n.toString()]=e}e.setMap(this)};t.prototype.disposeInternal=function t(){this.mapBrowserEventHandler_.dispose();Object(d["c"])(this.viewport_,st["a"].CONTEXTMENU,this.handleBrowserEvent,this);Object(d["c"])(this.viewport_,st["a"].WHEEL,this.handleBrowserEvent,this);Object(d["c"])(this.viewport_,st["a"].MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==undefined){removeEventListener(st["a"].RESIZE,this.handleResize_,false);this.handleResize_=undefined}if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=undefined}this.setTarget(null);o.prototype.disposeInternal.call(this)};t.prototype.forEachFeatureAtPixel=function t(e,n,r){if(!this.frameState_){return}var i=this.getCoordinateFromPixel(e);r=r!==undefined?r:{};var a=r.hitTolerance!==undefined?r.hitTolerance*this.frameState_.pixelRatio:0;var o=r.layerFilter!==undefined?r.layerFilter:mt["b"];return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,a,n,null,o,null)};t.prototype.getFeaturesAtPixel=function t(e,n){var r=null;this.forEachFeatureAtPixel(e,function(t){if(!r){r=[]}r.push(t)},n);return r};t.prototype.forEachLayerAtPixel=function t(e,n,r){if(!this.frameState_){return}var i=r||{};var a=i.hitTolerance!==undefined?r.hitTolerance*this.frameState_.pixelRatio:0;var o=i.layerFilter||mt["b"];return this.renderer_.forEachLayerAtPixel(e,this.frameState_,a,n,null,o,null)};t.prototype.hasFeatureAtPixel=function t(e,n){if(!this.frameState_){return false}var r=this.getCoordinateFromPixel(e);n=n!==undefined?n:{};var i=n.layerFilter!==undefined?n.layerFilter:mt["b"];var a=n.hitTolerance!==undefined?n.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,a,i,null)};t.prototype.getEventCoordinate=function t(e){return this.getCoordinateFromPixel(this.getEventPixel(e))};t.prototype.getEventPixel=function t(e){var n=this.viewport_.getBoundingClientRect();var r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-n.left,r.clientY-n.top]};t.prototype.getTarget=function t(){return this.get(nt.TARGET)};t.prototype.getTargetElement=function t(){var e=this.getTarget();if(e!==undefined){return typeof e==="string"?document.getElementById(e):e}else{return null}};t.prototype.getCoordinateFromPixel=function t(e){var n=this.frameState_;if(!n){return null}else{return Object(It["a"])(n.pixelToCoordinateTransform,e.slice())}};t.prototype.getControls=function t(){return this.controls};t.prototype.getOverlays=function t(){return this.overlays_};t.prototype.getOverlayById=function t(e){var n=this.overlayIdIndex_[e.toString()];return n!==undefined?n:null};t.prototype.getInteractions=function t(){return this.interactions};t.prototype.getLayerGroup=function t(){return this.get(nt.LAYERGROUP)};t.prototype.getLayers=function t(){var e=this.getLayerGroup().getLayers();return e};t.prototype.getPixelFromCoordinate=function t(e){var n=this.frameState_;if(!n){return null}else{return Object(It["a"])(n.coordinateToPixelTransform,e.slice(0,2))}};t.prototype.getRenderer=function t(){return this.renderer_};t.prototype.getSize=function t(){return this.get(nt.SIZE)};t.prototype.getView=function t(){return this.get(nt.VIEW)};t.prototype.getViewport=function t(){return this.viewport_};t.prototype.getOverlayContainer=function t(){return this.overlayContainer_};t.prototype.getOverlayContainerStopEvent=function t(){return this.overlayContainerStopEvent_};t.prototype.getTilePriority=function t(e,n,r,i){var a=this.frameState_;if(!a||!(n in a.wantedTiles)){return lt}if(!a.wantedTiles[n][e.getKey()]){return lt}var o=r[0]-a.focus[0];var s=r[1]-a.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i};t.prototype.handleBrowserEvent=function t(e,n){var r=n||e.type;var i=new a["a"](r,this,e);this.handleMapBrowserEvent(i)};t.prototype.handleMapBrowserEvent=function t(e){if(!this.frameState_){return}this.focus_=e.coordinate;e.frameState=this.frameState_;var n=this.getInteractions().getArray();if(this.dispatchEvent(e)!==false){for(var r=n.length-1;r>=0;r--){var i=n[r];if(!i.getActive()){continue}var a=i.handleEvent(e);if(!a){break}}}};t.prototype.handlePostRender=function t(){var e=this.frameState_;var n=this.tileQueue_;if(!n.isEmpty()){var r=this.maxTilesLoading_;var i=r;if(e){var a=e.viewHints;if(a[vt["a"].ANIMATING]){r=this.loadTilesWhileAnimating_?8:0;i=2}if(a[vt["a"].INTERACTING]){r=this.loadTilesWhileInteracting_?8:0;i=2}}if(n.getTilesLoading()<r){n.reprioritize();n.loadMoreTiles(r,i)}}if(e&&this.hasListener(rt["a"].RENDERCOMPLETE)&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!St(this.getLayers().getArray())){this.renderer_.dispatchRenderEvent(rt["a"].RENDERCOMPLETE,e)}var o=this.postRenderFunctions_;for(var s=0,u=o.length;s<u;++s){o[s](this,e)}o.length=0};t.prototype.handleSizeChanged_=function t(){this.render()};t.prototype.handleTargetChanged_=function t(){var e;if(this.getTarget()){e=this.getTargetElement()}if(this.keyHandlerKeys_){for(var n=0,r=this.keyHandlerKeys_.length;n<r;++n){Object(d["e"])(this.keyHandlerKeys_[n])}this.keyHandlerKeys_=null}if(!e){this.renderer_.removeLayerRenderers();Object(gt["e"])(this.viewport_);if(this.handleResize_!==undefined){removeEventListener(st["a"].RESIZE,this.handleResize_,false);this.handleResize_=undefined}}else{e.appendChild(this.viewport_);var i=!this.keyboardEventTarget_?e:this.keyboardEventTarget_;this.keyHandlerKeys_=[Object(d["a"])(i,st["a"].KEYDOWN,this.handleBrowserEvent,this),Object(d["a"])(i,st["a"].KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);addEventListener(st["a"].RESIZE,this.handleResize_,false)}}this.updateSize()};t.prototype.handleTileChange_=function t(){this.render()};t.prototype.handleViewPropertyChanged_=function t(){this.render()};t.prototype.handleViewChanged_=function t(){if(this.viewPropertyListenerKey_){Object(d["e"])(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}if(this.viewChangeListenerKey_){Object(d["e"])(this.viewChangeListenerKey_);this.viewChangeListenerKey_=null}var e=this.getView();if(e){this.viewport_.setAttribute("data-view",Object(Mt["c"])(e));this.viewPropertyListenerKey_=Object(d["a"])(e,at["a"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this);this.viewChangeListenerKey_=Object(d["a"])(e,st["a"].CHANGE,this.handleViewPropertyChanged_,this)}this.render()};t.prototype.handleLayerGroupChanged_=function t(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(d["e"]);this.layerGroupPropertyListenerKeys_=null}var e=this.getLayerGroup();if(e){this.layerGroupPropertyListenerKeys_=[Object(d["a"])(e,at["a"].PROPERTYCHANGE,this.render,this),Object(d["a"])(e,st["a"].CHANGE,this.render,this)]}this.render()};t.prototype.isRendered=function t(){return!!this.frameState_};t.prototype.renderSync=function t(){if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};t.prototype.render=function t(){if(this.animationDelayKey_===undefined){this.animationDelayKey_=requestAnimationFrame(this.animationDelay_)}};t.prototype.removeControl=function t(e){return this.getControls().remove(e)};t.prototype.removeInteraction=function t(e){return this.getInteractions().remove(e)};t.prototype.removeLayer=function t(e){var n=this.getLayerGroup().getLayers();return n.remove(e)};t.prototype.removeOverlay=function t(e){return this.getOverlays().remove(e)};t.prototype.renderFrame_=function t(e){var n;var r=this.getSize();var i=this.getView();var a=Object(kt["j"])();var o=this.frameState_;var s=null;if(r!==undefined&&Object(_t["b"])(r)&&i&&i.isDef()){var u=i.getHints(this.frameState_?this.frameState_.viewHints:undefined);var l=this.getLayerGroup().getLayerStatesArray();var c={};for(var h=0,f=l.length;h<f;++h){c[Object(Mt["c"])(l[h].layer)]=l[h]}n=i.getState(this.pixelRatio_);s={animate:false,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:this.focus_?this.focus_:n.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:n,viewHints:u,wantedTiles:{}}}if(s){s.extent=Object(kt["z"])(n.center,n.resolution,n.rotation,s.size,a)}this.frameState_=s;this.renderer_.renderFrame(s);if(s){if(s.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions);if(o){var d=!this.previousExtent_||!Object(kt["H"])(this.previousExtent_)&&!Object(kt["p"])(s.extent,this.previousExtent_);if(d){this.dispatchEvent(new tt["a"](et["a"].MOVESTART,this,o));this.previousExtent_=Object(kt["l"])(this.previousExtent_)}}var p=this.previousExtent_&&!s.viewHints[vt["a"].ANIMATING]&&!s.viewHints[vt["a"].INTERACTING]&&!Object(kt["p"])(s.extent,this.previousExtent_);if(p){this.dispatchEvent(new tt["a"](et["a"].MOVEEND,this,s));Object(kt["d"])(s.extent,this.previousExtent_)}}this.dispatchEvent(new tt["a"](et["a"].POSTRENDER,this,s));setTimeout(this.handlePostRender.bind(this),0)};t.prototype.setLayerGroup=function t(e){this.set(nt.LAYERGROUP,e)};t.prototype.setSize=function t(e){this.set(nt.SIZE,e)};t.prototype.setTarget=function t(e){this.set(nt.TARGET,e)};t.prototype.setView=function t(e){this.set(nt.VIEW,e)};t.prototype.skipFeature=function t(e){this.skippedFeatureUids_[Object(Mt["c"])(e)]=true;this.render()};t.prototype.updateSize=function t(){var e=this.getTargetElement();if(!e){this.setSize(undefined)}else{var n=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(n["borderLeftWidth"])-parseFloat(n["paddingLeft"])-parseFloat(n["paddingRight"])-parseFloat(n["borderRightWidth"]),e.offsetHeight-parseFloat(n["borderTopWidth"])-parseFloat(n["paddingTop"])-parseFloat(n["paddingBottom"])-parseFloat(n["borderBottomWidth"])])}};t.prototype.unskipFeature=function t(e){delete this.skippedFeatureUids_[Object(Mt["c"])(e)];this.render()};return t}(it["a"]);function Ot(t){var e=null;if(t.keyboardEventTarget!==undefined){e=typeof t.keyboardEventTarget==="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget}var n={};var r=t.layers&&typeof t.layers.getLayers==="function"?t.layers:new yt["a"]({layers:t.layers});n[nt.LAYERGROUP]=r;n[nt.TARGET]=t.target;n[nt.VIEW]=t.view!==undefined?t.view:new pt["a"];var i;if(t.controls!==undefined){if(Array.isArray(t.controls)){i=new f["a"](t.controls.slice())}else{Object(ut["a"])(typeof t.controls.getArray==="function",47);i=t.controls}}var a;if(t.interactions!==undefined){if(Array.isArray(t.interactions)){a=new f["a"](t.interactions.slice())}else{Object(ut["a"])(typeof t.interactions.getArray==="function",48);a=t.interactions}}var o;if(t.overlays!==undefined){if(Array.isArray(t.overlays)){o=new f["a"](t.overlays.slice())}else{Object(ut["a"])(typeof t.overlays.getArray==="function",49);o=t.overlays}}else{o=new f["a"]}return{controls:i,interactions:a,keyboardEventTarget:e,overlays:o,values:n}}var wt=bt;function St(t){for(var e=0,n=t.length;e<n;++e){var r=t[e];if(typeof r.getLayers==="function"){return St(r.getLayers().getArray())}else{var i=r.getSource();if(i&&i.loading){return true}}}return false}var Tt=n(140);var xt=n(80);var Et=n(87);var Ct=function(c){function t(t){var e=t?t:{};c.call(this,{element:document.createElement("div"),render:e.render||Rt,target:e.target});this.ulElement_=document.createElement("ul");this.collapsed_=e.collapsed!==undefined?e.collapsed:true;this.overrideCollapsible_=e.collapsible!==undefined;this.collapsible_=e.collapsible!==undefined?e.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var n=e.className!==undefined?e.className:"ol-attribution";var r=e.tipLabel!==undefined?e.tipLabel:"Attributions";var i=e.collapseLabel!==undefined?e.collapseLabel:"»";if(typeof i==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var a=e.label!==undefined?e.label:"i";if(typeof a==="string"){this.label_=document.createElement("span");this.label_.textContent=a}else{this.label_=a}var o=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var s=document.createElement("button");s.setAttribute("type","button");s.title=r;s.appendChild(o);Object(d["a"])(s,st["a"].CLICK,this.handleClick_,this);var u=n+" "+xt["e"]+" "+xt["b"]+(this.collapsed_&&this.collapsible_?" "+xt["a"]:"")+(this.collapsible_?"":" ol-uncollapsible");var l=this.element;l.className=u;l.appendChild(this.ulElement_);l.appendChild(s);this.renderedAttributions_=[];this.renderedVisible_=true}if(c)t.__proto__=c;t.prototype=Object.create(c&&c.prototype);t.prototype.constructor=t;t.prototype.collectSourceAttributions_=function t(e){var n={};var r=[];var i=e.layerStatesArray;var a=e.viewState.resolution;for(var o=0,s=i.length;o<s;++o){var u=i[o];if(!Object(Et["b"])(u,a)){continue}var l=u.layer.getSource();if(!l){continue}var c=l.getAttributions();if(!c){continue}var h=c(e);if(!h){continue}if(!this.overrideCollapsible_&&l.getAttributionsCollapsible()===false){this.setCollapsible(false)}if(Array.isArray(h)){for(var f=0,d=h.length;f<d;++f){if(!(h[f]in n)){r.push(h[f]);n[h[f]]=true}}}else{if(!(h in n)){r.push(h);n[h]=true}}}return r};t.prototype.updateElement_=function t(e){if(!e){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=false}return}var n=this.collectSourceAttributions_(e);var r=n.length>0;if(this.renderedVisible_!=r){this.element.style.display=r?"":"none";this.renderedVisible_=r}if(Object(jt["b"])(n,this.renderedAttributions_)){return}Object(gt["d"])(this.ulElement_);for(var i=0,a=n.length;i<a;++i){var o=document.createElement("li");o.innerHTML=n[i];this.ulElement_.appendChild(o)}this.renderedAttributions_=n};t.prototype.handleClick_=function t(e){e.preventDefault();this.handleToggle_()};t.prototype.handleToggle_=function t(){this.element.classList.toggle(xt["a"]);if(this.collapsed_){Object(gt["f"])(this.collapseLabel_,this.label_)}else{Object(gt["f"])(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};t.prototype.getCollapsible=function t(){return this.collapsible_};t.prototype.setCollapsible=function t(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};t.prototype.setCollapsed=function t(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};t.prototype.getCollapsed=function t(){return this.collapsed_};return t}(Tt["a"]);function Rt(t){this.updateElement_(t.frameState)}var Dt=Ct;var Pt=n(72);var Nt=function(u){function t(t){var e=t?t:{};u.call(this,{element:document.createElement("div"),render:e.render||Lt,target:e.target});var n=e.className!==undefined?e.className:"ol-rotate";var r=e.label!==undefined?e.label:"⇧";this.label_=null;if(typeof r==="string"){this.label_=document.createElement("span");this.label_.className="ol-compass";this.label_.textContent=r}else{this.label_=r;this.label_.classList.add("ol-compass")}var i=e.tipLabel?e.tipLabel:"Reset rotation";var a=document.createElement("button");a.className=n+"-reset";a.setAttribute("type","button");a.title=i;a.appendChild(this.label_);Object(d["a"])(a,st["a"].CLICK,this.handleClick_,this);var o=n+" "+xt["e"]+" "+xt["b"];var s=this.element;s.className=o;s.appendChild(a);this.callResetNorth_=e.resetNorth?e.resetNorth:undefined;this.duration_=e.duration!==undefined?e.duration:250;this.autoHide_=e.autoHide!==undefined?e.autoHide:true;this.rotation_=undefined;if(this.autoHide_){this.element.classList.add(xt["c"])}}if(u)t.__proto__=u;t.prototype=Object.create(u&&u.prototype);t.prototype.constructor=t;t.prototype.handleClick_=function t(e){e.preventDefault();if(this.callResetNorth_!==undefined){this.callResetNorth_()}else{this.resetNorth_()}};t.prototype.resetNorth_=function t(){var e=this.getMap();var n=e.getView();if(!n){return}if(n.getRotation()!==undefined){if(this.duration_>0){n.animate({rotation:0,duration:this.duration_,easing:Pt["b"]})}else{n.setRotation(0)}}};return t}(Tt["a"]);function Lt(t){var e=t.frameState;if(!e){return}var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(xt["c"]);if(!i&&n===0){this.element.classList.add(xt["c"])}else if(i&&n!==0){this.element.classList.remove(xt["c"])}}this.label_.style.msTransform=r;this.label_.style.webkitTransform=r;this.label_.style.transform=r}this.rotation_=n}var $t=Nt;var Ft=function(f){function t(t){var e=t?t:{};f.call(this,{element:document.createElement("div"),target:e.target});var n=e.className!==undefined?e.className:"ol-zoom";var r=e.delta!==undefined?e.delta:1;var i=e.zoomInLabel!==undefined?e.zoomInLabel:"+";var a=e.zoomOutLabel!==undefined?e.zoomOutLabel:"−";var o=e.zoomInTipLabel!==undefined?e.zoomInTipLabel:"Zoom in";var s=e.zoomOutTipLabel!==undefined?e.zoomOutTipLabel:"Zoom out";var u=document.createElement("button");u.className=n+"-in";u.setAttribute("type","button");u.title=o;u.appendChild(typeof i==="string"?document.createTextNode(i):i);Object(d["a"])(u,st["a"].CLICK,this.handleClick_.bind(this,r));var l=document.createElement("button");l.className=n+"-out";l.setAttribute("type","button");l.title=s;l.appendChild(typeof a==="string"?document.createTextNode(a):a);Object(d["a"])(l,st["a"].CLICK,this.handleClick_.bind(this,-r));var c=n+" "+xt["e"]+" "+xt["b"];var h=this.element;h.className=c;h.appendChild(u);h.appendChild(l);this.duration_=e.duration!==undefined?e.duration:250}if(f)t.__proto__=f;t.prototype=Object.create(f&&f.prototype);t.prototype.constructor=t;t.prototype.handleClick_=function t(e,n){n.preventDefault();this.zoomByDelta_(e)};t.prototype.zoomByDelta_=function t(e){var n=this.getMap();var r=n.getView();if(!r){return}var i=r.getResolution();if(i){var a=r.constrainResolution(i,e);if(this.duration_>0){if(r.getAnimating()){r.cancelAnimations()}r.animate({resolution:a,duration:this.duration_,easing:Pt["b"]})}else{r.setResolution(a)}}};return t}(Tt["a"]);var Gt=Ft;function Ht(t){var e=t?t:{};var n=new f["a"];var r=e.zoom!==undefined?e.zoom:true;if(r){n.push(new Gt(e.zoomOptions))}var i=e.rotate!==undefined?e.rotate:true;if(i){n.push(new $t(e.rotateOptions))}var a=e.attribution!==undefined?e.attribution:true;if(a){n.push(new Dt(e.attributionOptions))}return n}var Ut=function t(e,n,r){this.decay_=e;this.minVelocity_=n;this.delay_=r;this.points_=[];this.angle_=0;this.initialVelocity_=0};Ut.prototype.begin=function t(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};Ut.prototype.update=function t(e,n){this.points_.push(e,n,Date.now())};Ut.prototype.end=function t(){if(this.points_.length<6){return false}var e=Date.now()-this.delay_;var n=this.points_.length-3;if(this.points_[n+2]<e){return false}var r=n-3;while(r>0&&this.points_[r+2]>e){r-=3}var i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60){return false}var a=this.points_[n]-this.points_[r];var o=this.points_[n+1]-this.points_[r+1];this.angle_=Math.atan2(o,a);this.initialVelocity_=Math.sqrt(a*a+o*o)/i;return this.initialVelocity_>this.minVelocity_};Ut.prototype.getDistance=function t(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};Ut.prototype.getAngle=function t(){return this.angle_};var Wt=Ut;var Yt=n(53);var Vt=function(n){function t(t){n.call(this,{handleEvent:qt});var e=t?t:{};this.delta_=e.delta?e.delta:1;this.duration_=e.duration!==undefined?e.duration:250}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(Yt["a"]);function qt(t){var e=false;if(t.type==u["a"].DBLCLICK){var n=t.originalEvent;var r=t.map;var i=t.coordinate;var a=n.shiftKey?-this.delta_:this.delta_;var o=r.getView();Object(Yt["f"])(o,a,i,this.duration_);t.preventDefault();e=true}return!e}var zt=Vt;var Bt=n(44);var Kt=n(56);var Xt=n(54);var Zt=function(n){function t(t){n.call(this,{stopDown:mt["a"]});var e=t?t:{};this.kinetic_=e.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.panning_=false;this.condition_=e.condition?e.condition:Kt["g"];this.noKinetic_=false}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.handleDragEvent=function t(e){if(!this.panning_){this.panning_=true;this.getMap().getView().setHint(vt["a"].INTERACTING,1)}var n=this.targetPointers;var r=Object(Xt["a"])(n);if(n.length==this.lastPointersCount_){if(this.kinetic_){this.kinetic_.update(r[0],r[1])}if(this.lastCentroid){var i=this.lastCentroid[0]-r[0];var a=r[1]-this.lastCentroid[1];var o=e.map;var s=o.getView();var u=[i,a];Object(Bt["f"])(u,s.getResolution());Object(Bt["e"])(u,s.getRotation());Object(Bt["a"])(u,s.getCenter());u=s.constrainCenter(u);s.setCenter(u)}}else if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=r;this.lastPointersCount_=n.length};t.prototype.handleUpEvent=function t(e){var n=e.map;var r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance();var a=this.kinetic_.getAngle();var o=r.getCenter();var s=n.getPixelFromCoordinate(o);var u=n.getCoordinateFromPixel([s[0]-i*Math.cos(a),s[1]-i*Math.sin(a)]);r.animate({center:r.constrainCenter(u),duration:500,easing:Pt["b"]})}if(this.panning_){this.panning_=false;r.setHint(vt["a"].INTERACTING,-1)}return false}else{if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=null;return true}};t.prototype.handleDownEvent=function t(e){if(this.targetPointers.length>0&&this.condition_(e)){var n=e.map;var r=n.getView();this.lastCentroid=null;if(r.getAnimating()){r.setCenter(e.frameState.viewState.center)}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=this.targetPointers.length>1;return true}else{return false}};return t}(Xt["b"]);var Qt=Zt;var Jt=n(165);var te=function(n){function t(t){var e=t?t:{};n.call(this,{stopDown:mt["a"]});this.condition_=e.condition?e.condition:Kt["b"];this.lastAngle_=undefined;this.duration_=e.duration!==undefined?e.duration:250}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.handleDragEvent=function t(e){if(!Object(Kt["f"])(e)){return}var n=e.map;var r=n.getView();if(r.getConstraints().rotation===Jt["c"]){return}var i=n.getSize();var a=e.pixel;var o=Math.atan2(i[1]/2-a[1],a[0]-i[0]/2);if(this.lastAngle_!==undefined){var s=o-this.lastAngle_;var u=r.getRotation();Object(Yt["d"])(r,u-s)}this.lastAngle_=o};t.prototype.handleUpEvent=function t(e){if(!Object(Kt["f"])(e)){return true}var n=e.map;var r=n.getView();r.setHint(vt["a"].INTERACTING,-1);var i=r.getRotation();Object(Yt["c"])(r,i,undefined,this.duration_);return false};t.prototype.handleDownEvent=function t(e){if(!Object(Kt["f"])(e)){return false}if(Object(Kt["e"])(e)&&this.condition_(e)){var n=e.map;n.getView().setHint(vt["a"].INTERACTING,1);this.lastAngle_=undefined;return true}else{return false}};return t}(Xt["b"]);var ee=te;var ne=n(211);var re=function(r){function t(t){var e=t?t:{};var n=e.condition?e.condition:Kt["j"];r.call(this,{condition:n,className:e.className||"ol-dragzoom",onBoxEnd:ie});this.duration_=e.duration!==undefined?e.duration:200;this.out_=e.out!==undefined?e.out:false}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(ne["a"]);function ie(){var t=this.getMap();var e=t.getView();var n=t.getSize();var r=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtent(n);var a=Object(kt["n"])([t.getPixelFromCoordinate(Object(kt["v"])(r)),t.getPixelFromCoordinate(Object(kt["D"])(r))]);var o=e.getResolutionForExtent(a,n);Object(kt["J"])(i,1/o);r=i}var s=e.constrainResolution(e.getResolutionForExtent(r,n));var u=Object(kt["x"])(r);u=e.constrainCenter(u);e.animate({resolution:s,center:u,duration:this.duration_,easing:Pt["b"]})}var ae=re;var oe={LEFT:37,UP:38,RIGHT:39,DOWN:40};var se=function(n){function t(t){n.call(this,{handleEvent:ue});var e=t||{};this.defaultCondition_=function(t){return Object(Kt["g"])(t)&&Object(Kt["l"])(t)};this.condition_=e.condition!==undefined?e.condition:this.defaultCondition_;this.duration_=e.duration!==undefined?e.duration:100;this.pixelDelta_=e.pixelDelta!==undefined?e.pixelDelta:128}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(Yt["a"]);function ue(t){var e=false;if(t.type==st["a"].KEYDOWN){var n=t.originalEvent;var r=n.keyCode;if(this.condition_(t)&&(r==oe.DOWN||r==oe.LEFT||r==oe.RIGHT||r==oe.UP)){var i=t.map;var a=i.getView();var o=a.getResolution()*this.pixelDelta_;var s=0,u=0;if(r==oe.DOWN){u=-o}else if(r==oe.LEFT){s=-o}else if(r==oe.RIGHT){s=o}else{u=o}var l=[s,u];Object(Bt["e"])(l,a.getRotation());Object(Yt["b"])(a,l,this.duration_);t.preventDefault();e=true}}return!e}var le=se;var ce=function(n){function t(t){n.call(this,{handleEvent:he});var e=t?t:{};this.condition_=e.condition?e.condition:Kt["l"];this.delta_=e.delta?e.delta:1;this.duration_=e.duration!==undefined?e.duration:100}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(Yt["a"]);function he(t){var e=false;if(t.type==st["a"].KEYDOWN||t.type==st["a"].KEYPRESS){var n=t.originalEvent;var r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map;var a=r=="+".charCodeAt(0)?this.delta_:-this.delta_;var o=i.getView();Object(Yt["f"])(o,a,undefined,this.duration_);t.preventDefault();e=true}}return!e}var fe=ce;var de=n(14);var pe=1;var ve={TRACKPAD:"trackpad",WHEEL:"wheel"};var ge=function(n){function t(t){var e=t?t:{};n.call(this,e);this.delta_=0;this.duration_=e.duration!==undefined?e.duration:250;this.timeout_=e.timeout!==undefined?e.timeout:80;this.useAnchor_=e.useAnchor!==undefined?e.useAnchor:true;this.constrainResolution_=e.constrainResolution||false;this.condition_=e.condition?e.condition:Kt["c"];this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_;this.mode_=undefined;this.trackpadEventGap_=400;this.trackpadTimeoutId_;this.trackpadDeltaPerZoom_=300;this.trackpadZoomBuffer_=1.5}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.decrementInteractingHint_=function t(){this.trackpadTimeoutId_=undefined;var e=this.getMap().getView();e.setHint(vt["a"].INTERACTING,-1)};t.prototype.handleEvent=function t(e){if(!this.condition_(e)){return true}var n=e.type;if(n!==st["a"].WHEEL&&n!==st["a"].MOUSEWHEEL){return true}e.preventDefault();var r=e.map;var i=e.originalEvent;if(this.useAnchor_){this.lastAnchor_=e.coordinate}var a;if(e.type==st["a"].WHEEL){a=i.deltaY;if(x["c"]&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL){a/=x["b"]}if(i.deltaMode===WheelEvent.DOM_DELTA_LINE){a*=40}}else if(e.type==st["a"].MOUSEWHEEL){a=-i.wheelDeltaY;if(x["h"]){a/=3}}if(a===0){return false}var o=Date.now();if(this.startTime_===undefined){this.startTime_=o}if(!this.mode_||o-this.startTime_>this.trackpadEventGap_){this.mode_=Math.abs(a)<4?ve.TRACKPAD:ve.WHEEL}if(this.mode_===ve.TRACKPAD){var s=r.getView();if(this.trackpadTimeoutId_){clearTimeout(this.trackpadTimeoutId_)}else{s.setHint(vt["a"].INTERACTING,1)}this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var u=s.getResolution()*Math.pow(2,a/this.trackpadDeltaPerZoom_);var l=s.getMinResolution();var c=s.getMaxResolution();var h=0;if(u<l){u=Math.max(u,l/this.trackpadZoomBuffer_);h=1}else if(u>c){u=Math.min(u,c*this.trackpadZoomBuffer_);h=-1}if(this.lastAnchor_){var f=s.calculateCenterZoom(u,this.lastAnchor_);s.setCenter(s.constrainCenter(f))}s.setResolution(u);if(h===0&&this.constrainResolution_){s.animate({resolution:s.constrainResolution(u,a>0?-1:1),easing:Pt["b"],anchor:this.lastAnchor_,duration:this.duration_})}if(h>0){s.animate({resolution:l,easing:Pt["b"],anchor:this.lastAnchor_,duration:500})}else if(h<0){s.animate({resolution:c,easing:Pt["b"],anchor:this.lastAnchor_,duration:500})}this.startTime_=o;return false}this.delta_+=a;var d=Math.max(this.timeout_-(o-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),d);return false};t.prototype.handleWheelZoom_=function t(e){var n=e.getView();if(n.getAnimating()){n.cancelAnimations()}var r=pe;var i=Object(de["a"])(this.delta_,-r,r);Object(Yt["f"])(n,-i,this.lastAnchor_,this.duration_);this.mode_=undefined;this.delta_=0;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};t.prototype.setMouseAnchor=function t(e){this.useAnchor_=e;if(!e){this.lastAnchor_=null}};return t}(Yt["a"]);var me=ge;var ye=function(r){function t(t){var e=t?t:{};var n=e;if(!n.stopDown){n.stopDown=mt["a"]}r.call(this,n);this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;this.threshold_=e.threshold!==undefined?e.threshold:.3;this.duration_=e.duration!==undefined?e.duration:250}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.handleDragEvent=function t(e){var n=0;var r=this.targetPointers[0];var i=this.targetPointers[1];var a=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==undefined){var o=a-this.lastAngle_;this.rotationDelta_+=o;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=true}n=o}this.lastAngle_=a;var s=e.map;var u=s.getView();if(u.getConstraints().rotation===Jt["c"]){return}var l=s.getViewport().getBoundingClientRect();var c=Object(Xt["a"])(this.targetPointers);c[0]-=l.left;c[1]-=l.top;this.anchor_=s.getCoordinateFromPixel(c);if(this.rotating_){var h=u.getRotation();s.render();Object(Yt["d"])(u,h+n,this.anchor_)}};t.prototype.handleUpEvent=function t(e){if(this.targetPointers.length<2){var n=e.map;var r=n.getView();r.setHint(vt["a"].INTERACTING,-1);if(this.rotating_){var i=r.getRotation();Object(Yt["c"])(r,i,this.anchor_,this.duration_)}return false}else{return true}};t.prototype.handleDownEvent=function t(e){if(this.targetPointers.length>=2){var n=e.map;this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;if(!this.handlingDownUpSequence){n.getView().setHint(vt["a"].INTERACTING,1)}return true}else{return false}};return t}(Xt["b"]);var _e=ye;var be=function(r){function t(t){var e=t?t:{};var n=e;if(!n.stopDown){n.stopDown=mt["a"]}r.call(this,n);this.constrainResolution_=e.constrainResolution||false;this.anchor_=null;this.duration_=e.duration!==undefined?e.duration:400;this.lastDistance_=undefined;this.lastScaleDelta_=1}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.handleDragEvent=function t(e){var n=1;var r=this.targetPointers[0];var i=this.targetPointers[1];var a=r.clientX-i.clientX;var o=r.clientY-i.clientY;var s=Math.sqrt(a*a+o*o);if(this.lastDistance_!==undefined){n=this.lastDistance_/s}this.lastDistance_=s;var u=e.map;var l=u.getView();var c=l.getResolution();var h=l.getMaxResolution();var f=l.getMinResolution();var d=c*n;if(d>h){n=h/c;d=h}else if(d<f){n=f/c;d=f}if(n!=1){this.lastScaleDelta_=n}var p=u.getViewport().getBoundingClientRect();var v=Object(Xt["a"])(this.targetPointers);v[0]-=p.left;v[1]-=p.top;this.anchor_=u.getCoordinateFromPixel(v);u.render();Object(Yt["g"])(l,d,this.anchor_)};t.prototype.handleUpEvent=function t(e){if(this.targetPointers.length<2){var n=e.map;var r=n.getView();r.setHint(vt["a"].INTERACTING,-1);var i=r.getResolution();if(this.constrainResolution_||i<r.getMinResolution()||i>r.getMaxResolution()){var a=this.lastScaleDelta_-1;Object(Yt["e"])(r,i,this.anchor_,this.duration_,a)}return false}else{return true}};t.prototype.handleDownEvent=function t(e){if(this.targetPointers.length>=2){var n=e.map;this.anchor_=null;this.lastDistance_=undefined;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){n.getView().setHint(vt["a"].INTERACTING,1)}return true}else{return false}};return t}(Xt["b"]);var Oe=be;function we(t){var e=t?t:{};var n=new f["a"];var r=new Wt(-.005,.05,100);var i=e.altShiftDragRotate!==undefined?e.altShiftDragRotate:true;if(i){n.push(new ee)}var a=e.doubleClickZoom!==undefined?e.doubleClickZoom:true;if(a){n.push(new zt({delta:e.zoomDelta,duration:e.zoomDuration}))}var o=e.dragPan!==undefined?e.dragPan:true;if(o){n.push(new Qt({condition:e.onFocusOnly?Kt["d"]:undefined,kinetic:r}))}var s=e.pinchRotate!==undefined?e.pinchRotate:true;if(s){n.push(new _e)}var u=e.pinchZoom!==undefined?e.pinchZoom:true;if(u){n.push(new Oe({constrainResolution:e.constrainResolution,duration:e.zoomDuration}))}var l=e.keyboard!==undefined?e.keyboard:true;if(l){n.push(new le);n.push(new fe({delta:e.zoomDelta,duration:e.zoomDuration}))}var c=e.mouseWheelZoom!==undefined?e.mouseWheelZoom:true;if(c){n.push(new me({condition:e.onFocusOnly?Kt["d"]:undefined,constrainResolution:e.constrainResolution,duration:e.zoomDuration}))}var h=e.shiftDragZoom!==undefined?e.shiftDragZoom:true;if(h){n.push(new ae({duration:e.zoomDuration}))}return n}var Se=n(108);var Te=n(220);var xe=n(32);var Ee=function(o){function t(t,e,n,r,i){var a=i!==undefined?xe["a"].IDLE:xe["a"].LOADED;o.call(this,t,e,n,a);this.loader_=i!==undefined?i:null;this.canvas_=r;this.error_=null}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.getError=function t(){return this.error_};t.prototype.handleLoad_=function t(e){if(e){this.error_=e;this.state=xe["a"].ERROR}else{this.state=xe["a"].LOADED}this.changed()};t.prototype.load=function t(){if(this.state==xe["a"].IDLE){this.state=xe["a"].LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};t.prototype.getImage=function t(){return this.canvas_};return t}(Te["a"]);var Ce=Ee;var Me=n(119);var je=n(255);var Ae=function(a){function t(t,e,n,r,i){a.call(this,t);this.vectorContext=e;this.frameState=n;this.context=r;this.glContext=i}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;return t}(P["a"]);var ke=Ae;var Ie=n(12);var Re=n(132);var De=n(7);var Pe=n(81);var Ne=n(127);var Le=function t(){};Le.prototype.drawCustom=function t(e,n,r){};Le.prototype.drawGeometry=function t(e){};Le.prototype.setStyle=function t(e){};Le.prototype.drawCircle=function t(e,n){};Le.prototype.drawFeature=function t(e,n){};Le.prototype.drawGeometryCollection=function t(e,n){};Le.prototype.drawLineString=function t(e,n){};Le.prototype.drawMultiLineString=function t(e,n){};Le.prototype.drawMultiPoint=function t(e,n){};Le.prototype.drawMultiPolygon=function t(e,n){};Le.prototype.drawPoint=function t(e,n){};Le.prototype.drawPolygon=function t(e,n){};Le.prototype.drawText=function t(e,n){};Le.prototype.setFillStrokeStyle=function t(e,n){};Le.prototype.setImageStyle=function t(e,n){};Le.prototype.setTextStyle=function t(e,n){};var $e=Le;var Fe=function(a){function t(t,e,n,r,i){a.call(this);this.context_=t;this.pixelRatio_=e;this.extent_=n;this.transform_=r;this.viewRotation_=i;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=false;this.imageRotation_=0;this.imageScale_=0;this.imageWidth_=0;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=false;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=Object(It["c"])()}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;t.prototype.drawImages_=function t(e,n,r,i){if(!this.image_){return}var a=Object(Ne["c"])(e,n,r,2,this.transform_,this.pixelCoordinates_);var o=this.context_;var s=this.tmpLocalTransform_;var u=o.globalAlpha;if(this.imageOpacity_!=1){o.globalAlpha=u*this.imageOpacity_}var l=this.imageRotation_;if(this.imageRotateWithView_){l+=this.viewRotation_}for(var c=0,h=a.length;c<h;c+=2){var f=a[c]-this.imageAnchorX_;var d=a[c+1]-this.imageAnchorY_;if(l!==0||this.imageScale_!=1){var p=f+this.imageAnchorX_;var v=d+this.imageAnchorY_;Object(It["b"])(s,p,v,this.imageScale_,this.imageScale_,l,-p,-v);o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,d,this.imageWidth_,this.imageHeight_)}if(l!==0||this.imageScale_!=1){o.setTransform(1,0,0,1,0,0)}if(this.imageOpacity_!=1){o.globalAlpha=u}};t.prototype.drawText_=function t(e,n,r,i){if(!this.textState_||this.text_===""){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);var a=Object(Ne["c"])(e,n,r,i,this.transform_,this.pixelCoordinates_);var o=this.context_;var s=this.textRotation_;if(this.textRotateWithView_){s+=this.viewRotation_}for(;n<r;n+=i){var u=a[n]+this.textOffsetX_;var l=a[n+1]+this.textOffsetY_;if(s!==0||this.textScale_!=1){var c=Object(It["b"])(this.tmpLocalTransform_,u,l,this.textScale_,this.textScale_,s,-u,-l);o.setTransform.apply(o,c)}if(this.textStrokeState_){o.strokeText(this.text_,u,l)}if(this.textFillState_){o.fillText(this.text_,u,l)}}if(s!==0||this.textScale_!=1){o.setTransform(1,0,0,1,0,0)}};t.prototype.moveToLineTo_=function t(e,n,r,i,a){var o=this.context_;var s=Object(Ne["c"])(e,n,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var u=s.length;if(a){u-=2}for(var l=2;l<u;l+=2){o.lineTo(s[l],s[l+1])}if(a){o.closePath()}return r};t.prototype.drawRings_=function t(e,n,r,i){for(var a=0,o=r.length;a<o;++a){n=this.moveToLineTo_(e,n,r[a],i,true)}return n};t.prototype.drawCircle=function t(e){if(!Object(kt["F"])(this.extent_,e.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var n=Object(Pe["b"])(e,this.transform_,this.pixelCoordinates_);var r=n[2]-n[0];var i=n[3]-n[1];var a=Math.sqrt(r*r+i*i);var o=this.context_;o.beginPath();o.arc(n[0],n[1],a,0,2*Math.PI);if(this.fillState_){o.fill()}if(this.strokeState_){o.stroke()}}if(this.text_!==""){this.drawText_(e.getCenter(),0,2,2)}};t.prototype.setStyle=function t(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage());this.setTextStyle(e.getText())};t.prototype.drawGeometry=function t(e){var n=e.getType();switch(n){case De["a"].POINT:this.drawPoint(e);break;case De["a"].LINE_STRING:this.drawLineString(e);break;case De["a"].POLYGON:this.drawPolygon(e);break;case De["a"].MULTI_POINT:this.drawMultiPoint(e);break;case De["a"].MULTI_LINE_STRING:this.drawMultiLineString(e);break;case De["a"].MULTI_POLYGON:this.drawMultiPolygon(e);break;case De["a"].GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case De["a"].CIRCLE:this.drawCircle(e);break;default:}};t.prototype.drawFeature=function t(e,n){var r=n.getGeometryFunction()(e);if(!r||!Object(kt["F"])(this.extent_,r.getExtent())){return}this.setStyle(n);this.drawGeometry(r)};t.prototype.drawGeometryCollection=function t(e){var n=e.getGeometriesArray();for(var r=0,i=n.length;r<i;++r){this.drawGeometry(n[r])}};t.prototype.drawPoint=function t(e){var n=e.getFlatCoordinates();var r=e.getStride();if(this.image_){this.drawImages_(n,0,n.length,r)}if(this.text_!==""){this.drawText_(n,0,n.length,r)}};t.prototype.drawMultiPoint=function t(e){var n=e.getFlatCoordinates();var r=e.getStride();if(this.image_){this.drawImages_(n,0,n.length,r)}if(this.text_!==""){this.drawText_(n,0,n.length,r)}};t.prototype.drawLineString=function t(e){if(!Object(kt["F"])(this.extent_,e.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_;var r=e.getFlatCoordinates();n.beginPath();this.moveToLineTo_(r,0,r.length,e.getStride(),false);n.stroke()}if(this.text_!==""){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}};t.prototype.drawMultiLineString=function t(e){var n=e.getExtent();if(!Object(kt["F"])(this.extent_,n)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_;var i=e.getFlatCoordinates();var a=0;var o=e.getEnds();var s=e.getStride();r.beginPath();for(var u=0,l=o.length;u<l;++u){a=this.moveToLineTo_(i,a,o[u],s,false)}r.stroke()}if(this.text_!==""){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}};t.prototype.drawPolygon=function t(e){if(!Object(kt["F"])(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var n=this.context_;n.beginPath();this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride());if(this.fillState_){n.fill()}if(this.strokeState_){n.stroke()}}if(this.text_!==""){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}};t.prototype.drawMultiPolygon=function t(e){if(!Object(kt["F"])(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var n=this.context_;var r=e.getOrientedFlatCoordinates();var i=0;var a=e.getEndss();var o=e.getStride();n.beginPath();for(var s=0,u=a.length;s<u;++s){var l=a[s];i=this.drawRings_(r,i,l,o)}if(this.fillState_){n.fill()}if(this.strokeState_){n.stroke()}}if(this.text_!==""){var c=e.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}};t.prototype.setContextFillState_=function t(e){var n=this.context_;var r=this.contextFillState_;if(!r){n.fillStyle=e.fillStyle;this.contextFillState_={fillStyle:e.fillStyle}}else{if(r.fillStyle!=e.fillStyle){r.fillStyle=n.fillStyle=e.fillStyle}}};t.prototype.setContextStrokeState_=function t(e){var n=this.context_;var r=this.contextStrokeState_;if(!r){n.lineCap=e.lineCap;if(x["a"]){n.setLineDash(e.lineDash);n.lineDashOffset=e.lineDashOffset}n.lineJoin=e.lineJoin;n.lineWidth=e.lineWidth;n.miterLimit=e.miterLimit;n.strokeStyle=e.strokeStyle;this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}}else{if(r.lineCap!=e.lineCap){r.lineCap=n.lineCap=e.lineCap}if(x["a"]){if(!Object(jt["b"])(r.lineDash,e.lineDash)){n.setLineDash(r.lineDash=e.lineDash)}if(r.lineDashOffset!=e.lineDashOffset){r.lineDashOffset=n.lineDashOffset=e.lineDashOffset}}if(r.lineJoin!=e.lineJoin){r.lineJoin=n.lineJoin=e.lineJoin}if(r.lineWidth!=e.lineWidth){r.lineWidth=n.lineWidth=e.lineWidth}if(r.miterLimit!=e.miterLimit){r.miterLimit=n.miterLimit=e.miterLimit}if(r.strokeStyle!=e.strokeStyle){r.strokeStyle=n.strokeStyle=e.strokeStyle}}};t.prototype.setContextTextState_=function t(e){var n=this.context_;var r=this.contextTextState_;var i=e.textAlign?e.textAlign:Ie["l"];if(!r){n.font=e.font;n.textAlign=i;n.textBaseline=e.textBaseline;this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline}}else{if(r.font!=e.font){r.font=n.font=e.font}if(r.textAlign!=i){r.textAlign=n.textAlign=i}if(r.textBaseline!=e.textBaseline){r.textBaseline=n.textBaseline=e.textBaseline}}};t.prototype.setFillStrokeStyle=function t(e,n){if(!e){this.fillState_=null}else{var r=e.getColor();this.fillState_={fillStyle:Object(Re["a"])(r?r:Ie["b"])}}if(!n){this.strokeState_=null}else{var i=n.getColor();var a=n.getLineCap();var o=n.getLineDash();var s=n.getLineDashOffset();var u=n.getLineJoin();var l=n.getWidth();var c=n.getMiterLimit();this.strokeState_={lineCap:a!==undefined?a:Ie["d"],lineDash:o?o:Ie["e"],lineDashOffset:s?s:Ie["f"],lineJoin:u!==undefined?u:Ie["g"],lineWidth:this.pixelRatio_*(l!==undefined?l:Ie["h"]),miterLimit:c!==undefined?c:Ie["i"],strokeStyle:Object(Re["a"])(i?i:Ie["k"])}}};t.prototype.setImageStyle=function t(e){if(!e){this.image_=null}else{var n=e.getAnchor();var r=e.getImage(1);var i=e.getOrigin();var a=e.getSize();this.imageAnchorX_=n[0];this.imageAnchorY_=n[1];this.imageHeight_=a[1];this.image_=r;this.imageOpacity_=e.getOpacity();this.imageOriginX_=i[0];this.imageOriginY_=i[1];this.imageRotateWithView_=e.getRotateWithView();this.imageRotation_=e.getRotation();this.imageScale_=e.getScale()*this.pixelRatio_;this.imageWidth_=a[0]}};t.prototype.setTextStyle=function t(e){if(!e){this.text_=""}else{var n=e.getFill();if(!n){this.textFillState_=null}else{var r=n.getColor();this.textFillState_={fillStyle:Object(Re["a"])(r?r:Ie["b"])}}var i=e.getStroke();if(!i){this.textStrokeState_=null}else{var a=i.getColor();var o=i.getLineCap();var s=i.getLineDash();var u=i.getLineDashOffset();var l=i.getLineJoin();var c=i.getWidth();var h=i.getMiterLimit();this.textStrokeState_={lineCap:o!==undefined?o:Ie["d"],lineDash:s?s:Ie["e"],lineDashOffset:u?u:Ie["f"],lineJoin:l!==undefined?l:Ie["g"],lineWidth:c!==undefined?c:Ie["h"],miterLimit:h!==undefined?h:Ie["i"],strokeStyle:Object(Re["a"])(a?a:Ie["k"])}}var f=e.getFont();var d=e.getOffsetX();var p=e.getOffsetY();var v=e.getRotateWithView();var g=e.getRotation();var m=e.getScale();var y=e.getText();var _=e.getTextAlign();var b=e.getTextBaseline();this.textState_={font:f!==undefined?f:Ie["c"],textAlign:_!==undefined?_:Ie["l"],textBaseline:b!==undefined?b:Ie["m"]};this.text_=y!==undefined?y:"";this.textOffsetX_=d!==undefined?this.pixelRatio_*d:0;this.textOffsetY_=p!==undefined?this.pixelRatio_*p:0;this.textRotateWithView_=v!==undefined?v:false;this.textRotation_=g!==undefined?g:0;this.textScale_=this.pixelRatio_*(m!==undefined?m:1)}};return t}($e);var Ge=Fe;var He=n(212);var Ue=n(239);var We=function(e){function t(t){e.call(this);this.map_=t;this.layerRenderers_={};this.layerRendererListeners_={};this.layerRendererConstructors_=[]}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.dispatchRenderEvent=function t(e,n){Object(Mt["b"])()};t.prototype.registerLayerRenderers=function t(e){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,e)};t.prototype.calculateMatrices2D=function t(e){var n=e.viewState;var r=e.coordinateToPixelTransform;var i=e.pixelToCoordinateTransform;Object(It["b"])(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]);Object(It["d"])(Object(It["g"])(i,r))};t.prototype.removeLayerRenderers=function t(){for(var e in this.layerRenderers_){this.removeLayerRendererByKey_(e).dispose()}};t.prototype.forEachFeatureAtCoordinate=function t(e,r,n,i,a,o,s){var u;var l=r.viewState;var c=l.resolution;function t(t,e){var n=r.layerStates[Object(Mt["c"])(e)].managed;if(!(Object(Mt["c"])(t)in r.skippedFeatureUids&&!n)){return i.call(a,t,n?e:null)}}var h=l.projection;var f=e;if(h.canWrapX()){var d=h.getExtent();var p=Object(kt["E"])(d);var v=e[0];if(v<d[0]||v>d[2]){var g=Math.ceil((d[0]-v)/p);f=[v+p*g,e[1]]}}var m=r.layerStatesArray;var y=m.length;var _;for(_=y-1;_>=0;--_){var b=m[_];var O=b.layer;if(Object(Et["b"])(b,c)&&o.call(s,O)){var w=this.getLayerRenderer(O);var S=O.getSource();if(S){u=w.forEachFeatureAtCoordinate(S.getWrapX()?f:e,r,n,t)}if(u){return u}}}return undefined};t.prototype.forEachLayerAtPixel=function t(e,n,r,i,a,o,s){return Object(Mt["b"])()};t.prototype.hasFeatureAtCoordinate=function t(e,n,r,i,a){var o=this.forEachFeatureAtCoordinate(e,n,r,mt["b"],this,i,a);return o!==undefined};t.prototype.getLayerRenderer=function t(e){var n=Object(Mt["c"])(e);if(n in this.layerRenderers_){return this.layerRenderers_[n]}else{var r;for(var i=0,a=this.layerRendererConstructors_.length;i<a;++i){var o=this.layerRendererConstructors_[i];if(o["handles"](e)){r=o["create"](this,e);break}}if(r){this.layerRenderers_[n]=r;this.layerRendererListeners_[n]=Object(d["a"])(r,st["a"].CHANGE,this.handleLayerRendererChange_,this)}else{throw new Error("Unable to create renderer for layer: "+e.getType())}return r}};t.prototype.getLayerRendererByKey=function t(e){return this.layerRenderers_[e]};t.prototype.getLayerRenderers=function t(){return this.layerRenderers_};t.prototype.getMap=function t(){return this.map_};t.prototype.handleLayerRendererChange_=function t(){this.map_.render()};t.prototype.removeLayerRendererByKey_=function t(e){var n=this.layerRenderers_[e];delete this.layerRenderers_[e];Object(d["e"])(this.layerRendererListeners_[e]);delete this.layerRendererListeners_[e];return n};t.prototype.removeUnusedLayerRenderers_=function t(e,n){for(var r in this.layerRenderers_){if(!n||!(r in n.layerStates)){this.removeLayerRendererByKey_(r).dispose()}}};t.prototype.renderFrame=function t(e){Object(Mt["b"])()};t.prototype.scheduleExpireIconCache=function t(e){e.postRenderFunctions.push(Ye)};t.prototype.scheduleRemoveUnusedLayerRenderers=function t(e){for(var n in this.layerRenderers_){if(!(n in e.layerStates)){e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};return t}(He["a"]);function Ye(t,e){Ue["a"].expire()}function Ve(t,e){return t.zIndex-e.zIndex}var qe=We;var ze=n(138);var Be=[];var Ke=function(a){function t(t){a.call(this,t);var e=t.getViewport();this.context_=Object(gt["a"])();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=xt["e"];e.insertBefore(this.canvas_,e.childNodes[0]||null);this.renderedVisible_=true;this.transform_=Object(It["c"])()}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;t.prototype.dispatchRenderEvent=function t(e,n){var r=this.getMap();var i=this.context_;if(r.hasListener(e)){var a=n.extent;var o=n.pixelRatio;var s=n.viewState;var u=s.rotation;var l=this.getTransform(n);var c=new Ge(i,o,a,l,u);var h=new ke(e,c,n,i,null);r.dispatchEvent(h)}};t.prototype.getTransform=function t(e){var n=e.viewState;var r=this.canvas_.width/2;var i=this.canvas_.height/2;var a=e.pixelRatio/n.resolution;var o=-a;var s=-n.rotation;var u=-n.center[0];var l=-n.center[1];return Object(It["b"])(this.transform_,r,i,a,o,s,u,l)};t.prototype.renderFrame=function t(e){if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return}var n=this.context_;var r=e.pixelRatio;var i=Math.round(e.size[0]*r);var a=Math.round(e.size[1]*r);if(this.canvas_.width!=i||this.canvas_.height!=a){this.canvas_.width=i;this.canvas_.height=a}else{n.clearRect(0,0,i,a)}var o=e.viewState.rotation;this.calculateMatrices2D(e);this.dispatchRenderEvent(rt["a"].PRECOMPOSE,e);var s=e.layerStatesArray;Object(jt["l"])(s,Ve);if(o){n.save();Object(Ie["s"])(n,o,i/2,a/2)}var u=e.viewState.resolution;var l,c;for(l=0,c=s.length;l<c;++l){var h=s[l];var f=h.layer;var d=this.getLayerRenderer(f);if(!Object(Et["b"])(h,u)||h.sourceState!=ze["a"].READY){continue}if(d.prepareFrame(e,h)){d.composeFrame(e,h,n)}}if(o){n.restore()}this.dispatchRenderEvent(rt["a"].POSTCOMPOSE,e);if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};t.prototype.forEachLayerAtPixel=function t(e,n,r,i,a,o,s){var u;var l=n.viewState;var c=l.resolution;var h=n.layerStatesArray;var f=h.length;var d=Object(It["a"])(n.pixelToCoordinateTransform,e.slice());var p;for(p=f-1;p>=0;--p){var v=h[p];var g=v.layer;if(Object(Et["b"])(v,c)&&o.call(s,g)){var m=this.getLayerRenderer(g);u=m.forEachLayerAtCoordinate(d,n,r,i,a);if(u){return u}}}return undefined};t.prototype.registerLayerRenderers=function t(e){a.prototype.registerLayerRenderers.call(this,e);for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!Object(jt["f"])(Be,i)){Be.push(i)}}};return t}(qe);var Xe=Ke;var Ze=n(90);var Qe=function(e){function t(t){e.call(this);this.layer_=t}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.createLoadedTileFinder=function t(r,i,a){return function(e,t){function n(t){if(!a[e]){a[e]={}}a[e][t.tileCoord.toString()]=t}return r.forEachLoadedTile(i,e,t,n)}};t.prototype.forEachFeatureAtCoordinate=function t(e,n,r,i){};t.prototype.getLayer=function t(){return this.layer_};t.prototype.handleImageChange_=function t(e){var n=e.target;if(n.getState()===xe["a"].LOADED){this.renderIfReadyAndVisible()}};t.prototype.hasFeatureAtCoordinate=function t(e,n){return false};t.prototype.loadImage=function t(e){var n=e.getState();if(n!=xe["a"].LOADED&&n!=xe["a"].ERROR){Object(d["a"])(e,st["a"].CHANGE,this.handleImageChange_,this)}if(n==xe["a"].IDLE){e.load();n=e.getState()}return n==xe["a"].LOADED};t.prototype.renderIfReadyAndVisible=function t(){var e=this.getLayer();if(e.getVisible()&&e.getSourceState()==ze["a"].READY){this.changed()}};t.prototype.scheduleExpireCache=function t(e,n){if(n.canExpireCache()){var r=function(t,e,n){var r=Object(Mt["c"])(t);if(r in n.usedTiles){t.expireCache(n.viewState.projection,n.usedTiles[r])}}.bind(null,n);e.postRenderFunctions.push(r)}};t.prototype.updateUsedTiles=function t(e,n,r,i){var a=Object(Mt["c"])(n);var o=r.toString();if(a in e){if(o in e[a]){e[a][o].extend(i)}else{e[a][o]=i}}else{e[a]={};e[a][o]=i}};t.prototype.manageTilePyramid=function t(e,n,r,i,a,o,s,u,l,c){var h=Object(Mt["c"])(n);if(!(h in e.wantedTiles)){e.wantedTiles[h]={}}var f=e.wantedTiles[h];var d=e.tileQueue;var p=r.getMinZoom();var v,g,m,y,_,b;for(b=p;b<=s;++b){g=r.getTileRangeForExtentAndZ(o,b,g);m=r.getResolution(b);for(y=g.minX;y<=g.maxX;++y){for(_=g.minY;_<=g.maxY;++_){if(s-b<=u){v=n.getTile(b,y,_,i,a);if(v.getState()==ot["a"].IDLE){f[v.getKey()]=true;if(!d.isKeyQueued(v.getKey())){d.enqueue([v,h,r.getTileCoordCenter(v.tileCoord),m])}}if(l!==undefined){l.call(c,v)}}else{n.useTile(b,y,_,a)}}}}};return t}(Ze["a"]);var Je=Qe;var tn=function(e){function t(t){e.call(this,t);this.renderedResolution;this.transform_=Object(It["c"])()}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.clip=function t(e,n,r){var i=n.pixelRatio;var a=n.size[0]*i;var o=n.size[1]*i;var s=n.viewState.rotation;var u=Object(kt["C"])(r);var l=Object(kt["D"])(r);var c=Object(kt["w"])(r);var h=Object(kt["v"])(r);Object(It["a"])(n.coordinateToPixelTransform,u);Object(It["a"])(n.coordinateToPixelTransform,l);Object(It["a"])(n.coordinateToPixelTransform,c);Object(It["a"])(n.coordinateToPixelTransform,h);e.save();Object(Ie["s"])(e,-s,a/2,o/2);e.beginPath();e.moveTo(u[0]*i,u[1]*i);e.lineTo(l[0]*i,l[1]*i);e.lineTo(c[0]*i,c[1]*i);e.lineTo(h[0]*i,h[1]*i);e.clip();Object(Ie["s"])(e,s,a/2,o/2)};t.prototype.dispatchComposeEvent_=function t(e,n,r,i){var a=this.getLayer();if(a.hasListener(e)){var o=r.size[0]*r.pixelRatio;var s=r.size[1]*r.pixelRatio;var u=r.viewState.rotation;Object(Ie["s"])(n,-u,o/2,s/2);var l=i!==undefined?i:this.getTransform(r,0);var c=new Ge(n,r.pixelRatio,r.extent,l,r.viewState.rotation);var h=new ke(e,c,r,n,null);a.dispatchEvent(h);Object(Ie["s"])(n,u,o/2,s/2)}};t.prototype.forEachLayerAtCoordinate=function t(e,n,r,i,a){var o=this.forEachFeatureAtCoordinate(e,n,r,mt["b"]);if(o){return i.call(a,this.getLayer(),null)}else{return undefined}};t.prototype.postCompose=function t(e,n,r,i){this.dispatchComposeEvent_(rt["a"].POSTCOMPOSE,e,n,i)};t.prototype.preCompose=function t(e,n,r){this.dispatchComposeEvent_(rt["a"].PRECOMPOSE,e,n,r)};t.prototype.dispatchRenderEvent=function t(e,n,r){this.dispatchComposeEvent_(rt["a"].RENDER,e,n,r)};t.prototype.getTransform=function t(e,n){var r=e.viewState;var i=e.pixelRatio;var a=i*e.size[0]/2;var o=i*e.size[1]/2;var s=i/r.resolution;var u=-s;var l=-r.rotation;var c=-r.center[0]+n;var h=-r.center[1];return Object(It["b"])(this.transform_,a,o,s,u,l,c,h)};t.prototype.composeFrame=function t(e,n,r){Object(Mt["b"])()};t.prototype.prepareFrame=function t(e,n){return Object(Mt["b"])()};return t}(Je);var en=tn;var nn=function(e){function t(t){e.call(this,t);this.coordinateToCanvasPixelTransform=Object(It["c"])();this.hitCanvasContext_=null}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.composeFrame=function t(e,n,r){this.preCompose(r,e);var i=this.getImage();if(i){var a=n.extent;var o=a!==undefined&&!Object(kt["g"])(a,e.extent)&&Object(kt["F"])(a,e.extent);if(o){this.clip(r,e,a)}var s=this.getImageTransform();var u=r.globalAlpha;r.globalAlpha=n.opacity;var l=s[4];var c=s[5];var h=i.width*s[0];var f=i.height*s[3];if(h>=.5&&f>=.5){r.drawImage(i,0,0,+i.width,+i.height,Math.round(l),Math.round(c),Math.round(h),Math.round(f))}r.globalAlpha=u;if(o){r.restore()}}this.postCompose(r,e,n)};t.prototype.getImage=function t(){return Object(Mt["b"])()};t.prototype.getImageTransform=function t(){return Object(Mt["b"])()};t.prototype.forEachLayerAtCoordinate=function t(e,n,r,i,a){if(!this.getImage()){return undefined}var o=Object(It["a"])(this.coordinateToCanvasPixelTransform,e.slice());Object(Bt["f"])(o,n.viewState.resolution/this.renderedResolution);if(!this.hitCanvasContext_){this.hitCanvasContext_=Object(gt["a"])(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(s[3]>0){return i.call(a,this.getLayer(),s)}else{return undefined}};return t}(en);var rn=nn;var an=function(a){function i(t){a.call(this,t);this.image_=null;this.imageTransform_=Object(It["c"])();this.skippedFeatures_=[];this.vectorRenderer_=null;if(t.getType()===Me["a"].VECTOR){for(var e=0,n=Be.length;e<n;++e){var r=Be[e];if(r!==i&&r["handles"](t)){this.vectorRenderer_=new r(t);break}}}}if(a)i.__proto__=a;i.prototype=Object.create(a&&a.prototype);i.prototype.constructor=i;i.prototype.disposeInternal=function t(){if(this.vectorRenderer_){this.vectorRenderer_.dispose()}a.prototype.disposeInternal.call(this)};i.prototype.getImage=function t(){return!this.image_?null:this.image_.getImage()};i.prototype.getImageTransform=function t(){return this.imageTransform_};i.prototype.prepareFrame=function t(e,n){var r=e.pixelRatio;var i=e.size;var a=e.viewState;var o=a.center;var s=a.resolution;var u;var l=this.getLayer();var c=l.getSource();var h=e.viewHints;var f=this.vectorRenderer_;var d=e.extent;if(!f&&n.extent!==undefined){d=Object(kt["B"])(d,n.extent)}if(!h[vt["a"].ANIMATING]&&!h[vt["a"].INTERACTING]&&!Object(kt["H"])(d)){var p=a.projection;if(!Se["a"]){var v=c.getProjection();if(v){p=v}}var g=this.skippedFeatures_;if(f){var m=f.context;var y=Object(At["a"])({},e,{size:[Object(kt["E"])(d)/s,Object(kt["A"])(d)/s],viewState:Object(At["a"])({},e.viewState,{rotation:0})});var _=Object.keys(y.skippedFeatureUids).sort();u=new Ce(d,s,r,m.canvas,function(t){if(f.prepareFrame(y,n)&&(f.replayGroupChanged||!Object(jt["b"])(g,_))){m.canvas.width=y.size[0]*r;m.canvas.height=y.size[1]*r;f.compose(m,y,n);g=_;t()}})}else{u=c.getImage(d,s,r,p)}if(u&&this.loadImage(u)){this.image_=u;this.skippedFeatures_=g}}if(this.image_){u=this.image_;var b=u.getExtent();var O=u.getResolution();var w=u.getPixelRatio();var S=r*O/(s*w);var T=Object(It["b"])(this.imageTransform_,r*i[0]/2,r*i[1]/2,S,S,0,w*(b[0]-o[0])/O,w*(o[1]-b[3])/O);Object(It["b"])(this.coordinateToCanvasPixelTransform,r*i[0]/2-T[4],r*i[1]/2-T[5],r/s,-r/s,0,-o[0],-o[1]);this.renderedResolution=O*r/w}return!!this.image_};i.prototype.forEachFeatureAtCoordinate=function t(e,n,r,i){if(this.vectorRenderer_){return this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,r,i)}else{return a.prototype.forEachFeatureAtCoordinate.call(this,e,n,r,i)}};return i}(rn);an["handles"]=function(t){return t.getType()===Me["a"].IMAGE||t.getType()===Me["a"].VECTOR&&t.getRenderMode()===je["a"].IMAGE};an["create"]=function(t,e){return new an(e)};var on=an;var sn=n(208);var un=function(n){function t(t,e){n.call(this,t);this.context=e?null:Object(gt["a"])();this.oversampling_;this.renderedExtent_=null;this.renderedRevision;this.renderedTiles=[];this.newTiles_=false;this.tmpExtent=Object(kt["j"])();this.tmpTileRange_=new sn["b"](0,0,0,0);this.imageTransform_=Object(It["c"])();this.zDirection=0}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.isDrawableTile_=function t(e){var n=this.getLayer();var r=e.getState();var i=n.getUseInterimTilesOnError();return r==ot["a"].LOADED||r==ot["a"].EMPTY||r==ot["a"].ERROR&&!i};t.prototype.getTile=function t(e,n,r,i,a){var o=this.getLayer();var s=o.getSource();var u=s.getTile(e,n,r,i,a);if(u.getState()==ot["a"].ERROR){if(!o.getUseInterimTilesOnError()){u.setState(ot["a"].LOADED)}else if(o.getPreload()>0){this.newTiles_=true}}if(!this.isDrawableTile_(u)){u=u.getInterimTile()}return u};t.prototype.prepareFrame=function t(e,n){var r=e.pixelRatio;var i=e.size;var a=e.viewState;var o=a.projection;var s=a.resolution;var u=a.center;var l=this.getLayer();var c=l.getSource();var h=c.getRevision();var f=c.getTileGridForProjection(o);var d=f.getZForResolution(s,this.zDirection);var p=f.getResolution(d);var v=Math.round(s/p)||1;var g=e.extent;if(n.extent!==undefined){g=Object(kt["B"])(g,n.extent)}if(Object(kt["H"])(g)){return false}var m=f.getTileRangeForExtentAndZ(g,d);var y=f.getTileRangeExtent(d,m);var _=c.getTilePixelRatio(r);var b={};b[d]={};var O=this.createLoadedTileFinder(c,o,b);var w=e.viewHints;var S=w[vt["a"].ANIMATING]||w[vt["a"].INTERACTING];var T=this.tmpExtent;var x=this.tmpTileRange_;this.newTiles_=false;var E,C,M;for(C=m.minX;C<=m.maxX;++C){for(M=m.minY;M<=m.maxY;++M){if(Date.now()-e.time>16&&S){continue}E=this.getTile(d,C,M,r,o);if(this.isDrawableTile_(E)){var j=Object(Mt["c"])(this);if(E.getState()==ot["a"].LOADED){b[d][E.tileCoord.toString()]=E;var A=E.inTransition(j);if(!this.newTiles_&&(A||this.renderedTiles.indexOf(E)===-1)){this.newTiles_=true}}if(E.getAlpha(j,e.time)===1){continue}}var k=f.getTileCoordChildTileRange(E.tileCoord,x,T);var I=false;if(k){I=O(d+1,k)}if(!I){f.forEachTileCoordParentTileRange(E.tileCoord,O,null,x,T)}}}var R=p*r/_*v;if(!(this.renderedResolution&&Date.now()-e.time>16&&S)&&(this.newTiles_||!(this.renderedExtent_&&Object(kt["g"])(this.renderedExtent_,g))||this.renderedRevision!=h||v!=this.oversampling_||!S&&R!=this.renderedResolution)){var D=this.context;if(D){var P=c.getTilePixelSize(d,r,o);var N=Math.round(m.getWidth()*P[0]/v);var L=Math.round(m.getHeight()*P[1]/v);var $=D.canvas;if($.width!=N||$.height!=L){this.oversampling_=v;$.width=N;$.height=L}else{if(this.renderedExtent_&&!Object(kt["p"])(y,this.renderedExtent_)){D.clearRect(0,0,N,L)}v=this.oversampling_}}this.renderedTiles.length=0;var F=Object.keys(b).map(Number);F.sort(function(t,e){if(t===d){return 1}else if(e===d){return-1}else{return t>e?1:t<e?-1:0}});var G,H,U,W,Y,V;var q,z,B,K,X;for(Y=0,V=F.length;Y<V;++Y){W=F[Y];U=c.getTilePixelSize(W,r,o);G=f.getResolution(W);H=G/p;z=_*c.getGutterForProjection(o);B=b[W];for(var Z in B){E=B[Z];q=f.getTileCoordExtent(E.getTileCoord(),T);C=(q[0]-y[0])/p*_/v;M=(y[3]-q[3])/p*_/v;K=U[0]*H/v;X=U[1]*H/v;this.drawTileImage(E,e,n,C,M,K,X,z,d===W);this.renderedTiles.push(E)}}this.renderedRevision=h;this.renderedResolution=p*r/_*v;this.renderedExtent_=y}var Q=this.renderedResolution/s;var J=Object(It["b"])(this.imageTransform_,r*i[0]/2,r*i[1]/2,Q,Q,0,(this.renderedExtent_[0]-u[0])/this.renderedResolution*r,(u[1]-this.renderedExtent_[3])/this.renderedResolution*r);Object(It["b"])(this.coordinateToCanvasPixelTransform,r*i[0]/2-J[4],r*i[1]/2-J[5],r/s,-r/s,0,-u[0],-u[1]);this.updateUsedTiles(e.usedTiles,c,d,m);this.manageTilePyramid(e,c,f,r,o,g,d,l.getPreload());this.scheduleExpireCache(e,c);return this.renderedTiles.length>0};t.prototype.drawTileImage=function t(e,n,r,i,a,o,s,u,l){var c=this.getTileImage(e);if(!c){return}var h=Object(Mt["c"])(this);var f=l?e.getAlpha(h,n.time):1;var d=this.getLayer();var p=d.getSource();if(f===1&&!p.getOpaque(n.viewState.projection)){this.context.clearRect(i,a,o,s)}var v=f!==this.context.globalAlpha;if(v){this.context.save();this.context.globalAlpha=f}this.context.drawImage(c,u,u,c.width-2*u,c.height-2*u,i,a,o,s);if(v){this.context.restore()}if(f!==1){n.animate=true}else if(l){e.endTransition(h)}};t.prototype.getImage=function t(){var e=this.context;return e?e.canvas:null};t.prototype.getImageTransform=function t(){return this.imageTransform_};t.prototype.getTileImage=function t(e){return e.getImage()};return t}(rn);un["handles"]=function(t){return t.getType()===Me["a"].TILE};un["create"]=function(t,e){return new un(e)};un.prototype.getLayer;var ln=un;var cn=n(217);var hn=n.n(cn);var fn=function t(){};fn.prototype.getReplay=function t(e,n){return Object(Mt["b"])()};fn.prototype.isEmpty=function t(){return Object(Mt["b"])()};fn.prototype.addDeclutter=function t(e){return Object(Mt["b"])()};var dn=fn;var pn={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};var vn=n(99);var gn=n(117);var mn=n(252);function yn(t,e,n,r,i,a,o,s){var u=[];var l=t[e]>t[n-r];var c=i.length;var h=t[e];var f=t[e+1];e+=r;var d=t[e];var p=t[e+1];var v=0;var g=Math.sqrt(Math.pow(d-h,2)+Math.pow(p-f,2));var m="";var y=0;var _,b,O;for(var w=0;w<c;++w){b=l?c-w-1:w;var S=i.charAt(b);m=l?S+m:m+S;var T=a(m)-y;y+=T;var x=o+T/2;while(e<n-r&&v+g<x){h=d;f=p;e+=r;d=t[e];p=t[e+1];v+=g;g=Math.sqrt(Math.pow(d-h,2)+Math.pow(p-f,2))}var E=x-v;var C=Math.atan2(p-f,d-h);if(l){C+=C>0?-Math.PI:Math.PI}if(O!==undefined){var M=C-O;M+=M>Math.PI?-2*Math.PI:M<-Math.PI?2*Math.PI:0;if(Math.abs(M)>s){return null}}var j=E/g;var A=Object(de["c"])(h,d,j);var k=Object(de["c"])(f,p,j);if(O==C){if(l){_[0]=A;_[1]=k;_[2]=T/2}_[4]=m}else{m=S;y=T;_=[A,k,T/2,C,m];if(l){u.unshift(_)}else{u.push(_)}O=C}o+=T}return u}var _n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};var bn=[_n.FILL];var On=[_n.STROKE];var wn=[_n.BEGIN_PATH];var Sn=[_n.CLOSE_PATH];var Tn=_n;var xn=[pn.POLYGON,pn.CIRCLE,pn.LINE_STRING,pn.IMAGE,pn.TEXT,pn.DEFAULT];var En={};En["left"]=0;En["end"]=0;En["center"]=.5;En["right"]=1;En["start"]=1;En["top"]=0;En["middle"]=.5;En["hanging"]=.2;En["alphabetic"]=.8;En["ideographic"]=.8;En["bottom"]=1;var Cn=Object(kt["j"])();var Mn=Object(It["c"])();var jn=function(o){function t(t,e,n,r,i,a){o.call(this);this.declutterTree=a;this.tolerance=t;this.maxExtent=e;this.overlaps=i;this.pixelRatio=r;this.maxLineWidth=0;this.resolution=n;this.alignFill_;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.bufferedMaxExtent_=null;this.instructions=[];this.coordinates=[];this.coordinateCache_={};this.renderedTransform_=Object(It["c"])();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.state={};this.viewRotation_=0}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.replayTextBackground_=function t(e,n,r,i,a,o,s){e.beginPath();e.moveTo.apply(e,n);e.lineTo.apply(e,r);e.lineTo.apply(e,i);e.lineTo.apply(e,a);e.lineTo.apply(e,n);if(o){this.alignFill_=o[2];this.fill_(e)}if(s){this.setStrokeStyle_(e,s);e.stroke()}};t.prototype.replayImage_=function t(e,n,r,i,a,o,s,u,l,c,h,f,d,p,v,g,m,y){var _=m||y;a*=d;o*=d;n-=a;r-=o;var b=v+c>i.width?i.width-c:v;var O=u+h>i.height?i.height-h:u;var w=g[3]+b*d+g[1];var S=g[0]+O*d+g[2];var T=n-g[3];var x=r-g[0];var E;var C;var M;var j;if(_||f!==0){E=[T,x];C=[T+w,x];M=[T+w,x+S];j=[T,x+S]}var A=null;if(f!==0){var k=n+a;var I=r+o;A=Object(It["b"])(Mn,k,I,1,1,f,-k,-I);Object(kt["l"])(Cn);Object(kt["r"])(Cn,Object(It["a"])(Mn,E));Object(kt["r"])(Cn,Object(It["a"])(Mn,C));Object(kt["r"])(Cn,Object(It["a"])(Mn,M));Object(kt["r"])(Cn,Object(It["a"])(Mn,j))}else{Object(kt["k"])(T,x,T+w,x+S,Cn)}var R=e.canvas;var D=y?y[2]*d/2:0;var P=Cn[0]-D<=R.width&&Cn[2]+D>=0&&Cn[1]-D<=R.height&&Cn[3]+D>=0;if(p){n=Math.round(n);r=Math.round(r)}if(s){if(!P&&s[4]==1){return}Object(kt["q"])(s,Cn);var N=P?[e,A?A.slice(0):null,l,i,c,h,b,O,n,r,d]:null;if(N&&_){N.push(m,y,E,C,M,j)}s.push(N)}else if(P){if(_){this.replayTextBackground_(e,E,C,M,j,m,y)}Object(Ie["n"])(e,A,l,i,c,h,b,O,n,r,d)}};t.prototype.applyPixelRatio=function t(e){var n=this.pixelRatio;return n==1?e:e.map(function(t){return t*n})};t.prototype.appendFlatCoordinates=function t(e,n,r,i,a,o){var s=this.coordinates.length;var u=this.getBufferedMaxExtent();if(o){n+=i}var l=[e[n],e[n+1]];var c=[NaN,NaN];var h=true;var f,d,p;for(f=n+i;f<r;f+=i){c[0]=e[f];c[1]=e[f+1];p=Object(kt["i"])(u,c);if(p!==d){if(h){this.coordinates[s++]=l[0];this.coordinates[s++]=l[1]}this.coordinates[s++]=c[0];this.coordinates[s++]=c[1];h=false}else if(p===vn["a"].INTERSECTING){this.coordinates[s++]=c[0];this.coordinates[s++]=c[1];h=false}else{h=true}l[0]=c[0];l[1]=c[1];d=p}if(a&&h||f===n+i){this.coordinates[s++]=l[0];this.coordinates[s++]=l[1]}return s};t.prototype.drawCustomCoordinates_=function t(e,n,r,i,a){for(var o=0,s=r.length;o<s;++o){var u=r[o];var l=this.appendFlatCoordinates(e,n,u,i,false,false);a.push(l);n=u}return n};t.prototype.drawCustom=function t(e,n,r){this.beginGeometry(e,n);var i=e.getType();var a=e.getStride();var o=this.coordinates.length;var s,u,l,c;var h;if(i==De["a"].MULTI_POLYGON){e=e;s=e.getOrientedFlatCoordinates();c=[];var f=e.getEndss();h=0;for(var d=0,p=f.length;d<p;++d){var v=[];h=this.drawCustomCoordinates_(s,h,f[d],a,v);c.push(v)}this.instructions.push([Tn.CUSTOM,o,c,e,r,gn["c"]])}else if(i==De["a"].POLYGON||i==De["a"].MULTI_LINE_STRING){l=[];s=i==De["a"].POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates();h=this.drawCustomCoordinates_(s,0,e.getEnds(),a,l);this.instructions.push([Tn.CUSTOM,o,l,e,r,gn["b"]])}else if(i==De["a"].LINE_STRING||i==De["a"].MULTI_POINT){s=e.getFlatCoordinates();u=this.appendFlatCoordinates(s,0,s.length,a,false,false);this.instructions.push([Tn.CUSTOM,o,u,e,r,gn["a"]])}else if(i==De["a"].POINT){s=e.getFlatCoordinates();this.coordinates.push(s[0],s[1]);u=this.coordinates.length;this.instructions.push([Tn.CUSTOM,o,u,e,r])}this.endGeometry(e,n)};t.prototype.beginGeometry=function t(e,n){this.beginGeometryInstruction1_=[Tn.BEGIN_GEOMETRY,n,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[Tn.BEGIN_GEOMETRY,n,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};t.prototype.finish=function t(){};t.prototype.fill_=function t(e){if(this.alignFill_){var n=Object(It["a"])(this.renderedTransform_,[0,0]);var r=512*this.pixelRatio;e.translate(n[0]%r,n[1]%r);e.rotate(this.viewRotation_)}e.fill();if(this.alignFill_){e.setTransform.apply(e,Ie["r"])}};t.prototype.setStrokeStyle_=function t(e,n){e.strokeStyle=n[1];e.lineWidth=n[2];e.lineCap=n[3];e.lineJoin=n[4];e.miterLimit=n[5];if(x["a"]){e.lineDashOffset=n[7];e.setLineDash(n[6])}};t.prototype.renderDeclutter_=function t(e,n){if(e&&e.length>5){var r=e[4];if(r==1||r==e.length-5){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var a=5,o=e.length;a<o;++a){var s=e[a];if(s){if(s.length>11){this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12])}Ie["n"].apply(undefined,s)}}}e.length=5;Object(kt["l"])(e)}}};t.prototype.replay_=function t(e,n,r,i,a,o,s){var u;if(this.pixelCoordinates_&&Object(jt["b"])(n,this.renderedTransform_)){u=this.pixelCoordinates_}else{if(!this.pixelCoordinates_){this.pixelCoordinates_=[]}u=Object(Ne["c"])(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_);Object(It["g"])(this.renderedTransform_,n)}var l=!Object(At["d"])(r);var c=0;var h=i.length;var f=0;var d;var p,v,g,m,y,_,b,O;var w=0;var S=0;var T=null;var x=null;var E=this.coordinateCache_;var C=this.viewRotation_;var M={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:C};var j=this.instructions!=i||this.overlaps?0:200;var A;var k,I;while(c<h){var R=i[c];var D=R[0];switch(D){case Tn.BEGIN_GEOMETRY:A=R[1];if(l&&r[Object(Mt["c"])(A)]||!A.getGeometry()){c=R[2]}else if(s!==undefined&&!Object(kt["F"])(s,A.getGeometry().getExtent())){c=R[2]+1}else{++c}break;case Tn.BEGIN_PATH:if(w>j){this.fill_(e);w=0}if(S>j){e.stroke();S=0}if(!w&&!S){e.beginPath();g=m=NaN}++c;break;case Tn.CIRCLE:f=R[1];var P=u[f];var N=u[f+1];var L=u[f+2];var $=u[f+3];var F=L-P;var G=$-N;var H=Math.sqrt(F*F+G*G);e.moveTo(P+H,N);e.arc(P,N,H,0,2*Math.PI,true);++c;break;case Tn.CLOSE_PATH:e.closePath();++c;break;case Tn.CUSTOM:f=R[1];d=R[2];var U=R[3];var W=R[4];var Y=R.length==6?R[5]:undefined;M.geometry=U;M.feature=A;if(!(c in E)){E[c]=[]}var V=E[c];if(Y){Y(u,f,d,2,V)}else{V[0]=u[f];V[1]=u[f+1];V.length=2}W(V,M);++c;break;case Tn.DRAW_IMAGE:f=R[1];d=R[2];O=R[3];p=R[4];v=R[5];b=o?null:R[6];var q=R[7];var z=R[8];var B=R[9];var K=R[10];var X=R[11];var Z=R[12];var Q=R[13];var J=R[14];var tt=void 0,et=void 0,nt=void 0;if(R.length>16){tt=R[15];et=R[16];nt=R[17]}else{tt=Ie["j"];et=nt=false}if(X){Z+=C}for(;f<d;f+=2){this.replayImage_(e,u[f],u[f+1],O,p,v,b,q,z,B,K,Z,Q,a,J,tt,et?T:null,nt?x:null)}this.renderDeclutter_(b,A);++c;break;case Tn.DRAW_CHARS:var rt=R[1];var it=R[2];var at=R[3];b=o?null:R[4];var ot=R[5];var st=R[6];var ut=R[7];var lt=R[8];var ct=R[9];var ht=R[10];var ft=R[11];var dt=R[12];var pt=R[13];var vt=R[14];var gt=Object(mn["a"])(u,rt,it,2);var mt=lt(dt);if(ot||mt<=gt){var yt=this;var _t=yt.textStates[pt].textAlign;var bt=(gt-mt)*En[_t];var Ot=yn(u,rt,it,2,dt,lt,bt,ut);if(Ot){var wt=void 0,St=void 0,Tt=void 0,xt=void 0,Et=void 0;if(ht){for(wt=0,St=Ot.length;wt<St;++wt){Et=Ot[wt];Tt=Et[4];xt=yt.getImage(Tt,pt,"",ht);p=Et[2]+ft;v=at*xt.height+(.5-at)*2*ft-ct;this.replayImage_(e,Et[0],Et[1],xt,p,v,b,xt.height,1,0,0,Et[3],vt,false,xt.width,Ie["j"],null,null)}}if(st){for(wt=0,St=Ot.length;wt<St;++wt){Et=Ot[wt];Tt=Et[4];xt=yt.getImage(Tt,pt,st,"");p=Et[2];v=at*xt.height-ct;this.replayImage_(e,Et[0],Et[1],xt,p,v,b,xt.height,1,0,0,Et[3],vt,false,xt.width,Ie["j"],null,null)}}}}this.renderDeclutter_(b,A);++c;break;case Tn.END_GEOMETRY:if(o!==undefined){A=R[1];var Ct=o(A);if(Ct){return Ct}}++c;break;case Tn.FILL:if(j){w++}else{this.fill_(e)}++c;break;case Tn.MOVE_TO_LINE_TO:f=R[1];d=R[2];k=u[f];I=u[f+1];y=k+.5|0;_=I+.5|0;if(y!==g||_!==m){e.moveTo(k,I);g=y;m=_}for(f+=2;f<d;f+=2){k=u[f];I=u[f+1];y=k+.5|0;_=I+.5|0;if(f==d-2||y!==g||_!==m){e.lineTo(k,I);g=y;m=_}}++c;break;case Tn.SET_FILL_STYLE:T=R;this.alignFill_=R[2];if(w){this.fill_(e);w=0;if(S){e.stroke();S=0}}e.fillStyle=R[1];++c;break;case Tn.SET_STROKE_STYLE:x=R;if(S){e.stroke();S=0}this.setStrokeStyle_(e,R);++c;break;case Tn.STROKE:if(j){S++}else{e.stroke()}++c;break;default:++c;break}}if(w){this.fill_(e)}if(S){e.stroke()}return undefined};t.prototype.replay=function t(e,n,r,i,a){this.viewRotation_=r;this.replay_(e,n,i,this.instructions,a,undefined,undefined)};t.prototype.replayHitDetection=function t(e,n,r,i,a,o){this.viewRotation_=r;return this.replay_(e,n,i,this.hitDetectionInstructions,true,a,o)};t.prototype.reverseHitDetectionInstructions=function t(){var e=this.hitDetectionInstructions;e.reverse();var n;var r=e.length;var i;var a;var o=-1;for(n=0;n<r;++n){i=e[n];a=i[0];if(a==Tn.END_GEOMETRY){o=n}else if(a==Tn.BEGIN_GEOMETRY){i[2]=n;Object(jt["k"])(this.hitDetectionInstructions,o,n);o=-1}}};t.prototype.setFillStrokeStyle=function t(e,n){var r=this.state;if(e){var i=e.getColor();r.fillStyle=Object(Re["a"])(i?i:Ie["b"])}else{r.fillStyle=undefined}if(n){var a=n.getColor();r.strokeStyle=Object(Re["a"])(a?a:Ie["k"]);var o=n.getLineCap();r.lineCap=o!==undefined?o:Ie["d"];var s=n.getLineDash();r.lineDash=s?s.slice():Ie["e"];var u=n.getLineDashOffset();r.lineDashOffset=u?u:Ie["f"];var l=n.getLineJoin();r.lineJoin=l!==undefined?l:Ie["g"];var c=n.getWidth();r.lineWidth=c!==undefined?c:Ie["h"];var h=n.getMiterLimit();r.miterLimit=h!==undefined?h:Ie["i"];if(r.lineWidth>this.maxLineWidth){this.maxLineWidth=r.lineWidth;this.bufferedMaxExtent_=null}}else{r.strokeStyle=undefined;r.lineCap=undefined;r.lineDash=null;r.lineDashOffset=undefined;r.lineJoin=undefined;r.lineWidth=undefined;r.miterLimit=undefined}};t.prototype.createFill=function t(e,n){var r=e.fillStyle;var i=[Tn.SET_FILL_STYLE,r];if(typeof r!=="string"){i.push(true)}return i};t.prototype.applyStroke=function t(e){this.instructions.push(this.createStroke(e))};t.prototype.createStroke=function t(e){return[Tn.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]};t.prototype.updateFillStyle=function t(e,n,r){var i=e.fillStyle;if(typeof i!=="string"||e.currentFillStyle!=i){if(i!==undefined){this.instructions.push(n.call(this,e,r))}e.currentFillStyle=i}};t.prototype.updateStrokeStyle=function t(e,n){var r=e.strokeStyle;var i=e.lineCap;var a=e.lineDash;var o=e.lineDashOffset;var s=e.lineJoin;var u=e.lineWidth;var l=e.miterLimit;if(e.currentStrokeStyle!=r||e.currentLineCap!=i||a!=e.currentLineDash&&!Object(jt["b"])(e.currentLineDash,a)||e.currentLineDashOffset!=o||e.currentLineJoin!=s||e.currentLineWidth!=u||e.currentMiterLimit!=l){if(r!==undefined){n.call(this,e)}e.currentStrokeStyle=r;e.currentLineCap=i;e.currentLineDash=a;e.currentLineDashOffset=o;e.currentLineJoin=s;e.currentLineWidth=u;e.currentMiterLimit=l}};t.prototype.endGeometry=function t(e,n){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var r=[Tn.END_GEOMETRY,n];this.instructions.push(r);this.hitDetectionInstructions.push(r)};t.prototype.getBufferedMaxExtent=function t(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=Object(kt["d"])(this.maxExtent);if(this.maxLineWidth>0){var e=this.resolution*(this.maxLineWidth+1)/2;Object(kt["c"])(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};return t}($e);var An=jn;var kn=function(o){function t(t,e,n,r,i,a){o.call(this,t,e,n,r,i,a);this.declutterGroup_=null;this.hitDetectionImage_=null;this.image_=null;this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.width_=undefined}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.drawCoordinates_=function t(e,n,r,i){return this.appendFlatCoordinates(e,n,r,i,false,false)};t.prototype.drawPoint=function t(e,n){if(!this.image_){return}this.beginGeometry(e,n);var r=e.getFlatCoordinates();var i=e.getStride();var a=this.coordinates.length;var o=this.drawCoordinates_(r,0,r.length,i);this.instructions.push([Tn.DRAW_IMAGE,a,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]);this.hitDetectionInstructions.push([Tn.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]);this.endGeometry(e,n)};t.prototype.drawMultiPoint=function t(e,n){if(!this.image_){return}this.beginGeometry(e,n);var r=e.getFlatCoordinates();var i=e.getStride();var a=this.coordinates.length;var o=this.drawCoordinates_(r,0,r.length,i);this.instructions.push([Tn.DRAW_IMAGE,a,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]);this.hitDetectionInstructions.push([Tn.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]);this.endGeometry(e,n)};t.prototype.finish=function t(){this.reverseHitDetectionInstructions();this.anchorX_=undefined;this.anchorY_=undefined;this.hitDetectionImage_=null;this.image_=null;this.height_=undefined;this.scale_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.width_=undefined};t.prototype.setImageStyle=function t(e,n){var r=e.getAnchor();var i=e.getSize();var a=e.getHitDetectionImage(1);var o=e.getImage(1);var s=e.getOrigin();this.anchorX_=r[0];this.anchorY_=r[1];this.declutterGroup_=n;this.hitDetectionImage_=a;this.image_=o;this.height_=i[1];this.opacity_=e.getOpacity();this.originX_=s[0];this.originY_=s[1];this.rotateWithView_=e.getRotateWithView();this.rotation_=e.getRotation();this.scale_=e.getScale();this.width_=i[0]};return t}(An);var In=kn;var Rn=function(o){function t(t,e,n,r,i,a){o.call(this,t,e,n,r,i,a)}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.drawFlatCoordinates_=function t(e,n,r,i){var a=this.coordinates.length;var o=this.appendFlatCoordinates(e,n,r,i,false,false);var s=[Tn.MOVE_TO_LINE_TO,a,o];this.instructions.push(s);this.hitDetectionInstructions.push(s);return r};t.prototype.drawLineString=function t(e,n){var r=this.state;var i=r.strokeStyle;var a=r.lineWidth;if(i===undefined||a===undefined){return}this.updateStrokeStyle(r,this.applyStroke);this.beginGeometry(e,n);this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],wn);var o=e.getFlatCoordinates();var s=e.getStride();this.drawFlatCoordinates_(o,0,o.length,s);this.hitDetectionInstructions.push(On);this.endGeometry(e,n)};t.prototype.drawMultiLineString=function t(e,n){var r=this.state;var i=r.strokeStyle;var a=r.lineWidth;if(i===undefined||a===undefined){return}this.updateStrokeStyle(r,this.applyStroke);this.beginGeometry(e,n);this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],wn);var o=e.getEnds();var s=e.getFlatCoordinates();var u=e.getStride();var l=0;for(var c=0,h=o.length;c<h;++c){l=this.drawFlatCoordinates_(s,l,o[c],u)}this.hitDetectionInstructions.push(On);this.endGeometry(e,n)};t.prototype.finish=function t(){var e=this.state;if(e.lastStroke!=undefined&&e.lastStroke!=this.coordinates.length){this.instructions.push(On)}this.reverseHitDetectionInstructions();this.state=null};t.prototype.applyStroke=function t(e){if(e.lastStroke!=undefined&&e.lastStroke!=this.coordinates.length){this.instructions.push(On);e.lastStroke=this.coordinates.length}e.lastStroke=0;o.prototype.applyStroke.call(this,e);this.instructions.push(wn)};return t}(An);var Dn=Rn;var Pn=n(75);var Nn=n(137);var Ln=function(o){function t(t,e,n,r,i,a){o.call(this,t,e,n,r,i,a)}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.drawFlatCoordinatess_=function t(e,n,r,i){var a=this.state;var o=a.fillStyle!==undefined;var s=a.strokeStyle!=undefined;var u=r.length;this.instructions.push(wn);this.hitDetectionInstructions.push(wn);for(var l=0;l<u;++l){var c=r[l];var h=this.coordinates.length;var f=this.appendFlatCoordinates(e,n,c,i,true,!s);var d=[Tn.MOVE_TO_LINE_TO,h,f];this.instructions.push(d);this.hitDetectionInstructions.push(d);if(s){this.instructions.push(Sn);this.hitDetectionInstructions.push(Sn)}n=c}if(o){this.instructions.push(bn);this.hitDetectionInstructions.push(bn)}if(s){this.instructions.push(On);this.hitDetectionInstructions.push(On)}return n};t.prototype.drawCircle=function t(e,n){var r=this.state;var i=r.fillStyle;var a=r.strokeStyle;if(i===undefined&&a===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,n);if(r.fillStyle!==undefined){this.hitDetectionInstructions.push([Tn.SET_FILL_STYLE,Object(Pn["b"])(Ie["b"])])}if(r.strokeStyle!==undefined){this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset])}var o=e.getFlatCoordinates();var s=e.getStride();var u=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,false,false);var l=[Tn.CIRCLE,u];this.instructions.push(wn,l);this.hitDetectionInstructions.push(wn,l);this.hitDetectionInstructions.push(bn);if(r.fillStyle!==undefined){this.instructions.push(bn)}if(r.strokeStyle!==undefined){this.instructions.push(On);this.hitDetectionInstructions.push(On)}this.endGeometry(e,n)};t.prototype.drawPolygon=function t(e,n){var r=this.state;var i=r.fillStyle;var a=r.strokeStyle;if(i===undefined&&a===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,n);if(r.fillStyle!==undefined){this.hitDetectionInstructions.push([Tn.SET_FILL_STYLE,Object(Pn["b"])(Ie["b"])])}if(r.strokeStyle!==undefined){this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset])}var o=e.getEnds();var s=e.getOrientedFlatCoordinates();var u=e.getStride();this.drawFlatCoordinatess_(s,0,o,u);this.endGeometry(e,n)};t.prototype.drawMultiPolygon=function t(e,n){var r=this.state;var i=r.fillStyle;var a=r.strokeStyle;if(i===undefined&&a===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,n);if(r.fillStyle!==undefined){this.hitDetectionInstructions.push([Tn.SET_FILL_STYLE,Object(Pn["b"])(Ie["b"])])}if(r.strokeStyle!==undefined){this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset])}var o=e.getEndss();var s=e.getOrientedFlatCoordinates();var u=e.getStride();var l=0;for(var c=0,h=o.length;c<h;++c){l=this.drawFlatCoordinatess_(s,l,o[c],u)}this.endGeometry(e,n)};t.prototype.finish=function t(){this.reverseHitDetectionInstructions();this.state=null;var e=this.tolerance;if(e!==0){var n=this.coordinates;for(var r=0,i=n.length;r<i;++r){n[r]=Object(Nn["e"])(n[r],e)}}};t.prototype.setFillStrokeStyles_=function t(e){var n=this.state;var r=n.fillStyle;if(r!==undefined){this.updateFillStyle(n,this.createFill,e)}if(n.strokeStyle!==undefined){this.updateStrokeStyle(n,this.applyStroke)}};return t}(An);var $n=Ln;function Fn(t,e,n,r,i){var a=n;var o=n;var s=0;var u=0;var l=n;var c,h,f,d,p,v,g,m,y,_;for(h=n;h<r;h+=i){var b=e[h];var O=e[h+1];if(p!==undefined){y=b-p;_=O-v;d=Math.sqrt(y*y+_*_);if(g!==undefined){u+=f;c=Math.acos((g*y+m*_)/(f*d));if(c>t){if(u>s){s=u;a=l;o=h}u=0;l=h-i}}f=d;g=y;m=_}p=b;v=O}u+=d;return u>s?[l,h]:[a,o]}var Gn=n(257);var Hn=function(o){function t(t,e,n,r,i,a){o.call(this,t,e,n,r,i,a);this.declutterGroup_;this.labels_=null;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=undefined;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.textKey_="";this.fillKey_="";this.strokeKey_="";this.widths_={};Ie["o"].prune()}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.drawText=function t(e,n){var r=this.textFillState_;var i=this.textStrokeState_;var a=this.textState_;if(this.text_===""||!a||!r&&!i){return}var o=this.coordinates.length;var s=e.getType();var u=null;var l=2;var c=2;var h,f;if(a.placement===Gn["a"].LINE){if(!Object(kt["F"])(this.getBufferedMaxExtent(),e.getExtent())){return}var d;u=e.getFlatCoordinates();c=e.getStride();if(s==De["a"].LINE_STRING){d=[u.length]}else if(s==De["a"].MULTI_LINE_STRING){d=e.getEnds()}else if(s==De["a"].POLYGON){d=e.getEnds().slice(0,1)}else if(s==De["a"].MULTI_POLYGON){var p=e.getEndss();d=[];for(h=0,f=p.length;h<f;++h){d.push(p[h][0])}}this.beginGeometry(e,n);var v=a.textAlign;var g=0;var m;for(var y=0,_=d.length;y<_;++y){if(v==undefined){var b=Fn(a.maxAngle,u,g,d[y],c);g=b[0];m=b[1]}else{m=d[y]}for(h=g;h<m;h+=c){this.coordinates.push(u[h],u[h+1])}l=this.coordinates.length;g=d[y];this.drawChars_(o,l,this.declutterGroup_);o=l}this.endGeometry(e,n)}else{var O=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_);var w=O.width/this.pixelRatio;switch(s){case De["a"].POINT:case De["a"].MULTI_POINT:u=e.getFlatCoordinates();l=u.length;break;case De["a"].LINE_STRING:u=e.getFlatMidpoint();break;case De["a"].CIRCLE:u=e.getCenter();break;case De["a"].MULTI_LINE_STRING:u=e.getFlatMidpoints();l=u.length;break;case De["a"].POLYGON:u=e.getFlatInteriorPoint();if(!a.overflow&&u[2]/this.resolution<w){return}c=3;break;case De["a"].MULTI_POLYGON:var S=e.getFlatInteriorPoints();u=[];for(h=0,f=S.length;h<f;h+=3){if(a.overflow||S[h+2]/this.resolution>=w){u.push(S[h],S[h+1])}}l=u.length;if(l==0){return}break;default:}l=this.appendFlatCoordinates(u,0,l,c,false,false);if(a.backgroundFill||a.backgroundStroke){this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke);if(a.backgroundFill){this.updateFillStyle(this.state,this.createFill,e);this.hitDetectionInstructions.push(this.createFill(this.state,e))}if(a.backgroundStroke){this.updateStrokeStyle(this.state,this.applyStroke);this.hitDetectionInstructions.push(this.createStroke(this.state))}}this.beginGeometry(e,n);this.drawTextImage_(O,o,l);this.endGeometry(e,n)}};t.prototype.getImage=function t(e,n,r,i){var a;var o=i+n+e+r+this.pixelRatio;if(!Ie["o"].containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null;var u=r?this.fillStates[r]||this.textFillState_:null;var l=this.textStates[n]||this.textState_;var c=this.pixelRatio;var h=l.scale*c;var f=En[l.textAlign||Ie["l"]];var d=i&&s.lineWidth?s.lineWidth:0;var p=e.split("\n");var v=p.length;var g=[];var m=Un(l.font,p,g);var y=Object(Ie["p"])(l.font);var _=y*v;var b=m+d;var O=Object(gt["a"])(Math.ceil(b*h),Math.ceil((_+d)*h));a=O.canvas;Ie["o"].set(o,a);if(h!=1){O.scale(h,h)}O.font=l.font;if(i){O.strokeStyle=s.strokeStyle;O.lineWidth=d;O.lineCap=s.lineCap;O.lineJoin=s.lineJoin;O.miterLimit=s.miterLimit;if(x["a"]&&s.lineDash.length){O.setLineDash(s.lineDash);O.lineDashOffset=s.lineDashOffset}}if(r){O.fillStyle=u.fillStyle}O.textBaseline="middle";O.textAlign="center";var w=.5-f;var S=f*a.width/h+w*d;var T;if(i){for(T=0;T<v;++T){O.strokeText(p[T],S+w*g[T],.5*(d+y)+T*y)}}if(r){for(T=0;T<v;++T){O.fillText(p[T],S+w*g[T],.5*(d+y)+T*y)}}}return Ie["o"].get(o)};t.prototype.drawTextImage_=function t(e,n,r){var i=this.textState_;var a=this.textStrokeState_;var o=this.pixelRatio;var s=En[i.textAlign||Ie["l"]];var u=En[i.textBaseline];var l=a&&a.lineWidth?a.lineWidth:0;var c=s*e.width/o+2*(.5-s)*l;var h=u*e.height/o+2*(.5-u)*l;this.instructions.push([Tn.DRAW_IMAGE,n,r,e,(c-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,e.width,i.padding==Ie["j"]?Ie["j"]:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]);this.hitDetectionInstructions.push([Tn.DRAW_IMAGE,n,r,e,(c-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,e.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])};t.prototype.drawChars_=function t(e,n,r){var i=this.textStrokeState_;var a=this.textState_;var o=this.textFillState_;var s=this.strokeKey_;if(i){if(!(s in this.strokeStates)){this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}}}var u=this.textKey_;if(!(this.textKey_ in this.textStates)){this.textStates[this.textKey_]={font:a.font,textAlign:a.textAlign||Ie["l"],scale:a.scale}}var l=this.fillKey_;if(o){if(!(l in this.fillStates)){this.fillStates[l]={fillStyle:o.fillStyle}}}var c=this.pixelRatio;var h=En[a.textBaseline];var f=this.textOffsetY_*c;var d=this.text_;var p=a.font;var v=a.scale;var g=i?i.lineWidth*v/2:0;var m=this.widths_[p];if(!m){this.widths_[p]=m={}}this.instructions.push([Tn.DRAW_CHARS,e,n,h,r,a.overflow,l,a.maxAngle,function(t){var e=m[t];if(!e){e=m[t]=Object(Ie["q"])(p,t)}return e*v*c},f,s,g*c,d,u,1]);this.hitDetectionInstructions.push([Tn.DRAW_CHARS,e,n,h,r,a.overflow,l,a.maxAngle,function(t){var e=m[t];if(!e){e=m[t]=Object(Ie["q"])(p,t)}return e*v},f,s,g,d,u,1/c])};t.prototype.setTextStyle=function t(e,n){var r,i,a;if(!e){this.text_=""}else{this.declutterGroup_=n;var o=e.getFill();if(!o){i=this.textFillState_=null}else{i=this.textFillState_;if(!i){i=this.textFillState_={}}i.fillStyle=Object(Re["a"])(o.getColor()||Ie["b"])}var s=e.getStroke();if(!s){a=this.textStrokeState_=null}else{a=this.textStrokeState_;if(!a){a=this.textStrokeState_={}}var u=s.getLineDash();var l=s.getLineDashOffset();var c=s.getWidth();var h=s.getMiterLimit();a.lineCap=s.getLineCap()||Ie["d"];a.lineDash=u?u.slice():Ie["e"];a.lineDashOffset=l===undefined?Ie["f"]:l;a.lineJoin=s.getLineJoin()||Ie["g"];a.lineWidth=c===undefined?Ie["h"]:c;a.miterLimit=h===undefined?Ie["i"]:h;a.strokeStyle=Object(Re["a"])(s.getColor()||Ie["k"])}r=this.textState_;var f=e.getFont()||Ie["c"];Object(Ie["a"])(f);var d=e.getScale();r.overflow=e.getOverflow();r.font=f;r.maxAngle=e.getMaxAngle();r.placement=e.getPlacement();r.textAlign=e.getTextAlign();r.textBaseline=e.getTextBaseline()||Ie["m"];r.backgroundFill=e.getBackgroundFill();r.backgroundStroke=e.getBackgroundStroke();r.padding=e.getPadding()||Ie["j"];r.scale=d===undefined?1:d;var p=e.getOffsetX();var v=e.getOffsetY();var g=e.getRotateWithView();var m=e.getRotation();this.text_=e.getText()||"";this.textOffsetX_=p===undefined?0:p;this.textOffsetY_=v===undefined?0:v;this.textRotateWithView_=g===undefined?false:g;this.textRotation_=m===undefined?0:m;this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Object(Mt["c"])(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"";this.textKey_=r.font+r.scale+(r.textAlign||"?");this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+Object(Mt["c"])(i.fillStyle):""}};return t}(An);function Un(t,e,n){var r=e.length;var i=0;for(var a=0;a<r;++a){var o=Object(Ie["q"])(t,e[a]);i=Math.max(i,o);n.push(o)}return i}var Wn=Hn;var Yn={Circle:$n,Default:An,Image:In,LineString:Dn,Polygon:$n,Text:Wn};var Vn=function(s){function t(t,e,n,r,i,a,o){s.call(this);this.declutterTree_=a;this.declutterGroup_=null;this.tolerance_=t;this.maxExtent_=e;this.overlaps_=i;this.pixelRatio_=r;this.resolution_=n;this.renderBuffer_=o;this.replaysByZIndex_={};this.hitDetectionContext_=Object(gt["a"])(1,1);this.hitDetectionTransform_=Object(It["c"])()}if(s)t.__proto__=s;t.prototype=Object.create(s&&s.prototype);t.prototype.constructor=t;t.prototype.addDeclutter=function t(e){var n=null;if(this.declutterTree_){if(e){n=this.declutterGroup_;n[4]++}else{n=this.declutterGroup_=Object(kt["j"])();n.push(1)}}return n};t.prototype.clip=function t(e,n){var r=this.getClipCoords(n);e.beginPath();e.moveTo(r[0],r[1]);e.lineTo(r[2],r[3]);e.lineTo(r[4],r[5]);e.lineTo(r[6],r[7]);e.clip()};t.prototype.hasReplays=function t(e){for(var n in this.replaysByZIndex_){var r=this.replaysByZIndex_[n];for(var i=0,a=e.length;i<a;++i){if(e[i]in r){return true}}}return false};t.prototype.finish=function t(){for(var e in this.replaysByZIndex_){var n=this.replaysByZIndex_[e];for(var r in n){n[r].finish()}}};t.prototype.forEachFeatureAtCoordinate=function t(e,n,r,i,a,o,s){i=Math.round(i);var u=i*2+1;var l=Object(It["b"])(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]);var c=this.hitDetectionContext_;if(c.canvas.width!==u||c.canvas.height!==u){c.canvas.width=u;c.canvas.height=u}else{c.clearRect(0,0,u,u)}var h;if(this.renderBuffer_!==undefined){h=Object(kt["j"])();Object(kt["r"])(h,e);Object(kt["c"])(h,n*(this.renderBuffer_+i),h)}var f=Bn(i);var d;if(this.declutterTree_){d=this.declutterTree_.all().map(function(t){return t.value})}var p;function v(t){var e=c.getImageData(0,0,u,u).data;for(var n=0;n<u;n++){for(var r=0;r<u;r++){if(f[n][r]){if(e[(r*u+n)*4+3]>0){var i=void 0;if(!(d&&(p==pn.IMAGE||p==pn.TEXT))||d.indexOf(t)!==-1){i=o(t)}if(i){return i}else{c.clearRect(0,0,u,u);return undefined}}}}}}var g=Object.keys(this.replaysByZIndex_).map(Number);g.sort(jt["i"]);var m,y,_,b,O;for(m=g.length-1;m>=0;--m){var w=g[m].toString();_=this.replaysByZIndex_[w];for(y=xn.length-1;y>=0;--y){p=xn[y];b=_[p];if(b!==undefined){if(s&&(p==pn.IMAGE||p==pn.TEXT)){var S=s[w];if(!S){s[w]=[b,l.slice(0)]}else{S.push(b,l.slice(0))}}else{O=b.replayHitDetection(c,l,r,a,v,h);if(O){return O}}}}}return undefined};t.prototype.getClipCoords=function t(e){var n=this.maxExtent_;var r=n[0];var i=n[1];var a=n[2];var o=n[3];var s=[r,i,r,o,a,o,a,i];Object(Ne["c"])(s,0,8,2,e,s);return s};t.prototype.getReplay=function t(e,n){var r=e!==undefined?e.toString():"0";var i=this.replaysByZIndex_[r];if(i===undefined){i={};this.replaysByZIndex_[r]=i}var a=i[n];if(a===undefined){var o=Yn[n];a=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_);i[n]=a}return a};t.prototype.getReplays=function t(){return this.replaysByZIndex_};t.prototype.isEmpty=function t(){return Object(At["d"])(this.replaysByZIndex_)};t.prototype.replay=function t(e,n,r,i,a,o,s){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(jt["i"]);e.save();this.clip(e,n);var l=o?o:xn;var c,h,f,d,p,t;for(c=0,h=u.length;c<h;++c){var v=u[c].toString();p=this.replaysByZIndex_[v];for(f=0,d=l.length;f<d;++f){var g=l[f];t=p[g];if(t!==undefined){if(s&&(g==pn.IMAGE||g==pn.TEXT)){var m=s[v];if(!m){s[v]=[t,n.slice(0)]}else{m.push(t,n.slice(0))}}else{t.replay(e,n,r,i,a)}}}}e.restore()};return t}(dn);var qn={0:[[true]]};function zn(t,e,n){var r;var i=Math.floor(t.length/2);if(e>=i){for(r=i;r<e;r++){t[r][n]=true}}else if(e<i){for(r=e+1;r<i;r++){t[r][n]=true}}}function Bn(t){if(qn[t]!==undefined){return qn[t]}var e=t*2+1;var n=new Array(e);for(var r=0;r<e;r++){n[r]=new Array(e)}var i=t;var a=0;var o=0;while(i>=a){zn(n,t+i,t+a);zn(n,t+a,t+i);zn(n,t-a,t+i);zn(n,t-i,t+a);zn(n,t-i,t-a);zn(n,t-a,t-i);zn(n,t+a,t-i);zn(n,t+i,t-a);a++;o+=1+2*a;if(2*(o-i)+1>0){i-=1;o+=1-2*i}}qn[t]=n;return n}function Kn(t,e,n,r){var i=Object.keys(t).map(Number).sort(jt["i"]);var a={};for(var o=0,s=i.length;o<s;++o){var u=t[i[o].toString()];for(var l=0,c=u.length;l<c;){var h=u[l++];var f=u[l++];h.replay(e,f,n,a,r)}}}var Xn=Vn;var Zn=.5;var Qn={Point:cr,LineString:sr,Polygon:fr,MultiPoint:hr,MultiLineString:ur,MultiPolygon:lr,GeometryCollection:or,Circle:nr};function Jn(t,e){return parseInt(Object(Mt["c"])(t),10)-parseInt(Object(Mt["c"])(e),10)}function tr(t,e){var n=er(t,e);return n*n}function er(t,e){return Zn*t/e}function nr(t,e,n,r){var i=n.getFill();var a=n.getStroke();if(i||a){var o=t.getReplay(n.getZIndex(),pn.CIRCLE);o.setFillStrokeStyle(i,a);o.drawCircle(e,r)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),pn.TEXT);u.setTextStyle(s,t.addDeclutter(false));u.drawText(e,r)}}function rr(t,e,n,r,i,a){var o=false;var s=n.getImage();if(s){var u=s.getImageState();if(u==xe["a"].LOADED||u==xe["a"].ERROR){s.unlistenImageChange(i,a)}else{if(u==xe["a"].IDLE){s.load()}u=s.getImageState();s.listenImageChange(i,a);o=true}}ir(t,e,n,r);return o}function ir(t,e,n,r){var i=n.getGeometryFunction()(e);if(!i){return}var a=i.getSimplifiedGeometry(r);var o=n.getRenderer();if(o){ar(t,a,n,e)}else{var s=Qn[a.getType()];s(t,a,n,e)}}function ar(t,e,n,r){if(e.getType()==De["a"].GEOMETRY_COLLECTION){var i=e.getGeometries();for(var a=0,o=i.length;a<o;++a){ar(t,i[a],n,r)}return}var s=t.getReplay(n.getZIndex(),pn.DEFAULT);s.drawCustom(e,r,n.getRenderer())}function or(t,e,n,r){var i=e.getGeometriesArray();var a,o;for(a=0,o=i.length;a<o;++a){var s=Qn[i[a].getType()];s(t,i[a],n,r)}}function sr(t,e,n,r){var i=n.getStroke();if(i){var a=t.getReplay(n.getZIndex(),pn.LINE_STRING);a.setFillStrokeStyle(null,i);a.drawLineString(e,r)}var o=n.getText();if(o){var s=t.getReplay(n.getZIndex(),pn.TEXT);s.setTextStyle(o,t.addDeclutter(false));s.drawText(e,r)}}function ur(t,e,n,r){var i=n.getStroke();if(i){var a=t.getReplay(n.getZIndex(),pn.LINE_STRING);a.setFillStrokeStyle(null,i);a.drawMultiLineString(e,r)}var o=n.getText();if(o){var s=t.getReplay(n.getZIndex(),pn.TEXT);s.setTextStyle(o,t.addDeclutter(false));s.drawText(e,r)}}function lr(t,e,n,r){var i=n.getFill();var a=n.getStroke();if(a||i){var o=t.getReplay(n.getZIndex(),pn.POLYGON);o.setFillStrokeStyle(i,a);o.drawMultiPolygon(e,r)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),pn.TEXT);u.setTextStyle(s,t.addDeclutter(false));u.drawText(e,r)}}function cr(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=xe["a"].LOADED){return}var a=t.getReplay(n.getZIndex(),pn.IMAGE);a.setImageStyle(i,t.addDeclutter(false));a.drawPoint(e,r)}var o=n.getText();if(o){var s=t.getReplay(n.getZIndex(),pn.TEXT);s.setTextStyle(o,t.addDeclutter(!!i));s.drawText(e,r)}}function hr(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=xe["a"].LOADED){return}var a=t.getReplay(n.getZIndex(),pn.IMAGE);a.setImageStyle(i,t.addDeclutter(false));a.drawMultiPoint(e,r)}var o=n.getText();if(o){var s=t.getReplay(n.getZIndex(),pn.TEXT);s.setTextStyle(o,t.addDeclutter(!!i));s.drawText(e,r)}}function fr(t,e,n,r){var i=n.getFill();var a=n.getStroke();if(i||a){var o=t.getReplay(n.getZIndex(),pn.POLYGON);o.setFillStrokeStyle(i,a);o.drawPolygon(e,r)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),pn.TEXT);u.setTextStyle(s,t.addDeclutter(false));u.drawText(e,r)}}var dr=function(e){function t(t){e.call(this,t);this.declutterTree_=t.getDeclutter()?hn()(9,undefined):null;this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=Object(kt["j"])();this.renderedRenderOrder_=null;this.replayGroup_=null;this.replayGroupChanged=true;this.context=Object(gt["a"])();Object(d["a"])(Ie["o"],st["a"].CLEAR,this.handleFontsChanged_,this)}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){Object(d["c"])(Ie["o"],st["a"].CLEAR,this.handleFontsChanged_,this);e.prototype.disposeInternal.call(this)};t.prototype.compose=function t(e,n,r){var i=n.extent;var a=n.pixelRatio;var o=r.managed?n.skippedFeatureUids:{};var s=n.viewState;var u=s.projection;var l=s.rotation;var c=u.getExtent();var h=this.getLayer().getSource();var f=this.getTransform(n,0);var d=r.extent;var p=d!==undefined;if(p){this.clip(e,n,d)}var v=this.replayGroup_;if(v&&!v.isEmpty()){if(this.declutterTree_){this.declutterTree_.clear()}var g=this.getLayer();var m=0;var y=0;var _;var b=r.opacity!==1;var O=g.hasListener(rt["a"].RENDER);if(b||O){var w=e.canvas.width;var S=e.canvas.height;if(l){var T=Math.round(Math.sqrt(w*w+S*S));m=(T-w)/2;y=(T-S)/2;w=S=T}this.context.canvas.width=w;this.context.canvas.height=S;_=this.context}else{_=e}var x=_.globalAlpha;if(!b){_.globalAlpha=r.opacity}if(_!=e){_.translate(m,y)}var E=n.viewHints;var C=!(E[vt["a"].ANIMATING]||E[vt["a"].INTERACTING]);var M=n.size[0]*a;var j=n.size[1]*a;Object(Ie["s"])(_,-l,M/2,j/2);v.replay(_,f,l,o,C);if(h.getWrapX()&&u.canWrapX()&&!Object(kt["g"])(c,i)){var A=i[0];var k=Object(kt["E"])(c);var I=0;var R;while(A<c[0]){--I;R=k*I;f=this.getTransform(n,R);v.replay(_,f,l,o,C);A+=k}I=0;A=i[2];while(A>c[2]){++I;R=k*I;f=this.getTransform(n,R);v.replay(_,f,l,o,C);A-=k}}Object(Ie["s"])(_,l,M/2,j/2);if(O){this.dispatchRenderEvent(_,n,f)}if(_!=e){if(b){var D=e.globalAlpha;e.globalAlpha=r.opacity;e.drawImage(_.canvas,-m,-y);e.globalAlpha=D}else{e.drawImage(_.canvas,-m,-y)}_.translate(-m,-y)}if(!b){_.globalAlpha=x}}if(p){e.restore()}};t.prototype.composeFrame=function t(e,n,r){var i=this.getTransform(e,0);this.preCompose(r,e,i);this.compose(r,e,n);this.postCompose(r,e,n,i)};t.prototype.forEachFeatureAtCoordinate=function t(e,n,r,i,a){if(!this.replayGroup_){return undefined}else{var o=n.viewState.resolution;var s=n.viewState.rotation;var u=this.getLayer();var l={};var c=this.replayGroup_.forEachFeatureAtCoordinate(e,o,s,r,{},function(t){var e=Object(Mt["c"])(t);if(!(e in l)){l[e]=true;return i.call(a,t,u)}},null);return c}};t.prototype.handleFontsChanged_=function t(e){var n=this.getLayer();if(n.getVisible()&&this.replayGroup_){n.changed()}};t.prototype.handleStyleImageChange_=function t(e){this.renderIfReadyAndVisible()};t.prototype.prepareFrame=function t(e,n){var i=this.getLayer();var r=i.getSource();var a=e.viewHints[vt["a"].ANIMATING];var o=e.viewHints[vt["a"].INTERACTING];var s=i.getUpdateWhileAnimating();var u=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!u&&o){return true}var l=e.extent;var c=e.viewState;var h=c.projection;var f=c.resolution;var d=e.pixelRatio;var p=i.getRevision();var v=i.getRenderBuffer();var g=i.getRenderOrder();if(g===undefined){g=Jn}var m=Object(kt["c"])(l,v*f);var y=c.projection.getExtent();if(r.getWrapX()&&c.projection.canWrapX()&&!Object(kt["g"])(y,e.extent)){var _=Object(kt["E"])(y);var b=Math.max(Object(kt["E"])(m)/2,_);m[0]=y[0]-b;m[2]=y[2]+b}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==g&&Object(kt["g"])(this.renderedExtent_,m)){this.replayGroupChanged=false;return true}this.replayGroup_=null;this.dirty_=false;var O=new Xn(er(f,d),m,f,d,r.getOverlaps(),this.declutterTree_,i.getRenderBuffer());r.loadFeatures(m,f,h);var w=function(t){var e;var n=t.getStyleFunction()||i.getStyleFunction();if(n){e=n(t,f)}if(e){var r=this.renderFeature(t,f,d,e,O);this.dirty_=this.dirty_||r}}.bind(this);if(g){var S=[];r.forEachFeatureInExtent(m,function(t){S.push(t)});S.sort(g);for(var T=0,x=S.length;T<x;++T){w(S[T])}}else{r.forEachFeatureInExtent(m,w)}O.finish();this.renderedResolution_=f;this.renderedRevision_=p;this.renderedRenderOrder_=g;this.renderedExtent_=m;this.replayGroup_=O;this.replayGroupChanged=true;return true};t.prototype.renderFeature=function t(e,n,r,i,a){if(!i){return false}var o=false;if(Array.isArray(i)){for(var s=0,u=i.length;s<u;++s){o=rr(a,e,i[s],tr(n,r),this.handleStyleImageChange_,this)||o}}else{o=rr(a,e,i,tr(n,r),this.handleStyleImageChange_,this)}return o};return t}(en);dr["handles"]=function(t){return t.getType()===Me["a"].VECTOR};dr["create"]=function(t,e){return new dr(e)};var pr=dr;var vr={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var gr=n(8);var mr=n(67);var yr={image:[pn.POLYGON,pn.CIRCLE,pn.LINE_STRING,pn.IMAGE,pn.TEXT],hybrid:[pn.POLYGON,pn.LINE_STRING]};var _r={image:[pn.DEFAULT],hybrid:[pn.IMAGE,pn.TEXT,pn.DEFAULT],vector:xn};var br=function(D){function t(t){D.call(this,t,true);this.declutterTree_=t.getDeclutter()?hn()(9,undefined):null;this.dirty_=false;this.renderedLayerRevision_;this.tmpTransform_=Object(It["c"])();var e=t.getRenderMode();this.zDirection=e===vr.VECTOR?1:0;if(e!==vr.VECTOR){this.context=Object(gt["a"])()}Object(d["a"])(Ie["o"],st["a"].CLEAR,this.handleFontsChanged_,this)}if(D)t.__proto__=D;t.prototype=Object.create(D&&D.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){Object(d["c"])(Ie["o"],st["a"].CLEAR,this.handleFontsChanged_,this);D.prototype.disposeInternal.call(this)};t.prototype.getTile=function t(e,n,r,i,a){var o=D.prototype.getTile.call(this,e,n,r,i,a);if(o.getState()===ot["a"].LOADED){this.createReplayGroup_(o,i,a);if(this.context){this.renderTileImage_(o,i,a)}}return o};t.prototype.getTileImage=function t(e){var n=this.getLayer();return e.getImage(n)};t.prototype.prepareFrame=function t(e,n){var r=this.getLayer();var i=r.getRevision();if(this.renderedLayerRevision_!=i){this.renderedTiles.length=0}this.renderedLayerRevision_=i;return D.prototype.prepareFrame.call(this,e,n)};t.prototype.createReplayGroup_=function t(m,y,_){var b=this;var O=this.getLayer();var e=O.getRevision();var w=O.getRenderOrder()||null;var S=m.getReplayState(O);if(!S.dirty&&S.renderedRevision==e&&S.renderedRenderOrder==w){return}var T=O.getSource();var x=T.getTileGrid();var n=T.getTileGridForProjection(_);var E=n.getResolution(m.tileCoord[0]);var C=m.extent;var r=function t(e,n){var r=m.getTile(m.tileKeys[e]);if(r.getState()!=ot["a"].LOADED){return}var i=r.tileCoord;var a=x.getTileCoordExtent(i);var o=Object(kt["B"])(C,a);var s=Object(kt["p"])(a,o)?null:Object(kt["c"])(o,O.getRenderBuffer()*E,b.tmpExtent);var u=r.getProjection();var l=false;if(!Object(gr["e"])(_,u)){l=true;r.setProjection(_)}S.dirty=false;var c=new Xn(0,o,E,y,T.getOverlaps(),b.declutterTree_,O.getRenderBuffer());var h=tr(E,y);var f=function t(e){var n;var r=e.getStyleFunction()||O.getStyleFunction();if(r){n=r(e,E)}if(n){var i=this.renderFeature(e,h,n,c);this.dirty_=this.dirty_||i;S.dirty=S.dirty||i}};var d=r.getFeatures();if(w&&w!==S.renderedRenderOrder){d.sort(w)}for(var p=0,v=d.length;p<v;++p){var g=d[p];if(l){if(u.getUnits()==mr["b"].TILE_PIXELS){u.setWorldExtent(a);u.setExtent(r.getExtent())}g.getGeometry().transform(u,_)}if(!s||Object(kt["F"])(s,g.getGeometry().getExtent())){f.call(b,g)}}c.finish();r.setReplayGroup(O,m.tileCoord.toString(),c)};for(var i=0,a=m.tileKeys.length;i<a;++i){r(i,a)}S.renderedRevision=e;S.renderedRenderOrder=w};t.prototype.forEachFeatureAtCoordinate=function t(e,n,r,i,a){var o=n.viewState.resolution;var s=n.viewState.rotation;r=r==undefined?0:r;var u=this.getLayer();var l={};var c=this.renderedTiles;var h,f;var d,p;for(d=0,p=c.length;d<p;++d){var v=c[d];h=Object(kt["c"])(v.extent,r*o,h);if(!Object(kt["f"])(h,e)){continue}for(var g=0,m=v.tileKeys.length;g<m;++g){var y=v.getTile(v.tileKeys[g]);if(y.getState()!=ot["a"].LOADED){continue}var _=y.getReplayGroup(u,v.tileCoord.toString());f=f||_.forEachFeatureAtCoordinate(e,o,s,r,{},function(t){var e=Object(Mt["c"])(t);if(!(e in l)){l[e]=true;return i.call(a,t,u)}},null)}}return f};t.prototype.getReplayTransform_=function t(e,n){var r=this.getLayer();var i=r.getSource();var a=i.getTileGrid();var o=e.tileCoord;var s=a.getResolution(o[0]);var u=n.viewState;var l=n.pixelRatio;var c=u.resolution/l;var h=a.getTileCoordExtent(o,this.tmpExtent);var f=u.center;var d=Object(kt["C"])(h);var p=n.size;var v=Math.round(l*p[0]/2);var g=Math.round(l*p[1]/2);return Object(It["b"])(this.tmpTransform_,v,g,s/c,s/c,u.rotation,(d[0]-f[0])/s,(f[1]-d[1])/s)};t.prototype.handleFontsChanged_=function t(e){var n=this.getLayer();if(n.getVisible()&&this.renderedLayerRevision_!==undefined){n.changed()}};t.prototype.handleStyleImageChange_=function t(e){this.renderIfReadyAndVisible()};t.prototype.postCompose=function t(e,n,r){var i=this.getLayer();var a=i.getRenderMode();if(a!=vr.IMAGE){var o=i.getDeclutter()?{}:null;var s=i.getSource();var u=_r[a];var l=n.pixelRatio;var c=n.viewState.rotation;var h=n.size;var f,d;if(c){f=Math.round(l*h[0]/2);d=Math.round(l*h[1]/2);Object(Ie["s"])(e,-c,f,d)}if(o){this.declutterTree_.clear()}var p=n.viewHints;var v=!(p[vt["a"].ANIMATING]||p[vt["a"].INTERACTING]);var g=this.renderedTiles;var m=s.getTileGridForProjection(n.viewState.projection);var y=[];var _=[];for(var b=g.length-1;b>=0;--b){var O=g[b];if(O.getState()==ot["a"].ABORT){continue}var w=O.tileCoord;var S=m.getTileCoordExtent(w,this.tmpExtent)[0]-O.extent[0];var T=undefined;for(var x=0,E=O.tileKeys.length;x<E;++x){var C=O.getTile(O.tileKeys[x]);if(C.getState()!=ot["a"].LOADED){continue}var M=C.getReplayGroup(i,w.toString());if(!M||!M.hasReplays(u)){continue}if(!T){T=this.getTransform(n,S)}var j=C.tileCoord[0];var A=M.getClipCoords(T);e.save();e.globalAlpha=r.opacity;for(var k=0,I=y.length;k<I;++k){var R=y[k];if(j<_[k]){e.beginPath();e.moveTo(A[0],A[1]);e.lineTo(A[2],A[3]);e.lineTo(A[4],A[5]);e.lineTo(A[6],A[7]);e.moveTo(R[6],R[7]);e.lineTo(R[4],R[5]);e.lineTo(R[2],R[3]);e.lineTo(R[0],R[1]);e.clip()}}M.replay(e,T,c,{},v,u,o);e.restore();y.push(A);_.push(j)}}if(o){Kn(o,e,c,v)}if(c){Object(Ie["s"])(e,c,f,d)}}D.prototype.postCompose.call(this,e,n,r)};t.prototype.renderFeature=function t(e,n,r,i){if(!r){return false}var a=false;if(Array.isArray(r)){for(var o=0,s=r.length;o<s;++o){a=rr(i,e,r[o],n,this.handleStyleImageChange_,this)||a}}else{a=rr(i,e,r,n,this.handleStyleImageChange_,this)}return a};t.prototype.renderTileImage_=function t(e,n,r){var i=this.getLayer();var a=e.getReplayState(i);var o=i.getRevision();var s=yr[i.getRenderMode()];if(s&&a.renderedTileRevision!==o){a.renderedTileRevision=o;var u=e.wrappedTileCoord;var l=u[0];var c=i.getSource();var h=c.getTileGridForProjection(r);var f=h.getResolution(l);var d=e.getContext(i);var p=c.getTilePixelSize(l,n,r);d.canvas.width=p[0];d.canvas.height=p[1];var v=h.getTileCoordExtent(u,this.tmpExtent);for(var g=0,m=e.tileKeys.length;g<m;++g){var y=e.getTile(e.tileKeys[g]);if(y.getState()!=ot["a"].LOADED){continue}var _=n/f;var b=Object(It["e"])(this.tmpTransform_);Object(It["f"])(b,_,-_);Object(It["h"])(b,-v[0],-v[3]);var O=y.getReplayGroup(i,e.tileCoord.toString());O.replay(d,b,0,{},true,s)}}};return t}(ln);br["handles"]=function(t){return t.getType()===Me["a"].VECTOR_TILE};br["create"]=function(t,e){return new br(e)};var Or=br;var wr=function(e){function t(t){t=Object(At["a"])({},t);if(!t.controls){t.controls=Ht()}if(!t.interactions){t.interactions=we()}e.call(this,t)}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.createRenderer=function t(){var e=new Xe(this);e.registerLayerRenderers([on,ln,pr,Or]);return e};return t}(wt);var Sr=e["a"]=wr},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(248);function i(t,e){if(!t){throw new r["a"](e)}}},function(t,e,n){"use strict";var r={CIRCLE:"Circle",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",MULTI_POINT:"MultiPoint",MULTI_POLYGON:"MultiPolygon",POINT:"Point",POLYGON:"Polygon",RECTANGLE:"Rectangle",TEXT:"Text"};e["a"]=r},function(t,e,n){"use strict";n.d(e,"e",function(){return s});n.d(e,"d",function(){return u});n.d(e,"a",function(){return l});n.d(e,"c",function(){return f});n.d(e,"b",function(){return d});var a=n(148);var o=n(106);var s=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var r={};var u={};function l(t,e,n,r){var i=r;if(typeof r==="string"){i=function t(){return this[r]()}}if(t){u[t]=i}if(e){u[e[0]]=function(){return Object(a["a"])(i.apply(this,arguments),e[1],e[2])}}if(n){u[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)}}}function c(t){if(t.match(/\[[\s\S]/)){return t.replace(/^\[|\]$/g,"")}return t.replace(/\\/g,"")}function h(r){var i=r.match(s),t,a;for(t=0,a=i.length;t<a;t++){if(u[i[t]]){i[t]=u[i[t]]}else{i[t]=c(i[t])}}return function(t){var e="",n;for(n=0;n<a;n++){e+=Object(o["a"])(i[n])?i[n].call(t,r):i[n]}return e}}function f(t,e){if(!t.isValid()){return t.localeData().invalidDate()}e=d(e,t.localeData());r[e]=r[e]||h(e);return r[e](t)}function d(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}i.lastIndex=0;while(n>=0&&i.test(t)){t=t.replace(i,r);i.lastIndex=0;n-=1}return t}},function(t,e,n){"use strict";var p=n(1);var s=n(95);var u=n(5);var r=n(90);var i=n(97);var l=n(87);var c=n(74);var h=n(131);var f=n(147);var a=n(223);var d=function t(e){r["a"].call(this);this.mapUids_={};this.ngeoLayerHelper_=e};d.$inject=["ngeoLayerHelper"];d.$inject=["ngeoLayerHelper"];u["d"](d,r["a"]);d.prototype.get=function(t){var e=u["c"](t).toString();return e in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME).getLayers().item(0):null};d.prototype.set=function(t,e){var n=-200;var r=u["c"](t).toString();var i=this.get(t);if(e!==null){e.setZIndex(n);this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(e,n)}var a=this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME);if(i!==null){p["a"].assert(r in this.mapUids_);if(e!==null){a.getLayers().setAt(0,e)}else{a.getLayers().removeAt(0);delete this.mapUids_[r]}}else if(e!==null){a.getLayers().insertAt(0,e);this.mapUids_[r]=true}var o=new s["a"]("change",{current:e,previous:i});this.dispatchEvent(o);return i};d.prototype.getOpacityBgLayer=function(t){var e=u["c"](t).toString();return e in this.mapUids_?this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME).getLayers().item(1):null};d.prototype.setOpacityBgLayer=function(t,e){var n=-100;e.setOpacity(0);e.setVisible(true);e.setZIndex(n);this.ngeoLayerHelper_.setZIndexToFirstLevelChildren(e,n);var r=this.ngeoLayerHelper_.getGroupFromMap(t,d.BACKGROUNDLAYERGROUP_NAME);var i=r.getLayers().getArray().indexOf(e);if(i===-1){r.getLayers().push(e)}};d.prototype.updateDimensions=function(t,o){var e=this.get(t);if(e){var n=[e];if(e instanceof i["a"]){n=e.getLayers().getArray()}n.forEach(function(t){p["a"].assertInstanceof(t,l["a"]);if(t){var e=false;var n={};for(var r in t.get("dimensions")){var i=o[r];if(i!==undefined){n[r]=i;e=true}}if(e){var a=t.getSource();if(a instanceof f["a"]){a.updateDimensions(n);a.refresh()}else if(a instanceof h["a"]||a instanceof c["a"]){a.updateParams(n);a.refresh()}}}})}};d.module=angular.module("ngeoBackgroundLayerMgr",[a["a"].module.name]);d.module.service("ngeoBackgroundLayerMgr",d);d.BACKGROUNDLAYERGROUP_NAME="background";var o=d;var v=n(2);var g=n(19);var m=angular.module("ngeoMap",[]);m.directive_=function(d){return{restrict:"A",link:function t(e,n,r){var i="ngeoMap";var a=r[i];var o=e.$eval(a);p["a"].assertInstanceof(o,g["a"]);o.setTarget(n[0]);var s="ngeoMapManageResize";var u=r[s];var l=e.$eval(u);if(l){var c="ngeoMapResizeTransition";var h=r[c];var f=e.$eval(h);v["a"](d,"resize",function(){if(f){var e=Date.now();var n=true;var t=function t(){o.updateSize();o.renderSync();if(n){d.requestAnimationFrame(t)}if(Date.now()-e>f){n=false}};t()}else{o.updateSize()}})}}}};m.directive_.$inject=["$window"];m.directive("ngeoMap",m.directive_);var y=m;var _=n(182);var b=n(330);var O=angular.module("ngeoResizemap",[]);O.directive_=function(h){var f=1e3;return{restrict:"A",link:function t(e,n,r){var i="ngeoResizemap";var a=r[i];var o=e.$eval(a);p["a"].assertInstanceof(o,g["a"]);var s=r["ngeoResizemapState"];p["a"].assert(s!==undefined);var u;var l;var c=function t(){o.updateSize();o.renderSync();if(Date.now()-u<f){l=h.requestAnimationFrame(t)}};n.on("transitionend",function(){o.updateSize();o.renderSync()});e.$watch(s,function(t,e){if(t!=e){u=Date.now();h.cancelAnimationFrame(l);l=h.requestAnimationFrame(c)}})}}};O.directive_.$inject=["$window"];O.directive("ngeoResizemap",O.directive_);var w=O;var S=n(9);var T=n(35);var x=n.n(T);var E=n(170);var C=n.n(E);var M=n(57);function j(){j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};return j.apply(this,arguments)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function k(t,e,n){if(e)A(t.prototype,e);if(n)A(t,n);return t}var I=function(h){var n="dropdown";var e="4.1.3";var f="bs.dropdown";var r="."+f;var t=".data-api";var i=h.fn[n];var s=27;var u=32;var d=9;var l=38;var p=40;var v=3;var g=new RegExp(l+"|"+p+"|"+s);var m={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+t,KEYDOWN_DATA_API:"keydown"+r+t,KEYUP_DATA_API:"keyup"+r+t};var y={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"};var _={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"};var a={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"};var o={offset:0,flip:true,boundary:"scrollParent",reference:"toggle",display:"dynamic"};var b={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};var c=function(){function c(t,e){this._element=t;this._popper=null;this._config=this._getConfig(e);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var t=c.prototype;t.toggle=function t(){if(this._element.disabled||h(this._element).hasClass(y.DISABLED)){return}var e=c._getParentFromElement(this._element);var n=h(this._menu).hasClass(y.SHOW);c._clearMenus();if(n){return}var r={relatedTarget:this._element};var i=h.Event(m.SHOW,r);h(e).trigger(i);if(i.isDefaultPrevented()){return}if(!this._inNavbar){if(typeof C.a==="undefined"){throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)")}var a=this._element;if(this._config.reference==="parent"){a=e}else if(M["a"].isElement(this._config.reference)){a=this._config.reference;if(typeof this._config.reference.jquery!=="undefined"){a=this._config.reference[0]}}if(this._config.boundary!=="scrollParent"){h(e).addClass(y.POSITION_STATIC)}this._popper=new C.a(a,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&h(e).closest(_.NAVBAR_NAV).length===0){h(document.body).children().on("mouseover",null,h.noop)}this._element.focus();this._element.setAttribute("aria-expanded",true);h(this._menu).toggleClass(y.SHOW);h(e).toggleClass(y.SHOW).trigger(h.Event(m.SHOWN,r))};t.dispose=function t(){h.removeData(this._element,f);h(this._element).off(r);this._element=null;this._menu=null;if(this._popper!==null){this._popper.destroy();this._popper=null}};t.update=function t(){this._inNavbar=this._detectNavbar();if(this._popper!==null){this._popper.scheduleUpdate()}};t._addEventListeners=function t(){var e=this;h(this._element).on(m.CLICK,function(t){t.preventDefault();t.stopPropagation();e.toggle()})};t._getConfig=function t(e){e=j({},this.constructor.Default,h(this._element).data(),e);M["a"].typeCheckConfig(n,e,this.constructor.DefaultType);return e};t._getMenuElement=function t(){if(!this._menu){var e=c._getParentFromElement(this._element);if(e){this._menu=e.querySelector(_.MENU)}}return this._menu};t._getPlacement=function t(){var e=h(this._element.parentNode);var n=a.BOTTOM;if(e.hasClass(y.DROPUP)){n=a.TOP;if(h(this._menu).hasClass(y.MENURIGHT)){n=a.TOPEND}}else if(e.hasClass(y.DROPRIGHT)){n=a.RIGHT}else if(e.hasClass(y.DROPLEFT)){n=a.LEFT}else if(h(this._menu).hasClass(y.MENURIGHT)){n=a.BOTTOMEND}return n};t._detectNavbar=function t(){return h(this._element).closest(".navbar").length>0};t._getPopperConfig=function t(){var e=this;var n={};if(typeof this._config.offset==="function"){n.fn=function(t){t.offsets=j({},t.offsets,e._config.offset(t.offsets)||{});return t}}else{n.offset=this._config.offset}var r={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if(this._config.display==="static"){r.modifiers.applyStyle={enabled:false}}return r};c._jQueryInterface=function t(n){return this.each(function(){var t=h(this).data(f);var e=typeof n==="object"?n:null;if(!t){t=new c(this,e);h(this).data(f,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};c._clearMenus=function t(e){if(e&&(e.which===v||e.type==="keyup"&&e.which!==d)){return}var n=[].slice.call(document.querySelectorAll(_.DATA_TOGGLE));for(var r=0,i=n.length;r<i;r++){var a=c._getParentFromElement(n[r]);var o=h(n[r]).data(f);var s={relatedTarget:n[r]};if(e&&e.type==="click"){s.clickEvent=e}if(!o){continue}var u=o._menu;if(!h(a).hasClass(y.SHOW)){continue}if(e&&(e.type==="click"&&/input|textarea/i.test(e.target.tagName)||e.type==="keyup"&&e.which===d)&&h.contains(a,e.target)){continue}var l=h.Event(m.HIDE,s);h(a).trigger(l);if(l.isDefaultPrevented()){continue}if("ontouchstart"in document.documentElement){h(document.body).children().off("mouseover",null,h.noop)}n[r].setAttribute("aria-expanded","false");h(u).removeClass(y.SHOW);h(a).removeClass(y.SHOW).trigger(h.Event(m.HIDDEN,s))}};c._getParentFromElement=function t(e){var n;var r=M["a"].getSelectorFromElement(e);if(r){n=document.querySelector(r)}return n||e.parentNode};c._dataApiKeydownHandler=function t(e){if(/input|textarea/i.test(e.target.tagName)?e.which===u||e.which!==s&&(e.which!==p&&e.which!==l||h(e.target).closest(_.MENU).length):!g.test(e.which)){return}e.preventDefault();e.stopPropagation();if(this.disabled||h(this).hasClass(y.DISABLED)){return}var n=c._getParentFromElement(this);var r=h(n).hasClass(y.SHOW);if(!r&&(e.which!==s||e.which!==u)||r&&(e.which===s||e.which===u)){if(e.which===s){var i=n.querySelector(_.DATA_TOGGLE);h(i).trigger("focus")}h(this).trigger("click");return}var a=[].slice.call(n.querySelectorAll(_.VISIBLE_ITEMS));if(a.length===0){return}var o=a.indexOf(e.target);if(e.which===l&&o>0){o--}if(e.which===p&&o<a.length-1){o++}if(o<0){o=0}a[o].focus()};k(c,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return o}},{key:"DefaultType",get:function t(){return b}}]);return c}();h(document).on(m.KEYDOWN_DATA_API,_.DATA_TOGGLE,c._dataApiKeydownHandler).on(m.KEYDOWN_DATA_API,_.MENU,c._dataApiKeydownHandler).on(m.CLICK_DATA_API+" "+m.KEYUP_DATA_API,c._clearMenus).on(m.CLICK_DATA_API,_.DATA_TOGGLE,function(t){t.preventDefault();t.stopPropagation();c._jQueryInterface.call(h(this),"toggle")}).on(m.CLICK_DATA_API,_.FORM_CHILD,function(t){t.stopPropagation()});h.fn[n]=c._jQueryInterface;h.fn[n].Constructor=c;h.fn[n].noConflict=function(){h.fn[n]=i;return c._jQueryInterface};return c}(x.a,C.a);var R=I;var D=angular.module("ngeoScaleselector",[]);D.value("ngeoScaleselectorTemplateUrl",function(t,e){var n=e["ngeoScaleselectorTemplateurl"];return n!==undefined?n:"ngeo/map/scaleselector"});D.run(["$templateCache",function(t){t.put("ngeo/map/scaleselector",n(394))}]);var P=function t(e){return{restrict:"A",scope:true,controller:"NgeoScaleselectorController",templateUrl:e}};P.$inject=["ngeoScaleselectorTemplateUrl"];P.$inject=["ngeoScaleselectorTemplateUrl"];D.directive("ngeoScaleselector",P);var N=function t(e,n,r){var i=this;var a=r["ngeoScaleselector"];this.scales=e.$eval(a);p["a"].assert(this.scales!==undefined);this.zoomLevels;e.$watch(function(){return Object.keys(i.scales).length},function(t){i.zoomLevels=Object.keys(i.scales).map(Number);i.zoomLevels.sort(S["i"])});var o=r["ngeoScaleselectorMap"];this.map_=e.$eval(o);p["a"].assertInstanceof(this.map_,g["a"]);var s=r["ngeoScaleselectorOptions"];var u=e.$eval(s);this.options=t.getOptions_(u);this.$scope_=e;this.resolutionChangeKey_=null;this.currentScale=undefined;var l=this.map_.getView();if(l!==null){var c=this.map_.getView().getZoom();if(c!==undefined){this.currentScale=this.getScale(c)}}v["a"](this.map_,"change:view",this.handleViewChange_,this);this.registerResolutionChangeListener_();e["scaleselectorCtrl"]=this};N.$inject=["$scope","$element","$attrs"];N.$inject=["$scope","$element","$attrs"];N.getOptions_=function(t){var e=false;if(t!==undefined){e=t["dropup"]==true}return{dropup:e}};N.prototype.getScale=function(t){return this.scales[t]};N.prototype.changeZoom=function(t){this.map_.getView().setZoom(t)};N.prototype.handleResolutionChange_=function(t){var e=this;var n=this.map_.getView();var r=this.scales[n.getZoom()];if(r!==undefined){this.$scope_.$applyAsync(function(){e.currentScale=r})}};N.prototype.handleViewChange_=function(t){this.registerResolutionChangeListener_();this.handleResolutionChange_(null)};N.prototype.registerResolutionChangeListener_=function(){if(this.resolutionChangeKey_!==null){v["e"](this.resolutionChangeKey_)}var t=this.map_.getView();this.resolutionChangeKey_=v["a"](t,"change:resolution",this.handleResolutionChange_,this)};D.controller("NgeoScaleselectorController",N);var L=D;var $=angular.module("ngeoMapModule",[o.module.name,y.name,_["a"].module.name,b["a"].name,w.name,L.name]);var F=e["a"]=$},function(t,e,n){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";var v=n(195);var a=n(5);var k=n(47);var O=n(14);function r(e){return function(t){if(t){return[Object(O["a"])(t[0],e[0],e[2]),Object(O["a"])(t[1],e[1],e[3])]}else{return undefined}}}function i(t){return t}var o=n(42);var s=n(9);function g(o){return function(t,e,n){if(t!==undefined){var r=Object(s["h"])(o,t,n);r=Object(O["a"])(r+e,0,o.length-1);var i=Math.floor(r);if(r!=i&&i<o.length-1){var a=o[i]/o[i+1];return o[i]/Math.pow(a,r-i)}else{return o[i]}}else{return undefined}}}function m(o,s,u){return function(t,e,n){if(t!==undefined){var r=-n/2+.5;var i=Math.floor(Math.log(s/t)/Math.log(o)+r);var a=Math.max(i+e,0);if(u!==undefined){a=Math.min(a,u)}return s/Math.pow(o,a)}else{return undefined}}}var u=n(165);var w=n(55);var S={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var I=n(20);var l=n(44);var y=n(72);var R=n(3);var D=n(7);var P=n(26);var c=n(10);var _=n(8);var b=n(67);var T=0;var h=function(n){function t(t){n.call(this);var e=Object(c["a"])({},t);this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.updateAnimations_=this.updateAnimations_.bind(this);this.projection_=Object(_["d"])(e.projection,"EPSG:3857");this.applyOptions_(e)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.applyOptions_=function t(e){var n={};n[S.CENTER]=e.center!==undefined?e.center:null;var r=d(e);this.maxResolution_=r.maxResolution;this.minResolution_=r.minResolution;this.zoomFactor_=r.zoomFactor;this.resolutions_=e.resolutions;this.minZoom_=r.minZoom;var i=f(e);var a=r.constraint;var o=p(e);this.constraints_={center:i,resolution:a,rotation:o};if(e.resolution!==undefined){n[S.RESOLUTION]=e.resolution}else if(e.zoom!==undefined){n[S.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_);if(this.resolutions_){n[S.RESOLUTION]=Object(O["a"])(Number(this.getResolution()||n[S.RESOLUTION]),this.minResolution_,this.maxResolution_)}}n[S.ROTATION]=e.rotation!==undefined?e.rotation:0;this.setProperties(n);this.options_=e};t.prototype.getUpdatedOptions_=function t(e){var n=Object(c["a"])({},this.options_);if(n.resolution!==undefined){n.resolution=this.getResolution()}else{n.zoom=this.getZoom()}n.center=this.getCenter();n.rotation=this.getRotation();return Object(c["a"])({},n,e)};t.prototype.animate=function t(e){var n=arguments;var r=arguments.length;var i;if(r>1&&typeof arguments[r-1]==="function"){i=arguments[r-1];--r}if(!this.isDef()){var a=arguments[r-1];if(a.center){this.setCenter(a.center)}if(a.zoom!==undefined){this.setZoom(a.zoom)}if(a.rotation!==undefined){this.setRotation(a.rotation)}if(i){N(i,true)}return}var o=Date.now();var s=this.getCenter().slice();var u=this.getResolution();var l=this.getRotation();var c=[];for(var h=0;h<r;++h){var f=n[h];var d={start:o,complete:false,anchor:f.anchor,duration:f.duration!==undefined?f.duration:1e3,easing:f.easing||y["c"]};if(f.center){d.sourceCenter=s;d.targetCenter=f.center;s=d.targetCenter}if(f.zoom!==undefined){d.sourceResolution=u;d.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0);u=d.targetResolution}else if(f.resolution){d.sourceResolution=u;d.targetResolution=f.resolution;u=d.targetResolution}if(f.rotation!==undefined){d.sourceRotation=l;var p=Object(O["d"])(f.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+p;l=d.targetRotation}d.callback=i;if(x(d)){d.complete=true}else{o+=d.duration}c.push(d)}this.animations_.push(c);this.setHint(w["a"].ANIMATING,1);this.updateAnimations_()};t.prototype.getAnimating=function t(){return this.hints_[w["a"].ANIMATING]>0};t.prototype.getInteracting=function t(){return this.hints_[w["a"].INTERACTING]>0};t.prototype.cancelAnimations=function t(){this.setHint(w["a"].ANIMATING,-this.hints_[w["a"].ANIMATING]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback){N(r[0].callback,false)}}this.animations_.length=0};t.prototype.updateAnimations_=function t(){if(this.updateAnimationKey_!==undefined){cancelAnimationFrame(this.updateAnimationKey_);this.updateAnimationKey_=undefined}if(!this.getAnimating()){return}var e=Date.now();var n=false;for(var r=this.animations_.length-1;r>=0;--r){var i=this.animations_[r];var a=true;for(var o=0,s=i.length;o<s;++o){var u=i[o];if(u.complete){continue}var l=e-u.start;var c=u.duration>0?l/u.duration:1;if(c>=1){u.complete=true;c=1}else{a=false}var h=u.easing(c);if(u.sourceCenter){var f=u.sourceCenter[0];var d=u.sourceCenter[1];var p=u.targetCenter[0];var v=u.targetCenter[1];var g=f+h*(p-f);var m=d+h*(v-d);this.set(S.CENTER,[g,m])}if(u.sourceResolution&&u.targetResolution){var y=h===1?u.targetResolution:u.sourceResolution+h*(u.targetResolution-u.sourceResolution);if(u.anchor){this.set(S.CENTER,this.calculateCenterZoom(y,u.anchor))}this.set(S.RESOLUTION,y)}if(u.sourceRotation!==undefined&&u.targetRotation!==undefined){var _=h===1?Object(O["d"])(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+h*(u.targetRotation-u.sourceRotation);if(u.anchor){this.set(S.CENTER,this.calculateCenterRotate(_,u.anchor))}this.set(S.ROTATION,_)}n=true;if(!u.complete){break}}if(a){this.animations_[r]=null;this.setHint(w["a"].ANIMATING,-1);var b=i[0].callback;if(b){N(b,true)}}}this.animations_=this.animations_.filter(Boolean);if(n&&this.updateAnimationKey_===undefined){this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_)}};t.prototype.calculateCenterRotate=function t(e,n){var r;var i=this.getCenter();if(i!==undefined){r=[i[0]-n[0],i[1]-n[1]];Object(l["e"])(r,e-this.getRotation());Object(l["a"])(r,n)}return r};t.prototype.calculateCenterZoom=function t(e,n){var r;var i=this.getCenter();var a=this.getResolution();if(i!==undefined&&a!==undefined){var o=n[0]-e*(n[0]-i[0])/a;var s=n[1]-e*(n[1]-i[1])/a;r=[o,s]}return r};t.prototype.getSizeFromViewport_=function t(){var e=[100,100];var n='.ol-viewport[data-view="'+Object(a["c"])(this)+'"]';var r=document.querySelector(n);if(r){var i=getComputedStyle(r);e[0]=parseInt(i.width,10);e[1]=parseInt(i.height,10)}return e};t.prototype.constrainCenter=function t(e){return this.constraints_.center(e)};t.prototype.constrainResolution=function t(e,n,r){var i=n||0;var a=r||0;return this.constraints_.resolution(e,i,a)};t.prototype.constrainRotation=function t(e,n){var r=n||0;return this.constraints_.rotation(e,r)};t.prototype.getCenter=function t(){return this.get(S.CENTER)};t.prototype.getConstraints=function t(){return this.constraints_};t.prototype.getHints=function t(e){if(e!==undefined){e[0]=this.hints_[0];e[1]=this.hints_[1];return e}else{return this.hints_.slice()}};t.prototype.calculateExtent=function t(e){var n=e||this.getSizeFromViewport_();var r=this.getCenter();Object(I["a"])(r,1);var i=this.getResolution();Object(I["a"])(i!==undefined,2);var a=this.getRotation();Object(I["a"])(a!==undefined,3);return Object(R["z"])(r,i,a,n)};t.prototype.getMaxResolution=function t(){return this.maxResolution_};t.prototype.getMinResolution=function t(){return this.minResolution_};t.prototype.getMaxZoom=function t(){return this.getZoomForResolution(this.minResolution_)};t.prototype.setMaxZoom=function t(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))};t.prototype.getMinZoom=function t(){return this.getZoomForResolution(this.maxResolution_)};t.prototype.setMinZoom=function t(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))};t.prototype.getProjection=function t(){return this.projection_};t.prototype.getResolution=function t(){return this.get(S.RESOLUTION)};t.prototype.getResolutions=function t(){return this.resolutions_};t.prototype.getResolutionForExtent=function t(e,n){var r=n||this.getSizeFromViewport_();var i=Object(R["E"])(e)/r[0];var a=Object(R["A"])(e)/r[1];return Math.max(i,a)};t.prototype.getResolutionForValueFunction=function t(e){var n=e||2;var r=this.maxResolution_;var i=this.minResolution_;var a=Math.log(r/i)/Math.log(n);return function(t){var e=r/Math.pow(n,t*a);return e}};t.prototype.getRotation=function t(){return this.get(S.ROTATION)};t.prototype.getValueForResolutionFunction=function t(e){var n=e||2;var r=this.maxResolution_;var i=this.minResolution_;var a=Math.log(r/i)/Math.log(n);return function(t){var e=Math.log(r/t)/Math.log(n)/a;return e}};t.prototype.getState=function t(e){var n=this.getCenter();var r=this.getProjection();var i=this.getResolution();var a=i/e;var o=this.getRotation();return{center:[Math.round(n[0]/a)*a,Math.round(n[1]/a)*a],projection:r!==undefined?r:null,resolution:i,rotation:o,zoom:this.getZoom()}};t.prototype.getZoom=function t(){var e;var n=this.getResolution();if(n!==undefined){e=this.getZoomForResolution(n)}return e};t.prototype.getZoomForResolution=function t(e){var n=this.minZoom_||0;var r,i;if(this.resolutions_){var a=Object(s["h"])(this.resolutions_,e,1);n=a;r=this.resolutions_[a];if(a==this.resolutions_.length-1){i=2}else{i=r/this.resolutions_[a+1]}}else{r=this.maxResolution_;i=this.zoomFactor_}return n+Math.log(r/e)/Math.log(i)};t.prototype.getResolutionForZoom=function t(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)};t.prototype.fit=function t(e,n){var r=n||{};var i=r.size;if(!i){i=this.getSizeFromViewport_()}var a;Object(I["a"])(Array.isArray(e)||typeof e.getSimplifiedGeometry==="function",24);if(Array.isArray(e)){Object(I["a"])(!Object(R["H"])(e),25);a=Object(P["d"])(e)}else if(e.getType()===D["a"].CIRCLE){e=e.getExtent();a=Object(P["d"])(e);a.rotate(this.getRotation(),Object(R["x"])(e))}else{a=e}var o=r.padding!==undefined?r.padding:[0,0,0,0];var s=r.constrainResolution!==undefined?r.constrainResolution:true;var u=r.nearest!==undefined?r.nearest:false;var l;if(r.minResolution!==undefined){l=r.minResolution}else if(r.maxZoom!==undefined){l=this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0)}else{l=0}var c=a.getFlatCoordinates();var h=this.getRotation();var f=Math.cos(-h);var d=Math.sin(-h);var p=+Infinity;var v=+Infinity;var g=-Infinity;var m=-Infinity;var y=a.getStride();for(var _=0,b=c.length;_<b;_+=y){var O=c[_]*f-c[_+1]*d;var w=c[_]*d+c[_+1]*f;p=Math.min(p,O);v=Math.min(v,w);g=Math.max(g,O);m=Math.max(m,w)}var S=this.getResolutionForExtent([p,v,g,m],[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);S=isNaN(S)?l:Math.max(S,l);if(s){var T=this.constrainResolution(S,0,0);if(!u&&T<S){T=this.constrainResolution(T,-1,0)}S=T}d=-d;var x=(p+g)/2;var E=(v+m)/2;x+=(o[1]-o[3])/2*S;E+=(o[0]-o[2])/2*S;var C=x*f-E*d;var M=E*f+x*d;var j=[C,M];var A=r.callback?r.callback:k["c"];if(r.duration!==undefined){this.animate({resolution:S,center:j,duration:r.duration,easing:r.easing},A)}else{this.setResolution(S);this.setCenter(j);N(A,true)}};t.prototype.centerOn=function t(e,n,r){var i=this.getRotation();var a=Math.cos(-i);var o=Math.sin(-i);var s=e[0]*a-e[1]*o;var u=e[1]*a+e[0]*o;var l=this.getResolution();s+=(n[0]/2-r[0])*l;u+=(r[1]-n[1]/2)*l;o=-o;var c=s*a-u*o;var h=u*a+s*o;this.setCenter([c,h])};t.prototype.isDef=function t(){return!!this.getCenter()&&this.getResolution()!==undefined};t.prototype.rotate=function t(e,n){if(n!==undefined){var r=this.calculateCenterRotate(e,n);this.setCenter(r)}this.setRotation(e)};t.prototype.setCenter=function t(e){this.set(S.CENTER,e);if(this.getAnimating()){this.cancelAnimations()}};t.prototype.setHint=function t(e,n){this.hints_[e]+=n;this.changed();return this.hints_[e]};t.prototype.setResolution=function t(e){this.set(S.RESOLUTION,e);if(this.getAnimating()){this.cancelAnimations()}};t.prototype.setRotation=function t(e){this.set(S.ROTATION,e);if(this.getAnimating()){this.cancelAnimations()}};t.prototype.setZoom=function t(e){this.setResolution(this.getResolutionForZoom(e))};return t}(o["a"]);function N(t,e){setTimeout(function(){t(e)},0)}function f(t){if(t.extent!==undefined){return r(t.extent)}else{return i}}function d(t){var e;var n;var r;var i=28;var a=2;var o=t.minZoom!==undefined?t.minZoom:T;var s=t.maxZoom!==undefined?t.maxZoom:i;var u=t.zoomFactor!==undefined?t.zoomFactor:a;if(t.resolutions!==undefined){var l=t.resolutions;n=l[o];r=l[s]!==undefined?l[s]:l[l.length-1];e=g(l)}else{var c=Object(_["d"])(t.projection,"EPSG:3857");var h=c.getExtent();var f=!h?360*b["a"][b["b"].DEGREES]/c.getMetersPerUnit():Math.max(Object(R["E"])(h),Object(R["A"])(h));var d=f/v["b"]/Math.pow(a,T);var p=d/Math.pow(a,i-T);n=t.maxResolution;if(n!==undefined){o=0}else{n=d/Math.pow(u,o)}r=t.minResolution;if(r===undefined){if(t.maxZoom!==undefined){if(t.maxResolution!==undefined){r=n/Math.pow(u,s)}else{r=d/Math.pow(u,s)}}else{r=p}}s=o+Math.floor(Math.log(n/r)/Math.log(u));r=n/Math.pow(u,s-o);e=m(u,n,s-o)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:u}}function p(t){var e=t.enableRotation!==undefined?t.enableRotation:true;if(e){var n=t.constrainRotation;if(n===undefined||n===true){return Object(u["b"])()}else if(n===false){return u["d"]}else if(typeof n==="number"){return Object(u["a"])(n)}else{return u["d"]}}else{return u["c"]}}function x(t){if(t.sourceCenter&&t.targetCenter){if(!Object(l["d"])(t.sourceCenter,t.targetCenter)){return false}}if(t.sourceResolution!==t.targetResolution){return false}if(t.sourceRotation!==t.targetRotation){return false}return true}var E=e["a"]=h},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"d",function(){return S});n.d(e,"c",function(){return T});n.d(e,"e",function(){return x});var s=n(9);var a=n(3);var u=n(28);var o=n(7);var c=n(237);var l=n(27);var r=n(81);var h=n(187);var f=n(213);var d=n(126);var p=n(145);var v=n(115);var g=n(117);var m=n(249);var y=n(176);var _=n(192);var b=n(137);var O=n(14);var w=function(r){function i(t,e,n){r.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;if(e!==undefined&&n){this.setFlatCoordinates(e,t);this.ends_=n}else{this.setCoordinates(t,e)}}if(r)i.__proto__=r;i.prototype=Object.create(r&&r.prototype);i.prototype.constructor=i;i.prototype.appendLinearRing=function t(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{Object(s["c"])(this.flatCoordinates,e.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};i.prototype.clone=function t(){return new i(this.flatCoordinates.slice(),this.layout,this.ends_.slice())};i.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(a["e"])(this.getExtent(),e,n)){return i}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(d["a"])(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(d["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,true,e,n,r,i)};i.prototype.containsXY=function t(e,n){return Object(p["c"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)};i.prototype.getArea=function t(){return Object(f["b"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};i.prototype.getCoordinates=function t(e){var n;if(e!==undefined){n=this.getOrientedFlatCoordinates().slice();Object(_["c"])(n,0,this.ends_,this.stride,e)}else{n=this.flatCoordinates}return Object(g["b"])(n,0,this.ends_,this.stride)};i.prototype.getEnds=function t(){return this.ends_};i.prototype.getFlatInteriorPoint=function t(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(a["x"])(this.getExtent());this.flatInteriorPoint_=Object(m["a"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};i.prototype.getInteriorPoint=function t(){return new l["a"](this.getFlatInteriorPoint(),u["a"].XYM)};i.prototype.getLinearRingCount=function t(){return this.ends_.length};i.prototype.getLinearRing=function t(e){if(e<0||this.ends_.length<=e){return null}return new c["a"](this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)};i.prototype.getLinearRings=function t(){var e=this.layout;var n=this.flatCoordinates;var r=this.ends_;var i=[];var a=0;for(var o=0,s=r.length;o<s;++o){var u=r[o];var l=new c["a"](n.slice(a,u),e);i.push(l);a=u}return i};i.prototype.getOrientedFlatCoordinates=function t(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(Object(_["a"])(e,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=Object(_["c"])(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};i.prototype.getSimplifiedGeometryInternal=function t(e){var n=[];var r=[];n.length=Object(b["c"])(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r);return new i(n,u["a"].XY,r)};i.prototype.getType=function t(){return o["a"].POLYGON};i.prototype.intersectsExtent=function t(e){return Object(y["c"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)};i.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=Object(v["c"])(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1];this.changed()};return i}(r["a"]);e["b"]=w;function i(t,e,n,r){var i=n?n:32;var a=[];for(var o=0;o<i;++o){Object(s["c"])(a,Object(h["c"])(t,e,2*Math.PI*o/i,r))}a.push(a[0],a[1]);return new w(a,u["a"].XY,[a.length])}function S(t){var e=t[0];var n=t[1];var r=t[2];var i=t[3];var a=[e,n,e,i,r,i,r,n,e,n];return new w(a,u["a"].XY,[a.length])}function T(t,e,n){var r=e?e:32;var i=t.getStride();var a=t.getLayout();var o=t.getCenter();var s=i*(r+1);var u=new Array(s);for(var l=0;l<s;l+=i){u[l]=0;u[l+1]=0;for(var c=2;c<i;c++){u[l+c]=o[c]}}var h=[u.length];var f=new w(u,a,h);x(f,o,t.getRadius(),n);return f}function x(t,e,n,r){var i=t.getFlatCoordinates();var a=t.getStride();var o=i.length/a-1;var s=r?r:0;for(var u=0;u<=o;++u){var l=u*a;var c=s+Object(O["d"])(u,o)*2*Math.PI/o;i[l]=e[0]+n*Math.cos(c);i[l+1]=e[1]+n*Math.sin(c)}t.changed()}},function(t,e,n){"use strict";var i=n(3);var a=n(7);var r=n(81);var o=n(115);var l=n(14);var s=function(n){function r(t,e){n.call(this);this.setCoordinates(t,e)}if(n)r.__proto__=n;r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.prototype.clone=function t(){var e=new r(this.flatCoordinates.slice(),this.layout);return e};r.prototype.closestPointXY=function t(e,n,r,i){var a=this.flatCoordinates;var o=Object(l["f"])(e,n,a[0],a[1]);if(o<i){var s=this.stride;for(var u=0;u<s;++u){r[u]=a[u]}r.length=s;return o}else{return i}};r.prototype.getCoordinates=function t(){return!this.flatCoordinates?[]:this.flatCoordinates.slice()};r.prototype.computeExtent=function t(e){return Object(i["m"])(this.flatCoordinates,e)};r.prototype.getType=function t(){return a["a"].POINT};r.prototype.intersectsExtent=function t(e){return Object(i["h"])(e,this.flatCoordinates[0],this.flatCoordinates[1])};r.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(o["a"])(this.flatCoordinates,0,e,this.stride);this.changed()};return r}(r["a"]);e["a"]=s},function(t,e,n){"use strict";e["a"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";n.d(e,"c",function(){return r});n.d(e,"e",function(){return a});n.d(e,"g",function(){return l});n.d(e,"a",function(){return c});n.d(e,"f",function(){return f});n.d(e,"h",function(){return d});n.d(e,"b",function(){return p});n.d(e,"d",function(){return v});var u=n(20);var i=new Array(6);function r(){return[1,0,0,1,0,0]}function a(t){return s(t,1,0,0,1,0,0)}function o(t,e){var n=t[0];var r=t[1];var i=t[2];var a=t[3];var o=t[4];var s=t[5];var u=e[0];var l=e[1];var c=e[2];var h=e[3];var f=e[4];var d=e[5];t[0]=n*u+i*l;t[1]=r*u+a*l;t[2]=n*c+i*h;t[3]=r*c+a*h;t[4]=n*f+i*d+o;t[5]=r*f+a*d+s;return t}function s(t,e,n,r,i,a,o){t[0]=e;t[1]=n;t[2]=r;t[3]=i;t[4]=a;t[5]=o;return t}function l(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t}function c(t,e){var n=e[0];var r=e[1];e[0]=t[0]*n+t[2]*r+t[4];e[1]=t[1]*n+t[3]*r+t[5];return e}function h(t,e){var n=Math.cos(e);var r=Math.sin(e);return o(t,s(i,n,r,-r,n,0,0))}function f(t,e,n){return o(t,s(i,e,0,0,n,0,0))}function d(t,e,n){return o(t,s(i,1,0,0,1,e,n))}function p(t,e,n,r,i,a,o,s){var u=Math.sin(a);var l=Math.cos(a);t[0]=r*l;t[1]=i*u;t[2]=-r*u;t[3]=i*l;t[4]=o*r*l-s*r*u+e;t[5]=o*i*u+s*i*l+n;return t}function v(t){var e=g(t);Object(u["a"])(e!==0,32);var n=t[0];var r=t[1];var i=t[2];var a=t[3];var o=t[4];var s=t[5];t[0]=a/e;t[1]=-r/e;t[2]=-i/e;t[3]=n/e;t[4]=(i*s-a*o)/e;t[5]=-(n*s-r*o)/e;return t}function g(t){return t[0]*t[3]-t[1]*t[2]}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(292);var o="&#169; "+'<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> '+"contributors.";var i=function(a){function t(t){var e=t||{};var n;if(e.attributions!==undefined){n=e.attributions}else{n=[o]}var r=e.crossOrigin!==undefined?e.crossOrigin:"anonymous";var i=e.url!==undefined?e.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";a.call(this,{attributions:n,cacheSize:e.cacheSize,crossOrigin:r,opaque:e.opaque!==undefined?e.opaque:true,maxZoom:e.maxZoom!==undefined?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:i,wrapX:e.wrapX,attributionsCollapsible:false})}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;return t}(r["a"]);e["b"]=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(111);function i(t){var e=+t,n=0;if(e!==0&&isFinite(e)){n=Object(r["a"])(e)}return n}},function(t,e,n){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,n){"use strict";var r=n(5);var i=n(75);var a=function t(e){var n=e||{};this.color_=n.color!==undefined?n.color:null;this.checksum_=undefined};a.prototype.clone=function t(){var e=this.getColor();return new a({color:Array.isArray(e)?e.slice():e||undefined})};a.prototype.getColor=function t(){return this.color_};a.prototype.setColor=function t(e){this.color_=e;this.checksum_=undefined};a.prototype.getChecksum=function t(){if(this.checksum_===undefined){var e=this.color_;if(e){if(Array.isArray(e)||typeof e=="string"){this.checksum_="f"+Object(i["b"])(e)}else{this.checksum_=Object(r["c"])(this.color_)}}else{this.checksum_="f-"}}return this.checksum_};e["a"]=a},function(t,e,n){"use strict";var r=n(5);var i=function t(e){var n=e||{};this.color_=n.color!==undefined?n.color:null;this.lineCap_=n.lineCap;this.lineDash_=n.lineDash!==undefined?n.lineDash:null;this.lineDashOffset_=n.lineDashOffset;this.lineJoin_=n.lineJoin;this.miterLimit_=n.miterLimit;this.width_=n.width;this.checksum_=undefined};i.prototype.clone=function t(){var e=this.getColor();return new i({color:Array.isArray(e)?e.slice():e||undefined,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():undefined,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};i.prototype.getColor=function t(){return this.color_};i.prototype.getLineCap=function t(){return this.lineCap_};i.prototype.getLineDash=function t(){return this.lineDash_};i.prototype.getLineDashOffset=function t(){return this.lineDashOffset_};i.prototype.getLineJoin=function t(){return this.lineJoin_};i.prototype.getMiterLimit=function t(){return this.miterLimit_};i.prototype.getWidth=function t(){return this.width_};i.prototype.setColor=function t(e){this.color_=e;this.checksum_=undefined};i.prototype.setLineCap=function t(e){this.lineCap_=e;this.checksum_=undefined};i.prototype.setLineDash=function t(e){this.lineDash_=e;this.checksum_=undefined};i.prototype.setLineDashOffset=function t(e){this.lineDashOffset_=e;this.checksum_=undefined};i.prototype.setLineJoin=function t(e){this.lineJoin_=e;this.checksum_=undefined};i.prototype.setMiterLimit=function t(e){this.miterLimit_=e;this.checksum_=undefined};i.prototype.setWidth=function t(e){this.width_=e;this.checksum_=undefined};i.prototype.getChecksum=function t(){if(this.checksum_===undefined){this.checksum_="s";if(this.color_){if(typeof this.color_==="string"){this.checksum_+=this.color_}else{this.checksum_+=Object(r["c"])(this.color_)}}else{this.checksum_+="-"}this.checksum_+=","+(this.lineCap_!==undefined?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(this.lineDashOffset_!==undefined?this.lineDashOffset_:"-")+","+(this.lineJoin_!==undefined?this.lineJoin_:"-")+","+(this.miterLimit_!==undefined?this.miterLimit_.toString():"-")+","+(this.width_!==undefined?this.width_.toString():"-")}return this.checksum_};e["a"]=i},function(tn,en,t){var nn,rn;(function(t,e){"use strict";if(true&&typeof tn.exports==="object"){tn.exports=t.document?e(t,true):function(t){if(!t.document){throw new Error("jQuery requires a window with a document")}return e(t)}}else{e(t)}})(typeof window!=="undefined"?window:this,function(T,t){"use strict";var e=[];var x=T.document;var i=Object.getPrototypeOf;var u=e.slice;var v=e.concat;var s=e.push;var a=e.indexOf;var n={};var o=n.toString;var g=n.hasOwnProperty;var l=g.toString;var c=l.call(Object);var m={};var y=function t(e){return typeof e==="function"&&typeof e.nodeType!=="number"};var _=function t(e){return e!=null&&e===e.window};var h={type:true,src:true,noModule:true};function b(t,e,n){e=e||x;var r,i=e.createElement("script");i.text=t;if(n){for(r in h){if(n[r]){i[r]=n[r]}}}e.head.appendChild(i).parentNode.removeChild(i)}function O(t){if(t==null){return t+""}return typeof t==="object"||typeof t==="function"?n[o.call(t)]||"object":typeof t}var r="3.3.1",E=function t(e,n){return new t.fn.init(e,n)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.fn=E.prototype={jquery:r,constructor:E,length:0,toArray:function t(){return u.call(this)},get:function t(e){if(e==null){return u.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function t(e){var n=E.merge(this.constructor(),e);n.prevObject=this;return n},each:function t(e){return E.each(this,e)},map:function t(n){return this.pushStack(E.map(this,function(t,e){return n.call(t,e,t)}))},slice:function t(){return this.pushStack(u.apply(this,arguments))},first:function t(){return this.eq(0)},last:function t(){return this.eq(-1)},eq:function t(e){var n=this.length,r=+e+(e<0?n:0);return this.pushStack(r>=0&&r<n?[this[r]]:[])},end:function t(){return this.prevObject||this.constructor()},push:s,sort:e.sort,splice:e.splice};E.extend=E.fn.extend=function(){var t,e,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,l=false;if(typeof o==="boolean"){l=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&!y(o)){o={}}if(s===u){o=this;s--}for(;s<u;s++){if((t=arguments[s])!=null){for(e in t){n=o[e];r=t[e];if(o===r){continue}if(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))){if(i){i=false;a=n&&Array.isArray(n)?n:[]}else{a=n&&E.isPlainObject(n)?n:{}}o[e]=E.extend(l,a,r)}else if(r!==undefined){o[e]=r}}}}return o};E.extend({expando:"jQuery"+(r+Math.random()).replace(/\D/g,""),isReady:true,error:function t(e){throw new Error(e)},noop:function t(){},isPlainObject:function t(e){var n,r;if(!e||o.call(e)!=="[object Object]"){return false}n=i(e);if(!n){return true}r=g.call(n,"constructor")&&n.constructor;return typeof r==="function"&&l.call(r)===c},isEmptyObject:function t(e){var n;for(n in e){return false}return true},globalEval:function t(e){b(e)},each:function t(e,n){var r,i=0;if(d(e)){r=e.length;for(;i<r;i++){if(n.call(e[i],i,e[i])===false){break}}}else{for(i in e){if(n.call(e[i],i,e[i])===false){break}}}return e},trim:function t(e){return e==null?"":(e+"").replace(f,"")},makeArray:function t(e,n){var r=n||[];if(e!=null){if(d(Object(e))){E.merge(r,typeof e==="string"?[e]:e)}else{s.call(r,e)}}return r},inArray:function t(e,n,r){return n==null?-1:a.call(n,e,r)},merge:function t(e,n){var r=+n.length,i=0,a=e.length;for(;i<r;i++){e[a++]=n[i]}e.length=a;return e},grep:function t(e,n,r){var i,a=[],o=0,s=e.length,u=!r;for(;o<s;o++){i=!n(e[o],o);if(i!==u){a.push(e[o])}}return a},map:function t(e,n,r){var i,a,o=0,s=[];if(d(e)){i=e.length;for(;o<i;o++){a=n(e[o],o,r);if(a!=null){s.push(a)}}}else{for(o in e){a=n(e[o],o,r);if(a!=null){s.push(a)}}}return v.apply([],s)},guid:1,support:m});if(typeof Symbol==="function"){E.fn[Symbol.iterator]=e[Symbol.iterator]}E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});function d(t){var e=!!t&&"length"in t&&t.length,n=O(t);if(y(t)||_(t)){return false}return n==="array"||e===0||typeof e==="number"&&e>0&&e-1 in t}var p=function(r){var t,d,O,a,i,p,h,v,w,u,l,S,T,o,x,g,s,c,m,b="sizzle"+1*new Date,y=r.document,E=0,n=0,f=ot(),_=ot(),C=ot(),M=function t(e,n){if(e===n){l=true}return 0},j={}.hasOwnProperty,e=[],A=e.pop,k=e.push,I=e.push,R=e.slice,D=function t(e,n){var r=0,i=e.length;for(;r<i;r++){if(e[r]===n){return r}}return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",$="\\["+N+"*("+L+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+N+"*\\]",F=":("+L+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|"+".*"+")\\)|)",G=new RegExp(N+"+","g"),H=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),U=new RegExp("^"+N+"*,"+N+"*"),W=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),Y=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),V=new RegExp(F),q=new RegExp("^"+L+"$"),z={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},B=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),tt=function t(e,n,r){var i="0x"+n-65536;return i!==i||r?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function t(e,n){if(n){if(e==="\0"){return"�"}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e},rt=function t(){S()},it=yt(function(t){return t.disabled===true&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{I.apply(e=R.call(y.childNodes),y.childNodes);e[y.childNodes.length].nodeType}catch(t){I={apply:e.length?function(t,e){k.apply(t,R.call(e))}:function(t,e){var n=t.length,r=0;while(t[n++]=e[r++]){}t.length=n-1}}}function at(t,e,n,r){var i,a,o,s,u,l,c,h=e&&e.ownerDocument,f=e?e.nodeType:9;n=n||[];if(typeof t!=="string"||!t||f!==1&&f!==9&&f!==11){return n}if(!r){if((e?e.ownerDocument||e:y)!==T){S(e)}e=e||T;if(x){if(f!==11&&(u=Z.exec(t))){if(i=u[1]){if(f===9){if(o=e.getElementById(i)){if(o.id===i){n.push(o);return n}}else{return n}}else{if(h&&(o=h.getElementById(i))&&m(e,o)&&o.id===i){n.push(o);return n}}}else if(u[2]){I.apply(n,e.getElementsByTagName(t));return n}else if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName){I.apply(n,e.getElementsByClassName(i));return n}}if(d.qsa&&!C[t+" "]&&(!g||!g.test(t))){if(f!==1){h=e;c=t}else if(e.nodeName.toLowerCase()!=="object"){if(s=e.getAttribute("id")){s=s.replace(et,nt)}else{e.setAttribute("id",s=b)}l=p(t);a=l.length;while(a--){l[a]="#"+s+" "+mt(l[a])}c=l.join(",");h=Q.test(t)&&vt(e.parentNode)||e}if(c){try{I.apply(n,h.querySelectorAll(c));return n}catch(t){}finally{if(s===b){e.removeAttribute("id")}}}}}}return v(t.replace(H,"$1"),e,n,r)}function ot(){var n=[];function r(t,e){if(n.push(t+" ")>O.cacheLength){delete r[n.shift()]}return r[t+" "]=e}return r}function st(t){t[b]=true;return t}function ut(t){var e=T.createElement("fieldset");try{return!!t(e)}catch(t){return false}finally{if(e.parentNode){e.parentNode.removeChild(e)}e=null}}function lt(t,e){var n=t.split("|"),r=n.length;while(r--){O.attrHandle[n[r]]=e}}function ct(t,e){var n=e&&t,r=n&&t.nodeType===1&&e.nodeType===1&&t.sourceIndex-e.sourceIndex;if(r){return r}if(n){while(n=n.nextSibling){if(n===e){return-1}}}return t?1:-1}function ht(n){return function(t){var e=t.nodeName.toLowerCase();return e==="input"&&t.type===n}}function ft(n){return function(t){var e=t.nodeName.toLowerCase();return(e==="input"||e==="button")&&t.type===n}}function dt(e){return function(t){if("form"in t){if(t.parentNode&&t.disabled===false){if("label"in t){if("label"in t.parentNode){return t.parentNode.disabled===e}else{return t.disabled===e}}return t.isDisabled===e||t.isDisabled!==!e&&it(t)===e}return t.disabled===e}else if("label"in t){return t.disabled===e}return false}}function pt(o){return st(function(a){a=+a;return st(function(t,e){var n,r=o([],t.length,a),i=r.length;while(i--){if(t[n=r[i]]){t[n]=!(e[n]=t[n])}}})})}function vt(t){return t&&typeof t.getElementsByTagName!=="undefined"&&t}d=at.support={};i=at.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?e.nodeName!=="HTML":false};S=at.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:y;if(r===T||r.nodeType!==9||!r.documentElement){return T}T=r;o=T.documentElement;x=!i(T);if(y!==T&&(n=T.defaultView)&&n.top!==n){if(n.addEventListener){n.addEventListener("unload",rt,false)}else if(n.attachEvent){n.attachEvent("onunload",rt)}}d.attributes=ut(function(t){t.className="i";return!t.getAttribute("className")});d.getElementsByTagName=ut(function(t){t.appendChild(T.createComment(""));return!t.getElementsByTagName("*").length});d.getElementsByClassName=X.test(T.getElementsByClassName);d.getById=ut(function(t){o.appendChild(t).id=b;return!T.getElementsByName||!T.getElementsByName(b).length});if(d.getById){O.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}};O.find["ID"]=function(t,e){if(typeof e.getElementById!=="undefined"&&x){var n=e.getElementById(t);return n?[n]:[]}}}else{O.filter["ID"]=function(t){var n=t.replace(J,tt);return function(t){var e=typeof t.getAttributeNode!=="undefined"&&t.getAttributeNode("id");return e&&e.value===n}};O.find["ID"]=function(t,e){if(typeof e.getElementById!=="undefined"&&x){var n,r,i,a=e.getElementById(t);if(a){n=a.getAttributeNode("id");if(n&&n.value===t){return[a]}i=e.getElementsByName(t);r=0;while(a=i[r++]){n=a.getAttributeNode("id");if(n&&n.value===t){return[a]}}}return[]}}}O.find["TAG"]=d.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(t)}else if(d.qsa){return e.querySelectorAll(t)}}:function(t,e){var n,r=[],i=0,a=e.getElementsByTagName(t);if(t==="*"){while(n=a[i++]){if(n.nodeType===1){r.push(n)}}return r}return a};O.find["CLASS"]=d.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!=="undefined"&&x){return e.getElementsByClassName(t)}};s=[];g=[];if(d.qsa=X.test(T.querySelectorAll)){ut(function(t){o.appendChild(t).innerHTML="<a id='"+b+"'></a>"+"<select id='"+b+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(t.querySelectorAll("[msallowcapture^='']").length){g.push("[*^$]="+N+"*(?:''|\"\")")}if(!t.querySelectorAll("[selected]").length){g.push("\\["+N+"*(?:value|"+P+")")}if(!t.querySelectorAll("[id~="+b+"-]").length){g.push("~=")}if(!t.querySelectorAll(":checked").length){g.push(":checked")}if(!t.querySelectorAll("a#"+b+"+*").length){g.push(".#.+[+~]")}});ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var e=T.createElement("input");e.setAttribute("type","hidden");t.appendChild(e).setAttribute("name","D");if(t.querySelectorAll("[name=d]").length){g.push("name"+N+"*[*^$|!~]?=")}if(t.querySelectorAll(":enabled").length!==2){g.push(":enabled",":disabled")}o.appendChild(t).disabled=true;if(t.querySelectorAll(":disabled").length!==2){g.push(":enabled",":disabled")}t.querySelectorAll("*,:x");g.push(",.*:")})}if(d.matchesSelector=X.test(c=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector)){ut(function(t){d.disconnectedMatch=c.call(t,"*");c.call(t,"[s!='']:x");s.push("!=",F)})}g=g.length&&new RegExp(g.join("|"));s=s.length&&new RegExp(s.join("|"));e=X.test(o.compareDocumentPosition);m=e||X.test(o.contains)?function(t,e){var n=t.nodeType===9?t.documentElement:t,r=e&&e.parentNode;return t===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):t.compareDocumentPosition&&t.compareDocumentPosition(r)&16))}:function(t,e){if(e){while(e=e.parentNode){if(e===t){return true}}}return false};M=e?function(t,e){if(t===e){l=true;return 0}var n=!t.compareDocumentPosition-!e.compareDocumentPosition;if(n){return n}n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1;if(n&1||!d.sortDetached&&e.compareDocumentPosition(t)===n){if(t===T||t.ownerDocument===y&&m(y,t)){return-1}if(e===T||e.ownerDocument===y&&m(y,e)){return 1}return u?D(u,t)-D(u,e):0}return n&4?-1:1}:function(t,e){if(t===e){l=true;return 0}var n,r=0,i=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!i||!a){return t===T?-1:e===T?1:i?-1:a?1:u?D(u,t)-D(u,e):0}else if(i===a){return ct(t,e)}n=t;while(n=n.parentNode){o.unshift(n)}n=e;while(n=n.parentNode){s.unshift(n)}while(o[r]===s[r]){r++}return r?ct(o[r],s[r]):o[r]===y?-1:s[r]===y?1:0};return T};at.matches=function(t,e){return at(t,null,null,e)};at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==T){S(t)}e=e.replace(Y,"='$1']");if(d.matchesSelector&&x&&!C[e+" "]&&(!s||!s.test(e))&&(!g||!g.test(e))){try{var n=c.call(t,e);if(n||d.disconnectedMatch||t.document&&t.document.nodeType!==11){return n}}catch(t){}}return at(e,T,null,[t]).length>0};at.contains=function(t,e){if((t.ownerDocument||t)!==T){S(t)}return m(t,e)};at.attr=function(t,e){if((t.ownerDocument||t)!==T){S(t)}var n=O.attrHandle[e.toLowerCase()],r=n&&j.call(O.attrHandle,e.toLowerCase())?n(t,e,!x):undefined;return r!==undefined?r:d.attributes||!x?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null};at.escape=function(t){return(t+"").replace(et,nt)};at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};at.uniqueSort=function(t){var e,n=[],r=0,i=0;l=!d.detectDuplicates;u=!d.sortStable&&t.slice(0);t.sort(M);if(l){while(e=t[i++]){if(e===t[i]){r=n.push(i)}}while(r--){t.splice(n[r],1)}}u=null;return t};a=at.getText=function(t){var e,n="",r=0,i=t.nodeType;if(!i){while(e=t[r++]){n+=a(e)}}else if(i===1||i===9||i===11){if(typeof t.textContent==="string"){return t.textContent}else{for(t=t.firstChild;t;t=t.nextSibling){n+=a(t)}}}else if(i===3||i===4){return t.nodeValue}return n};O=at.selectors={cacheLength:50,createPseudo:st,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function t(e){e[1]=e[1].replace(J,tt);e[3]=(e[3]||e[4]||e[5]||"").replace(J,tt);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function t(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){at.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){at.error(e[0])}return e},PSEUDO:function t(e){var n,r=!e[6]&&e[2];if(z["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(r&&V.test(r)&&(n=p(r,true))&&(n=r.indexOf(")",r.length-n)-r.length)){e[0]=e[0].slice(0,n);e[2]=r.slice(0,n)}return e.slice(0,3)}},filter:{TAG:function t(e){var n=e.replace(J,tt).toLowerCase();return e==="*"?function(){return true}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function t(e){var n=f[e+" "];return n||(n=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&f(e,function(t){return n.test(typeof t.className==="string"&&t.className||typeof t.getAttribute!=="undefined"&&t.getAttribute("class")||"")})},ATTR:function t(n,r,i){return function(t){var e=at.attr(t,n);if(e==null){return r==="!="}if(!r){return true}e+="";return r==="="?e===i:r==="!="?e!==i:r==="^="?i&&e.indexOf(i)===0:r==="*="?i&&e.indexOf(i)>-1:r==="$="?i&&e.slice(-i.length)===i:r==="~="?(" "+e.replace(G," ")+" ").indexOf(i)>-1:r==="|="?e===i||e.slice(0,i.length+1)===i+"-":false}},CHILD:function t(p,e,n,v,g){var m=p.slice(0,3)!=="nth",y=p.slice(-4)!=="last",_=e==="of-type";return v===1&&g===0?function(t){return!!t.parentNode}:function(t,e,n){var r,i,a,o,s,u,l=m!==y?"nextSibling":"previousSibling",c=t.parentNode,h=_&&t.nodeName.toLowerCase(),f=!n&&!_,d=false;if(c){if(m){while(l){o=t;while(o=o[l]){if(_?o.nodeName.toLowerCase()===h:o.nodeType===1){return false}}u=l=p==="only"&&!u&&"nextSibling"}return true}u=[y?c.firstChild:c.lastChild];if(y&&f){o=c;a=o[b]||(o[b]={});i=a[o.uniqueID]||(a[o.uniqueID]={});r=i[p]||[];s=r[0]===E&&r[1];d=s&&r[2];o=s&&c.childNodes[s];while(o=++s&&o&&o[l]||(d=s=0)||u.pop()){if(o.nodeType===1&&++d&&o===t){i[p]=[E,s,d];break}}}else{if(f){o=t;a=o[b]||(o[b]={});i=a[o.uniqueID]||(a[o.uniqueID]={});r=i[p]||[];s=r[0]===E&&r[1];d=s}if(d===false){while(o=++s&&o&&o[l]||(d=s=0)||u.pop()){if((_?o.nodeName.toLowerCase()===h:o.nodeType===1)&&++d){if(f){a=o[b]||(o[b]={});i=a[o.uniqueID]||(a[o.uniqueID]={});i[p]=[E,d]}if(o===t){break}}}}}d-=g;return d===v||d%v===0&&d/v>=0}}},PSEUDO:function t(e,a){var n,o=O.pseudos[e]||O.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);if(o[b]){return o(a)}if(o.length>1){n=[e,e,"",a];return O.setFilters.hasOwnProperty(e.toLowerCase())?st(function(t,e){var n,r=o(t,a),i=r.length;while(i--){n=D(t,r[i]);t[n]=!(e[n]=r[i])}}):function(t){return o(t,0,n)}}return o}},pseudos:{not:st(function(t){var r=[],i=[],s=h(t.replace(H,"$1"));return s[b]?st(function(t,e,n,r){var i,a=s(t,null,r,[]),o=t.length;while(o--){if(i=a[o]){t[o]=!(e[o]=i)}}}):function(t,e,n){r[0]=t;s(r,null,n,i);r[0]=null;return!i.pop()}}),has:st(function(e){return function(t){return at(e,t).length>0}}),contains:st(function(e){e=e.replace(J,tt);return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:st(function(n){if(!q.test(n||"")){at.error("unsupported lang: "+n)}n=n.replace(J,tt).toLowerCase();return function(t){var e;do{if(e=x?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){e=e.toLowerCase();return e===n||e.indexOf(n+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function t(e){var n=r.location&&r.location.hash;return n&&n.slice(1)===e.id},root:function t(e){return e===o},focus:function t(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:dt(false),disabled:dt(true),checked:function t(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function t(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function t(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function t(e){return!O.pseudos["empty"](e)},header:function t(e){return K.test(e.nodeName)},input:function t(e){return B.test(e.nodeName)},button:function t(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function t(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){var n=0;for(;n<e;n+=2){t.push(n)}return t}),odd:pt(function(t,e){var n=1;for(;n<e;n+=2){t.push(n)}return t}),lt:pt(function(t,e,n){var r=n<0?n+e:n;for(;--r>=0;){t.push(r)}return t}),gt:pt(function(t,e,n){var r=n<0?n+e:n;for(;++r<e;){t.push(r)}return t})}};O.pseudos["nth"]=O.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){O.pseudos[t]=ht(t)}for(t in{submit:true,reset:true}){O.pseudos[t]=ft(t)}function gt(){}gt.prototype=O.filters=O.pseudos;O.setFilters=new gt;p=at.tokenize=function(t,e){var n,r,i,a,o,s,u,l=_[t+" "];if(l){return e?0:l.slice(0)}o=t;s=[];u=O.preFilter;while(o){if(!n||(r=U.exec(o))){if(r){o=o.slice(r[0].length)||o}s.push(i=[])}n=false;if(r=W.exec(o)){n=r.shift();i.push({value:n,type:r[0].replace(H," ")});o=o.slice(n.length)}for(a in O.filter){if((r=z[a].exec(o))&&(!u[a]||(r=u[a](r)))){n=r.shift();i.push({value:n,type:a,matches:r});o=o.slice(n.length)}}if(!n){break}}return e?o.length:o?at.error(t):_(t,s).slice(0)};function mt(t){var e=0,n=t.length,r="";for(;e<n;e++){r+=t[e].value}return r}function yt(s,t,e){var u=t.dir,l=t.next,c=l||u,h=e&&c==="parentNode",f=n++;return t.first?function(t,e,n){while(t=t[u]){if(t.nodeType===1||h){return s(t,e,n)}}return false}:function(t,e,n){var r,i,a,o=[E,f];if(n){while(t=t[u]){if(t.nodeType===1||h){if(s(t,e,n)){return true}}}}else{while(t=t[u]){if(t.nodeType===1||h){a=t[b]||(t[b]={});i=a[t.uniqueID]||(a[t.uniqueID]={});if(l&&l===t.nodeName.toLowerCase()){t=t[u]||t}else if((r=i[c])&&r[0]===E&&r[1]===f){return o[2]=r[2]}else{i[c]=o;if(o[2]=s(t,e,n)){return true}}}}}return false}}function _t(i){return i.length>1?function(t,e,n){var r=i.length;while(r--){if(!i[r](t,e,n)){return false}}return true}:i[0]}function bt(t,e,n){var r=0,i=e.length;for(;r<i;r++){at(t,e[r],n)}return n}function Ot(t,e,n,r,i){var a,o=[],s=0,u=t.length,l=e!=null;for(;s<u;s++){if(a=t[s]){if(!n||n(a,r,i)){o.push(a);if(l){e.push(s)}}}}return o}function wt(d,p,v,g,m,t){if(g&&!g[b]){g=wt(g)}if(m&&!m[b]){m=wt(m,t)}return st(function(t,e,n,r){var i,a,o,s=[],u=[],l=e.length,c=t||bt(p||"*",n.nodeType?[n]:n,[]),h=d&&(t||!p)?Ot(c,s,d,n,r):c,f=v?m||(t?d:l||g)?[]:e:h;if(v){v(h,f,n,r)}if(g){i=Ot(f,u);g(i,[],n,r);a=i.length;while(a--){if(o=i[a]){f[u[a]]=!(h[u[a]]=o)}}}if(t){if(m||d){if(m){i=[];a=f.length;while(a--){if(o=f[a]){i.push(h[a]=o)}}m(null,f=[],i,r)}a=f.length;while(a--){if((o=f[a])&&(i=m?D(t,o):s[a])>-1){t[i]=!(e[i]=o)}}}}else{f=Ot(f===e?f.splice(l,f.length):f);if(m){m(null,e,f,r)}else{I.apply(e,f)}}})}function St(t){var i,e,n,r=t.length,a=O.relative[t[0].type],o=a||O.relative[" "],s=a?1:0,u=yt(function(t){return t===i},o,true),l=yt(function(t){return D(i,t)>-1},o,true),c=[function(t,e,n){var r=!a&&(n||e!==w)||((i=e).nodeType?u(t,e,n):l(t,e,n));i=null;return r}];for(;s<r;s++){if(e=O.relative[t[s].type]){c=[yt(_t(c),e)]}else{e=O.filter[t[s].type].apply(null,t[s].matches);if(e[b]){n=++s;for(;n<r;n++){if(O.relative[t[n].type]){break}}return wt(s>1&&_t(c),s>1&&mt(t.slice(0,s-1).concat({value:t[s-2].type===" "?"*":""})).replace(H,"$1"),e,s<n&&St(t.slice(s,n)),n<r&&St(t=t.slice(n)),n<r&&mt(t))}c.push(e)}}return _t(c)}function Tt(m,y){var _=y.length>0,b=m.length>0,t=function t(e,n,r,i,a){var o,s,u,l=0,c="0",h=e&&[],f=[],d=w,p=e||b&&O.find["TAG"]("*",a),v=E+=d==null?1:Math.random()||.1,g=p.length;if(a){w=n===T||n||a}for(;c!==g&&(o=p[c])!=null;c++){if(b&&o){s=0;if(!n&&o.ownerDocument!==T){S(o);r=!x}while(u=m[s++]){if(u(o,n||T,r)){i.push(o);break}}if(a){E=v}}if(_){if(o=!u&&o){l--}if(e){h.push(o)}}}l+=c;if(_&&c!==l){s=0;while(u=y[s++]){u(h,f,n,r)}if(e){if(l>0){while(c--){if(!(h[c]||f[c])){f[c]=A.call(i)}}}f=Ot(f)}I.apply(i,f);if(a&&!e&&f.length>0&&l+y.length>1){at.uniqueSort(i)}}if(a){E=v;w=d}return h};return _?st(t):t}h=at.compile=function(t,e){var n,r=[],i=[],a=C[t+" "];if(!a){if(!e){e=p(t)}n=e.length;while(n--){a=St(e[n]);if(a[b]){r.push(a)}else{i.push(a)}}a=C(t,Tt(i,r));a.selector=t}return a};v=at.select=function(t,e,n,r){var i,a,o,s,u,l=typeof t==="function"&&t,c=!r&&p(t=l.selector||t);n=n||[];if(c.length===1){a=c[0]=c[0].slice(0);if(a.length>2&&(o=a[0]).type==="ID"&&e.nodeType===9&&x&&O.relative[a[1].type]){e=(O.find["ID"](o.matches[0].replace(J,tt),e)||[])[0];if(!e){return n}else if(l){e=e.parentNode}t=t.slice(a.shift().value.length)}i=z["needsContext"].test(t)?0:a.length;while(i--){o=a[i];if(O.relative[s=o.type]){break}if(u=O.find[s]){if(r=u(o.matches[0].replace(J,tt),Q.test(a[0].type)&&vt(e.parentNode)||e)){a.splice(i,1);t=r.length&&mt(a);if(!t){I.apply(n,r);return n}break}}}}(l||h(t,c))(r,e,!x,n,!e||Q.test(t)&&vt(e.parentNode)||e);return n};d.sortStable=b.split("").sort(M).join("")===b;d.detectDuplicates=!!l;S();d.sortDetached=ut(function(t){return t.compareDocumentPosition(T.createElement("fieldset"))&1});if(!ut(function(t){t.innerHTML="<a href='#'></a>";return t.firstChild.getAttribute("href")==="#"})){lt("type|href|height|width",function(t,e,n){if(!n){return t.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!d.attributes||!ut(function(t){t.innerHTML="<input/>";t.firstChild.setAttribute("value","");return t.firstChild.getAttribute("value")===""})){lt("value",function(t,e,n){if(!n&&t.nodeName.toLowerCase()==="input"){return t.defaultValue}})}if(!ut(function(t){return t.getAttribute("disabled")==null})){lt(P,function(t,e,n){var r;if(!n){return t[e]===true?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}})}return at}(T);E.find=p;E.expr=p.selectors;E.expr[":"]=E.expr.pseudos;E.uniqueSort=E.unique=p.uniqueSort;E.text=p.getText;E.isXMLDoc=p.isXML;E.contains=p.contains;E.escapeSelector=p.escape;var w=function t(e,n,r){var i=[],a=r!==undefined;while((e=e[n])&&e.nodeType!==9){if(e.nodeType===1){if(a&&E(e).is(r)){break}i.push(e)}}return i};var S=function t(e,n){var r=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==n){r.push(e)}}return r};var C=E.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,n,r){if(y(n)){return E.grep(t,function(t,e){return!!n.call(t,e,t)!==r})}if(n.nodeType){return E.grep(t,function(t){return t===n!==r})}if(typeof n!=="string"){return E.grep(t,function(t){return a.call(n,t)>-1!==r})}return E.filter(n,t,r)}E.filter=function(t,e,n){var r=e[0];if(n){t=":not("+t+")"}if(e.length===1&&r.nodeType===1){return E.find.matchesSelector(r,t)?[r]:[]}return E.find.matches(t,E.grep(e,function(t){return t.nodeType===1}))};E.fn.extend({find:function t(e){var n,r,i=this.length,a=this;if(typeof e!=="string"){return this.pushStack(E(e).filter(function(){for(n=0;n<i;n++){if(E.contains(a[n],this)){return true}}}))}r=this.pushStack([]);for(n=0;n<i;n++){E.find(e,a[n],r)}return i>1?E.uniqueSort(r):r},filter:function t(e){return this.pushStack(A(this,e||[],false))},not:function t(e){return this.pushStack(A(this,e||[],true))},is:function t(e){return!!A(this,typeof e==="string"&&C.test(e)?E(e):e||[],false).length}});var k,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,R=E.fn.init=function(t,e,n){var r,i;if(!t){return this}n=n||k;if(typeof t==="string"){if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3){r=[null,t,null]}else{r=I.exec(t)}if(r&&(r[1]||!e)){if(r[1]){e=e instanceof E?e[0]:e;E.merge(this,E.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:x,true));if(j.test(r[1])&&E.isPlainObject(e)){for(r in e){if(y(this[r])){this[r](e[r])}else{this.attr(r,e[r])}}}return this}else{i=x.getElementById(r[2]);if(i){this[0]=i;this.length=1}return this}}else if(!e||e.jquery){return(e||n).find(t)}else{return this.constructor(e).find(t)}}else if(t.nodeType){this[0]=t;this.length=1;return this}else if(y(t)){return n.ready!==undefined?n.ready(t):t(E)}return E.makeArray(t,this)};R.prototype=E.fn;k=E(x);var D=/^(?:parents|prev(?:Until|All))/,P={children:true,contents:true,next:true,prev:true};E.fn.extend({has:function t(e){var n=E(e,this),r=n.length;return this.filter(function(){var t=0;for(;t<r;t++){if(E.contains(this,n[t])){return true}}})},closest:function t(e,n){var r,i=0,a=this.length,o=[],s=typeof e!=="string"&&E(e);if(!C.test(e)){for(;i<a;i++){for(r=this[i];r&&r!==n;r=r.parentNode){if(r.nodeType<11&&(s?s.index(r)>-1:r.nodeType===1&&E.find.matchesSelector(r,e))){o.push(r);break}}}}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function t(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return a.call(E(e),this[0])}return a.call(this,e.jquery?e[0]:e)},add:function t(e,n){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,n))))},addBack:function t(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function N(t,e){while((t=t[e])&&t.nodeType!==1){}return t}E.each({parent:function t(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function t(e){return w(e,"parentNode")},parentsUntil:function t(e,n,r){return w(e,"parentNode",r)},next:function t(e){return N(e,"nextSibling")},prev:function t(e){return N(e,"previousSibling")},nextAll:function t(e){return w(e,"nextSibling")},prevAll:function t(e){return w(e,"previousSibling")},nextUntil:function t(e,n,r){return w(e,"nextSibling",r)},prevUntil:function t(e,n,r){return w(e,"previousSibling",r)},siblings:function t(e){return S((e.parentNode||{}).firstChild,e)},children:function t(e){return S(e.firstChild)},contents:function t(e){if(M(e,"iframe")){return e.contentDocument}if(M(e,"template")){e=e.content||e}return E.merge([],e.childNodes)}},function(r,i){E.fn[r]=function(t,e){var n=E.map(this,i,t);if(r.slice(-5)!=="Until"){e=t}if(e&&typeof e==="string"){n=E.filter(e,n)}if(this.length>1){if(!P[r]){E.uniqueSort(n)}if(D.test(r)){n.reverse()}}return this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function $(t){var n={};E.each(t.match(L)||[],function(t,e){n[e]=true});return n}E.Callbacks=function(r){r=typeof r==="string"?$(r):E.extend({},r);var i,e,n,a,o=[],s=[],u=-1,l=function t(){a=a||r.once;n=i=true;for(;s.length;u=-1){e=s.shift();while(++u<o.length){if(o[u].apply(e[0],e[1])===false&&r.stopOnFalse){u=o.length;e=false}}}if(!r.memory){e=false}i=false;if(a){if(e){o=[]}else{o=""}}},c={add:function t(){if(o){if(e&&!i){u=o.length-1;s.push(e)}(function n(t){E.each(t,function(t,e){if(y(e)){if(!r.unique||!c.has(e)){o.push(e)}}else if(e&&e.length&&O(e)!=="string"){n(e)}})})(arguments);if(e&&!i){l()}}return this},remove:function t(){E.each(arguments,function(t,e){var n;while((n=E.inArray(e,o,n))>-1){o.splice(n,1);if(n<=u){u--}}});return this},has:function t(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function t(){if(o){o=[]}return this},disable:function t(){a=s=[];o=e="";return this},disabled:function t(){return!o},lock:function t(){a=s=[];if(!e&&!i){o=e=""}return this},locked:function t(){return!!a},fireWith:function t(e,n){if(!a){n=n||[];n=[e,n.slice?n.slice():n];s.push(n);if(!i){l()}}return this},fire:function t(){c.fireWith(this,arguments);return this},fired:function t(){return!!n}};return c};function F(t){return t}function G(t){throw t}function H(t,e,n,r){var i;try{if(t&&y(i=t.promise)){i.call(t).done(e).fail(n)}else if(t&&y(i=t.then)){i.call(t,e,n)}else{e.apply(undefined,[t].slice(r))}}catch(t){n.apply(undefined,[t])}}E.extend({Deferred:function t(e){var a=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function t(){return i},always:function t(){s.done(arguments).fail(arguments);return this},catch:function t(e){return o.then(null,e)},pipe:function t(){var i=arguments;return E.Deferred(function(r){E.each(a,function(t,e){var n=y(i[e[4]])&&i[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);if(t&&y(t.promise)){t.promise().progress(r.notify).done(r.resolve).fail(r.reject)}else{r[e[0]+"With"](this,n?[t]:arguments)}})});i=null}).promise()},then:function t(e,n,r){var l=0;function c(a,o,s,u){return function(){var r=this,i=arguments,t=function t(){var e,n;if(a<l){return}e=s.apply(r,i);if(e===o.promise()){throw new TypeError("Thenable self-resolution")}n=e&&(typeof e==="object"||typeof e==="function")&&e.then;if(y(n)){if(u){n.call(e,c(l,o,F,u),c(l,o,G,u))}else{l++;n.call(e,c(l,o,F,u),c(l,o,G,u),c(l,o,F,o.notifyWith))}}else{if(s!==F){r=undefined;i=[e]}(u||o.resolveWith)(r,i)}},e=u?t:function(){try{t()}catch(t){if(E.Deferred.exceptionHook){E.Deferred.exceptionHook(t,e.stackTrace)}if(a+1>=l){if(s!==G){r=undefined;i=[t]}o.rejectWith(r,i)}}};if(a){e()}else{if(E.Deferred.getStackHook){e.stackTrace=E.Deferred.getStackHook()}T.setTimeout(e)}}}return E.Deferred(function(t){a[0][3].add(c(0,t,y(r)?r:F,t.notifyWith));a[1][3].add(c(0,t,y(e)?e:F));a[2][3].add(c(0,t,y(n)?n:G))}).promise()},promise:function t(e){return e!=null?E.extend(e,o):o}},s={};E.each(a,function(t,e){var n=e[2],r=e[5];o[e[1]]=n.add;if(r){n.add(function(){i=r},a[3-t][2].disable,a[3-t][3].disable,a[0][2].lock,a[0][3].lock)}n.add(e[3].fire);s[e[0]]=function(){s[e[0]+"With"](this===s?undefined:this,arguments);return this};s[e[0]+"With"]=n.fireWith});o.promise(s);if(e){e.call(s,s)}return s},when:function t(e){var n=arguments.length,r=n,i=Array(r),a=u.call(arguments),o=E.Deferred(),s=function t(e){return function(t){i[e]=this;a[e]=arguments.length>1?u.call(arguments):t;if(!--n){o.resolveWith(i,a)}}};if(n<=1){H(e,o.done(s(r)).resolve,o.reject,!n);if(o.state()==="pending"||y(a[r]&&a[r].then)){return o.then()}}while(r--){H(a[r],s(r),o.reject)}return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){if(T.console&&T.console.warn&&t&&U.test(t.name)){T.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)}};E.readyException=function(t){T.setTimeout(function(){throw t})};var W=E.Deferred();E.fn.ready=function(t){W.then(t).catch(function(t){E.readyException(t)});return this};E.extend({isReady:false,readyWait:1,ready:function t(e){if(e===true?--E.readyWait:E.isReady){return}E.isReady=true;if(e!==true&&--E.readyWait>0){return}W.resolveWith(x,[E])}});E.ready.then=W.then;function Y(){x.removeEventListener("DOMContentLoaded",Y);T.removeEventListener("load",Y);E.ready()}if(x.readyState==="complete"||x.readyState!=="loading"&&!x.documentElement.doScroll){T.setTimeout(E.ready)}else{x.addEventListener("DOMContentLoaded",Y);T.addEventListener("load",Y)}var V=function t(e,n,r,i,a,o,s){var u=0,l=e.length,c=r==null;if(O(r)==="object"){a=true;for(u in r){t(e,n,u,r[u],true,o,s)}}else if(i!==undefined){a=true;if(!y(i)){s=true}if(c){if(s){n.call(e,i);n=null}else{c=n;n=function t(e,n,r){return c.call(E(e),r)}}}if(n){for(;u<l;u++){n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)))}}}if(a){return e}if(c){return n.call(e)}return l?n(e[0],r):o};var q=/^-ms-/,z=/-([a-z])/g;function B(t,e){return e.toUpperCase()}function K(t){return t.replace(q,"ms-").replace(z,B)}var X=function t(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Z(){this.expando=E.expando+Z.uid++}Z.uid=1;Z.prototype={cache:function t(e){var n=e[this.expando];if(!n){n={};if(X(e)){if(e.nodeType){e[this.expando]=n}else{Object.defineProperty(e,this.expando,{value:n,configurable:true})}}}return n},set:function t(e,n,r){var i,a=this.cache(e);if(typeof n==="string"){a[K(n)]=r}else{for(i in n){a[K(i)]=n[i]}}return a},get:function t(e,n){return n===undefined?this.cache(e):e[this.expando]&&e[this.expando][K(n)]},access:function t(e,n,r){if(n===undefined||n&&typeof n==="string"&&r===undefined){return this.get(e,n)}this.set(e,n,r);return r!==undefined?r:n},remove:function t(e,n){var r,i=e[this.expando];if(i===undefined){return}if(n!==undefined){if(Array.isArray(n)){n=n.map(K)}else{n=K(n);n=n in i?[n]:n.match(L)||[]}r=n.length;while(r--){delete i[n[r]]}}if(n===undefined||E.isEmptyObject(i)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function t(e){var n=e[this.expando];return n!==undefined&&!E.isEmptyObject(n)}};var Q=new Z;var J=new Z;var tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t){if(t==="true"){return true}if(t==="false"){return false}if(t==="null"){return null}if(t===+t+""){return+t}if(tt.test(t)){return JSON.parse(t)}return t}function rt(t,e,n){var r;if(n===undefined&&t.nodeType===1){r="data-"+e.replace(et,"-$&").toLowerCase();n=t.getAttribute(r);if(typeof n==="string"){try{n=nt(n)}catch(t){}J.set(t,e,n)}else{n=undefined}}return n}E.extend({hasData:function t(e){return J.hasData(e)||Q.hasData(e)},data:function t(e,n,r){return J.access(e,n,r)},removeData:function t(e,n){J.remove(e,n)},_data:function t(e,n,r){return Q.access(e,n,r)},_removeData:function t(e,n){Q.remove(e,n)}});E.fn.extend({data:function t(n,e){var r,i,t,a=this[0],o=a&&a.attributes;if(n===undefined){if(this.length){t=J.get(a);if(a.nodeType===1&&!Q.get(a,"hasDataAttrs")){r=o.length;while(r--){if(o[r]){i=o[r].name;if(i.indexOf("data-")===0){i=K(i.slice(5));rt(a,i,t[i])}}}Q.set(a,"hasDataAttrs",true)}}return t}if(typeof n==="object"){return this.each(function(){J.set(this,n)})}return V(this,function(t){var e;if(a&&t===undefined){e=J.get(a,n);if(e!==undefined){return e}e=rt(a,n);if(e!==undefined){return e}return}this.each(function(){J.set(this,n,t)})},null,e,arguments.length>1,null,true)},removeData:function t(e){return this.each(function(){J.remove(this,e)})}});E.extend({queue:function t(e,n,r){var t;if(e){n=(n||"fx")+"queue";t=Q.get(e,n);if(r){if(!t||Array.isArray(r)){t=Q.access(e,n,E.makeArray(r))}else{t.push(r)}}return t||[]}},dequeue:function t(e,n){n=n||"fx";var r=E.queue(e,n),i=r.length,a=r.shift(),o=E._queueHooks(e,n),s=function t(){E.dequeue(e,n)};if(a==="inprogress"){a=r.shift();i--}if(a){if(n==="fx"){r.unshift("inprogress")}delete o.stop;a.call(e,s,o)}if(!i&&o){o.empty.fire()}},_queueHooks:function t(e,n){var r=n+"queueHooks";return Q.get(e,r)||Q.access(e,r,{empty:E.Callbacks("once memory").add(function(){Q.remove(e,[n+"queue",r])})})}});E.fn.extend({queue:function t(e,n){var r=2;if(typeof e!=="string"){n=e;e="fx";r--}if(arguments.length<r){return E.queue(this[0],e)}return n===undefined?this:this.each(function(){var t=E.queue(this,e,n);E._queueHooks(this,e);if(e==="fx"&&t[0]!=="inprogress"){E.dequeue(this,e)}})},dequeue:function t(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function t(e){return this.queue(e||"fx",[])},promise:function t(e,n){var r,i=1,a=E.Deferred(),o=this,s=this.length,u=function t(){if(!--i){a.resolveWith(o,[o])}};if(typeof e!=="string"){n=e;e=undefined}e=e||"fx";while(s--){r=Q.get(o[s],e+"queueHooks");if(r&&r.empty){i++;r.empty.add(u)}}u();return a.promise(n)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var at=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i");var ot=["Top","Right","Bottom","Left"];var st=function t(e,n){e=n||e;return e.style.display==="none"||e.style.display===""&&E.contains(e.ownerDocument,e)&&E.css(e,"display")==="none"};var ut=function t(e,n,r,i){var a,o,s={};for(o in n){s[o]=e.style[o];e.style[o]=n[o]}a=r.apply(e,i||[]);for(o in n){e.style[o]=s[o]}return a};function lt(t,e,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return E.css(t,e,"")},u=s(),l=n&&n[3]||(E.cssNumber[e]?"":"px"),c=(E.cssNumber[e]||l!=="px"&&+u)&&at.exec(E.css(t,e));if(c&&c[3]!==l){u=u/2;l=l||c[3];c=+u||1;while(o--){E.style(t,e,c+l);if((1-a)*(1-(a=s()/u||.5))<=0){o=0}c=c/a}c=c*2;E.style(t,e,c+l);n=n||[]}if(n){c=+c||+u||0;i=n[1]?c+(n[1]+1)*n[2]:+n[2];if(r){r.unit=l;r.start=c;r.end=i}}return i}var ct={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,i=ct[r];if(i){return i}e=n.body.appendChild(n.createElement(r));i=E.css(e,"display");e.parentNode.removeChild(e);if(i==="none"){i="block"}ct[r]=i;return i}function ft(t,e){var n,r,i=[],a=0,o=t.length;for(;a<o;a++){r=t[a];if(!r.style){continue}n=r.style.display;if(e){if(n==="none"){i[a]=Q.get(r,"display")||null;if(!i[a]){r.style.display=""}}if(r.style.display===""&&st(r)){i[a]=ht(r)}}else{if(n!=="none"){i[a]="none";Q.set(r,"display",n)}}}for(a=0;a<o;a++){if(i[a]!=null){t[a].style.display=i[a]}}return t}E.fn.extend({show:function t(){return ft(this,true)},hide:function t(){return ft(this)},toggle:function t(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(st(this)){E(this).show()}else{E(this).hide()}})}});var dt=/^(?:checkbox|radio)$/i;var pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var vt=/^$|^module$|\/(?:java|ecma)script/i;var gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};gt.optgroup=gt.option;gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead;gt.th=gt.td;function mt(t,e){var n;if(typeof t.getElementsByTagName!=="undefined"){n=t.getElementsByTagName(e||"*")}else if(typeof t.querySelectorAll!=="undefined"){n=t.querySelectorAll(e||"*")}else{n=[]}if(e===undefined||e&&M(t,e)){return E.merge([t],n)}return n}function yt(t,e){var n=0,r=t.length;for(;n<r;n++){Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}}var _t=/<|&#?\w+;/;function bt(t,e,n,r,i){var a,o,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;for(;d<p;d++){a=t[d];if(a||a===0){if(O(a)==="object"){E.merge(f,a.nodeType?[a]:a)}else if(!_t.test(a)){f.push(e.createTextNode(a))}else{o=o||h.appendChild(e.createElement("div"));s=(pt.exec(a)||["",""])[1].toLowerCase();u=gt[s]||gt._default;o.innerHTML=u[1]+E.htmlPrefilter(a)+u[2];c=u[0];while(c--){o=o.lastChild}E.merge(f,o.childNodes);o=h.firstChild;o.textContent=""}}}h.textContent="";d=0;while(a=f[d++]){if(r&&E.inArray(a,r)>-1){if(i){i.push(a)}continue}l=E.contains(a.ownerDocument,a);o=mt(h.appendChild(a),"script");if(l){yt(o)}if(n){c=0;while(a=o[c++]){if(vt.test(a.type||"")){n.push(a)}}}}return h}(function(){var t=x.createDocumentFragment(),e=t.appendChild(x.createElement("div")),n=x.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");e.appendChild(n);m.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;e.innerHTML="<textarea>x</textarea>";m.noCloneChecked=!!e.cloneNode(true).lastChild.defaultValue})();var Ot=x.documentElement;var wt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function xt(){return true}function Et(){return false}function Ct(){try{return x.activeElement}catch(t){}}function Mt(t,e,n,r,i,a){var o,s;if(typeof e==="object"){if(typeof n!=="string"){r=r||n;n=undefined}for(s in e){Mt(t,s,n,r,e[s],a)}return t}if(r==null&&i==null){i=n;r=n=undefined}else if(i==null){if(typeof n==="string"){i=r;r=undefined}else{i=r;r=n;n=undefined}}if(i===false){i=Et}else if(!i){return t}if(a===1){o=i;i=function t(e){E().off(e);return o.apply(this,arguments)};i.guid=o.guid||(o.guid=E.guid++)}return t.each(function(){E.event.add(this,e,i,r,n)})}E.event={global:{},add:function t(e,n,r,i,a){var o,s,u,l,c,h,f,d,p,v,g,m=Q.get(e);if(!m){return}if(r.handler){o=r;r=o.handler;a=o.selector}if(a){E.find.matchesSelector(Ot,a)}if(!r.guid){r.guid=E.guid++}if(!(l=m.events)){l=m.events={}}if(!(s=m.handle)){s=m.handle=function(t){return typeof E!=="undefined"&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):undefined}}n=(n||"").match(L)||[""];c=n.length;while(c--){u=Tt.exec(n[c])||[];p=g=u[1];v=(u[2]||"").split(".").sort();if(!p){continue}f=E.event.special[p]||{};p=(a?f.delegateType:f.bindType)||p;f=E.event.special[p]||{};h=E.extend({type:p,origType:g,data:i,handler:r,guid:r.guid,selector:a,needsContext:a&&E.expr.match.needsContext.test(a),namespace:v.join(".")},o);if(!(d=l[p])){d=l[p]=[];d.delegateCount=0;if(!f.setup||f.setup.call(e,i,v,s)===false){if(e.addEventListener){e.addEventListener(p,s)}}}if(f.add){f.add.call(e,h);if(!h.handler.guid){h.handler.guid=r.guid}}if(a){d.splice(d.delegateCount++,0,h)}else{d.push(h)}E.event.global[p]=true}},remove:function t(e,n,r,i,a){var o,s,u,l,c,h,f,d,p,v,g,m=Q.hasData(e)&&Q.get(e);if(!m||!(l=m.events)){return}n=(n||"").match(L)||[""];c=n.length;while(c--){u=Tt.exec(n[c])||[];p=g=u[1];v=(u[2]||"").split(".").sort();if(!p){for(p in l){E.event.remove(e,p+n[c],r,i,true)}continue}f=E.event.special[p]||{};p=(i?f.delegateType:f.bindType)||p;d=l[p]||[];u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");s=o=d.length;while(o--){h=d[o];if((a||g===h.origType)&&(!r||r.guid===h.guid)&&(!u||u.test(h.namespace))&&(!i||i===h.selector||i==="**"&&h.selector)){d.splice(o,1);if(h.selector){d.delegateCount--}if(f.remove){f.remove.call(e,h)}}}if(s&&!d.length){if(!f.teardown||f.teardown.call(e,v,m.handle)===false){E.removeEvent(e,p,m.handle)}delete l[p]}}if(E.isEmptyObject(l)){Q.remove(e,"handle events")}},dispatch:function t(e){var n=E.event.fix(e);var r,i,a,o,s,u,l=new Array(arguments.length),c=(Q.get(this,"events")||{})[n.type]||[],h=E.event.special[n.type]||{};l[0]=n;for(r=1;r<arguments.length;r++){l[r]=arguments[r]}n.delegateTarget=this;if(h.preDispatch&&h.preDispatch.call(this,n)===false){return}u=E.event.handlers.call(this,n,c);r=0;while((o=u[r++])&&!n.isPropagationStopped()){n.currentTarget=o.elem;i=0;while((s=o.handlers[i++])&&!n.isImmediatePropagationStopped()){if(!n.rnamespace||n.rnamespace.test(s.namespace)){n.handleObj=s;n.data=s.data;a=((E.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l);if(a!==undefined){if((n.result=a)===false){n.preventDefault();n.stopPropagation()}}}}}if(h.postDispatch){h.postDispatch.call(this,n)}return n.result},handlers:function t(e,n){var r,i,a,o,s,u=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&!(e.type==="click"&&e.button>=1)){for(;c!==this;c=c.parentNode||this){if(c.nodeType===1&&!(e.type==="click"&&c.disabled===true)){o=[];s={};for(r=0;r<l;r++){i=n[r];a=i.selector+" ";if(s[a]===undefined){s[a]=i.needsContext?E(a,this).index(c)>-1:E.find(a,this,null,[c]).length}if(s[a]){o.push(i)}}if(o.length){u.push({elem:c,handlers:o})}}}}c=this;if(l<n.length){u.push({elem:c,handlers:n.slice(l)})}return u},addProp:function t(n,e){Object.defineProperty(E.Event.prototype,n,{enumerable:true,configurable:true,get:y(e)?function(){if(this.originalEvent){return e(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[n]}},set:function t(e){Object.defineProperty(this,n,{enumerable:true,configurable:true,writable:true,value:e})}})},fix:function t(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:true},focus:{trigger:function t(){if(this!==Ct()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function t(){if(this===Ct()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function t(){if(this.type==="checkbox"&&this.click&&M(this,"input")){this.click();return false}},_default:function t(e){return M(e.target,"a")}},beforeunload:{postDispatch:function t(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};E.removeEvent=function(t,e,n){if(t.removeEventListener){t.removeEventListener(e,n)}};E.Event=function(t,e){if(!(this instanceof E.Event)){return new E.Event(t,e)}if(t&&t.type){this.originalEvent=t;this.type=t.type;this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&t.returnValue===false?xt:Et;this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target;this.currentTarget=t.currentTarget;this.relatedTarget=t.relatedTarget}else{this.type=t}if(e){E.extend(this,e)}this.timeStamp=t&&t.timeStamp||Date.now();this[E.expando]=true};E.Event.prototype={constructor:E.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:false,preventDefault:function t(){var e=this.originalEvent;this.isDefaultPrevented=xt;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function t(){var e=this.originalEvent;this.isPropagationStopped=xt;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function t(){var e=this.originalEvent;this.isImmediatePropagationStopped=xt;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};E.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function t(e){var n=e.button;if(e.which==null&&wt.test(e.type)){return e.charCode!=null?e.charCode:e.keyCode}if(!e.which&&n!==undefined&&St.test(e.type)){if(n&1){return 1}if(n&2){return 3}if(n&4){return 2}return 0}return e.which}},E.event.addProp);E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){E.event.special[t]={delegateType:o,bindType:o,handle:function t(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;if(!i||i!==r&&!E.contains(r,i)){e.type=a.origType;n=a.handler.apply(this,arguments);e.type=o}return n}}});E.fn.extend({on:function t(e,n,r,i){return Mt(this,e,n,r,i)},one:function t(e,n,r,i){return Mt(this,e,n,r,i,1)},off:function t(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof e==="object"){for(a in e){this.off(a,n,e[a])}return this}if(n===false||typeof n==="function"){r=n;n=undefined}if(r===false){r=Et}return this.each(function(){E.event.remove(this,e,r,n)})}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,At=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){if(M(t,"table")&&M(e.nodeType!==11?e:e.firstChild,"tr")){return E(t).children("tbody")[0]||t}return t}function Dt(t){t.type=(t.getAttribute("type")!==null)+"/"+t.type;return t}function Pt(t){if((t.type||"").slice(0,5)==="true/"){t.type=t.type.slice(5)}else{t.removeAttribute("type")}return t}function Nt(t,e){var n,r,i,a,o,s,u,l;if(e.nodeType!==1){return}if(Q.hasData(t)){a=Q.access(t);o=Q.set(e,a);l=a.events;if(l){delete o.handle;o.events={};for(i in l){for(n=0,r=l[i].length;n<r;n++){E.event.add(e,i,l[i][n])}}}}if(J.hasData(t)){s=J.access(t);u=E.extend({},s);J.set(e,u)}}function Lt(t,e){var n=e.nodeName.toLowerCase();if(n==="input"&&dt.test(t.type)){e.checked=t.checked}else if(n==="input"||n==="textarea"){e.defaultValue=t.defaultValue}}function $t(n,r,i,a){r=v.apply([],r);var t,e,o,s,u,l,c=0,h=n.length,f=h-1,d=r[0],p=y(d);if(p||h>1&&typeof d==="string"&&!m.checkClone&&kt.test(d)){return n.each(function(t){var e=n.eq(t);if(p){r[0]=d.call(this,t,e.html())}$t(e,r,i,a)})}if(h){t=bt(r,n[0].ownerDocument,false,n,a);e=t.firstChild;if(t.childNodes.length===1){t=e}if(e||a){o=E.map(mt(t,"script"),Dt);s=o.length;for(;c<h;c++){u=t;if(c!==f){u=E.clone(u,true,true);if(s){E.merge(o,mt(u,"script"))}}i.call(n[c],u,c)}if(s){l=o[o.length-1].ownerDocument;E.map(o,Pt);for(c=0;c<s;c++){u=o[c];if(vt.test(u.type||"")&&!Q.access(u,"globalEval")&&E.contains(l,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(E._evalUrl){E._evalUrl(u.src)}}else{b(u.textContent.replace(It,""),l,u)}}}}}}return n}function Ft(t,e,n){var r,i=e?E.filter(e,t):t,a=0;for(;(r=i[a])!=null;a++){if(!n&&r.nodeType===1){E.cleanData(mt(r))}if(r.parentNode){if(n&&E.contains(r.ownerDocument,r)){yt(mt(r,"script"))}r.parentNode.removeChild(r)}}return t}E.extend({htmlPrefilter:function t(e){return e.replace(jt,"<$1></$2>")},clone:function t(e,n,r){var i,a,o,s,t=e.cloneNode(true),u=E.contains(e.ownerDocument,e);if(!m.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!E.isXMLDoc(e)){s=mt(t);o=mt(e);for(i=0,a=o.length;i<a;i++){Lt(o[i],s[i])}}if(n){if(r){o=o||mt(e);s=s||mt(t);for(i=0,a=o.length;i<a;i++){Nt(o[i],s[i])}}else{Nt(e,t)}}s=mt(t,"script");if(s.length>0){yt(s,!u&&mt(e,"script"))}return t},cleanData:function t(e){var n,r,i,a=E.event.special,o=0;for(;(r=e[o])!==undefined;o++){if(X(r)){if(n=r[Q.expando]){if(n.events){for(i in n.events){if(a[i]){E.event.remove(r,i)}else{E.removeEvent(r,i,n.handle)}}}r[Q.expando]=undefined}if(r[J.expando]){r[J.expando]=undefined}}}}});E.fn.extend({detach:function t(e){return Ft(this,e,true)},remove:function t(e){return Ft(this,e)},text:function t(e){return V(this,function(t){return t===undefined?E.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=t}})},null,e,arguments.length)},append:function t(){return $t(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=Rt(this,t);e.appendChild(t)}})},prepend:function t(){return $t(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}})},before:function t(){return $t(this,arguments,function(t){if(this.parentNode){this.parentNode.insertBefore(t,this)}})},after:function t(){return $t(this,arguments,function(t){if(this.parentNode){this.parentNode.insertBefore(t,this.nextSibling)}})},empty:function t(){var e,n=0;for(;(e=this[n])!=null;n++){if(e.nodeType===1){E.cleanData(mt(e,false));e.textContent=""}}return this},clone:function t(e,n){e=e==null?false:e;n=n==null?e:n;return this.map(function(){return E.clone(this,e,n)})},html:function t(e){return V(this,function(t){var e=this[0]||{},n=0,r=this.length;if(t===undefined&&e.nodeType===1){return e.innerHTML}if(typeof t==="string"&&!At.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<r;n++){e=this[n]||{};if(e.nodeType===1){E.cleanData(mt(e,false));e.innerHTML=t}}e=0}catch(t){}}if(e){this.empty().append(t)}},null,e,arguments.length)},replaceWith:function t(){var n=[];return $t(this,arguments,function(t){var e=this.parentNode;if(E.inArray(this,n)<0){E.cleanData(mt(this));if(e){e.replaceChild(t,this)}}},n)}});E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){E.fn[t]=function(t){var e,n=[],r=E(t),i=r.length-1,a=0;for(;a<=i;a++){e=a===i?this:this.clone(true);E(r[a])[o](e);s.apply(n,e.get())}return this.pushStack(n)}});var Gt=new RegExp("^("+it+")(?!px)[a-z%]+$","i");var Ht=function t(e){var n=e.ownerDocument.defaultView;if(!n||!n.opener){n=T}return n.getComputedStyle(e)};var Ut=new RegExp(ot.join("|"),"i");(function(){function e(){if(!l){return}u.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";Ot.appendChild(u).appendChild(l);var t=T.getComputedStyle(l);r=t.top!=="1%";s=n(t.marginLeft)===12;l.style.right="60%";o=n(t.right)===36;i=n(t.width)===36;l.style.position="absolute";a=l.offsetWidth===36||"absolute";Ot.removeChild(u);l=null}function n(t){return Math.round(parseFloat(t))}var r,i,a,o,s,u=x.createElement("div"),l=x.createElement("div");if(!l.style){return}l.style.backgroundClip="content-box";l.cloneNode(true).style.backgroundClip="";m.clearCloneStyle=l.style.backgroundClip==="content-box";E.extend(m,{boxSizingReliable:function t(){e();return i},pixelBoxStyles:function t(){e();return o},pixelPosition:function t(){e();return r},reliableMarginLeft:function t(){e();return s},scrollboxSize:function t(){e();return a}})})();function Wt(t,e,n){var r,i,a,o,s=t.style;n=n||Ht(t);if(n){o=n.getPropertyValue(e)||n[e];if(o===""&&!E.contains(t.ownerDocument,t)){o=E.style(t,e)}if(!m.pixelBoxStyles()&&Gt.test(o)&&Ut.test(e)){r=s.width;i=s.minWidth;a=s.maxWidth;s.minWidth=s.maxWidth=s.width=o;o=n.width;s.width=r;s.minWidth=i;s.maxWidth=a}}return o!==undefined?o+"":o}function Yt(e,n){return{get:function t(){if(e()){delete this.get;return}return(this.get=n).apply(this,arguments)}}}var Vt=/^(none|table(?!-c[ea]).+)/,qt=/^--/,zt={position:"absolute",visibility:"hidden",display:"block"},Bt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],Xt=x.createElement("div").style;function Zt(t){if(t in Xt){return t}var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;while(n--){t=Kt[n]+e;if(t in Xt){return t}}}function Qt(t){var e=E.cssProps[t];if(!e){e=E.cssProps[t]=Zt(t)||t}return e}function Jt(t,e,n){var r=at.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function te(t,e,n,r,i,a){var o=e==="width"?1:0,s=0,u=0;if(n===(r?"border":"content")){return 0}for(;o<4;o+=2){if(n==="margin"){u+=E.css(t,n+ot[o],true,i)}if(!r){u+=E.css(t,"padding"+ot[o],true,i);if(n!=="padding"){u+=E.css(t,"border"+ot[o]+"Width",true,i)}else{s+=E.css(t,"border"+ot[o]+"Width",true,i)}}else{if(n==="content"){u-=E.css(t,"padding"+ot[o],true,i)}if(n!=="margin"){u-=E.css(t,"border"+ot[o]+"Width",true,i)}}}if(!r&&a>=0){u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-u-s-.5))}return u}function ee(t,e,n){var r=Ht(t),i=Wt(t,e,r),a=E.css(t,"boxSizing",false,r)==="border-box",o=a;if(Gt.test(i)){if(!n){return i}i="auto"}o=o&&(m.boxSizingReliable()||i===t.style[e]);if(i==="auto"||!parseFloat(i)&&E.css(t,"display",false,r)==="inline"){i=t["offset"+e[0].toUpperCase()+e.slice(1)];o=true}i=parseFloat(i)||0;return i+te(t,e,n||(a?"border":"content"),o,r,i)+"px"}E.extend({cssHooks:{opacity:{get:function t(e,n){if(n){var r=Wt(e,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function t(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var a,o,s,u=K(n),l=qt.test(n),t=e.style;if(!l){n=Qt(u)}s=E.cssHooks[n]||E.cssHooks[u];if(r!==undefined){o=typeof r;if(o==="string"&&(a=at.exec(r))&&a[1]){r=lt(e,n,a);o="number"}if(r==null||r!==r){return}if(o==="number"){r+=a&&a[3]||(E.cssNumber[u]?"":"px")}if(!m.clearCloneStyle&&r===""&&n.indexOf("background")===0){t[n]="inherit"}if(!s||!("set"in s)||(r=s.set(e,r,i))!==undefined){if(l){t.setProperty(n,r)}else{t[n]=r}}}else{if(s&&"get"in s&&(a=s.get(e,false,i))!==undefined){return a}return t[n]}},css:function t(e,n,r,i){var a,o,s,u=K(n),l=qt.test(n);if(!l){n=Qt(u)}s=E.cssHooks[n]||E.cssHooks[u];if(s&&"get"in s){a=s.get(e,true,r)}if(a===undefined){a=Wt(e,n,i)}if(a==="normal"&&n in Bt){a=Bt[n]}if(r===""||r){o=parseFloat(a);return r===true||isFinite(o)?o||0:a}return a}});E.each(["height","width"],function(t,u){E.cssHooks[u]={get:function t(e,n,r){if(n){return Vt.test(E.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?ut(e,zt,function(){return ee(e,u,r)}):ee(e,u,r)}},set:function t(e,n,r){var i,a=Ht(e),o=E.css(e,"boxSizing",false,a)==="border-box",s=r&&te(e,u,r,o,a);if(o&&m.scrollboxSize()===a.position){s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(a[u])-te(e,u,"border",false,a)-.5)}if(s&&(i=at.exec(n))&&(i[3]||"px")!=="px"){e.style[u]=n;n=E.css(e,u)}return Jt(e,n,s)}}});E.cssHooks.marginLeft=Yt(m.reliableMarginLeft,function(t,e){if(e){return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}});E.each({margin:"",padding:"",border:"Width"},function(a,o){E.cssHooks[a+o]={expand:function t(e){var n=0,r={},i=typeof e==="string"?e.split(" "):[e];for(;n<4;n++){r[a+ot[n]+o]=i[n]||i[n-2]||i[0]}return r}};if(a!=="margin"){E.cssHooks[a+o].set=Jt}});E.fn.extend({css:function t(e,n){return V(this,function(t,e,n){var r,i,a={},o=0;if(Array.isArray(e)){r=Ht(t);i=e.length;for(;o<i;o++){a[e[o]]=E.css(t,e[o],false,r)}return a}return n!==undefined?E.style(t,e,n):E.css(t,e)},e,n,arguments.length>1)}});function ne(t,e,n,r,i){return new ne.prototype.init(t,e,n,r,i)}E.Tween=ne;ne.prototype={constructor:ne,init:function t(e,n,r,i,a,o){this.elem=e;this.prop=r;this.easing=a||E.easing._default;this.options=n;this.start=this.now=this.cur();this.end=i;this.unit=o||(E.cssNumber[r]?"":"px")},cur:function t(){var e=ne.propHooks[this.prop];return e&&e.get?e.get(this):ne.propHooks._default.get(this)},run:function t(e){var n,r=ne.propHooks[this.prop];if(this.options.duration){this.pos=n=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=n=e}this.now=(this.end-this.start)*n+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(r&&r.set){r.set(this)}else{ne.propHooks._default.set(this)}return this}};ne.prototype.init.prototype=ne.prototype;ne.propHooks={_default:{get:function t(e){var n;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}n=E.css(e.elem,e.prop,"");return!n||n==="auto"?0:n},set:function t(e){if(E.fx.step[e.prop]){E.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(e.elem.style[E.cssProps[e.prop]]!=null||E.cssHooks[e.prop])){E.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function t(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};E.easing={linear:function t(e){return e},swing:function t(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};E.fx=ne.prototype.init;E.fx.step={};var re,ie,ae=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){if(ie){if(x.hidden===false&&T.requestAnimationFrame){T.requestAnimationFrame(se)}else{T.setTimeout(se,E.fx.interval)}E.fx.tick()}}function ue(){T.setTimeout(function(){re=undefined});return re=Date.now()}function le(t,e){var n,r=0,i={height:t};e=e?1:0;for(;r<4;r+=2-e){n=ot[r];i["margin"+n]=i["padding"+n]=t}if(e){i.opacity=i.width=t}return i}function ce(t,e,n){var r,i=(de.tweeners[e]||[]).concat(de.tweeners["*"]),a=0,o=i.length;for(;a<o;a++){if(r=i[a].call(n,e,t)){return r}}}function he(t,e,n){var r,i,a,o,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,v=t.nodeType&&st(t),g=Q.get(t,"fxshow");if(!n.queue){o=E._queueHooks(t,"fx");if(o.unqueued==null){o.unqueued=0;s=o.empty.fire;o.empty.fire=function(){if(!o.unqueued){s()}}}o.unqueued++;f.always(function(){f.always(function(){o.unqueued--;if(!E.queue(t,"fx").length){o.empty.fire()}})})}for(r in e){i=e[r];if(ae.test(i)){delete e[r];a=a||i==="toggle";if(i===(v?"hide":"show")){if(i==="show"&&g&&g[r]!==undefined){v=true}else{continue}}d[r]=g&&g[r]||E.style(t,r)}}u=!E.isEmptyObject(e);if(!u&&E.isEmptyObject(d)){return}if(h&&t.nodeType===1){n.overflow=[p.overflow,p.overflowX,p.overflowY];l=g&&g.display;if(l==null){l=Q.get(t,"display")}c=E.css(t,"display");if(c==="none"){if(l){c=l}else{ft([t],true);l=t.style.display||l;c=E.css(t,"display");ft([t])}}if(c==="inline"||c==="inline-block"&&l!=null){if(E.css(t,"float")==="none"){if(!u){f.done(function(){p.display=l});if(l==null){c=p.display;l=c==="none"?"":c}}p.display="inline-block"}}}if(n.overflow){p.overflow="hidden";f.always(function(){p.overflow=n.overflow[0];p.overflowX=n.overflow[1];p.overflowY=n.overflow[2]})}u=false;for(r in d){if(!u){if(g){if("hidden"in g){v=g.hidden}}else{g=Q.access(t,"fxshow",{display:l})}if(a){g.hidden=!v}if(v){ft([t],true)}f.done(function(){if(!v){ft([t])}Q.remove(t,"fxshow");for(r in d){E.style(t,r,d[r])}})}u=ce(v?g[r]:0,r,f);if(!(r in g)){g[r]=u.start;if(v){u.end=u.start;u.start=0}}}}function fe(t,e){var n,r,i,a,o;for(n in t){r=K(n);i=e[r];a=t[n];if(Array.isArray(a)){i=a[1];a=t[n]=a[0]}if(n!==r){t[r]=a;delete t[n]}o=E.cssHooks[r];if(o&&"expand"in o){a=o.expand(a);delete t[r];for(n in a){if(!(n in t)){t[n]=a[n];e[n]=i}}}else{e[r]=i}}}function de(s,t,e){var n,u,r=0,i=de.prefilters.length,l=E.Deferred().always(function(){delete a.elem}),a=function t(){if(u){return false}var e=re||ue(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,i=1-r,a=0,o=c.tweens.length;for(;a<o;a++){c.tweens[a].run(i)}l.notifyWith(s,[c,i,n]);if(i<1&&o){return n}if(!o){l.notifyWith(s,[c,1,0])}l.resolveWith(s,[c]);return false},c=l.promise({elem:s,props:E.extend({},t),opts:E.extend(true,{specialEasing:{},easing:E.easing._default},e),originalProperties:t,originalOptions:e,startTime:re||ue(),duration:e.duration,tweens:[],createTween:function t(e,n){var r=E.Tween(s,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);c.tweens.push(r);return r},stop:function t(e){var n=0,r=e?c.tweens.length:0;if(u){return this}u=true;for(;n<r;n++){c.tweens[n].run(1)}if(e){l.notifyWith(s,[c,1,0]);l.resolveWith(s,[c,e])}else{l.rejectWith(s,[c,e])}return this}}),o=c.props;fe(o,c.opts.specialEasing);for(;r<i;r++){n=de.prefilters[r].call(c,s,o,c.opts);if(n){if(y(n.stop)){E._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)}return n}}E.map(o,ce,c);if(y(c.opts.start)){c.opts.start.call(s,c)}c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always);E.fx.timer(E.extend(a,{elem:s,anim:c,queue:c.opts.queue}));return c}E.Animation=E.extend(de,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);lt(n.elem,t,at.exec(e),n);return n}]},tweener:function t(e,n){if(y(e)){n=e;e=["*"]}else{e=e.match(L)}var r,i=0,a=e.length;for(;i<a;i++){r=e[i];de.tweeners[r]=de.tweeners[r]||[];de.tweeners[r].unshift(n)}},prefilters:[he],prefilter:function t(e,n){if(n){de.prefilters.unshift(e)}else{de.prefilters.push(e)}}});E.speed=function(t,e,n){var r=t&&typeof t==="object"?E.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};if(E.fx.off){r.duration=0}else{if(typeof r.duration!=="number"){if(r.duration in E.fx.speeds){r.duration=E.fx.speeds[r.duration]}else{r.duration=E.fx.speeds._default}}}if(r.queue==null||r.queue===true){r.queue="fx"}r.old=r.complete;r.complete=function(){if(y(r.old)){r.old.call(this)}if(r.queue){E.dequeue(this,r.queue)}};return r};E.fn.extend({fadeTo:function t(e,n,r,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:n},e,r,i)},animate:function t(n,e,r,i){var a=E.isEmptyObject(n),o=E.speed(e,r,i),s=function t(){var e=de(this,E.extend({},n),o);if(a||Q.get(this,"finish")){e.stop(true)}};s.finish=s;return a||o.queue===false?this.each(s):this.queue(o.queue,s)},stop:function t(i,e,a){var o=function t(e){var n=e.stop;delete e.stop;n(a)};if(typeof i!=="string"){a=e;e=i;i=undefined}if(e&&i!==false){this.queue(i||"fx",[])}return this.each(function(){var t=true,e=i!=null&&i+"queueHooks",n=E.timers,r=Q.get(this);if(e){if(r[e]&&r[e].stop){o(r[e])}}else{for(e in r){if(r[e]&&r[e].stop&&oe.test(e)){o(r[e])}}}for(e=n.length;e--;){if(n[e].elem===this&&(i==null||n[e].queue===i)){n[e].anim.stop(a);t=false;n.splice(e,1)}}if(t||!a){E.dequeue(this,i)}})},finish:function t(o){if(o!==false){o=o||"fx"}return this.each(function(){var t,e=Q.get(this),n=e[o+"queue"],r=e[o+"queueHooks"],i=E.timers,a=n?n.length:0;e.finish=true;E.queue(this,o,[]);if(r&&r.stop){r.stop.call(this,true)}for(t=i.length;t--;){if(i[t].elem===this&&i[t].queue===o){i[t].anim.stop(true);i.splice(t,1)}}for(t=0;t<a;t++){if(n[t]&&n[t].finish){n[t].finish.call(this)}}delete e.finish})}});E.each(["toggle","show","hide"],function(t,r){var i=E.fn[r];E.fn[r]=function(t,e,n){return t==null||typeof t==="boolean"?i.apply(this,arguments):this.animate(le(r,true),t,e,n)}});E.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){E.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}});E.timers=[];E.fx.tick=function(){var t,e=0,n=E.timers;re=Date.now();for(;e<n.length;e++){t=n[e];if(!t()&&n[e]===t){n.splice(e--,1)}}if(!n.length){E.fx.stop()}re=undefined};E.fx.timer=function(t){E.timers.push(t);E.fx.start()};E.fx.interval=13;E.fx.start=function(){if(ie){return}ie=true;se()};E.fx.stop=function(){ie=null};E.fx.speeds={slow:600,fast:200,_default:400};E.fn.delay=function(r,t){r=E.fx?E.fx.speeds[r]||r:r;t=t||"fx";return this.queue(t,function(t,e){var n=T.setTimeout(t,r);e.stop=function(){T.clearTimeout(n)}})};(function(){var t=x.createElement("input"),e=x.createElement("select"),n=e.appendChild(x.createElement("option"));t.type="checkbox";m.checkOn=t.value!=="";m.optSelected=n.selected;t=x.createElement("input");t.value="t";t.type="radio";m.radioValue=t.value==="t"})();var pe,ve=E.expr.attrHandle;E.fn.extend({attr:function t(e,n){return V(this,E.attr,e,n,arguments.length>1)},removeAttr:function t(e){return this.each(function(){E.removeAttr(this,e)})}});E.extend({attr:function t(e,n,r){var i,a,o=e.nodeType;if(o===3||o===8||o===2){return}if(typeof e.getAttribute==="undefined"){return E.prop(e,n,r)}if(o!==1||!E.isXMLDoc(e)){a=E.attrHooks[n.toLowerCase()]||(E.expr.match.bool.test(n)?pe:undefined)}if(r!==undefined){if(r===null){E.removeAttr(e,n);return}if(a&&"set"in a&&(i=a.set(e,r,n))!==undefined){return i}e.setAttribute(n,r+"");return r}if(a&&"get"in a&&(i=a.get(e,n))!==null){return i}i=E.find.attr(e,n);return i==null?undefined:i},attrHooks:{type:{set:function t(e,n){if(!m.radioValue&&n==="radio"&&M(e,"input")){var r=e.value;e.setAttribute("type",n);if(r){e.value=r}return n}}}},removeAttr:function t(e,n){var r,i=0,a=n&&n.match(L);if(a&&e.nodeType===1){while(r=a[i++]){e.removeAttribute(r)}}}});pe={set:function t(e,n,r){if(n===false){E.removeAttr(e,r)}else{e.setAttribute(r,r)}return r}};E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ve[e]||E.find.attr;ve[e]=function(t,e,n){var r,i,a=e.toLowerCase();if(!n){i=ve[a];ve[a]=r;r=o(t,e,n)!=null?a:null;ve[a]=i}return r}});var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;E.fn.extend({prop:function t(e,n){return V(this,E.prop,e,n,arguments.length>1)},removeProp:function t(e){return this.each(function(){delete this[E.propFix[e]||e]})}});E.extend({prop:function t(e,n,r){var i,a,o=e.nodeType;if(o===3||o===8||o===2){return}if(o!==1||!E.isXMLDoc(e)){n=E.propFix[n]||n;a=E.propHooks[n]}if(r!==undefined){if(a&&"set"in a&&(i=a.set(e,r,n))!==undefined){return i}return e[n]=r}if(a&&"get"in a&&(i=a.get(e,n))!==null){return i}return e[n]},propHooks:{tabIndex:{get:function t(e){var n=E.find.attr(e,"tabindex");if(n){return parseInt(n,10)}if(ge.test(e.nodeName)||me.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!m.optSelected){E.propHooks.selected={get:function t(e){var n=e.parentNode;if(n&&n.parentNode){n.parentNode.selectedIndex}return null},set:function t(e){var n=e.parentNode;if(n){n.selectedIndex;if(n.parentNode){n.parentNode.selectedIndex}}}}}E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function ye(t){var e=t.match(L)||[];return e.join(" ")}function _e(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){if(Array.isArray(t)){return t}if(typeof t==="string"){return t.match(L)||[]}return[]}E.fn.extend({addClass:function t(e){var n,r,i,a,o,s,u,l=0;if(y(e)){return this.each(function(t){E(this).addClass(e.call(this,t,_e(this)))})}n=be(e);if(n.length){while(r=this[l++]){a=_e(r);i=r.nodeType===1&&" "+ye(a)+" ";if(i){s=0;while(o=n[s++]){if(i.indexOf(" "+o+" ")<0){i+=o+" "}}u=ye(i);if(a!==u){r.setAttribute("class",u)}}}}return this},removeClass:function t(e){var n,r,i,a,o,s,u,l=0;if(y(e)){return this.each(function(t){E(this).removeClass(e.call(this,t,_e(this)))})}if(!arguments.length){return this.attr("class","")}n=be(e);if(n.length){while(r=this[l++]){a=_e(r);i=r.nodeType===1&&" "+ye(a)+" ";if(i){s=0;while(o=n[s++]){while(i.indexOf(" "+o+" ")>-1){i=i.replace(" "+o+" "," ")}}u=ye(i);if(a!==u){r.setAttribute("class",u)}}}}return this},toggleClass:function t(i,e){var a=typeof i,o=a==="string"||Array.isArray(i);if(typeof e==="boolean"&&o){return e?this.addClass(i):this.removeClass(i)}if(y(i)){return this.each(function(t){E(this).toggleClass(i.call(this,t,_e(this),e),e)})}return this.each(function(){var t,e,n,r;if(o){e=0;n=E(this);r=be(i);while(t=r[e++]){if(n.hasClass(t)){n.removeClass(t)}else{n.addClass(t)}}}else if(i===undefined||a==="boolean"){t=_e(this);if(t){Q.set(this,"__className__",t)}if(this.setAttribute){this.setAttribute("class",t||i===false?"":Q.get(this,"__className__")||"")}}})},hasClass:function t(e){var n,r,i=0;n=" "+e+" ";while(r=this[i++]){if(r.nodeType===1&&(" "+ye(_e(r))+" ").indexOf(n)>-1){return true}}return false}});var Oe=/\r/g;E.fn.extend({val:function t(n){var r,e,i,a=this[0];if(!arguments.length){if(a){r=E.valHooks[a.type]||E.valHooks[a.nodeName.toLowerCase()];if(r&&"get"in r&&(e=r.get(a,"value"))!==undefined){return e}e=a.value;if(typeof e==="string"){return e.replace(Oe,"")}return e==null?"":e}return}i=y(n);return this.each(function(t){var e;if(this.nodeType!==1){return}if(i){e=n.call(this,t,E(this).val())}else{e=n}if(e==null){e=""}else if(typeof e==="number"){e+=""}else if(Array.isArray(e)){e=E.map(e,function(t){return t==null?"":t+""})}r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,e,"value")===undefined){this.value=e}})}});E.extend({valHooks:{option:{get:function t(e){var n=E.find.attr(e,"value");return n!=null?n:ye(E.text(e))}},select:{get:function t(e){var n,r,i,a=e.options,o=e.selectedIndex,s=e.type==="select-one",u=s?null:[],l=s?o+1:a.length;if(o<0){i=l}else{i=s?o:0}for(;i<l;i++){r=a[i];if((r.selected||i===o)&&!r.disabled&&(!r.parentNode.disabled||!M(r.parentNode,"optgroup"))){n=E(r).val();if(s){return n}u.push(n)}}return u},set:function t(e,n){var r,i,a=e.options,o=E.makeArray(n),s=a.length;while(s--){i=a[s];if(i.selected=E.inArray(E.valHooks.option.get(i),o)>-1){r=true}}if(!r){e.selectedIndex=-1}return o}}}});E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function t(e,n){if(Array.isArray(n)){return e.checked=E.inArray(E(e).val(),n)>-1}}};if(!m.checkOn){E.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value}}});m.focusin="onfocusin"in T;var we=/^(?:focusinfocus|focusoutblur)$/,Se=function t(e){e.stopPropagation()};E.extend(E.event,{trigger:function t(e,n,r,i){var a,o,s,u,l,c,h,f,d=[r||x],p=g.call(e,"type")?e.type:e,v=g.call(e,"namespace")?e.namespace.split("."):[];o=f=s=r=r||x;if(r.nodeType===3||r.nodeType===8){return}if(we.test(p+E.event.triggered)){return}if(p.indexOf(".")>-1){v=p.split(".");p=v.shift();v.sort()}l=p.indexOf(":")<0&&"on"+p;e=e[E.expando]?e:new E.Event(p,typeof e==="object"&&e);e.isTrigger=i?2:3;e.namespace=v.join(".");e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;e.result=undefined;if(!e.target){e.target=r}n=n==null?[e]:E.makeArray(n,[e]);h=E.event.special[p]||{};if(!i&&h.trigger&&h.trigger.apply(r,n)===false){return}if(!i&&!h.noBubble&&!_(r)){u=h.delegateType||p;if(!we.test(u+p)){o=o.parentNode}for(;o;o=o.parentNode){d.push(o);s=o}if(s===(r.ownerDocument||x)){d.push(s.defaultView||s.parentWindow||T)}}a=0;while((o=d[a++])&&!e.isPropagationStopped()){f=o;e.type=a>1?u:h.bindType||p;c=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle");if(c){c.apply(o,n)}c=l&&o[l];if(c&&c.apply&&X(o)){e.result=c.apply(o,n);if(e.result===false){e.preventDefault()}}}e.type=p;if(!i&&!e.isDefaultPrevented()){if((!h._default||h._default.apply(d.pop(),n)===false)&&X(r)){if(l&&y(r[p])&&!_(r)){s=r[l];if(s){r[l]=null}E.event.triggered=p;if(e.isPropagationStopped()){f.addEventListener(p,Se)}r[p]();if(e.isPropagationStopped()){f.removeEventListener(p,Se)}E.event.triggered=undefined;if(s){r[l]=s}}}}return e.result},simulate:function t(e,n,r){var i=E.extend(new E.Event,r,{type:e,isSimulated:true});E.event.trigger(i,null,n)}});E.fn.extend({trigger:function t(e,n){return this.each(function(){E.event.trigger(e,n,this)})},triggerHandler:function t(e,n){var r=this[0];if(r){return E.event.trigger(e,n,r,true)}}});if(!m.focusin){E.each({focus:"focusin",blur:"focusout"},function(r,i){var a=function t(e){E.event.simulate(i,e.target,E.event.fix(e))};E.event.special[i]={setup:function t(){var e=this.ownerDocument||this,n=Q.access(e,i);if(!n){e.addEventListener(r,a,true)}Q.access(e,i,(n||0)+1)},teardown:function t(){var e=this.ownerDocument||this,n=Q.access(e,i)-1;if(!n){e.removeEventListener(r,a,true);Q.remove(e,i)}else{Q.access(e,i,n)}}}})}var Te=T.location;var xe=Date.now();var Ee=/\?/;E.parseXML=function(t){var e;if(!t||typeof t!=="string"){return null}try{e=(new T.DOMParser).parseFromString(t,"text/xml")}catch(t){e=undefined}if(!e||e.getElementsByTagName("parsererror").length){E.error("Invalid XML: "+t)}return e};var Ce=/\[\]$/,Me=/\r?\n/g,je=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function ke(n,t,r,i){var e;if(Array.isArray(t)){E.each(t,function(t,e){if(r||Ce.test(n)){i(n,e)}else{ke(n+"["+(typeof e==="object"&&e!=null?t:"")+"]",e,r,i)}})}else if(!r&&O(t)==="object"){for(e in t){ke(n+"["+e+"]",t[e],r,i)}}else{i(n,t)}}E.param=function(t,e){var n,i=[],r=function t(e,n){var r=y(n)?n():n;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(r==null?"":r)};if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t)){E.each(t,function(){r(this.name,this.value)})}else{for(n in t){ke(n,t[n],e,r)}}return i.join("&")};E.fn.extend({serialize:function t(){return E.param(this.serializeArray())},serializeArray:function t(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Ae.test(this.nodeName)&&!je.test(t)&&(this.checked||!dt.test(t))}).map(function(t,e){var n=E(this).val();if(n==null){return null}if(Array.isArray(n)){return E.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})}return{name:e.name,value:n.replace(Me,"\r\n")}}).get()}});var Ie=/%20/g,Re=/#.*$/,De=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Le=/^(?:GET|HEAD)$/,$e=/^\/\//,Fe={},Ge={},He="*/".concat("*"),Ue=x.createElement("a");Ue.href=Te.href;function We(a){return function(t,e){if(typeof t!=="string"){e=t;t="*"}var n,r=0,i=t.toLowerCase().match(L)||[];if(y(e)){while(n=i[r++]){if(n[0]==="+"){n=n.slice(1)||"*";(a[n]=a[n]||[]).unshift(e)}else{(a[n]=a[n]||[]).push(e)}}}}}function Ye(e,i,a,o){var s={},u=e===Ge;function l(t){var r;s[t]=true;E.each(e[t]||[],function(t,e){var n=e(i,a,o);if(typeof n==="string"&&!u&&!s[n]){i.dataTypes.unshift(n);l(n);return false}else if(u){return!(r=n)}});return r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ve(t,e){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in e){if(e[n]!==undefined){(i[n]?t:r||(r={}))[n]=e[n]}}if(r){E.extend(true,t,r)}return t}function qe(t,e,n){var r,i,a,o,s=t.contents,u=t.dataTypes;while(u[0]==="*"){u.shift();if(r===undefined){r=t.mimeType||e.getResponseHeader("Content-Type")}}if(r){for(i in s){if(s[i]&&s[i].test(r)){u.unshift(i);break}}}if(u[0]in n){a=u[0]}else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){a=i;break}if(!o){o=i}}a=a||o}if(a){if(a!==u[0]){u.unshift(a)}return n[a]}}function ze(t,e,n,r){var i,a,o,s,u,l={},c=t.dataTypes.slice();if(c[1]){for(o in t.converters){l[o.toLowerCase()]=t.converters[o]}}a=c.shift();while(a){if(t.responseFields[a]){n[t.responseFields[a]]=e}if(!u&&r&&t.dataFilter){e=t.dataFilter(e,t.dataType)}u=a;a=c.shift();if(a){if(a==="*"){a=u}else if(u!=="*"&&u!==a){o=l[u+" "+a]||l["* "+a];if(!o){for(i in l){s=i.split(" ");if(s[1]===a){o=l[u+" "+s[0]]||l["* "+s[0]];if(o){if(o===true){o=l[i]}else if(l[i]!==true){a=s[0];c.unshift(s[1])}break}}}}if(o!==true){if(o&&t.throws){e=o(e)}else{try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+u+" to "+a}}}}}}}return{state:"success",data:e}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:Ne.test(Te.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function t(e,n){return n?Ve(Ve(e,E.ajaxSettings),n):Ve(E.ajaxSettings,e)},ajaxPrefilter:We(Fe),ajaxTransport:We(Ge),ajax:function t(e,n){if(typeof e==="object"){n=e;e=undefined}n=n||{};var c,h,f,r,d,i,p,v,a,o,g=E.ajaxSetup({},n),m=g.context||g,y=g.context&&(m.nodeType||m.jquery)?E(m):E.event,_=E.Deferred(),b=E.Callbacks("once memory"),O=g.statusCode||{},s={},u={},l="canceled",w={readyState:0,getResponseHeader:function t(e){var n;if(p){if(!r){r={};while(n=Pe.exec(f)){r[n[1].toLowerCase()]=n[2]}}n=r[e.toLowerCase()]}return n==null?null:n},getAllResponseHeaders:function t(){return p?f:null},setRequestHeader:function t(e,n){if(p==null){e=u[e.toLowerCase()]=u[e.toLowerCase()]||e;s[e]=n}return this},overrideMimeType:function t(e){if(p==null){g.mimeType=e}return this},statusCode:function t(e){var n;if(e){if(p){w.always(e[w.status])}else{for(n in e){O[n]=[O[n],e[n]]}}}return this},abort:function t(e){var n=e||l;if(c){c.abort(n)}S(0,n);return this}};_.promise(w);g.url=((e||g.url||Te.href)+"").replace($e,Te.protocol+"//");g.type=n.method||n.type||g.method||g.type;g.dataTypes=(g.dataType||"*").toLowerCase().match(L)||[""];if(g.crossDomain==null){i=x.createElement("a");try{i.href=g.url;i.href=i.href;g.crossDomain=Ue.protocol+"//"+Ue.host!==i.protocol+"//"+i.host}catch(t){g.crossDomain=true}}if(g.data&&g.processData&&typeof g.data!=="string"){g.data=E.param(g.data,g.traditional)}Ye(Fe,g,n,w);if(p){return w}v=E.event&&g.global;if(v&&E.active++===0){E.event.trigger("ajaxStart")}g.type=g.type.toUpperCase();g.hasContent=!Le.test(g.type);h=g.url.replace(Re,"");if(!g.hasContent){o=g.url.slice(h.length);if(g.data&&(g.processData||typeof g.data==="string")){h+=(Ee.test(h)?"&":"?")+g.data;delete g.data}if(g.cache===false){h=h.replace(De,"$1");o=(Ee.test(h)?"&":"?")+"_="+xe+++o}g.url=h+o}else if(g.data&&g.processData&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0){g.data=g.data.replace(Ie,"+")}if(g.ifModified){if(E.lastModified[h]){w.setRequestHeader("If-Modified-Since",E.lastModified[h])}if(E.etag[h]){w.setRequestHeader("If-None-Match",E.etag[h])}}if(g.data&&g.hasContent&&g.contentType!==false||n.contentType){w.setRequestHeader("Content-Type",g.contentType)}w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!=="*"?", "+He+"; q=0.01":""):g.accepts["*"]);for(a in g.headers){w.setRequestHeader(a,g.headers[a])}if(g.beforeSend&&(g.beforeSend.call(m,w,g)===false||p)){return w.abort()}l="abort";b.add(g.complete);w.done(g.success);w.fail(g.error);c=Ye(Ge,g,n,w);if(!c){S(-1,"No Transport")}else{w.readyState=1;if(v){y.trigger("ajaxSend",[w,g])}if(p){return w}if(g.async&&g.timeout>0){d=T.setTimeout(function(){w.abort("timeout")},g.timeout)}try{p=false;c.send(s,S)}catch(t){if(p){throw t}S(-1,t)}}function S(t,e,n,r){var i,a,o,s,u,l=e;if(p){return}p=true;if(d){T.clearTimeout(d)}c=undefined;f=r||"";w.readyState=t>0?4:0;i=t>=200&&t<300||t===304;if(n){s=qe(g,w,n)}s=ze(g,s,w,i);if(i){if(g.ifModified){u=w.getResponseHeader("Last-Modified");if(u){E.lastModified[h]=u}u=w.getResponseHeader("etag");if(u){E.etag[h]=u}}if(t===204||g.type==="HEAD"){l="nocontent"}else if(t===304){l="notmodified"}else{l=s.state;a=s.data;o=s.error;i=!o}}else{o=l;if(t||!l){l="error";if(t<0){t=0}}}w.status=t;w.statusText=(e||l)+"";if(i){_.resolveWith(m,[a,l,w])}else{_.rejectWith(m,[w,l,o])}w.statusCode(O);O=undefined;if(v){y.trigger(i?"ajaxSuccess":"ajaxError",[w,g,i?a:o])}b.fireWith(m,[w,l]);if(v){y.trigger("ajaxComplete",[w,g]);if(!--E.active){E.event.trigger("ajaxStop")}}}return w},getJSON:function t(e,n,r){return E.get(e,n,r,"json")},getScript:function t(e,n){return E.get(e,undefined,n,"script")}});E.each(["get","post"],function(t,i){E[i]=function(t,e,n,r){if(y(e)){r=r||n;n=e;e=undefined}return E.ajax(E.extend({url:t,type:i,dataType:r,data:e,success:n},E.isPlainObject(t)&&t))}});E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:true,async:false,global:false,throws:true})};E.fn.extend({wrapAll:function t(e){var n;if(this[0]){if(y(e)){e=e.call(this[0])}n=E(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){n.insertBefore(this[0])}n.map(function(){var t=this;while(t.firstElementChild){t=t.firstElementChild}return t}).append(this)}return this},wrapInner:function t(n){if(y(n)){return this.each(function(t){E(this).wrapInner(n.call(this,t))})}return this.each(function(){var t=E(this),e=t.contents();if(e.length){e.wrapAll(n)}else{t.append(n)}})},wrap:function t(e){var n=y(e);return this.each(function(t){E(this).wrapAll(n?e.call(this,t):e)})},unwrap:function t(e){this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)});return this}});E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)};E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)};E.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(t){}};var Be={0:200,1223:204},Ke=E.ajaxSettings.xhr();m.cors=!!Ke&&"withCredentials"in Ke;m.ajax=Ke=!!Ke;E.ajaxTransport(function(a){var o,s;if(m.cors||Ke&&!a.crossDomain){return{send:function t(e,n){var r,i=a.xhr();i.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields){for(r in a.xhrFields){i[r]=a.xhrFields[r]}}if(a.mimeType&&i.overrideMimeType){i.overrideMimeType(a.mimeType)}if(!a.crossDomain&&!e["X-Requested-With"]){e["X-Requested-With"]="XMLHttpRequest"}for(r in e){i.setRequestHeader(r,e[r])}o=function t(e){return function(){if(o){o=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null;if(e==="abort"){i.abort()}else if(e==="error"){if(typeof i.status!=="number"){n(0,"error")}else{n(i.status,i.statusText)}}else{n(Be[i.status]||i.status,i.statusText,(i.responseType||"text")!=="text"||typeof i.responseText!=="string"?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders())}}}};i.onload=o();s=i.onerror=i.ontimeout=o("error");if(i.onabort!==undefined){i.onabort=s}else{i.onreadystatechange=function(){if(i.readyState===4){T.setTimeout(function(){if(o){s()}})}}}o=o("abort");try{i.send(a.hasContent&&a.data||null)}catch(t){if(o){throw t}}},abort:function t(){if(o){o()}}}}});E.ajaxPrefilter(function(t){if(t.crossDomain){t.contents.script=false}});E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function t(e){E.globalEval(e);return e}}});E.ajaxPrefilter("script",function(t){if(t.cache===undefined){t.cache=false}if(t.crossDomain){t.type="GET"}});E.ajaxTransport("script",function(r){if(r.crossDomain){var i,a;return{send:function t(e,n){i=E("<script>").prop({charset:r.scriptCharset,src:r.url}).on("load error",a=function t(e){i.remove();a=null;if(e){n(e.type==="error"?404:200,e.type)}});x.head.appendChild(i[0])},abort:function t(){if(a){a()}}}}});var Xe=[],Ze=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function t(){var e=Xe.pop()||E.expando+"_"+xe++;this[e]=true;return e}});E.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,a,o=t.jsonp!==false&&(Ze.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ze.test(t.data)&&"data");if(o||t.dataTypes[0]==="jsonp"){r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(o){t[o]=t[o].replace(Ze,"$1"+r)}else if(t.jsonp!==false){t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r}t.converters["script json"]=function(){if(!a){E.error(r+" was not called")}return a[0]};t.dataTypes[0]="json";i=T[r];T[r]=function(){a=arguments};n.always(function(){if(i===undefined){E(T).removeProp(r)}else{T[r]=i}if(t[r]){t.jsonpCallback=e.jsonpCallback;Xe.push(r)}if(a&&y(i)){i(a[0])}a=i=undefined});return"script"}});m.createHTMLDocument=function(){var t=x.implementation.createHTMLDocument("").body;t.innerHTML="<form></form><form></form>";return t.childNodes.length===2}();E.parseHTML=function(t,e,n){if(typeof t!=="string"){return[]}if(typeof e==="boolean"){n=e;e=false}var r,i,a;if(!e){if(m.createHTMLDocument){e=x.implementation.createHTMLDocument("");r=e.createElement("base");r.href=x.location.href;e.head.appendChild(r)}else{e=x}}i=j.exec(t);a=!n&&[];if(i){return[e.createElement(i[1])]}i=bt([t],e,a);if(a&&a.length){E(a).remove()}return E.merge([],i.childNodes)};E.fn.load=function(t,e,n){var r,i,a,o=this,s=t.indexOf(" ");if(s>-1){r=ye(t.slice(s));t=t.slice(0,s)}if(y(e)){n=e;e=undefined}else if(e&&typeof e==="object"){i="POST"}if(o.length>0){E.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){a=arguments;o.html(r?E("<div>").append(E.parseHTML(t)).find(r):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})})}return this};E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}});E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length};E.offset={setOffset:function t(e,n,r){var i,a,o,s,u,l,c,h=E.css(e,"position"),f=E(e),d={};if(h==="static"){e.style.position="relative"}u=f.offset();o=E.css(e,"top");l=E.css(e,"left");c=(h==="absolute"||h==="fixed")&&(o+l).indexOf("auto")>-1;if(c){i=f.position();s=i.top;a=i.left}else{s=parseFloat(o)||0;a=parseFloat(l)||0}if(y(n)){n=n.call(e,r,E.extend({},u))}if(n.top!=null){d.top=n.top-u.top+s}if(n.left!=null){d.left=n.left-u.left+a}if("using"in n){n.using.call(e,d)}else{f.css(d)}}};E.fn.extend({offset:function t(e){if(arguments.length){return e===undefined?this:this.each(function(t){E.offset.setOffset(this,e,t)})}var n,r,i=this[0];if(!i){return}if(!i.getClientRects().length){return{top:0,left:0}}n=i.getBoundingClientRect();r=i.ownerDocument.defaultView;return{top:n.top+r.pageYOffset,left:n.left+r.pageXOffset}},position:function t(){if(!this[0]){return}var e,n,r,i=this[0],a={top:0,left:0};if(E.css(i,"position")==="fixed"){n=i.getBoundingClientRect()}else{n=this.offset();r=i.ownerDocument;e=i.offsetParent||r.documentElement;while(e&&(e===r.body||e===r.documentElement)&&E.css(e,"position")==="static"){e=e.parentNode}if(e&&e!==i&&e.nodeType===1){a=E(e).offset();a.top+=E.css(e,"borderTopWidth",true);a.left+=E.css(e,"borderLeftWidth",true)}}return{top:n.top-a.top-E.css(i,"marginTop",true),left:n.left-a.left-E.css(i,"marginLeft",true)}},offsetParent:function t(){return this.map(function(){var t=this.offsetParent;while(t&&E.css(t,"position")==="static"){t=t.offsetParent}return t||Ot})}});E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var a="pageYOffset"===i;E.fn[e]=function(t){return V(this,function(t,e,n){var r;if(_(t)){r=t}else if(t.nodeType===9){r=t.defaultView}if(n===undefined){return r?r[i]:t[e]}if(r){r.scrollTo(!a?n:r.pageXOffset,a?n:r.pageYOffset)}else{t[e]=n}},e,t,arguments.length)}});E.each(["top","left"],function(t,n){E.cssHooks[n]=Yt(m.pixelPosition,function(t,e){if(e){e=Wt(t,n);return Gt.test(e)?E(t).position()[n]+"px":e}})});E.each({Height:"height",Width:"width"},function(o,s){E.each({padding:"inner"+o,content:s,"":"outer"+o},function(r,a){E.fn[a]=function(t,e){var n=arguments.length&&(r||typeof t!=="boolean"),i=r||(t===true||e===true?"margin":"border");return V(this,function(t,e,n){var r;if(_(t)){return a.indexOf("outer")===0?t["inner"+o]:t.document.documentElement["client"+o]}if(t.nodeType===9){r=t.documentElement;return Math.max(t.body["scroll"+o],r["scroll"+o],t.body["offset"+o],r["offset"+o],r["client"+o])}return n===undefined?E.css(t,e,i):E.style(t,e,n,i)},s,n?t:undefined,n)}})});E.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(t,n){E.fn[n]=function(t,e){return arguments.length>0?this.on(n,null,t,e):this.trigger(n)}});E.fn.extend({hover:function t(e,n){return this.mouseenter(e).mouseleave(n||e)}});E.fn.extend({bind:function t(e,n,r){return this.on(e,null,n,r)},unbind:function t(e,n){return this.off(e,null,n)},delegate:function t(e,n,r,i){return this.on(n,e,r,i)},undelegate:function t(e,n,r){return arguments.length===1?this.off(e,"**"):this.off(n,e||"**",r)}});E.proxy=function(e,n){var t,r,i;if(typeof n==="string"){t=e[n];n=e;e=t}if(!y(e)){return undefined}r=u.call(arguments,2);i=function t(){return e.apply(n||this,r.concat(u.call(arguments)))};i.guid=e.guid=e.guid||E.guid++;return i};E.holdReady=function(t){if(t){E.readyWait++}else{E.ready(true)}};E.isArray=Array.isArray;E.parseJSON=JSON.parse;E.nodeName=M;E.isFunction=y;E.isWindow=_;E.camelCase=K;E.type=O;E.now=Date.now;E.isNumeric=function(t){var e=E.type(t);return(e==="number"||e==="string")&&!isNaN(t-parseFloat(t))};if(true){!(nn=[],rn=function(){return E}.apply(en,nn),rn!==undefined&&(tn.exports=rn))}var Qe=T.jQuery,Je=T.$;E.noConflict=function(t){if(T.$===E){T.$=Je}if(t&&T.jQuery===E){T.jQuery=Qe}return E};if(!t){T.jQuery=T.$=E}return E})},function(t,e,n){"use strict";var m=n(5);var o=n(39);var r=n(93);var i=n(160);var s=n(9);var u=n(20);var l=n(2);var a=n(61);var c=n(11);var h=n(3);var f=n(47);var d=n(146);function p(n,a,o,s){return function(t,e,r){var i=new XMLHttpRequest;i.open("GET",typeof n==="function"?n(t,e,r):n,true);if(a.getType()==d["a"].ARRAY_BUFFER){i.responseType="arraybuffer"}i.onload=function(t){if(!i.status||i.status>=200&&i.status<300){var e=a.getType();var n;if(e==d["a"].JSON||e==d["a"].TEXT){n=i.responseText}else if(e==d["a"].XML){n=i.responseXML;if(!n){n=(new DOMParser).parseFromString(i.responseText,"application/xml")}}else if(e==d["a"].ARRAY_BUFFER){n=i.response}if(n){o.call(this,a.readFeatures(n,{featureProjection:r}),a.readProjection(n),a.getLastExtent())}else{s.call(this)}}else{s.call(this)}}.bind(this);i.onerror=function(){s.call(this)}.bind(this);i.send()}}function v(t,e){return p(t,e,function(t,e){var n=this;if(typeof n.addFeatures==="function"){n.addFeatures(t)}},f["c"])}function g(t,e){return[[-Infinity,-Infinity,Infinity,Infinity]]}function y(t,e){return[t]}function _(o){return function(t,e){var n=o.getZForResolution(e);var r=o.getTileRangeForExtentAndZ(t,n);var i=[];var a=[n,0,0];for(a[1]=r.minX;a[1]<=r.maxX;++a[1]){for(a[2]=r.minY;a[2]<=r.maxY;++a[2]){i.push(o.getTileCoordExtent(a))}}return i}}var b=n(10);var O=n(218);var w=n(138);var S=n(153);var T=n(198);var x=function(n){function t(t,e){n.call(this,t);this.feature=e}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(a["a"]);var E=function(a){function t(t){var e=t||{};a.call(this,{attributions:e.attributions,projection:undefined,state:w["a"].READY,wrapX:e.wrapX!==undefined?e.wrapX:true});this.loader_=f["c"];this.format_=e.format;this.overlaps_=e.overlaps==undefined?true:e.overlaps;this.url_=e.url;if(e.loader!==undefined){this.loader_=e.loader}else if(this.url_!==undefined){Object(u["a"])(this.format_,7);this.loader_=v(this.url_,this.format_)}this.strategy_=e.strategy!==undefined?e.strategy:g;var n=e.useSpatialIndex!==undefined?e.useSpatialIndex:true;this.featuresRtree_=n?new T["a"]:null;this.loadedExtentsRtree_=new T["a"];this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var r,i;if(Array.isArray(e.features)){i=e.features}else if(e.features){r=e.features;i=r.getArray()}if(!n&&r===undefined){r=new o["a"](i)}if(i!==undefined){this.addFeaturesInternal(i)}if(r!==undefined){this.bindFeaturesCollection_(r)}}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;t.prototype.addFeature=function t(e){this.addFeatureInternal(e);this.changed()};t.prototype.addFeatureInternal=function t(e){var n=Object(m["c"])(e);if(!this.addToIndex_(n,e)){return}this.setupChangeEvents_(n,e);var r=e.getGeometry();if(r){var i=r.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(i,e)}}else{this.nullGeometryFeatures_[n]=e}this.dispatchEvent(new x(S["a"].ADDFEATURE,e))};t.prototype.setupChangeEvents_=function t(e,n){this.featureChangeKeys_[e]=[Object(l["a"])(n,c["a"].CHANGE,this.handleFeatureChange_,this),Object(l["a"])(n,i["a"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};t.prototype.addToIndex_=function t(e,n){var r=true;var i=n.getId();if(i!==undefined){if(!(i.toString()in this.idIndex_)){this.idIndex_[i.toString()]=n}else{r=false}}else{Object(u["a"])(!(e in this.undefIdIndex_),30);this.undefIdIndex_[e]=n}return r};t.prototype.addFeatures=function t(e){this.addFeaturesInternal(e);this.changed()};t.prototype.addFeaturesInternal=function t(e){var n=[];var r=[];var i=[];for(var a=0,o=e.length;a<o;a++){var s=e[a];var u=Object(m["c"])(s);if(this.addToIndex_(u,s)){r.push(s)}}for(var l=0,c=r.length;l<c;l++){var h=r[l];var f=Object(m["c"])(h);this.setupChangeEvents_(f,h);var d=h.getGeometry();if(d){var p=d.getExtent();n.push(p);i.push(h)}else{this.nullGeometryFeatures_[f]=h}}if(this.featuresRtree_){this.featuresRtree_.load(n,i)}for(var v=0,g=r.length;v<g;v++){this.dispatchEvent(new x(S["a"].ADDFEATURE,r[v]))}};t.prototype.bindFeaturesCollection_=function t(e){var n=false;Object(l["a"])(this,S["a"].ADDFEATURE,function(t){if(!n){n=true;e.push(t.feature);n=false}});Object(l["a"])(this,S["a"].REMOVEFEATURE,function(t){if(!n){n=true;e.remove(t.feature);n=false}});Object(l["a"])(e,r["a"].ADD,function(t){if(!n){n=true;this.addFeature(t.element);n=false}},this);Object(l["a"])(e,r["a"].REMOVE,function(t){if(!n){n=true;this.removeFeature(t.element);n=false}},this);this.featuresCollection_=e};t.prototype.clear=function t(e){if(e){for(var n in this.featureChangeKeys_){var r=this.featureChangeKeys_[n];r.forEach(l["e"])}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else{if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var i in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[i])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var a=new x(S["a"].CLEAR);this.dispatchEvent(a);this.changed()};t.prototype.forEachFeature=function t(e){if(this.featuresRtree_){return this.featuresRtree_.forEach(e)}else if(this.featuresCollection_){this.featuresCollection_.forEach(e)}};t.prototype.forEachFeatureAtCoordinateDirect=function t(n,r){var e=[n[0],n[1],n[0],n[1]];return this.forEachFeatureInExtent(e,function(t){var e=t.getGeometry();if(e.intersectsCoordinate(n)){return r(t)}else{return undefined}})};t.prototype.forEachFeatureInExtent=function t(e,n){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(e,n)}else if(this.featuresCollection_){this.featuresCollection_.forEach(n)}};t.prototype.forEachFeatureIntersectingExtent=function t(r,i){return this.forEachFeatureInExtent(r,function(t){var e=t.getGeometry();if(e.intersectsExtent(r)){var n=i(t);if(n){return n}}})};t.prototype.getFeaturesCollection=function t(){return this.featuresCollection_};t.prototype.getFeatures=function t(){var e;if(this.featuresCollection_){e=this.featuresCollection_.getArray()}else if(this.featuresRtree_){e=this.featuresRtree_.getAll();if(!Object(b["d"])(this.nullGeometryFeatures_)){Object(s["c"])(e,Object(b["c"])(this.nullGeometryFeatures_))}}return e};t.prototype.getFeaturesAtCoordinate=function t(e){var n=[];this.forEachFeatureAtCoordinateDirect(e,function(t){n.push(t)});return n};t.prototype.getFeaturesInExtent=function t(e){return this.featuresRtree_.getInExtent(e)};t.prototype.getClosestFeatureToCoordinate=function t(e,n){var i=e[0];var a=e[1];var o=null;var s=[NaN,NaN];var u=Infinity;var l=[-Infinity,-Infinity,Infinity,Infinity];var c=n?n:f["b"];this.featuresRtree_.forEachInExtent(l,function(t){if(c(t)){var e=t.getGeometry();var n=u;u=e.closestPointXY(i,a,s,u);if(u<n){o=t;var r=Math.sqrt(u);l[0]=i-r;l[1]=a-r;l[2]=i+r;l[3]=a+r}}});return o};t.prototype.getExtent=function t(e){return this.featuresRtree_.getExtent(e)};t.prototype.getFeatureById=function t(e){var n=this.idIndex_[e.toString()];return n!==undefined?n:null};t.prototype.getFormat=function t(){return this.format_};t.prototype.getOverlaps=function t(){return this.overlaps_};t.prototype.getUrl=function t(){return this.url_};t.prototype.handleFeatureChange_=function t(e){var n=e.target;var r=Object(m["c"])(n);var i=n.getGeometry();if(!i){if(!(r in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(n)}this.nullGeometryFeatures_[r]=n}}else{var a=i.getExtent();if(r in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[r];if(this.featuresRtree_){this.featuresRtree_.insert(a,n)}}else{if(this.featuresRtree_){this.featuresRtree_.update(a,n)}}}var o=n.getId();if(o!==undefined){var s=o.toString();if(r in this.undefIdIndex_){delete this.undefIdIndex_[r];this.idIndex_[s]=n}else{if(this.idIndex_[s]!==n){this.removeFromIdIndex_(n);this.idIndex_[s]=n}}}else{if(!(r in this.undefIdIndex_)){this.removeFromIdIndex_(n);this.undefIdIndex_[r]=n}}this.changed();this.dispatchEvent(new x(S["a"].CHANGEFEATURE,n))};t.prototype.hasFeature=function t(e){var n=e.getId();if(n!==undefined){return n in this.idIndex_}else{return Object(m["c"])(e)in this.undefIdIndex_}};t.prototype.isEmpty=function t(){return this.featuresRtree_.isEmpty()&&Object(b["d"])(this.nullGeometryFeatures_)};t.prototype.loadFeatures=function t(e,a,o){var s=this;var u=this.loadedExtentsRtree_;var l=this.strategy_(e,a);this.loading=false;var n=function t(e,n){var r=l[e];var i=u.forEachInExtent(r,function(t){return Object(h["g"])(t.extent,r)});if(!i){s.loader_.call(s,r,a,o);u.insert(r,{extent:r.slice()});s.loading=s.loader_!==f["c"]}};for(var r=0,i=l.length;r<i;++r){n(r,i)}};t.prototype.removeLoadedExtent=function t(e){var n=this.loadedExtentsRtree_;var r;n.forEachInExtent(e,function(t){if(Object(h["p"])(t.extent,e)){r=t;return true}});if(r){n.remove(r)}};t.prototype.removeFeature=function t(e){var n=Object(m["c"])(e);if(n in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[n]}else{if(this.featuresRtree_){this.featuresRtree_.remove(e)}}this.removeFeatureInternal(e);this.changed()};t.prototype.removeFeatureInternal=function t(e){var n=Object(m["c"])(e);this.featureChangeKeys_[n].forEach(l["e"]);delete this.featureChangeKeys_[n];var r=e.getId();if(r!==undefined){delete this.idIndex_[r.toString()]}else{delete this.undefIdIndex_[n]}this.dispatchEvent(new x(S["a"].REMOVEFEATURE,e))};t.prototype.removeFromIdIndex_=function t(e){var n=false;for(var r in this.idIndex_){if(this.idIndex_[r]===e){delete this.idIndex_[r];n=true;break}}return n};t.prototype.setLoader=function t(e){this.loader_=e};return t}(O["a"]);var C=e["a"]=E},function(t,e,n){"use strict";n.d(e,"a",function(){return a});n.d(e,"c",function(){return o});n.d(e,"b",function(){return s});var i=n(62);var r={};function a(t,e){var n=t.toLowerCase();r[n]=r[n+"s"]=r[e]=t}function o(t){return typeof t==="string"?r[t]||r[t.toLowerCase()]:undefined}function s(t){var e={},n,r;for(r in t){if(Object(i["a"])(t,r)){n=o(r);if(n){e[n]=t[r]}}}return e}},function(t,e,n){"use strict";var i=n(9);var a=n(3);var o=n(28);var s=n(7);var r=n(81);var u=n(126);var l=n(115);var c=n(117);var h=n(231);var f=n(176);var d=n(252);var p=n(250);var v=n(137);var g=function(n){function r(t,e){n.call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;if(e!==undefined&&!Array.isArray(t[0])){this.setFlatCoordinates(e,t)}else{this.setCoordinates(t,e)}}if(n)r.__proto__=n;r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.prototype.appendCoordinate=function t(e){if(!this.flatCoordinates){this.flatCoordinates=e.slice()}else{Object(i["c"])(this.flatCoordinates,e)}this.changed()};r.prototype.clone=function t(){return new r(this.flatCoordinates.slice(),this.layout)};r.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(a["e"])(this.getExtent(),e,n)){return i}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(u["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(u["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,false,e,n,r,i)};r.prototype.forEachSegment=function t(e){return Object(p["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};r.prototype.getCoordinateAtM=function t(e,n){if(this.layout!=o["a"].XYM&&this.layout!=o["a"].XYZM){return null}var r=n!==undefined?n:false;return Object(h["b"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r)};r.prototype.getCoordinates=function t(){return Object(c["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};r.prototype.getCoordinateAt=function t(e,n){return Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n)};r.prototype.getLength=function t(){return Object(d["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};r.prototype.getFlatMidpoint=function t(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};r.prototype.getSimplifiedGeometryInternal=function t(e){var n=[];n.length=Object(v["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0);return new r(n,o["a"].XY)};r.prototype.getType=function t(){return s["a"].LINE_STRING};r.prototype.intersectsExtent=function t(e){return Object(f["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};r.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(l["b"])(this.flatCoordinates,0,e,this.stride);this.changed()};return r}(r["a"]);e["a"]=g},function(t,e,n){"use strict";var o=n(248);var s=n(93);var r=n(42);var i=n(61);var u={LENGTH:"length"};var l=function(n){function t(t,e){n.call(this,t);this.element=e}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(i["a"]);var a=function(a){function t(t,e){a.call(this);var n=e||{};this.unique_=!!n.unique;this.array_=t?t:[];if(this.unique_){for(var r=0,i=this.array_.length;r<i;++r){this.assertUnique_(this.array_[r],r)}}this.updateLength_()}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;t.prototype.clear=function t(){while(this.getLength()>0){this.pop()}};t.prototype.extend=function t(e){for(var n=0,r=e.length;n<r;++n){this.push(e[n])}return this};t.prototype.forEach=function t(e){var n=this.array_;for(var r=0,i=n.length;r<i;++r){e(n[r],r,n)}};t.prototype.getArray=function t(){return this.array_};t.prototype.item=function t(e){return this.array_[e]};t.prototype.getLength=function t(){return this.get(u.LENGTH)};t.prototype.insertAt=function t(e,n){if(this.unique_){this.assertUnique_(n)}this.array_.splice(e,0,n);this.updateLength_();this.dispatchEvent(new l(s["a"].ADD,n))};t.prototype.pop=function t(){return this.removeAt(this.getLength()-1)};t.prototype.push=function t(e){if(this.unique_){this.assertUnique_(e)}var n=this.getLength();this.insertAt(n,e);return this.getLength()};t.prototype.remove=function t(e){var n=this.array_;for(var r=0,i=n.length;r<i;++r){if(n[r]===e){return this.removeAt(r)}}return undefined};t.prototype.removeAt=function t(e){var n=this.array_[e];this.array_.splice(e,1);this.updateLength_();this.dispatchEvent(new l(s["a"].REMOVE,n));return n};t.prototype.setAt=function t(e,n){var r=this.getLength();if(e<r){if(this.unique_){this.assertUnique_(n,e)}var i=this.array_[e];this.array_[e]=n;this.dispatchEvent(new l(s["a"].REMOVE,i));this.dispatchEvent(new l(s["a"].ADD,n))}else{for(var a=r;a<e;++a){this.insertAt(a,undefined)}this.insertAt(e,n)}};t.prototype.updateLength_=function t(){this.set(u.LENGTH,this.array_.length)};t.prototype.assertUnique_=function t(e,n){for(var r=0,i=this.array_.length;r<i;++r){if(this.array_[r]===e&&r!==n){throw new o["a"](58)}}};return t}(r["a"]);e["a"]=a},function(t,e,n){"use strict";n.d(e,"a",function(){return i});function r(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function i(t){if(t._pf==null){t._pf=r()}return t._pf}},function(t,e,n){"use strict";var i=n(119);var r=n(87);var a=n(255);var o=n(10);var s=n(16);var u={RENDER_ORDER:"renderOrder"};var l=function(r){function t(t){var e=t?t:{};var n=Object(o["a"])({},e);delete n.style;delete n.renderBuffer;delete n.updateWhileAnimating;delete n.updateWhileInteracting;r.call(this,n);this.declutter_=e.declutter!==undefined?e.declutter:false;this.renderBuffer_=e.renderBuffer!==undefined?e.renderBuffer:100;this.style_=null;this.styleFunction_=undefined;this.setStyle(e.style);this.updateWhileAnimating_=e.updateWhileAnimating!==undefined?e.updateWhileAnimating:false;this.updateWhileInteracting_=e.updateWhileInteracting!==undefined?e.updateWhileInteracting:false;this.renderMode_=e.renderMode||a["a"].VECTOR;this.type=i["a"].VECTOR}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.getDeclutter=function t(){return this.declutter_};t.prototype.setDeclutter=function t(e){this.declutter_=e};t.prototype.getRenderBuffer=function t(){return this.renderBuffer_};t.prototype.getRenderOrder=function t(){return this.get(u.RENDER_ORDER)};t.prototype.getStyle=function t(){return this.style_};t.prototype.getStyleFunction=function t(){return this.styleFunction_};t.prototype.getUpdateWhileAnimating=function t(){return this.updateWhileAnimating_};t.prototype.getUpdateWhileInteracting=function t(){return this.updateWhileInteracting_};t.prototype.setRenderOrder=function t(e){this.set(u.RENDER_ORDER,e)};t.prototype.setStyle=function t(e){this.style_=e!==undefined?e:s["a"];this.styleFunction_=e===null?undefined:Object(s["d"])(this.style_);this.changed()};t.prototype.getRenderMode=function t(){return this.renderMode_};return t}(r["a"]);l.prototype.getSource;e["a"]=l},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var r=n(5);var i=n(160);var a=n(90);var o=n(61);var s=n(10);var u=function(r){function t(t,e,n){r.call(this,t);this.key=e;this.oldValue=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(o["a"]);var l=function(e){function t(t){e.call(this);Object(r["c"])(this);this.values_={};if(t!==undefined){this.setProperties(t)}}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.get=function t(e){var n;if(this.values_.hasOwnProperty(e)){n=this.values_[e]}return n};t.prototype.getKeys=function t(){return Object.keys(this.values_)};t.prototype.getProperties=function t(){return Object(s["a"])({},this.values_)};t.prototype.notify=function t(e,n){var r;r=h(e);this.dispatchEvent(new u(r,e,n));r=i["a"].PROPERTYCHANGE;this.dispatchEvent(new u(r,e,n))};t.prototype.set=function t(e,n,r){if(r){this.values_[e]=n}else{var i=this.values_[e];this.values_[e]=n;if(i!==n){this.notify(e,i)}}};t.prototype.setProperties=function t(e,n){for(var r in e){this.set(r,e[r],n)}};t.prototype.unset=function t(e,n){if(e in this.values_){var r=this.values_[e];delete this.values_[e];if(!n){this.notify(e,r)}}};return t}(a["a"]);var c={};function h(t){return c.hasOwnProperty(t)?c[t]:c[t]="change:"+t}e["a"]=l},function(t,e,n){"use strict";var r={BOOLEAN:"boolean",DATE:"date",DATETIME:"datetime",TIME:"time",GEOMETRY:"geometry",NUMBER:"number",SELECT:"select",TEXT:"text"};e["a"]=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return a});n.d(e,"d",function(){return l});n.d(e,"e",function(){return f});n.d(e,"f",function(){return d});n.d(e,"g",function(){return p});n.d(e,"c",function(){return v});n.d(e,"h",function(){return g});n.d(e,"i",function(){return y});var c=n(14);var h=n(123);function r(t,e){t[0]+=e[0];t[1]+=e[1];return t}function i(t,e){var n=e.getRadius();var r=e.getCenter();var i=r[0];var a=r[1];var o=t[0];var s=t[1];var u=o-i;var l=s-a;if(u===0&&l===0){u=1}var c=Math.sqrt(u*u+l*l);var h=i+n*u/c;var f=a+n*l/c;return[h,f]}function a(t,e){var n=t[0];var r=t[1];var i=e[0];var a=e[1];var o=i[0];var s=i[1];var u=a[0];var l=a[1];var c=u-o;var h=l-s;var f=c===0&&h===0?0:(c*(n-o)+h*(r-s))/(c*c+h*h||0);var d,p;if(f<=0){d=o;p=s}else if(f>=1){d=u;p=l}else{d=o+f*c;p=s+f*h}return[d,p]}function o(e){return function(t){return y(t,e)}}function s(t,e,n){var r=Object(c["d"])(e+180,360)-180;var i=Math.abs(3600*r);var a=n||0;var o=Math.pow(10,a);var s=Math.floor(i/3600);var u=Math.floor((i-s*3600)/60);var l=i-s*3600-u*60;l=Math.ceil(l*o)/o;if(l>=60){l=0;u+=1}if(u>=60){u=0;s+=1}return s+"° "+Object(h["b"])(u,2)+"′ "+Object(h["b"])(l,2,a)+"″"+(r==0?"":" "+t.charAt(r<0?1:0))}function u(t,e,n){if(t){return e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n))}else{return""}}function l(t,e){var n=true;for(var r=t.length-1;r>=0;--r){if(t[r]!=e[r]){n=false;break}}return n}function f(t,e){var n=Math.cos(e);var r=Math.sin(e);var i=t[0]*n-t[1]*r;var a=t[1]*n+t[0]*r;t[0]=i;t[1]=a;return t}function d(t,e){t[0]*=e;t[1]*=e;return t}function p(t,e){var n=t[0]-e[0];var r=t[1]-e[1];return n*n+r*r}function v(t,e){return Math.sqrt(p(t,e))}function g(t,e){return p(t,a(t,e))}function m(t,e){if(t){return s("NS",t[1],e)+" "+s("EW",t[0],e)}else{return""}}function y(t,e){return u(t,"{x}, {y}",e)}},function(t,e,n){"use strict";n.d(e,"c",function(){return i});n.d(e,"b",function(){return o});n.d(e,"f",function(){return s});n.d(e,"e",function(){return u});n.d(e,"d",function(){return l});var r={};r.obj=function(t){return t};r.supportsImageRenderingPixelatedResult_=undefined;r.imageRenderingValueResult_=undefined;r.supportsImageRenderingPixelated=function(){if(r.supportsImageRenderingPixelatedResult_===undefined){var t=document.createElement("canvas");t.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;");var e=t.style["imageRendering"];r.supportsImageRenderingPixelatedResult_=!!e;if(r.supportsImageRenderingPixelatedResult_){r.imageRenderingValueResult_=e}}return r.supportsImageRenderingPixelatedResult_};r.imageRenderingValue=function(){r.supportsImageRenderingPixelated();return r.imageRenderingValueResult_||""};r.getSourceProjection=function(t){return t.get("olcs.projection")||t.getProjection()};function i(t,e,n){return t.on(e,n)}var a=0;function o(t){return t.olcs_uid||(t.olcs_uid=++a)}function s(t,n){var e=t.length;var r=Array(t.length);for(var i=0;i<e;i++){r[i]={index:i,value:t[i]}}r.sort(function(t,e){return n(t.value,e.value)||t.index-e.index});for(var a=0;a<t.length;a++){t[a]=r[a].value}}function u(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){while(t.lastChild){t.removeChild(t.lastChild)}}e["a"]=r},function(t,e,n){"use strict";var r=n(11);e["a"]={SINGLECLICK:"singleclick",CLICK:r["a"].CLICK,DBLCLICK:r["a"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"a",function(){return i});n.d(e,"c",function(){return a});function r(){return true}function i(){return false}function a(){}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"c",function(){return i});n.d(e,"b",function(){return a});n.d(e,"f",function(){return o});n.d(e,"e",function(){return s});n.d(e,"d",function(){return u});function r(t,e){var n=document.createElement("canvas");if(t){n.width=t}if(e){n.height=e}return n.getContext("2d")}function i(t){var e=t.offsetWidth;var n=getComputedStyle(t);e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10);return e}function a(t){var e=t.offsetHeight;var n=getComputedStyle(t);e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10);return e}function o(t,e){var n=e.parentNode;if(n){n.replaceChild(t,e)}}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function u(t){while(t.lastChild){t.removeChild(t.lastChild)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});n.d(e,"c",function(){return u});n.d(e,"b",function(){return l});var r=n(62);var i=n(143);var a=n(31);var o={};function s(t,r){var e,n=r;if(typeof t==="string"){t=[t]}if(Object(i["a"])(r)){n=function t(e,n){n[r]=Object(a["a"])(e)}}for(e=0;e<t.length;e++){o[t[e]]=n}}function u(t,i){s(t,function(t,e,n,r){n._w=n._w||{};i(t,n._w,n,r)})}function l(t,e,n){if(e!=null&&Object(r["a"])(o,t)){o[t](e,n._a,n,t)}}},function(t,e,n){"use strict";var r=n(1);var i=n(2);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function o(t,e,n){if(e)a(t.prototype,e);if(n)a(t,n);return t}var s=function(){function s(t){this.active_=t.active===true;this.expression=t.expression!==undefined?t.expression:null;this.lowerBoundary_=t.lowerBoundary!==undefined?t.lowerBoundary:null;this.operator_=t.operator||null;this.upperBoundary_=t.upperBoundary!==undefined?t.upperBoundary:null;this.isCustom_=t.isCustom!==false;this.name_=t.name;this.operators_=t.operators||null;this.propertyName_=t.propertyName;this.type_=r["a"].assert(t.type);this.listenerKeys=[]}var t=s.prototype;t.getExpression=function t(){return this.expression};t.setExpression=function t(e){this.expression=e};t.reset=function t(){if(this.getExpression()!==null){this.setExpression(null)}if(this.lowerBoundary!==null){this.lowerBoundary=null}if(this.upperBoundary!==null){this.upperBoundary=null}};t.destroy=function t(){this.listenerKeys.forEach(i["e"]);this.listenerKeys.length=0};o(s,[{key:"active",get:function t(){return this.active_},set:function t(e){this.active_=e}},{key:"lowerBoundary",get:function t(){return this.lowerBoundary_},set:function t(e){this.lowerBoundary_=e}},{key:"operator",get:function t(){return this.operator_},set:function t(e){this.operator_=e}},{key:"upperBoundary",get:function t(){return this.upperBoundary_},set:function t(e){this.upperBoundary_=e}},{key:"isCustom",get:function t(){return this.isCustom_}},{key:"name",get:function t(){return this.name_}},{key:"operators",get:function t(){return this.operators_}},{key:"propertyName",get:function t(){return this.propertyName_}},{key:"type",get:function t(){return this.type_}},{key:"value",get:function t(){var e=null;var n=this.getExpression();var r=this.lowerBoundary;var i=this.operator;var a=this.propertyName;var o=this.upperBoundary;if(i){if(i===s.OperatorType.BETWEEN||i===s.TemporalOperatorType.DURING){if(r!==null&&o!==null){e={operator:i,lowerBoundary:r,propertyName:a,upperBoundary:o}}}else{if(n!==null){e={expression:n,operator:i,propertyName:a}}}}return e}}]);return s}();s.OperatorType={BETWEEN:"..",EQUAL_TO:"=",GREATER_THAN:">",GREATER_THAN_OR_EQUAL_TO:">=",LESSER_THAN:"<",LESSER_THAN_OR_EQUAL_TO:"<=",LIKE:"~",NOT_EQUAL_TO:"!="};s.SpatialOperatorType={CONTAINS:"contains",INTERSECTS:"intersects",WITHIN:"within"};s.TemporalOperatorType={BEGINS:"time_start",DURING:"time_during",ENDS:"time_end",EQUALS:"time_equal"};e["a"]=s},function(t,e,n){"use strict";n.r(e);var r=n(346);var i=n.n(r);var a=n(35);var o=n.n(a);var s=n(308);var u=n.n(s);var l=n(349);var c=n.n(l);var h=n(351);var f=n.n(h);var d=n(309);var p=n.n(d);var v=n(310);var g=n.n(v);if(window.location.protocol==="http:"&&window.location.hostname!=="localhost"){var m=window.location.href.substr(5);window.location="https:"+m}},function(t,e,n){"use strict";n.r(e);var r=n(155);var i=n(298);var a=angular.module("ngeoDatasourceModule",[r["a"].module.name,i["a"].module.name]);var o=a;var s=n(214);var u=function t(e,n){this.gettextCatalog_=n;this.encoding_=e.has("ngeoCsvEncoding")?e.get("ngeoCsvEncoding"):"utf-8";this.extension_=e.has("ngeoCsvExtension")?e.get("ngeoCsvExtension"):".csv";this.includeHeader_=e.has("ngeoCsvIncludeHeader")?e.get("ngeoCsvIncludeHeader"):true;this.quote_=e.has("ngeoCsvQuote")?e.get("ngeoCsvQuote"):'"';this.separator_=e.has("ngeoCsvSeparator")?e.get("ngeoCsvSeparator"):",";this.download_=e.get("ngeoDownload")};u.$inject=["$injector","gettextCatalog"];u.$inject=["$injector","gettextCatalog"];u.prototype.generateCsv=function(t,n){var r=this;if(t.length==0||n.length==0){return""}var e=n.map(function(t){return r.gettextCatalog_.getString(t.name)});var i=this.getRow_(e);var a=t.map(function(e){var t=n.map(function(t){return e[t.name]});return r.getRow_(t)});return this.includeHeader_?i+a.join(""):a.join("")};u.prototype.getRow_=function(t){var e=this;var n=new RegExp(this.quote_,"g");var r=this.quote_+this.quote_;var i=t.map(function(t){if(t!==undefined&&t!==null){t=""+t;return e.quote_+t.replace(n,r)+e.quote_}else{return""}});return i.join(this.separator_)+"\n"};u.prototype.startDownload=function(t,e,n){var r=this.generateCsv(t,e);this.download_(r,n,"text/csv;charset="+this.encoding_)};u.module=angular.module("ngeoCsvDownload",[s["a"].name]);u.module.service("ngeoCsvDownload",u);var l=u;var c=angular.module("ngeoDownloadModule",[l.module.name,s["a"].name]);var h=c;var f=n(264);var d=n(275);var p=n(277);var v=n(1);var g=n(95);var m=n(5);var y=n(2);var _=n(15);var b=n(47);var O=n(142);var w=n(26);var S=n(53);var T=function t(e){this.angle_=e.angle!==undefined?e.angle:0;this.radius_=e.radius;this.sides_=e.sides!==undefined?e.sides:3;this.listenerKeys_=[];S["a"].call(this,{handleEvent:b["b"]})};m["d"](T,S["a"]);T.prototype.setActive=function(t){S["a"].prototype.setActive.call(this,t);if(this.getMap()){if(t){this.enable_()}else{this.disable_()}}};T.prototype.setMap=function(t){var e=this.getActive();var n=this.getMap();if(n&&e){this.disable_()}S["a"].prototype.setMap.call(this,t);if(t&&e){this.enable_()}};T.prototype.enable_=function(){var t=this.getMap();v["a"].assert(t,"Map should be set.");this.listenerKeys_.push(y["a"](t,"click",this.handleMapClick_,this))};T.prototype.disable_=function(){var t=this.getMap();v["a"].assert(t,"Map should be set.");this.listenerKeys_.forEach(y["e"]);this.listenerKeys_.length=0};T.prototype.handleMapClick_=function(t){var e=t.coordinate;var n=w["b"].fromCircle(new O["a"](e),this.sides_);w["b"].makeRegular(n,e,this.radius_,this.angle_);var r=new g["a"]("drawend",{feature:new _["a"](n)});this.dispatchEvent(r)};var x=T;var E=angular.module("ngeoCreateregularpolygonfromclick",[]);E.directive_=function(){return{controller:"ngeoCreateregularpolygonfromclickController",bindToController:true,scope:{active:"=ngeoCreateregularpolygonfromclickActive",angle:"<?ngeoCreateregularpolygonfromclickAngle",features:"=ngeoCreateregularpolygonfromclickFeatures",map:"=ngeoCreateregularpolygonfromclickMap",radius:"<ngeoCreateregularpolygonfromclickRadius",sides:"<?ngeoCreateregularpolygonfromclickSides"}}};E.directive("ngeoCreateregularpolygonfromclick",E.directive_);E.Controller_=function(t){var e=this;this.active=false;t.$watch(function(){return e.active},function(t){e.interaction_.setActive(t)});this.angle;this.features;this.map;this.radius;this.sides;this.interaction_;this.interactionListenerKey_;t.$on("$destroy",this.handleDestroy_.bind(this))};E.Controller_.$inject=["$scope"];E.Controller_.prototype.$onInit=function(){this.interaction_=new x({angle:this.angle,radius:this.radius,sides:this.sides});this.interaction_.setActive(this.active);this.interactionListenerKey_=y["a"](this.interaction_,"drawend",this.handleDrawEnd_,this);this.map.addInteraction(this.interaction_)};E.Controller_.prototype.handleDrawEnd_=function(t){var e=new _["a"](t.feature.getGeometry());this.features.push(e)};E.Controller_.prototype.handleDestroy_=function(){y["e"](this.interactionListenerKey_);this.interaction_.setActive(false);this.map.removeInteraction(this.interaction_)};E.controller("ngeoCreateregularpolygonfromclickController",E.Controller_);var C=E;var M=angular.module("ngeoEditingModule",[d["a"].name,p["a"].name,C.name]);var j=M;var A=n(181);var k=n(151);var I=n(329);var R=n(265);var D=n(184);var P=n(43);var N=n(21);var L=n(101);var $=n(59);var F=n(278);var G=n(279);var H=n(39);var U=n(210);var W=function t(e){v["a"].assert(e.features);this.features_=e.features;this.listenerKeys_=[];this.interactions_=[];this.otherFeatures_=new H["a"];this.interactions_.push(new U["a"]({deleteCondition:L["a"].deleteCondition,features:this.otherFeatures_,pixelTolerance:e.pixelTolerance,style:e.style,wrapX:e.wrapX}));this.circleFeatures_=new H["a"];this.interactions_.push(new F["a"]({features:this.circleFeatures_,pixelTolerance:e.pixelTolerance,style:e.style,wrapX:e.wrapX}));this.rectangleFeatures_=new H["a"];this.interactions_.push(new G["a"]({features:this.rectangleFeatures_,pixelTolerance:e.pixelTolerance,style:e.style,wrapX:e.wrapX}));S["a"].call(this,{handleEvent:b["b"]})};m["d"](W,S["a"]);W.prototype.setActive=function(t){S["a"].prototype.setActive.call(this,t);this.setState_()};W.prototype.setMap=function(e){var t=this.interactions_;var n=this.getMap();if(n){t.forEach(function(t){n.removeInteraction(t)})}S["a"].prototype.setMap.call(this,e);if(e){t.forEach(function(t){e.addInteraction(t)})}this.setState_()};W.prototype.setState_=function(){var e=this;var n=this.getMap();var r=this.getActive();var t=this.interactions_;var i=this.listenerKeys_;t.forEach(function(t){t.setActive(r&&!!n)});if(r&&n){this.features_.forEach(function(t){return e.addFeature_(t)});i.push(y["a"](this.features_,"add",this.handleFeaturesAdd_,this),y["a"](this.features_,"remove",this.handleFeaturesRemove_,this))}else{i.forEach(y["e"]);i.length=0;this.features_.forEach(function(t){return e.removeFeature_(t)})}};W.prototype.handleFeaturesAdd_=function(t){var e=t.element;v["a"].assertInstanceof(e,_["a"],"feature should be an ol.Feature");this.addFeature_(e)};W.prototype.handleFeaturesRemove_=function(t){var e=t.element;this.removeFeature_(e)};W.prototype.addFeature_=function(t){var e=this.getFeatureCollection_(t);e.push(t)};W.prototype.removeFeature_=function(t){var e=this.getFeatureCollection_(t);e.remove(t)};W.prototype.getFeatureCollection_=function(t){var e;var n=t.get($["a"].IS_CIRCLE);var r=t.get($["a"].IS_RECTANGLE);if(n===true||n==="true"){e=this.circleFeatures_}else if(r===true||r==="true"){e=this.rectangleFeatures_}else{e=this.otherFeatures_}return e};var Y=W;var V=n(280);var q=n(3);var z=n(118);var B=n(38);var K=n(27);var X=n(202);var Z=n(41);var Q=n(36);var J=function t(e){this.listenerKeys_=[];this.featureListenerKeys_={};this.keyPressListenerKey_=null;this.myFeatures_=e.features!==undefined?e.features:null;this.vectorSource_=new Q["a"]({useSpatialIndex:false});this.vectorLayer_=new Z["a"]({source:this.vectorSource_,style:e.style,updateWhileAnimating:true,updateWhileInteracting:true});this.centerFeatures_={};X["a"].call(this,e)};m["d"](J,X["a"]);J.prototype.setActive=function(t){if(this.keyPressListenerKey_){y["e"](this.keyPressListenerKey_);this.keyPressListenerKey_=null}X["a"].prototype.setActive.call(this,t);if(t){this.keyPressListenerKey_=y["a"](document,"keyup",this.handleKeyUp_,this)}this.setState_()};J.prototype.setMap=function(t){var e=this.getMap();if(e){this.vectorLayer_.setMap(null)}X["a"].prototype.setMap.call(this,t);if(t){this.vectorLayer_.setMap(t)}this.setState_()};J.prototype.setState_=function(){var e=this;var t=this.getMap();var n=this.getActive();var r=this.myFeatures_;var i=this.listenerKeys_;if(t&&n&&r){r.forEach(function(t){return e.addFeature_(t)});i.push(y["a"](r,"add",this.handleFeaturesAdd_,this),y["a"](r,"remove",this.handleFeaturesRemove_,this))}else{if(t){var a=t.getTargetElement();a.style.cursor="default"}i.forEach(y["e"]);i.length=0;r.forEach(function(t){return e.removeFeature_(t)})}};J.prototype.handleFeaturesAdd_=function(t){var e=t.element;v["a"].assertInstanceof(e,_["a"],"feature should be an ol.Feature");this.addFeature_(e)};J.prototype.handleFeaturesRemove_=function(t){var e=t.element;this.removeFeature_(e)};J.prototype.addFeature_=function(t){var e=m["c"](t);var n=t.getGeometry();v["a"].assertInstanceof(n,z["a"]);this.featureListenerKeys_[e]=y["a"](n,"change",this.handleGeometryChange_.bind(this,t),this);var r=this.getGeometryCenterPoint_(n);var i=new _["a"](r);this.centerFeatures_[e]=i;this.vectorSource_.addFeature(i)};J.prototype.removeFeature_=function(t){var e=m["c"](t);if(this.featureListenerKeys_[e]){y["e"](this.featureListenerKeys_[e]);delete this.featureListenerKeys_[e];this.vectorSource_.removeFeature(this.centerFeatures_[e]);delete this.centerFeatures_[e]}};J.prototype.handleGeometryChange_=function(t,e){var n=e.target;v["a"].assertInstanceof(n,z["a"]);var r=this.getGeometryCenterPoint_(n);var i=m["c"](t);this.centerFeatures_[i].setGeometry(r)};J.prototype.getGeometryCenterPoint_=function(t){var e;var n;if(t instanceof w["b"]){n=t.getInteriorPoint()}else if(t instanceof B["a"]){e=t.getCoordinateAt(.5)}else{var r=t.getExtent();e=q["x"](r)}if(!n&&e){n=new K["a"](e)}v["a"].assert(n,"Point should be thruthy");return n};J.prototype.handleKeyUp_=function(t){if(t.keyCode===27){this.setActive(false)}};var tt=J;var et=n(203);var nt=n(222);var rt=n(91);var it=n(186);var at=n(76);var ot=n(129);var st=n(50);var ut=n(98);var lt=n(173);var ct=n(9);var ht=n(16);var ft=n(120);var dt=n(33);var pt=n(193);var vt=angular.module("ngeoRule",[R["a"].name,D["a"].module.name,et["a"].module.name,nt["a"].name,it["a"].module.name,ot["a"].module.name]);vt.run(["$templateCache",function(t){t.put("ngeo/filter/rulecomponent",n(387))}]);vt.value("ngeoRuleTemplateUrl",function(t){var e=t["ngeoRuleTemplateUrl"];return e!==undefined?e:"ngeo/filter/rulecomponent"});gt.$inject=["$attrs","ngeoRuleTemplateUrl"];function gt(t,e){return e(t)}vt.RuleController_=function(){t.$inject=["gettextCatalog","$scope","$timeout","ngeoFeatureHelper","ngeoRuleHelper","ngeoToolActivateMgr"];function t(t,e,n,r,i,a){var o,s;this.featureOverlay;this.map;this.rule;this.toolGroup;this.gettextCatalog_=t;this.scope_=e;this.timeout_=n;this.ngeoFeatureHelper_=r;this.ngeoRuleHelper_=i;this.ngeoToolActivateMgr_=a;this.clone;var u=st["a"].OperatorType;var l=st["a"].SpatialOperatorType;var c=st["a"].TemporalOperatorType;this.operators=(o={},o[u.EQUAL_TO]=t.getString("Is equal to"),o[u.GREATER_THAN]=t.getString("Is greater than"),o[u.GREATER_THAN_OR_EQUAL_TO]=t.getString("Is greater than or equal to"),o[u.LESSER_THAN]=t.getString("Is lesser than"),o[u.LESSER_THAN_OR_EQUAL_TO]=t.getString("Is lesser than or equal to"),o[u.NOT_EQUAL_TO]=t.getString("Is not equal to"),o[u.LIKE]=t.getString("Contains"),o[l.CONTAINS]=t.getString("Contains"),o[l.INTERSECTS]=t.getString("Intersects"),o[l.WITHIN]=t.getString("Is inside of"),o[c.BEGINS]=t.getString("Begins at"),o[c.DURING]=t.getString("During"),o[c.ENDS]=t.getString("Ends at"),o[c.EQUALS]=t.getString("Is equal to"),o);this.operatorsShortFormat=(s={},s[u.EQUAL_TO]="=",s[u.GREATER_THAN]=">",s[u.GREATER_THAN_OR_EQUAL_TO]=">=",s[u.LESSER_THAN]="<",s[u.LESSER_THAN_OR_EQUAL_TO]="<=",s[u.NOT_EQUAL_TO]="!=",s[u.LIKE]="~",s[c.BEGINS]=">=",s[c.ENDS]="<=",s[c.EQUALS]="=",s);this.timeRangeMode={widget:"datepicker",maxValue:null,minValue:null,maxDefValue:this.createDate_(),minDefValue:this.createWeekAgoDate_(),mode:"range",interval:[0,1,0,0]};this.timeValueMode={widget:"datepicker",maxValue:null,minValue:null,maxDefValue:this.createDate_(),minDefValue:this.createDate_(),mode:"value",interval:[0,1,0,0]};this.toolActivate_;this.unlisteners_=[];this.drawActive=false;this.drawToolActivate=new at["a"](this,"drawActive");this.drawnFeatures=new H["a"];this.menu_=null;this.selectedFeatures=new H["a"];this.interactions_=new H["a"];this.modify_=new Y({features:this.selectedFeatures,style:r.getVertexStyle(false)});this.interactions_.push(this.modify_);this.rotate_=new V["a"]({features:this.selectedFeatures,style:new ht["c"]({text:new ft["a"]({text:"",font:"normal 18px FontAwesome",fill:new dt["a"]({color:"#7a7a7a"})})})});this.interactions_.push(this.rotate_);this.translate_=new tt({features:this.selectedFeatures,style:new ht["c"]({text:new ft["a"]({text:"",font:"normal 18px FontAwesome",fill:new dt["a"]({color:"#7a7a7a"})})})});this.interactions_.push(this.translate_);this.listenerKeys_=[];this.initializeInteractions_();this.modifyToolActivate=new at["a"](this.modify_,"active");this.rotateToolActivate=new at["a"](this.rotate_,"active");this.translateToolActivate=new at["a"](this.translate_,"active");this.geomType=null}var e=t.prototype;e.$onInit=function t(){var a=this;this.clone=this.ngeoRuleHelper_.cloneRule(this.rule);this.toolActivate_=new at["a"](this.rule,"active");this.ngeoToolActivateMgr_.registerTool(this.toolGroup,this.toolActivate_);this.scope_.$watch(function(){return a.rule.active},this.handleActiveChange_.bind(this));if(this.clone.type===P["a"].DATE||this.clone.type===P["a"].DATETIME){this.unlisteners_.push(this.scope_.$watch(function(){return a.clone.getExpression()},function(t){a.timeValueMode.minValue=t}));this.unlisteners_.push(this.scope_.$watch(function(){return a.clone.lowerBoundary},function(t){a.timeRangeMode.minValue=t}));this.unlisteners_.push(this.scope_.$watch(function(){return a.clone.upperBoundary},function(t){a.timeRangeMode.maxValue=t}))}else if(this.clone.type===P["a"].GEOMETRY){this.unlisteners_.push(this.scope_.$watch(function(){return a.clone.operator},function(t){if(t&&t===st["a"].SpatialOperatorType.CONTAINS){var e=v["a"].assertInstanceof(a.clone,ut["a"]);var n=e.feature.getGeometry();if(n){var r=a.ngeoFeatureHelper_.getType(e.feature);var i=[N["a"].CIRCLE,N["a"].POLYGON,N["a"].RECTANGLE];if(!ct["f"](i,r)){a.clone.setExpression(null)}}}}));this.unlisteners_.push(this.scope_.$watch(function(){return a.clone.expression},function(t){if(t){var e=v["a"].assertInstanceof(a.clone,ut["a"]);a.geomType=a.ngeoFeatureHelper_.getType(e.feature)}else{a.geomType=null}}));this.unlisteners_.push(this.scope_.$watch(function(){var t=a.clone.getExpression()!==null;var e=a.rule.active===true;var n=a.modify_.getActive()||a.rotate_.getActive()||a.translate_.getActive();return t&&e&&n},function(t){if(t){var e=v["a"].assertInstanceof(a.clone,ut["a"]);a.selectedFeatures.push(e.feature)}else{a.selectedFeatures.clear()}}))}};e.$onDestroy=function t(){if(this.rule.active){this.rule.active=false;this.handleActiveChange_(false,true)}this.ngeoToolActivateMgr_.unregisterTool(this.toolGroup,this.toolActivate_);for(var e=0,n=this.unlisteners_.length;e<n;e++){this.unlisteners_[e]()}this.unlisteners_.length=0;this.clone.destroy()};e.toggle=function t(){if(this.rule.active){this.cancel()}else{this.rule.active=true}};e.apply=function t(){this.ngeoRuleHelper_.extendRule(this.clone,this.rule);this.rule.active=false};e.cancel=function t(){this.ngeoRuleHelper_.extendRule(this.rule,this.clone);this.rule.active=false};e.reset=function t(){this.clone.reset();this.rule.reset()};e.toggleChoiceSelection=function t(e){var n=v["a"].assertInstanceof(this.clone,lt["a"]);var r=n.getExpression()?n.getExpression().split(","):[];var i=r.indexOf(e);if(i>-1){r.splice(i,1)}else{r.push(e)}n.setExpression(r.length?r.join(","):null)};e.onDateSelected=function t(e){this.clone.setExpression(e["start"])};e.onDateRangeSelected=function t(e){this.clone.lowerBoundary=e["start"];this.clone.upperBoundary=e["end"]};e.createDate_=function t(e){var n=new Date;if(e!==undefined){var r=n.getTime()-e;n.setTime(r)}return n.toISOString()};e.createWeekAgoDate_=function t(){return this.createDate_(1e3*60*60*24*7)};e.timeToDate=function t(e){var n=new Date(e);return n.toLocaleDateString()};e.handleActiveChange_=function t(e,n){if(!(this.rule instanceof ut["a"])||!(this.clone instanceof ut["a"])||e===n){return}var r=this.listenerKeys_;var i=["ngeo-rule-",m["c"](this)].join("-");var a=this.ngeoToolActivateMgr_;var o=this.rule.feature;var s=this.clone.feature;var u=this.map.getViewport();v["a"].assertElement(u);if(e){r.push(y["a"](this.drawnFeatures,"add",this.handleFeaturesAdd_,this));r.push(y["a"](u,"contextmenu",this.handleMapContextMenu_,this));r.push(y["a"](this.translate_,"translateend",this.handleTranslateEnd_,this));r.push(y["a"](this.rotate_,"rotateend",this.handleRotateEnd_,this));this.featureOverlay.removeFeature(o);this.featureOverlay.addFeature(s);this.registerInteractions_();a.registerTool(i,this.drawToolActivate,false);a.registerTool(i,this.modifyToolActivate,true);a.registerTool(i,this.rotateToolActivate,false);a.registerTool(i,this.translateToolActivate,false);this.modify_.setActive(true);if(s.getGeometry()){this.ngeoFeatureHelper_.setStyle(s,true)}}else{s.setStyle(null);r.forEach(y["e"]);r.length=0;this.drawActive=false;a.unregisterTool(i,this.drawToolActivate);a.unregisterTool(i,this.modifyToolActivate);a.unregisterTool(i,this.rotateToolActivate);a.unregisterTool(i,this.translateToolActivate);this.modify_.setActive(false);this.unregisterInteractions_();if(this.selectedFeatures.getLength()){this.featureOverlay.removeFeature(s)}this.featureOverlay.addFeature(o);this.selectedFeatures.clear()}};e.initializeInteractions_=function t(){this.interactions_.forEach(function(t){t.setActive(false);rt["a"].interaction(t)})};e.registerInteractions_=function t(){var e=this;this.interactions_.forEach(function(t){e.map.addInteraction(t)})};e.unregisterInteractions_=function t(){var e=this;this.interactions_.forEach(function(t){e.map.removeInteraction(t)})};e.handleFeaturesAdd_=function t(a){var o=this;this.timeout_(function(){var t=v["a"].assertInstanceof(o.clone,ut["a"]);var e=t.feature;var n=v["a"].assertInstanceof(a.element,_["a"]);var r=v["a"].assertInstanceof(n.getGeometry(),z["a"]);t.geometry=r;o.drawActive=false;var i=o.ngeoFeatureHelper_.getNonSpatialProperties(n);o.ngeoFeatureHelper_.clearNonSpatialProperties(e);e.setProperties(i);o.ngeoFeatureHelper_.setStyle(e,true);o.scope_.$apply()})};e.getRuleGeometryType=function t(){var e=v["a"].assertInstanceof(this.rule,ut["a"]);return this.ngeoFeatureHelper_.getType(e.feature)};e.handleMapContextMenu_=function t(e){var n=this;this.removeMenu_();var r=this.map.getEventPixel(e);var i=this.map.getCoordinateFromPixel(r);var a=this.map.forEachFeatureAtPixel(r,function(t){var e=false;if(ct["f"](n.selectedFeatures.getArray(),t)){e=t}return e});a=a?a:null;var o=[];if(a){var s=this.ngeoFeatureHelper_.getType(a);var u=this.gettextCatalog_;if(s==N["a"].CIRCLE||s==N["a"].LINE_STRING||s==N["a"].POLYGON||s==N["a"].RECTANGLE){o.push({cls:"fas fa-arrows-alt",label:u.getString("Move"),name:"move"})}if(s==N["a"].LINE_STRING||s==N["a"].POLYGON||s==N["a"].RECTANGLE){o.push({cls:"fas fa-undo fa-flip-horizontal",label:u.getString("Rotate"),name:"rotate"})}}if(o.length){this.menu_=new I["a"]({actions:o});y["a"](this.menu_,"actionclick",this.handleMenuActionClick_,this);this.map.addOverlay(this.menu_);this.menu_.open(i);e.preventDefault();e.stopPropagation();this.scope_.$apply()}};e.removeMenu_=function t(){if(this.menu_){y["c"](this.menu_,"actionclick",this.handleMenuActionClick_,this);this.map.removeOverlay(this.menu_);this.menu_=null}};e.handleMenuActionClick_=function t(e){var n=e.detail.action;switch(n){case"move":this.translate_.setActive(true);this.scope_.$apply();break;case"rotate":this.rotate_.setActive(true);this.scope_.$apply();break;default:console.log("FIXME - support: "+n);break}};e.handleRotateEnd_=function t(e){this.rotate_.setActive(false);this.scope_.$apply()};e.handleTranslateEnd_=function t(e){this.translate_.setActive(false);this.scope_.$apply()};return t}();vt.component("ngeoRule",{bindings:{featureOverlay:"<",map:"<",rule:"<",toolGroup:"<"},controller:vt.RuleController_,templateUrl:gt});var mt=vt;var yt=angular.module("ngeoFilter",[D["a"].module.name,mt.name,et["a"].module.name,A["a"].module.name]);yt.run(["$templateCache",function(t){t.put("ngeo/filter",n(388))}]);yt.value("ngeoFilterTemplateUrl",function(t){var e=t["ngeoFilterTemplateUrl"];return e!==undefined?e:"ngeo/filter"});_t.$inject=["$attrs","ngeoFilterTemplateUrl"];function _t(t,e){return e(t)}yt.component("ngeoFilter",{bindings:{aRuleIsActive:"=",customRules:"<",datasource:"<",directedRules:"<",featureOverlay:"<",map:"<",toolGroup:"<"},controller:"ngeoFilterController",templateUrl:_t});yt.FilterController_=function(){t.$inject=["gettextCatalog","$scope","$timeout","ngeoMapQuerent","ngeoRuleHelper"];function t(t,e,n,r,i){this.aRuleIsActive;this.customRules;this.datasource;this.directedRules;this.featureOverlay;this.map;this.toolGroup;this.gettextCatalog_=t;this.scope_=e;this.timeout_=n;this.ngeoMapQuerent_=r;this.ngeoRuleHelper_=i;this.conditions=[{text:t.getString("All"),value:k["a"].AND},{text:t.getString("At least one"),value:k["a"].OR},{text:t.getString("None"),value:k["a"].NOT}];this.geometryAttributes=[];this.otherAttributes=[];this.ruleUnlisteners_={}}var e=t.prototype;e.$onInit=function t(){var e=this;this.scope_.$watch(function(){return e.aRuleIsActive},this.handleARuleIsActiveChange_.bind(this));var n=v["a"].assert(this.datasource.attributes);for(var r=n,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(s.type===P["a"].GEOMETRY){this.geometryAttributes.push(s)}else{this.otherAttributes.push(s)}}var u=[].concat(this.customRules,this.directedRules);for(var l=u,c=Array.isArray(l),h=0,l=c?l:l[Symbol.iterator]();;){var f;if(c){if(h>=l.length)break;f=l[h++]}else{h=l.next();if(h.done)break;f=h.value}var d=f;this.registerRule_(d)}this.apply()};e.$onDestroy=function t(){if(this.datasource.filterRules!==null){this.datasource.filterRules=null}this.featureOverlay.clear()};e.hasARule=function t(){return[].concat(this.customRules,this.directedRules).length>0};e.apply=function t(){var e=this;this.datasource.filterRules=null;this.timeout_(function(){var t=e.getRulesWithValue_();if(t.length){e.datasource.filterRules=t;e.ngeoMapQuerent_.clear()}})};e.getData=function t(){var e=this.getRulesWithValue_();if(!e.length){return}var n=this.datasource;var r=1e3;var i=this.map;var a=i.getView().getProjection().getCode();var o=this.ngeoRuleHelper_.createFilter({dataSource:n,filterRules:e,srsName:a});v["a"].assert(o);this.ngeoMapQuerent_.issue({dataSources:[n],filter:o,limit:r,map:i})};e.getRulesWithValue_=function t(){var e=[];var n=[].concat(this.customRules,this.directedRules);for(var r=n,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(s.value){e.push(s)}}return e};e.createAndAddCustomRule=function t(e){var n=this.ngeoRuleHelper_.createRuleFromAttribute(e,true);this.registerRule_(n);this.customRules.push(n);this.timeout_(function(){n.active=true},1)};e.setCondition=function t(e){if(this.datasource.filterCondition!==e.value){this.datasource.filterCondition=e.value}};e.removeCustomRule=function t(e){var n=this;e.active=false;this.timeout_(function(){ct["j"](n.customRules,e);n.unregisterRule_(e);e.destroy()})};e.registerRule_=function t(e){var n=m["c"](e);this.ruleUnlisteners_[n]=this.scope_.$watch(function(){return e.active},this.handleRuleActiveChange_.bind(this));if(e instanceof ut["a"]){this.featureOverlay.addFeature(e.feature)}};e.unregisterRule_=function t(e){var n=m["c"](e);var r=this.ruleUnlisteners_[n];v["a"].assert(r);r();delete this.ruleUnlisteners_[n];if(e instanceof ut["a"]){this.featureOverlay.removeFeature(e.feature)}};e.handleRuleActiveChange_=function t(){var e=false;var n=[].concat(this.customRules,this.directedRules);for(var r=n,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(s.active){e=true;break}}this.aRuleIsActive=e};e.handleARuleIsActiveChange_=function t(){if(this.aRuleIsActive){return}var e=[].concat(this.customRules,this.directedRules);for(var n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{i=n.next();if(i.done)break;a=i.value}var o=a;if(o.active){o.active=false;break}}};return t}();yt.controller("ngeoFilterController",yt.FilterController_);var bt=yt;var Ot=angular.module("ngeoFilterModule",[bt.name,D["a"].module.name,mt.name]);var wt=Ot;var St=n(296);var Tt=n(297);var xt=n(295);var Et=n(23);var Ct=n(223);var Mt=n(272);var jt=n(273);var At=n(274);var kt=angular.module("ngeoMeasureModule",[Mt["a"].name,jt["a"].name,At["a"].name]);var It=kt;var Rt=n(300);var Dt=n(281);var Pt=angular.module("ngeoPrintModule",[Rt["a"].module.name,Dt["a"].module.name]);var Nt=Pt;var Lt=n(294);var $t=angular.module("ngeoProfileModule",[Lt["a"].name]);var Ft=$t;var Gt=n(230);var Ht=n(228);var Ut=n(287);var Wt=n(64);var Yt=n(177);var Vt=function t(e,n,r){var i=this;var a=r;this.url_=a.url;this.maxFeatures_=a.maxFeatures!==undefined?a.maxFeatures:50;this.wfsTypes_={};v["a"].assertArray(a.wfsTypes,"wfsTypes is not correctly set");a.wfsTypes.forEach(function(t){i.wfsTypes_[t.featureType]=t});this.defaultFeatureNS_=a.defaultFeatureNS;this.defaultFeaturePrefix_=a.defaultFeaturePrefix;this.pointRecenterZoom_=a.pointRecenterZoom;this.$http_=e;this.result_=n};Vt.$inject=["$http","ngeoQueryResult","ngeoWfsPermalinkOptions"];Vt.$inject=["$http","ngeoQueryResult","ngeoWfsPermalinkOptions"];Vt.prototype.clear=function(){this.clearResult_()};Vt.prototype.issue=function(t,e){v["a"].assert(this.url_,"url is not set. to use the wfs permalink service, "+"set the value `ngeoWfsPermalinkOptions`");this.clearResult_();var n=t.wfsType;if(!this.wfsTypes_.hasOwnProperty(n)){return}var r=this.wfsTypes_[n];var i=this.createFilters_(t.filterGroups);if(i===null){return}this.issueRequest_(r,i,e,t.showFeatures)};Vt.prototype.issueRequest_=function(o,t,s,u){var l=this;var c=new Yt["a"];var e=c.writeGetFeature({srsName:s.getView().getProjection().getCode(),featureNS:o.featureNS!==undefined?o.featureNS:this.defaultFeatureNS_,featurePrefix:o.featurePrefix!==undefined?o.featurePrefix:this.defaultFeaturePrefix_,featureTypes:[o.featureType],outputFormat:"GML3",filter:t,maxFeatures:this.maxFeatures_});var n=(new XMLSerializer).serializeToString(e);var r={headers:{"Content-Type":"text/xml; charset=UTF-8"}};this.$http_.post(this.url_,n,r).then(function(t){var e=c.readFeatures(t.data);if(e.length==0){return}var n=s.getSize();if(n!==undefined){var r=l.pointRecenterZoom_;var i=[10,10,10,10];s.getView().fit(l.getExtent_(e),{size:n,maxZoom:r,padding:i})}if(u){var a={features:e,id:o.featureType,identifierAttributeField:o.label,label:o.featureType,pending:false};l.result_.sources.push(a);l.result_.total=e.length}})};Vt.prototype.getExtent_=function(t){return t.reduce(function(t,e){return q["q"](t,e.getGeometry().getExtent())},q["j"]())};Vt.prototype.createFilters_=function(t){if(t.length==0){return null}var r=Wt;var e=function t(e){var n=e.filters.map(function(e){var t=e.condition;if(Array.isArray(t)){return Vt.or_(t.map(function(t){return r.equalTo(e.property,t)}))}else{return r.equalTo(e.property,e.condition)}});return Vt.and_(n)};return Vt.or_(t.map(e))};Vt.and_=function(t){return Vt.joinFilters_(t,Wt["and"])};Vt.or_=function(t){return Vt.joinFilters_(t,Wt["or"])};Vt.joinFilters_=function(t,n){return t.reduce(function(t,e){if(t===null){return e}else{v["a"].assert(e!==null);return n(t,e)}},null)};Vt.prototype.clearResult_=function(){this.result_.total=0;this.result_.sources.forEach(function(t){t.features.length=0})};Vt.module=angular.module("ngeoWfsPermalink",[]);Vt.module.value("ngeoWfsPermalinkOptions",{url:"",wfsTypes:[],defaultFeatureNS:"",defaultFeaturePrefix:""});Vt.module.service("ngeoWfsPermalink",Vt);var qt=Vt;var zt=n(8);var Bt=function t(){};Bt.prototype.stringToCoordinates=function(t){var e=t.match(/([\d\.']+)[\s,]+([\d\.']+)/);if(e){var n=parseFloat(e[1].replace("'",""));var r=parseFloat(e[2].replace("'",""));if(!isNaN(n)&&!isNaN(r)){return[n,r]}}return null};Bt.prototype.getProjectionList=function(t){var e,n;var r=[];t.forEach(function(t){e=t.toUpperCase();if(e.substr(0,5)!="EPSG:"){e="EPSG:"+e}n=zt["g"](e);if(n!==null){r.push(n)}else{console.error("The projection "+e+" is not defined in ol.proj.")}});return r};Bt.prototype.tryProjections=function(e,n,r,t){var i;if(t===undefined){t=[r]}t.some(function(t){try{i=zt["m"](e,t,r);if(q["f"](n,i)){return true}}catch(t){}i=null});return i};Bt.prototype.tryProjectionsWithInversion=function(t,e,n,r){var i=this.tryProjections(t,e,n,r);if(i===null){i=this.tryProjections(t.reverse(),e,n,r)}return i};Bt.module=angular.module("ngeoAutoProjection",[]);Bt.module.service("ngeoAutoProjection",Bt);var Kt=Bt;var Xt=n(116);var Zt=n(289);var Qt=n(141);var Jt=n(221);var te=function t(r,i,a){var e,o;this.isValidFileSize=function(t){return!(t>2e7)};this.isWmsGetCap=function(t){return/<(WMT_MS_Capabilities|WMS_Capabilities)/.test(t)};this.isWmtsGetCap=function(t){return/<Capabilities/.test(t)};this.isKml=function(t){return/<kml/.test(t)&&/<\/kml>/.test(t)};this.isGpx=function(t){return/<gpx/.test(t)&&/<\/gpx>/.test(t)};this.read=function(t){var n=r.defer();if(e&&e.readyState===FileReader.LOADING){e.abort()}e=new FileReader;e.onload=function(t){n.resolve(t.target.result)};e.onerror=function(t){var e=t.target.error;console.error("Reading file failed: ",e);n.reject({message:e.code==20?a("Operation canceled"):a("Read failed"),reason:e.message})};e.onprogress=function(t){n.notify(t)};e.readAsText(t);return n.promise};this.load=function(t,e){if(o){o.resolve()}o=e||r.defer();var n=r.defer();i.get(t,{timeout:o.promise}).then(function(t){n.resolve(t.data)},function(t){console.error("Uploading file failed: ",t);n.reject({message:a("Upload failed"),reason:t})});return n.promise}};te.$inject=["$q","$http","gettext"];te.$inject=["$q","$http","gettext"];te.module=angular.module("ngeoFile",[]);te.module.service("ngeoFile",te);var ee=te;var ne=n(290);var re=n(104);var ie=angular.module("ngeoGetBrowserLanguage",[]);ie.factory_=function(i){return function(e){var t=i.navigator;var n=t.languages||t.language||t.browserLanguage||t.systemLanguage||t.userLanguage;if(!Array.isArray(n)){n=[n]}n=n.map(function(t){return t.substring(0,2)});n=n.filter(function(t,e,n){return n.indexOf(t)==e});var r=n.filter(function(t){return e.indexOf(t)!=-1});return r[0]}};ie.factory_.$inject=["$window"];ie.factory("ngeoGetBrowserLanguage",ie.factory_);var ae=ie;var oe=n(291);var se=n(161);var ue=n(219);var le=angular.module("ngeoMiscExtraModule",[Kt.module.name,Xt["a"].name,Zt["a"].name,nt["a"].name,Qt["a"].name,Jt["a"].module.name,it["a"].module.name,ee.module.name,ne["a"].name,re["a"].name,ae.name,oe["a"].name,se["a"].module.name,ot["a"].module.name,ue["a"].module.name]);var ce=le;var he=angular.module("ngeo",[o.name,h.name,f["a"].name,j.name,wt.name,St["a"].name,Tt["a"].name,xt["a"].name,Et["a"].name,Ct["a"].module.name,It.name,Nt.name,Ft.name,Gt["a"].name,Ht["a"].name,Ut["a"].name,qt.module.name,ce.name]);var fe=e["default"]=he},function(t,e,n){"use strict";n.d(e,"b",function(){return o});n.d(e,"c",function(){return u});n.d(e,"d",function(){return c});n.d(e,"e",function(){return h});n.d(e,"f",function(){return f});n.d(e,"g",function(){return d});var r=n(42);var s=n(72);var i=n(197);var l=n(14);var a=function(e){function t(t){e.call(this);if(t.handleEvent){this.handleEvent=t.handleEvent}this.map_=null;this.setActive(true)}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getActive=function t(){return this.get(i["a"].ACTIVE)};t.prototype.getMap=function t(){return this.map_};t.prototype.handleEvent=function t(e){return true};t.prototype.setActive=function t(e){this.set(i["a"].ACTIVE,e)};t.prototype.setMap=function t(e){this.map_=e};return t}(r["a"]);function o(t,e,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);if(n){t.animate({duration:n,easing:s["d"],center:i})}else{t.setCenter(i)}}}function u(t,e,n,r){e=t.constrainRotation(e,0);c(t,e,n,r)}function c(t,e,n,r){if(e!==undefined){var i=t.getRotation();var a=t.getCenter();if(i!==undefined&&a&&r>0){t.animate({rotation:e,anchor:n,duration:r,easing:s["b"]})}else{t.rotate(e,n)}}}function h(t,e,n,r,i){e=t.constrainResolution(e,0,i);d(t,e,n,r)}function f(t,e,n,r){var i=t.getResolution();var a=t.constrainResolution(i,e,0);if(a!==undefined){var o=t.getResolutions();a=Object(l["a"])(a,t.getMinResolution()||o[o.length-1],t.getMaxResolution()||o[0])}if(n&&a!==undefined&&a!==i){var s=t.getCenter();var u=t.calculateCenterZoom(a,n);u=t.constrainCenter(u);n=[(a*s[0]-i*u[0])/(a-i),(a*s[1]-i*u[1])/(a-i)]}d(t,a,n,r)}function d(t,e,n,r){if(e){var i=t.getResolution();var a=t.getCenter();if(i!==undefined&&a&&e!==i&&r){t.animate({resolution:e,anchor:n,duration:r,easing:s["b"]})}else{if(n){var o=t.calculateCenterZoom(e,n);t.setCenter(o)}t.setResolution(e)}}}e["a"]=a},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n(46);var r=n(53);var i=n(10);var o=function(n){function t(t){var e=t?t:{};n.call(this,e);if(e.handleDownEvent){this.handleDownEvent=e.handleDownEvent}if(e.handleDragEvent){this.handleDragEvent=e.handleDragEvent}if(e.handleMoveEvent){this.handleMoveEvent=e.handleMoveEvent}if(e.handleUpEvent){this.handleUpEvent=e.handleUpEvent}if(e.stopDown){this.stopDown=e.stopDown}this.handlingDownUpSequence=false;this.trackedPointers_={};this.targetPointers=[]}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.handleDownEvent=function t(e){return false};t.prototype.handleDragEvent=function t(e){};t.prototype.handleEvent=function t(e){if(!e.pointerEvent){return true}var n=false;this.updateTrackedPointers_(e);if(this.handlingDownUpSequence){if(e.type==a["a"].POINTERDRAG){this.handleDragEvent(e)}else if(e.type==a["a"].POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else{if(e.type==a["a"].POINTERDOWN){var i=this.handleDownEvent(e);if(i){e.preventDefault()}this.handlingDownUpSequence=i;n=this.stopDown(i)}else if(e.type==a["a"].POINTERMOVE){this.handleMoveEvent(e)}}return!n};t.prototype.handleMoveEvent=function t(e){};t.prototype.handleUpEvent=function t(e){return false};t.prototype.stopDown=function t(e){return e};t.prototype.updateTrackedPointers_=function t(e){if(u(e)){var n=e.pointerEvent;var r=n.pointerId.toString();if(e.type==a["a"].POINTERUP){delete this.trackedPointers_[r]}else if(e.type==a["a"].POINTERDOWN){this.trackedPointers_[r]=n}else if(r in this.trackedPointers_){this.trackedPointers_[r]=n}this.targetPointers=Object(i["c"])(this.trackedPointers_)}};return t}(r["a"]);function s(t){var e=t.length;var n=0;var r=0;for(var i=0;i<e;i++){n+=t[i].clientX;r+=t[i].clientY}return[n/e,r/e]}function u(t){var e=t.type;return e===a["a"].POINTERDOWN||e===a["a"].POINTERDRAG||e===a["a"].POINTERUP}e["b"]=o},function(t,e,n){"use strict";e["a"]={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});n.d(e,"b",function(){return u});n.d(e,"d",function(){return l});n.d(e,"c",function(){return c});n.d(e,"e",function(){return f});n.d(e,"k",function(){return v});n.d(e,"g",function(){return m});n.d(e,"h",function(){return y});n.d(e,"j",function(){return _});n.d(e,"l",function(){return b});n.d(e,"f",function(){return O});n.d(e,"i",function(){return w});var r=n(46);var i=n(20);var a=n(47);var o=n(60);var s=function t(e){var n=e.originalEvent;return n.altKey&&!(n.metaKey||n.ctrlKey)&&!n.shiftKey};var u=function t(e){var n=e.originalEvent;return n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey};var l=function t(e){return e.target.getTargetElement()===document.activeElement};var c=a["b"];var h=function t(e){return e.type==r["a"].CLICK};var f=function t(e){var n=e.originalEvent;return n.button==0&&!(o["j"]&&o["e"]&&n.ctrlKey)};var d=a["a"];var p=function t(e){return e.type=="pointermove"};var v=function t(e){return e.type==r["a"].SINGLECLICK};var g=function t(e){return e.type==r["a"].DBLCLICK};var m=function t(e){var n=e.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&!n.shiftKey};var y=function t(e){var n=e.originalEvent;return!n.altKey&&(o["e"]?n.metaKey:n.ctrlKey)&&!n.shiftKey};var _=function t(e){var n=e.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey};var b=function t(e){var n=e.originalEvent.target;var r=n.tagName;return r!=="INPUT"&&r!=="SELECT"&&r!=="TEXTAREA"};var O=function t(e){var n=e.pointerEvent;Object(i["a"])(n!==undefined,56);return n.pointerType=="mouse"};var w=function t(e){var n=e.pointerEvent;Object(i["a"])(n!==undefined,56);return n.isPrimary&&n.button===0}},function(t,e,n){"use strict";var r=n(35);var i=n.n(r);var a=function(i){var n="transitionend";var r=1e6;var a=1e3;function u(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function t(){return{bindType:n,delegateType:n,handle:function t(e){if(i(e.target).is(this)){return e.handleObj.handler.apply(this,arguments)}return undefined}}}function e(t){var e=this;var n=false;i(this).one(l.TRANSITION_END,function(){n=true});setTimeout(function(){if(!n){l.triggerTransitionEnd(e)}},t);return this}function o(){i.fn.emulateTransitionEnd=e;i.event.special[l.TRANSITION_END]=t()}var l={TRANSITION_END:"bsTransitionEnd",getUID:function t(e){do{e+=~~(Math.random()*r)}while(document.getElementById(e));return e},getSelectorFromElement:function t(e){var n=e.getAttribute("data-target");if(!n||n==="#"){n=e.getAttribute("href")||""}try{return document.querySelector(n)?n:null}catch(t){return null}},getTransitionDurationFromElement:function t(e){if(!e){return 0}var n=i(e).css("transition-duration");var r=parseFloat(n);if(!r){return 0}n=n.split(",")[0];return parseFloat(n)*a},reflow:function t(e){return e.offsetHeight},triggerTransitionEnd:function t(e){i(e).trigger(n)},supportsTransitionEnd:function t(){return Boolean(n)},isElement:function t(e){return(e[0]||e).nodeType},typeCheckConfig:function t(e,n,r){for(var i in r){if(Object.prototype.hasOwnProperty.call(r,i)){var a=r[i];var o=n[i];var s=o&&l.isElement(o)?"element":u(o);if(!new RegExp(a).test(s)){throw new Error(e.toUpperCase()+": "+('Option "'+i+'" provided type "'+s+'" ')+('but expected type "'+a+'".'))}}}}};o();return l}(i.a);e["a"]=a},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(227);function r(t,e,n,r){return Object(i["a"])(t,e,n,r,false)}},function(t,e,n){"use strict";var r={ANGLE:"a",COLOR:"c",IS_CIRCLE:"l",IS_RECTANGLE:"r",IS_TEXT:"t",NAME:"n",SHOW_LABEL:"b",OPACITY:"o",AZIMUT:"z",SHOW_MEASURE:"m",SIZE:"s",STROKE:"k"};e["a"]=r},function(t,e,n){"use strict";n.d(e,"c",function(){return i});n.d(e,"h",function(){return a});n.d(e,"j",function(){return o});n.d(e,"e",function(){return s});n.d(e,"b",function(){return u});n.d(e,"a",function(){return l});n.d(e,"d",function(){return c});n.d(e,"i",function(){return h});n.d(e,"g",function(){return f});n.d(e,"f",function(){return d});var r=typeof navigator!=="undefined"?navigator.userAgent.toLowerCase():"";var i=r.indexOf("firefox")!==-1;var a=r.indexOf("safari")!==-1&&r.indexOf("chrom")==-1;var o=r.indexOf("webkit")!==-1&&r.indexOf("edge")==-1;var s=r.indexOf("macintosh")!==-1;var u=window.devicePixelRatio||1;var l=function(){var t=false;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}();var c="geolocation"in navigator;var h="ontouchstart"in window;var f="PointerEvent"in window;var d=!!navigator.msPointerEnabled},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=function t(e){this.propagationStopped;this.type=e;this.target=null};r.prototype.preventDefault=function t(){this.propagationStopped=true};r.prototype.stopPropagation=function t(){this.propagationStopped=true};function i(t){t.stopPropagation()}function a(t){t.preventDefault()}e["a"]=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var u=n(9);var p=n(15);var a=n(71);var r=n(156);var l=n(28);var o=n(38);var i=n(237);var s=n(79);var c=n(105);var h=n(96);var f=n(27);var d=n(26);var v=n(10);var g=n(8);var E=n(0);var m="http://www.opengis.net/gml";var y=/^[\s\xa0]*$/;var _=function(n){function t(t){n.call(this);var e=t?t:{};this.featureType=e.featureType;this.featureNS=e.featureNS;this.srsName=e.srsName;this.schemaLocation="";this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:Object(E["i"])(this.readFeaturesInternal),featureMembers:Object(E["n"])(this.readFeaturesInternal)}}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.readFeaturesInternal=function t(e,n){var r=e.localName;var i=null;if(r=="FeatureCollection"){i=Object(E["t"])([],this.FEATURE_COLLECTION_PARSERS,e,n,this)}else if(r=="featureMembers"||r=="featureMember"){var a=n[0];var o=a["featureType"];var s=a["featureNS"];var u="p";var l="p0";if(!o&&e.childNodes){o=[],s={};for(var c=0,h=e.childNodes.length;c<h;++c){var f=e.childNodes[c];if(f.nodeType===1){var d=f.nodeName.split(":").pop();if(o.indexOf(d)===-1){var p="";var v=0;var g=f.namespaceURI;for(var m in s){if(s[m]===g){p=m;break}++v}if(!p){p=u+v;s[p]=g}o.push(p+":"+d)}}}if(r!="featureMember"){a["featureType"]=o;a["featureNS"]=s}}if(typeof s==="string"){var y=s;s={};s[l]=y}var _={};var b=Array.isArray(o)?o:[o];for(var O in s){var w={};for(var S=0,T=b.length;S<T;++S){var x=b[S].indexOf(":")===-1?l:b[S].split(":")[0];if(x===O){w[b[S].split(":").pop()]=r=="featureMembers"?Object(E["i"])(this.readFeatureElement,this):Object(E["n"])(this.readFeatureElement,this)}}_[s[O]]=w}if(r=="featureMember"){i=Object(E["t"])(undefined,_,e,n)}else{i=Object(E["t"])([],_,e,n)}}if(i===null){i=[]}return i};t.prototype.readGeometryElement=function t(e,n){var r=n[0];r["srsName"]=e.firstElementChild.getAttribute("srsName");r["srsDimension"]=e.firstElementChild.getAttribute("srsDimension");var i=Object(E["t"])(null,this.GEOMETRY_PARSERS,e,n,this);if(i){return Object(a["b"])(i,false,r)}else{return undefined}};t.prototype.readFeatureElementInternal=function t(e,n,r){var i;var a={};for(var o=e.firstElementChild;o;o=o.nextElementSibling){var s=void 0;var u=o.localName;if(o.childNodes.length===0||o.childNodes.length===1&&(o.firstChild.nodeType===3||o.firstChild.nodeType===4)){s=Object(E["e"])(o,false);if(y.test(s)){s=undefined}}else{if(r){s=this.readGeometryElement(o,n)}if(!s){s=this.readFeatureElementInternal(o,n,false)}else if(u!=="boundedBy"){i=u}}if(a[u]){if(!(a[u]instanceof Array)){a[u]=[a[u]]}a[u].push(s)}else{a[u]=s}var l=o.attributes.length;if(l>0){a[u]={_content_:a[u]};for(var c=0;c<l;c++){var h=o.attributes[c].name;a[u][h]=o.attributes[c].value}}}if(!r){return a}else{var f=new p["a"](a);if(i){f.setGeometryName(i)}var d=e.getAttribute("fid")||Object(E["f"])(e,this.namespace,"id");if(d){f.setId(d)}return f}};t.prototype.readFeatureElement=function t(e,n){return this.readFeatureElementInternal(e,n,true)};t.prototype.readPoint=function t(e,n){var r=this.readFlatCoordinatesFromNode_(e,n);if(r){return new f["a"](r,l["a"].XYZ)}};t.prototype.readMultiPoint=function t(e,n){var r=Object(E["t"])([],this.MULTIPOINT_PARSERS_,e,n,this);if(r){return new c["a"](r)}else{return undefined}};t.prototype.readMultiLineString=function t(e,n){var r=Object(E["t"])([],this.MULTILINESTRING_PARSERS_,e,n,this);if(r){return new s["a"](r)}};t.prototype.readMultiPolygon=function t(e,n){var r=Object(E["t"])([],this.MULTIPOLYGON_PARSERS_,e,n,this);if(r){return new h["a"](r)}};t.prototype.pointMemberParser_=function t(e,n){Object(E["s"])(this.POINTMEMBER_PARSERS_,e,n,this)};t.prototype.lineStringMemberParser_=function t(e,n){Object(E["s"])(this.LINESTRINGMEMBER_PARSERS_,e,n,this)};t.prototype.polygonMemberParser_=function t(e,n){Object(E["s"])(this.POLYGONMEMBER_PARSERS_,e,n,this)};t.prototype.readLineString=function t(e,n){var r=this.readFlatCoordinatesFromNode_(e,n);if(r){var i=new o["a"](r,l["a"].XYZ);return i}else{return undefined}};t.prototype.readFlatLinearRing_=function t(e,n){var r=Object(E["t"])(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,n,this);if(r){return r}else{return undefined}};t.prototype.readLinearRing=function t(e,n){var r=this.readFlatCoordinatesFromNode_(e,n);if(r){return new i["a"](r,l["a"].XYZ)}};t.prototype.readPolygon=function t(e,n){var r=Object(E["t"])([null],this.FLAT_LINEAR_RINGS_PARSERS,e,n,this);if(r&&r[0]){var i=r[0];var a=[i.length];var o,s;for(o=1,s=r.length;o<s;++o){Object(u["c"])(i,r[o]);a.push(i.length)}return new d["b"](i,l["a"].XYZ,a)}else{return undefined}};t.prototype.readFlatCoordinatesFromNode_=function t(e,n){return Object(E["t"])(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,n,this)};t.prototype.readGeometryFromNode=function t(e,n){var r=this.readGeometryElement(e,[this.getReadOptions(e,n?n:{})]);return r?r:null};t.prototype.readFeaturesFromNode=function t(e,n){var r={featureType:this.featureType,featureNS:this.featureNS};if(n){Object(v["a"])(r,this.getReadOptions(e,n))}var i=this.readFeaturesInternal(e,[r]);return i||[]};t.prototype.readProjectionFromNode=function t(e){return Object(g["g"])(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))};return t}(r["a"]);_.prototype.namespace=m;_.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};_.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};_.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};_.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:Object(E["i"])(_.prototype.pointMemberParser_),pointMembers:Object(E["i"])(_.prototype.pointMemberParser_)}};_.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:Object(E["i"])(_.prototype.lineStringMemberParser_),lineStringMembers:Object(E["i"])(_.prototype.lineStringMemberParser_)}};_.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:Object(E["i"])(_.prototype.polygonMemberParser_),polygonMembers:Object(E["i"])(_.prototype.polygonMemberParser_)}};_.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:Object(E["i"])(_.prototype.readFlatCoordinatesFromNode_)}};_.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(E["i"])(_.prototype.readLineString)}};_.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(E["i"])(_.prototype.readPolygon)}};_.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Object(E["n"])(_.prototype.readFlatLinearRing_)}};e["b"]=_},function(t,e,n){"use strict";n.r(e);var r=n(20);var i=function t(e){this.tagName_=e};i.prototype.getTagName=function t(){return this.tagName_};var a=i;var o=function(n){function t(t,e){n.call(this,t);this.conditions=e;Object(r["a"])(this.conditions.length>=2,57)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(a);var s=o;var u=function(e){function t(t){e.call(this,"And",Array.prototype.slice.call(arguments))}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;return t}(s);var l=u;var c=function(r){function t(t,e,n){r.call(this,"BBOX");this.geometryName=t;this.extent=e;this.srsName=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(a);var h=c;var f=function(i){function t(t,e,n,r){i.call(this,t);this.geometryName=e||"the_geom";this.geometry=n;this.srsName=r}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;return t}(a);var d=f;var p=function(r){function t(t,e,n){r.call(this,"Contains",t,e,n)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(d);var v=p;var g=function(n){function t(t,e){n.call(this,t);this.propertyName=e}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(a);var m=g;var y=function(r){function t(t,e,n){r.call(this,"During",t);this.begin=e;this.end=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(m);var _=y;var b=function(i){function t(t,e,n,r){i.call(this,t,e);this.expression=n;this.matchCase=r}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;return t}(m);var O=b;var w=function(r){function t(t,e,n){r.call(this,"PropertyIsEqualTo",t,e,n)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(O);var S=w;var T=function(n){function t(t,e){n.call(this,"PropertyIsGreaterThan",t,e)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(O);var x=T;var E=function(n){function t(t,e){n.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(O);var C=E;var M=function(r){function t(t,e,n){r.call(this,"Intersects",t,e,n)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(d);var j=M;var A=function(r){function t(t,e,n){r.call(this,"PropertyIsBetween",t);this.lowerBoundary=e;this.upperBoundary=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(m);var k=A;var I=function(o){function t(t,e,n,r,i,a){o.call(this,"PropertyIsLike",t);this.pattern=e;this.wildCard=n!==undefined?n:"*";this.singleChar=r!==undefined?r:".";this.escapeChar=i!==undefined?i:"!";this.matchCase=a}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;return t}(m);var R=I;var D=function(e){function t(t){e.call(this,"PropertyIsNull",t)}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;return t}(m);var P=D;var N=function(n){function t(t,e){n.call(this,"PropertyIsLessThan",t,e)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(O);var L=N;var $=function(n){function t(t,e){n.call(this,"PropertyIsLessThanOrEqualTo",t,e)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(O);var F=$;var G=function(e){function t(t){e.call(this,"Not");this.condition=t}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;return t}(a);var H=G;var U=function(r){function t(t,e,n){r.call(this,"PropertyIsNotEqualTo",t,e,n)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(O);var W=U;var Y=function(e){function t(t){e.call(this,"Or",Array.prototype.slice.call(arguments))}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;return t}(s);var V=Y;var q=function(r){function t(t,e,n){r.call(this,"Within",t,e,n)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(d);var z=q;n.d(e,"and",function(){return B});n.d(e,"or",function(){return K});n.d(e,"not",function(){return X});n.d(e,"bbox",function(){return Z});n.d(e,"contains",function(){return Q});n.d(e,"intersects",function(){return J});n.d(e,"within",function(){return tt});n.d(e,"equalTo",function(){return et});n.d(e,"notEqualTo",function(){return nt});n.d(e,"lessThan",function(){return rt});n.d(e,"lessThanOrEqualTo",function(){return it});n.d(e,"greaterThan",function(){return at});n.d(e,"greaterThanOrEqualTo",function(){return ot});n.d(e,"isNull",function(){return st});n.d(e,"between",function(){return ut});n.d(e,"like",function(){return lt});n.d(e,"during",function(){return ct});function B(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(l,e))}function K(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(V,e))}function X(t){return new H(t)}function Z(t,e,n){return new h(t,e,n)}function Q(t,e,n){return new v(t,e,n)}function J(t,e,n){return new j(t,e,n)}function tt(t,e,n){return new z(t,e,n)}function et(t,e,n){return new S(t,e,n)}function nt(t,e,n){return new W(t,e,n)}function rt(t,e){return new L(t,e)}function it(t,e){return new F(t,e)}function at(t,e){return new x(t,e)}function ot(t,e){return new C(t,e)}function st(t){return new P(t)}function ut(t,e,n){return new k(t,e,n)}function lt(t,e,n,r,i,a){return new R(t,e,n,r,i,a)}function ct(t,e,n){return new _(t,e,n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"b",function(){return a});var r={};function i(t,e){r[t]=e}function a(t){var e=[];for(var n in t){e.push({unit:n,priority:r[n]})}e.sort(function(t,e){return t.priority-e.priority});return e}},function(t,e,n){"use strict";var i=n(72);var f=n(18);var d=n(77);var a=n(8);var r=n(263);var h=n(32);var p=n(48);var o=n(2);var s=n(11);var v=n(3);var g=n(164);var u=function(c){function t(t){var e=t.crossOrigin!==undefined?t.crossOrigin:null;var n=t.imageLoadFunction!==undefined?t.imageLoadFunction:g["b"];c.call(this,{attributions:t.attributions,projection:Object(a["g"])(t.projection)});this.url_=t.url;this.imageExtent_=t.imageExtent;this.image_=new r["a"](this.imageExtent_,undefined,1,this.url_,e,n);this.imageSize_=t.imageSize?t.imageSize:null;Object(o["a"])(this.image_,s["a"].CHANGE,this.handleImageChange,this)}if(c)t.__proto__=c;t.prototype=Object.create(c&&c.prototype);t.prototype.constructor=t;t.prototype.getImageExtent=function t(){return this.imageExtent_};t.prototype.getImageInternal=function t(e,n,r,i){if(Object(v["F"])(e,this.image_.getExtent())){return this.image_}return null};t.prototype.getUrl=function t(){return this.url_};t.prototype.handleImageChange=function t(e){if(this.image_.getState()==h["a"].LOADED){var n=this.image_.getExtent();var r=this.image_.getImage();var i,a;if(this.imageSize_){i=this.imageSize_[0];a=this.imageSize_[1]}else{i=r.width;a=r.height}var o=Object(v["A"])(n)/a;var s=Math.ceil(Object(v["E"])(n)/o);if(s!=i){var u=Object(p["a"])(s,a);var l=u.canvas;u.drawImage(r,0,0,i,a,0,0,l.width,l.height);this.image_.setImage(l)}}c.prototype.handleImageChange.call(this,e)};return t}(g["a"]);var m=u;var y=n(74);var _=n(185);var b=n(131);var O=n(45);var l=function(){function t(t,e,n){var r=this;this.source_=e;this.projection_=null;this.fallbackProj_=n||null;this.ready_=false;this.tilingScheme_=null;this.rectangle_=null;this.map_=t;var i=this.source_.get("olcs.proxy");if(i){if(typeof i==="function"){this.proxy_={getURL:i}}else if(typeof i==="string"){this.proxy_=new Cesium.DefaultProxy(i)}}this.errorEvent_=new Cesium.Event;this.emptyCanvas_=document.createElement("canvas");this.emptyCanvas_.width=1;this.emptyCanvas_.height=1;this.source_.on("change",function(t){r.handleSourceChanged_()});this.handleSourceChanged_()}var e=t.prototype;e.handleSourceChanged_=function t(e){if(!this.ready_&&this.source_.getState()=="ready"){this.projection_=O["a"].getSourceProjection(this.source_)||this.fallbackProj_;if(this.projection_==Object(a["g"])("EPSG:4326")){this.tilingScheme_=new Cesium.GeographicTilingScheme}else if(this.projection_==Object(a["g"])("EPSG:3857")){this.tilingScheme_=new Cesium.WebMercatorTilingScheme}else{return}this.rectangle_=this.tilingScheme_.rectangle;this.ready_=true}};e.getTileCredits=function t(e,n,r){var i=this.map_.getView().calculateExtent(this.map_.getSize());var a=this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?r+1:r;var o={viewState:{zoom:a},extent:i};var s=this.source_.getAttributions();if(!s){return[]}var u=s(o);if(!Array.isArray(u)){u=[u]}return u.map(function(t){return new Cesium.Credit(t,true)})};e.requestImage=function t(e,n,r){var i=this.source_.getTileUrlFunction();if(i&&this.projection_){var a=this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?r+1:r;var o=-n-1;var s=i.call(this.source_,[a,e,o],1,this.projection_);if(this.proxy_){s=this.proxy_.getURL(s)}return s?Cesium.ImageryProvider.loadImage(this,s):this.emptyCanvas_}else{return this.emptyCanvas_}};return t}();Object.defineProperties(l.prototype,{ready:{get:function t(){return this.ready_}},rectangle:{get:function t(){return this.rectangle_}},tileWidth:{get:function t(){var e=this.source_.getTileGrid();return e?Array.isArray(e.getTileSize(0))?e.getTileSize(0)[0]:e.getTileSize(0):256}},tileHeight:{get:function t(){var e=this.source_.getTileGrid();return e?Array.isArray(e.getTileSize(0))?e.getTileSize(0)[1]:e.getTileSize(0):256}},maximumLevel:{get:function t(){var e=this.source_.getTileGrid();return e?e.getMaxZoom():18}},minimumLevel:{get:function t(){return 0}},tilingScheme:{get:function t(){return this.tilingScheme_}},tileDiscardPolicy:{get:function t(){return undefined}},errorEvent:{get:function t(){return this.errorEvent_}},proxy:{get:function t(){return this.proxy_}},hasAlphaChannel:{get:function t(){return true}},pickFeatures:{get:function t(){return undefined}}});var w=l;var S={};S.computePixelSizeAtCoordinate=function(t,e){var n=t.camera;var r=t.canvas;var i=n.frustum;var a=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(n.position,e,new Cesium.Cartesian3));var o=new Cesium.Cartesian2;return i.getPixelDimensions(r.clientWidth,r.clientHeight,a,o)};S.computeBoundingBoxAtTarget=function(t,e,n){var r=S.computePixelSizeAtCoordinate(t,e);var i=Cesium.Transforms.eastNorthUpToFixedFrame(e);var a=Cesium.Matrix4.multiplyByPoint(i,new Cesium.Cartesian3(-r.x*n,-r.y*n,0),new Cesium.Cartesian3);var o=Cesium.Matrix4.multiplyByPoint(i,new Cesium.Cartesian3(r.x*n,r.y*n,0),new Cesium.Cartesian3);return Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray([a,o])};S.applyHeightOffsetToGeometry=function(t,i){t.applyTransform(function(t,e,n){console.assert(t===e);if(n!==undefined&&n>=3){for(var r=0;r<e.length;r+=n){e[r+2]=e[r+2]+i}}return e})};S.createMatrixAtCoordinates=function(t,e,n,r){if(e===void 0){e=0}if(n===void 0){n=Cesium.Cartesian3.ZERO}if(r===void 0){r=new Cesium.Cartesian3(1,1,1)}var i=S.ol4326CoordinateToCesiumCartesian(t);var a=Cesium.Transforms.eastNorthUpToFixedFrame(i);var o=Cesium.Quaternion.fromAxisAngle(Cesium.Cartesian3.UNIT_Z,-e);var s=Cesium.Matrix4.fromTranslationQuaternionRotationScale(n,o,r);return Cesium.Matrix4.multiply(a,s,new Cesium.Matrix4)};S.rotateAroundAxis=function(a,o,s,u,t){var l=Cesium.Math.clamp;var e=Cesium.defaultValue;var n=t||{};var c=e(n.duration,500);var h=e(n.easing,i["d"]);var f=n.callback;var d=0;var p=new Cesium.Matrix4;var v=Date.now();var r=function t(){var e=Date.now();var n=e-v;var r=h(l(n/c,0,1));console.assert(r>=d);a.transform.clone(p);var i=(r-d)*o;d=r;a.lookAtTransform(u);a.rotate(s,i);a.lookAtTransform(p);if(r<1){window.requestAnimationFrame(t)}else{if(f){f()}}};window.requestAnimationFrame(r)};S.setHeadingUsingBottomCenter=function(t,e,n,r){var i=t.camera;var a=S.computeAngleToZenith(t,n);var o=i.right;var s=Cesium.Quaternion.fromAxisAngle(o,a);var u=Cesium.Matrix3.fromQuaternion(s);var l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(i.position,n,l);var c=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(u,l,c);Cesium.Cartesian3.add(c,n,c);var h=Cesium.Matrix4.fromTranslation(c);var f=S.rotateAroundAxis;f(i,e,c,h,r)};S.pickOnTerrainOrEllipsoid=function(t,e){var n=t.camera.getPickRay(e);var r=t.globe.pick(n,t);return r||t.camera.pickEllipsoid(e)};S.pickBottomPoint=function(t){var e=t.canvas;var n=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight);return S.pickOnTerrainOrEllipsoid(t,n)};S.pickCenterPoint=function(t){var e=t.canvas;var n=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return S.pickOnTerrainOrEllipsoid(t,n)};S.computeSignedTiltAngleOnGlobe=function(t){var e=t.camera;var n=new Cesium.Ray(e.position,e.direction);var r=t.globe.pick(n,t);if(!r){var i=Cesium.Ellipsoid.WGS84;var a=Cesium.IntersectionTests.rayEllipsoid(n,i);if(a){r=Cesium.Ray.getPoint(n,a.start)}}if(!r){return undefined}var o=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(r,o);var s=S.signedAngleBetween;var u=s(e.direction,o,e.right)-Math.PI;return Cesium.Math.convertLongitudeRange(u)};S.bottomFovRay=function(t){var e=t.camera;var n=e.frustum.fovy/2;var r=e.direction;var i=Cesium.Quaternion.fromAxisAngle(e.right,n);var a=Cesium.Matrix3.fromQuaternion(i);var o=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(a,r,o);return new Cesium.Ray(e.position,o)};S.signedAngleBetween=function(t,e,n){var r=new Cesium.Cartesian3;var i=new Cesium.Cartesian3;var a=new Cesium.Cartesian3;Cesium.Cartesian3.normalize(t,r);Cesium.Cartesian3.normalize(e,i);Cesium.Cartesian3.cross(r,i,a);var o=Cesium.Cartesian3.dot(r,i);var s=Cesium.Cartesian3.magnitude(a);var u=Cesium.Cartesian3.dot(n,a);var l=Math.atan2(s,o);return u>=0?l:-l};S.computeAngleToZenith=function(t,e){var n=t.camera;var r=n.frustum.fovy/2;var i=S.bottomFovRay(t);var a=Cesium.Cartesian3.clone(i.direction);Cesium.Cartesian3.negate(a,a);var o=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(e,o);var s=new Cesium.Cartesian3;Cesium.Cartesian3.negate(n.right,s);var u=S.signedAngleBetween(o,a,s);return u+r};S.extentToRectangle=function(t,e){if(t&&e){var n=Object(a["n"])(t,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(n[0],n[1],n[2],n[3])}else{return null}};S.tileLayerToImageryLayer=function(t,e,n){if(!(e instanceof f["a"])&&!(e instanceof d["a"])){return null}var r=null;var i=e.getSource();if(i instanceof y["a"]&&i.getUrl()&&i.getImageLoadFunction()===g["b"]){var a={"olcs.proxy":i.get("olcs.proxy"),"olcs.extent":i.get("olcs.extent"),"olcs.projection":i.get("olcs.projection"),"olcs.imagesource":i};i=new b["a"]({url:i.getUrl(),attributions:i.getAttributions(),projection:i.getProjection(),params:i.getParams()});i.setProperties(a)}if(i instanceof _["a"]){var o=O["a"].getSourceProjection(i);if(!o){o=n}if(S.isCesiumProjection(o)){r=new w(t,i,n)}else{return null}}else if(i instanceof m){var s=O["a"].getSourceProjection(i);if(!s){s=n}if(S.isCesiumProjection(s)){r=new Cesium.SingleTileImageryProvider({url:i.getUrl(),rectangle:new Cesium.Rectangle.fromDegrees(i.getImageExtent()[0],i.getImageExtent()[1],i.getImageExtent()[2],i.getImageExtent()[3])})}else{return null}}else{return null}var u={};var l=e.get("olcs.extent");var c=l||e.getExtent();if(c){u.rectangle=S.extentToRectangle(c,n)}var h=new Cesium.ImageryLayer(r,u);return h};S.updateCesiumLayerProperties=function(t,e){var r=1;var i=true;[t.layer].concat(t.parents).forEach(function(t){var e=t.getOpacity();if(e!==undefined){r*=e}var n=t.getVisible();if(n!==undefined){i&=n}});e.alpha=r;e.show=i};S.ol4326CoordinateToCesiumCartesian=function(t){var e=t;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])};S.ol4326CoordinateArrayToCsCartesians=function(t){console.assert(t!==null);var e=S.ol4326CoordinateToCesiumCartesian;var n=[];for(var r=0;r<t.length;++r){n.push(e(t[r]))}return n};S.olGeometryCloneTo4326=function(t,e){console.assert(e);var n=Object(a["g"])("EPSG:4326");var r=Object(a["g"])(e);if(r!==n){var i=t.getProperties();t=t.clone();t.transform(r,n);t.setProperties(i)}return t};S.convertColorToCesium=function(t){t=t||"black";if(Array.isArray(t)){return new Cesium.Color(Cesium.Color.byteToFloat(t[0]),Cesium.Color.byteToFloat(t[1]),Cesium.Color.byteToFloat(t[2]),t[3])}else if(typeof t=="string"){return Cesium.Color.fromCssColorString(t)}else if(t instanceof CanvasPattern||t instanceof CanvasGradient){var e=document.createElement("canvas");var n=e.getContext("2d");e.width=e.height=256;n.fillStyle=t;n.fillRect(0,0,e.width,e.height);return new Cesium.ImageMaterialProperty({image:e})}console.assert(false,"impossible")};S.convertUrlToCesium=function(t){var e="";var n=/\{(\d|[a-z])-(\d|[a-z])\}/;var r=n.exec(t);if(r){t=t.replace(n,"{s}");var i=r[1].charCodeAt(0);var a=r[2].charCodeAt(0);var o;for(o=i;o<=a;++o){e+=String.fromCharCode(o)}}return{url:t,subdomains:e}};S.resetToNorthZenith=function(l,c){return new Promise(function(n,t){var e=c.camera;var r=S.pickBottomPoint(c);if(!r){t("Could not get bottom pivot");return}var i=l.getView().getRotation();if(i===undefined){t("The view is not initialized");return}var a=S.computeAngleToZenith(c,r);S.setHeadingUsingBottomCenter(c,i,r);var o=Cesium.Matrix4.fromTranslation(r);var s=e.right;var u={callback:function t(){var e=l.getView();S.normalizeView(e);n()}};S.rotateAroundAxis(e,-a,s,o,u)})};S.rotateAroundBottomCenter=function(u,l){return new Promise(function(t,e){var n=u.camera;var r=S.pickBottomPoint(u);if(!r){e("could not get bottom pivot");return}var i={callback:t};var a=Cesium.Matrix4.fromTranslation(r);var o=n.right;var s=S.rotateAroundAxis;s(n,-l,o,a,i)})};S.normalizeView=function(t,e){if(e===void 0){e=0}var n=t.getResolution();t.setRotation(e);t.setResolution(t.constrainResolution(n))};S.isCesiumProjection=function(t){var e=t===Object(a["g"])("EPSG:3857");var n=t===Object(a["g"])("EPSG:4326");return e||n};var c=e["a"]=S},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var i={};i[r.DEGREES]=2*Math.PI*6370997/360;i[r.FEET]=.3048;i[r.METERS]=1;i[r.USFEET]=1200/3937;e["b"]=r},function(t,e,n){"use strict";var o=function t(){};o.prototype.showMessage=function(t){};o.prototype.show=function(t){var e=this.getMessageObjects(t);e.forEach(this.showMessage,this)};o.prototype.error=function(t){this.show(this.getMessageObjects(t,o.Type.ERROR))};o.prototype.info=function(t){this.show(this.getMessageObjects(t,o.Type.INFORMATION))};o.prototype.success=function(t){this.show(this.getMessageObjects(t,o.Type.SUCCESS))};o.prototype.warn=function(t){this.show(this.getMessageObjects(t,o.Type.WARNING))};o.prototype.getMessageObjects=function(e,n){var r=[];var i=null;var a=o.Type.INFORMATION;if(typeof e==="string"){r.push({msg:e,type:n!==undefined?n:a})}else if(Array.isArray(e)){e.forEach(function(t){if(typeof e==="string"){i={msg:t,type:n!==undefined?n:a}}else{i=t;if(n!==undefined){i.type=n}}r.push(i)},this)}else{i=e;if(n!==undefined){i.type=n}if(i.type===undefined){i.type=a}r.push(i)}return r};o.Type={ERROR:"error",INFORMATION:"information",SUCCESS:"success",WARNING:"warning"};e["a"]=o},,function(t,e,n){"use strict";var a=n(11);var l=n(15);var s=n(46);var r=n(149);var u=n(42);var h=n(44);var c=n(2);var i=n(61);var f=n(56);var o=n(3);var d=n(47);var p=n(142);var v=n(7);var g=n(38);var m=n(79);var y=n(105);var _=n(96);var b=n(190);var O=n(27);var w=n(26);var S=n(54);var T=n(197);var x=n(41);var E=n(36);var C=n(16);var M={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"};var j={DRAWSTART:"drawstart",DRAWEND:"drawend"};var A=function(n){function t(t,e){n.call(this,t);this.feature=e}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(i["a"]);var k=function(o){function t(t){var e=t;if(!e.stopDown){e.stopDown=d["a"]}o.call(this,e);this.shouldHandle_=false;this.downPx_=null;this.downTimeout_;this.lastDragTime_;this.freehand_=false;this.source_=t.source?t.source:null;this.features_=t.features?t.features:null;this.snapTolerance_=t.snapTolerance?t.snapTolerance:12;this.type_=t.type;this.mode_=P(this.type_);this.stopClick_=!!t.stopClick;this.minPoints_=t.minPoints?t.minPoints:this.mode_===M.POLYGON?3:2;this.maxPoints_=t.maxPoints?t.maxPoints:Infinity;this.finishCondition_=t.finishCondition?t.finishCondition:d["b"];var n=t.geometryFunction;if(!n){if(this.type_===v["a"].CIRCLE){n=function t(e,n){var r=n?n:new p["a"]([NaN,NaN]);var i=Object(h["g"])(e[0],e[1]);r.setCenterAndRadius(e[0],Math.sqrt(i));return r}}else{var i;var a=this.mode_;if(a===M.POINT){i=O["a"]}else if(a===M.LINE_STRING){i=g["a"]}else if(a===M.POLYGON){i=w["b"]}n=function t(e,n){var r=n;if(r){if(a===M.POLYGON){if(e[0].length){r.setCoordinates([e[0].concat([e[0][0]])])}else{r.setCoordinates([])}}else{r.setCoordinates(e)}}else{r=new i(e)}return r}}}this.geometryFunction_=n;this.dragVertexDelay_=t.dragVertexDelay!==undefined?t.dragVertexDelay:500;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36;this.overlay_=new x["a"]({source:new E["a"]({useSpatialIndex:false,wrapX:t.wrapX?t.wrapX:false}),style:t.style?t.style:I(),updateWhileInteracting:true});this.geometryName_=t.geometryName;this.condition_=t.condition?t.condition:f["g"];this.freehandCondition_;if(t.freehand){this.freehandCondition_=f["c"]}else{this.freehandCondition_=t.freehandCondition?t.freehandCondition:f["j"]}Object(c["a"])(this,Object(u["b"])(T["a"].ACTIVE),this.updateState_,this)}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.setMap=function t(e){o.prototype.setMap.call(this,e);this.updateState_()};t.prototype.getOverlay=function t(){return this.overlay_};t.prototype.handleEvent=function t(e){if(e.originalEvent.type===a["a"].CONTEXTMENU){e.preventDefault()}this.freehand_=this.mode_!==M.POINT&&this.freehandCondition_(e);var n=e.type===s["a"].POINTERMOVE;var r=true;if(!this.freehand_&&this.lastDragTime_&&e.type===s["a"].POINTERDRAG){var i=Date.now();if(i-this.lastDragTime_>=this.dragVertexDelay_){this.downPx_=e.pixel;this.shouldHandle_=!this.freehand_;n=true}else{this.lastDragTime_=undefined}if(this.shouldHandle_&&this.downTimeout_!==undefined){clearTimeout(this.downTimeout_);this.downTimeout_=undefined}}if(this.freehand_&&e.type===s["a"].POINTERDRAG&&this.sketchFeature_!==null){this.addToDrawing_(e);r=false}else if(this.freehand_&&e.type===s["a"].POINTERDOWN){r=false}else if(n){r=e.type===s["a"].POINTERMOVE;if(r&&this.freehand_){r=this.handlePointerMove_(e)}else if(e.pointerEvent.pointerType==b["b"]||e.type===s["a"].POINTERDRAG&&this.downTimeout_===undefined){this.handlePointerMove_(e)}}else if(e.type===s["a"].DBLCLICK){r=false}return o.prototype.handleEvent.call(this,e)&&r};t.prototype.handleDownEvent=function t(e){this.shouldHandle_=!this.freehand_;if(this.freehand_){this.downPx_=e.pixel;if(!this.finishCoordinate_){this.startDrawing_(e)}return true}else if(this.condition_(e)){this.lastDragTime_=Date.now();this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new r["a"](s["a"].POINTERMOVE,e.map,e.pointerEvent,false,e.frameState))}.bind(this),this.dragVertexDelay_);this.downPx_=e.pixel;return true}else{return false}};t.prototype.handleUpEvent=function t(e){var n=true;if(this.downTimeout_){clearTimeout(this.downTimeout_);this.downTimeout_=undefined}this.handlePointerMove_(e);var r=this.mode_===M.CIRCLE;if(this.shouldHandle_){if(!this.finishCoordinate_){this.startDrawing_(e);if(this.mode_===M.POINT){this.finishDrawing()}}else if(this.freehand_||r){this.finishDrawing()}else if(this.atFinish_(e)){if(this.finishCondition_(e)){this.finishDrawing()}}else{this.addToDrawing_(e)}n=false}else if(this.freehand_){this.finishCoordinate_=null;this.abortDrawing_()}if(!n&&this.stopClick_){e.stopPropagation()}return n};t.prototype.handlePointerMove_=function t(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var n=this.downPx_;var r=e.pixel;var i=n[0]-r[0];var a=n[1]-r[1];var o=i*i+a*a;this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_;if(!this.shouldHandle_){return true}}if(this.finishCoordinate_){this.modifyDrawing_(e)}else{this.createOrUpdateSketchPoint_(e)}return true};t.prototype.atFinish_=function t(e){var n=false;if(this.sketchFeature_){var r=false;var i=[this.finishCoordinate_];if(this.mode_===M.LINE_STRING){r=this.sketchCoords_.length>this.minPoints_}else if(this.mode_===M.POLYGON){var a=this.sketchCoords_;r=a[0].length>this.minPoints_;i=[a[0][0],a[0][a[0].length-2]]}if(r){var o=e.map;for(var s=0,u=i.length;s<u;s++){var l=i[s];var c=o.getPixelFromCoordinate(l);var h=e.pixel;var f=h[0]-c[0];var d=h[1]-c[1];var p=this.freehand_?1:this.snapTolerance_;n=Math.sqrt(f*f+d*d)<=p;if(n){this.finishCoordinate_=l;break}}}}return n};t.prototype.createOrUpdateSketchPoint_=function t(e){var n=e.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new l["a"](new O["a"](n));this.updateSketchFeatures_()}else{var r=this.sketchPoint_.getGeometry();r.setCoordinates(n)}};t.prototype.startDrawing_=function t(e){var n=e.coordinate;this.finishCoordinate_=n;if(this.mode_===M.POINT){this.sketchCoords_=n.slice()}else if(this.mode_===M.POLYGON){this.sketchCoords_=[[n.slice(),n.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else{this.sketchCoords_=[n.slice(),n.slice()]}if(this.sketchLineCoords_){this.sketchLine_=new l["a"](new g["a"](this.sketchLineCoords_))}var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new l["a"];if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(r);this.updateSketchFeatures_();this.dispatchEvent(new A(j.DRAWSTART,this.sketchFeature_))};t.prototype.modifyDrawing_=function t(e){var n=e.coordinate;var r=this.sketchFeature_.getGeometry();var i,a;if(this.mode_===M.POINT){a=this.sketchCoords_}else if(this.mode_===M.POLYGON){i=this.sketchCoords_[0];a=i[i.length-1];if(this.atFinish_(e)){n=this.finishCoordinate_.slice()}}else{i=this.sketchCoords_;a=i[i.length-1]}a[0]=n[0];a[1]=n[1];this.geometryFunction_(this.sketchCoords_,r);if(this.sketchPoint_){var o=this.sketchPoint_.getGeometry();o.setCoordinates(n)}var s;if(r.getType()==v["a"].POLYGON&&this.mode_!==M.POLYGON){if(!this.sketchLine_){this.sketchLine_=new l["a"]}var u=r.getLinearRing(0);s=this.sketchLine_.getGeometry();if(!s){s=new g["a"](u.getFlatCoordinates(),u.getLayout());this.sketchLine_.setGeometry(s)}else{s.setFlatCoordinates(u.getLayout(),u.getFlatCoordinates());s.changed()}}else if(this.sketchLineCoords_){s=this.sketchLine_.getGeometry();s.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()};t.prototype.addToDrawing_=function t(e){var n=e.coordinate;var r=this.sketchFeature_.getGeometry();var i;var a;if(this.mode_===M.LINE_STRING){this.finishCoordinate_=n.slice();a=this.sketchCoords_;if(a.length>=this.maxPoints_){if(this.freehand_){a.pop()}else{i=true}}a.push(n.slice());this.geometryFunction_(a,r)}else if(this.mode_===M.POLYGON){a=this.sketchCoords_[0];if(a.length>=this.maxPoints_){if(this.freehand_){a.pop()}else{i=true}}a.push(n.slice());if(i){this.finishCoordinate_=a[0]}this.geometryFunction_(this.sketchCoords_,r)}this.updateSketchFeatures_();if(i){this.finishDrawing()}};t.prototype.removeLastPoint=function t(){if(!this.sketchFeature_){return}var e=this.sketchFeature_.getGeometry();var n;var r;if(this.mode_===M.LINE_STRING){n=this.sketchCoords_;n.splice(-2,1);this.geometryFunction_(n,e);if(n.length>=2){this.finishCoordinate_=n[n.length-2].slice()}}else if(this.mode_===M.POLYGON){n=this.sketchCoords_[0];n.splice(-2,1);r=this.sketchLine_.getGeometry();r.setCoordinates(n);this.geometryFunction_(this.sketchCoords_,e)}if(n.length===0){this.finishCoordinate_=null}this.updateSketchFeatures_()};t.prototype.finishDrawing=function t(){var e=this.abortDrawing_();if(!e){return}var n=this.sketchCoords_;var r=e.getGeometry();if(this.mode_===M.LINE_STRING){n.pop();this.geometryFunction_(n,r)}else if(this.mode_===M.POLYGON){n[0].pop();this.geometryFunction_(n,r);n=r.getCoordinates()}if(this.type_===v["a"].MULTI_POINT){e.setGeometry(new y["a"]([n]))}else if(this.type_===v["a"].MULTI_LINE_STRING){e.setGeometry(new m["a"]([n]))}else if(this.type_===v["a"].MULTI_POLYGON){e.setGeometry(new _["a"]([n]))}this.dispatchEvent(new A(j.DRAWEND,e));if(this.features_){this.features_.push(e)}if(this.source_){this.source_.addFeature(e)}};t.prototype.abortDrawing_=function t(){this.finishCoordinate_=null;var e=this.sketchFeature_;if(e){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(true)}return e};t.prototype.extend=function t(e){var n=e.getGeometry();var r=n;this.sketchFeature_=e;this.sketchCoords_=r.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice();this.sketchCoords_.push(i.slice());this.updateSketchFeatures_();this.dispatchEvent(new A(j.DRAWSTART,this.sketchFeature_))};t.prototype.updateSketchFeatures_=function t(){var e=[];if(this.sketchFeature_){e.push(this.sketchFeature_)}if(this.sketchLine_){e.push(this.sketchLine_)}if(this.sketchPoint_){e.push(this.sketchPoint_)}var n=this.overlay_.getSource();n.clear(true);n.addFeatures(e)};t.prototype.updateState_=function t(){var e=this.getMap();var n=this.getActive();if(!e||!n){this.abortDrawing_()}this.overlay_.setMap(n?e:null)};return t}(S["b"]);function I(){var n=Object(C["b"])();return function(t,e){return n[t.getGeometry().getType()]}}function R(l,c){return function(t,e){var n=t[0];var r=t[1];var i=Math.sqrt(Object(h["g"])(n,r));var a=e?e:Object(w["c"])(new p["a"](n),l);var o=c;if(!c){var s=r[0]-n[0];var u=r[1]-n[1];o=Math.atan(u/s)-(s<0?Math.PI:0)}Object(w["e"])(a,n,i,o);return a}}function D(){return function(t,e){var n=Object(o["b"])(t);var r=[[Object(o["v"])(n),Object(o["w"])(n),Object(o["D"])(n),Object(o["C"])(n),Object(o["v"])(n)]];var i=e;if(i){i.setCoordinates(r)}else{i=new w["b"](r)}return i}}function P(t){var e;if(t===v["a"].POINT||t===v["a"].MULTI_POINT){e=M.POINT}else if(t===v["a"].LINE_STRING||t===v["a"].MULTI_LINE_STRING){e=M.LINE_STRING}else if(t===v["a"].POLYGON||t===v["a"].MULTI_POLYGON){e=M.POLYGON}else if(t===v["a"].CIRCLE){e=M.CIRCLE}return e}e["a"]=k},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(10);var i=n(5);var u=n(8);var a=function t(){this.dataProjection=null;this.defaultFeatureProjection=null};a.prototype.getReadOptions=function t(e,n){var r;if(n){r={dataProjection:n.dataProjection?n.dataProjection:this.readProjection(e),featureProjection:n.featureProjection}}return this.adaptOptions(r)};a.prototype.adaptOptions=function t(e){return Object(r["a"])({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)};a.prototype.getLastExtent=function t(){return null};a.prototype.getType=function t(){return Object(i["b"])()};a.prototype.readFeature=function t(e,n){return Object(i["b"])()};a.prototype.readFeatures=function t(e,n){return Object(i["b"])()};a.prototype.readGeometry=function t(e,n){return Object(i["b"])()};a.prototype.readProjection=function t(e){return Object(i["b"])()};a.prototype.writeFeature=function t(e,n){return Object(i["b"])()};a.prototype.writeFeatures=function t(e,n){return Object(i["b"])()};a.prototype.writeGeometry=function t(e,n){return Object(i["b"])()};e["a"]=a;function o(t,e,n){var r=n?Object(u["g"])(n.featureProjection):null;var i=n?Object(u["g"])(n.dataProjection):null;var a;if(r&&i&&!Object(u["e"])(r,i)){if(Array.isArray(t)){a=Object(u["n"])(t,i,r)}else{a=(e?t.clone():t).transform(e?r:i,e?i:r)}}else{a=t}if(e&&n&&n.decimals!==undefined&&!Array.isArray(a)){var o=Math.pow(10,n.decimals);var s=function t(e){for(var n=0,r=e.length;n<r;++n){e[n]=Math.round(e[n]*o)/o}return e};if(a===t){a=t.clone()}a.applyTransform(s)}return a}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});n.d(e,"c",function(){return a});n.d(e,"d",function(){return o});function r(t){return Math.pow(t,3)}function i(t){return 1-r(1-t)}function a(t){return 3*t*t-2*t*t*t}function o(t){return t}function s(t){if(t<.5){return a(2*t)}else{return 1-a(2*(t-.5))}}},function(t,e,n){"use strict";var r=n(215);var i=function(n){function r(t){var e=t||{};n.call(this,{points:Infinity,fill:e.fill,radius:e.radius,stroke:e.stroke,atlasManager:e.atlasManager})}if(n)r.__proto__=n;r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.prototype.clone=function t(){var e=new r({fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,radius:this.getRadius(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};r.prototype.setRadius=function t(e){this.radius_=e;this.render_(this.atlasManager_)};return r}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var g=n(191);var m=n(263);var l=n(20);var y=n(2);var _=n(11);var b=n(3);var O=n(10);var h=n(8);var f=n(163);var r=n(164);var c=n(168);var i=n(123);var d=n(144);var p=[101,101];var a=function(n){function t(t){var e=t||{};n.call(this,{attributions:e.attributions,projection:e.projection,resolutions:e.resolutions});this.crossOrigin_=e.crossOrigin!==undefined?e.crossOrigin:null;this.url_=e.url;this.imageLoadFunction_=e.imageLoadFunction!==undefined?e.imageLoadFunction:r["b"];this.params_=e.params||{};this.v13_=true;this.updateV13_();this.serverType_=e.serverType;this.hidpi_=e.hidpi!==undefined?e.hidpi:true;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=e.ratio!==undefined?e.ratio:1.5}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.getGetFeatureInfoUrl=function t(e,n,r,i){if(this.url_===undefined){return undefined}var a=Object(h["g"])(r);var o=this.getProjection();if(o&&o!==a){n=Object(f["a"])(o,a,e,n);e=Object(h["m"])(e,a,o)}var s=Object(b["z"])(e,n,0,p);var u={SERVICE:"WMS",VERSION:g["a"],REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};Object(O["a"])(u,this.params_,i);var l=Math.floor((e[0]-s[0])/n);var c=Math.floor((s[3]-e[1])/n);u[this.v13_?"I":"X"]=l;u[this.v13_?"J":"Y"]=c;return this.getRequestUrl_(s,p,1,o||a,u)};t.prototype.getParams=function t(){return this.params_};t.prototype.getImageInternal=function t(e,n,r,i){if(this.url_===undefined){return null}n=this.findNearestResolution(n);if(r!=1&&(!this.hidpi_||this.serverType_===undefined)){r=1}var a=n/r;var o=Object(b["x"])(e);var s=Math.ceil(Object(b["E"])(e)/a);var u=Math.ceil(Object(b["A"])(e)/a);var l=Object(b["z"])(o,a,0,[s,u]);var c=Math.ceil(this.ratio_*Object(b["E"])(e)/a);var h=Math.ceil(this.ratio_*Object(b["A"])(e)/a);var f=Object(b["z"])(o,a,0,[c,h]);var d=this.image_;if(d&&this.renderedRevision_==this.getRevision()&&d.getResolution()==n&&d.getPixelRatio()==r&&Object(b["g"])(d.getExtent(),l)){return d}var p={SERVICE:"WMS",VERSION:g["a"],REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};Object(O["a"])(p,this.params_);this.imageSize_[0]=Math.round(Object(b["E"])(f)/a);this.imageSize_[1]=Math.round(Object(b["A"])(f)/a);var v=this.getRequestUrl_(f,this.imageSize_,r,i,p);this.image_=new m["a"](f,n,r,v,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();Object(y["a"])(this.image_,_["a"].CHANGE,this.handleImageChange,this);return this.image_};t.prototype.getImageLoadFunction=function t(){return this.imageLoadFunction_};t.prototype.getRequestUrl_=function t(e,n,r,i,a){Object(l["a"])(this.url_!==undefined,9);a[this.v13_?"CRS":"SRS"]=i.getCode();if(!("STYLES"in this.params_)){a["STYLES"]=""}if(r!=1){switch(this.serverType_){case c["a"].GEOSERVER:var o=90*r+.5|0;if("FORMAT_OPTIONS"in a){a["FORMAT_OPTIONS"]+=";dpi:"+o}else{a["FORMAT_OPTIONS"]="dpi:"+o}break;case c["a"].MAPSERVER:a["MAP_RESOLUTION"]=90*r;break;case c["a"].CARMENTA_SERVER:case c["a"].QGIS:a["DPI"]=90*r;break;default:Object(l["a"])(false,8);break}}a["WIDTH"]=n[0];a["HEIGHT"]=n[1];var s=i.getAxisOrientation();var u;if(this.v13_&&s.substr(0,2)=="ne"){u=[e[1],e[0],e[3],e[2]]}else{u=e}a["BBOX"]=u.join(",");return Object(d["a"])(this.url_,a)};t.prototype.getUrl=function t(){return this.url_};t.prototype.setImageLoadFunction=function t(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};t.prototype.setUrl=function t(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};t.prototype.updateParams=function t(e){Object(O["a"])(this.params_,e);this.updateV13_();this.image_=null;this.changed()};t.prototype.updateV13_=function t(){var e=this.params_["VERSION"]||g["a"];this.v13_=Object(i["a"])(e,"1.3")>=0};return t}(r["a"]);e["a"]=a},function(t,e,n){"use strict";n.d(e,"b",function(){return i});n.d(e,"c",function(){return a});n.d(e,"a",function(){return o});n.d(e,"d",function(){return u});var l=n(20);var r=n(14);var c=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;var h=/^([a-z]*)$/i;function i(t){if(typeof t==="string"){return t}else{return u(t)}}function f(t){var e=document.createElement("div");e.style.color=t;if(e.style.color!==""){document.body.appendChild(e);var n=getComputedStyle(e).color;document.body.removeChild(e);return n}else{return""}}var a=function(){var i=1024;var a={};var o=0;return function(t){var e;if(a.hasOwnProperty(t)){e=a[t]}else{if(o>=i){var n=0;for(var r in a){if((n++&3)===0){delete a[r];--o}}}e=s(t);a[t]=e;++o}return e}}();function o(t){if(Array.isArray(t)){return t}else{return a(t)}}function s(t){var e,n,r,i,a;if(h.exec(t)){t=f(t)}if(c.exec(t)){var o=t.length-1;var s;if(o<=4){s=1}else{s=2}var u=o===4||o===8;e=parseInt(t.substr(1+0*s,s),16);n=parseInt(t.substr(1+1*s,s),16);r=parseInt(t.substr(1+2*s,s),16);if(u){i=parseInt(t.substr(1+3*s,s),16)}else{i=255}if(s==1){e=(e<<4)+e;n=(n<<4)+n;r=(r<<4)+r;if(u){i=(i<<4)+i}}a=[e,n,r,i/255]}else if(t.indexOf("rgba(")==0){a=t.slice(5,-1).split(",").map(Number);d(a)}else if(t.indexOf("rgb(")==0){a=t.slice(4,-1).split(",").map(Number);a.push(1);d(a)}else{Object(l["a"])(false,14)}return a}function d(t){t[0]=Object(r["a"])(t[0]+.5|0,0,255);t[1]=Object(r["a"])(t[1]+.5|0,0,255);t[2]=Object(r["a"])(t[2]+.5|0,0,255);t[3]=Object(r["a"])(t[3],0,1);return t}function u(t){var e=t[0];if(e!=(e|0)){e=e+.5|0}var n=t[1];if(n!=(n|0)){n=n+.5|0}var r=t[2];if(r!=(r|0)){r=r+.5|0}var i=t[3]===undefined?1:t[3];return"rgba("+e+","+n+","+r+","+i+")"}},function(t,e,n){"use strict";var r=function t(e,n){this.getActive=function(){return e[n]};this.setActive=function(t){e[n]=t}};e["a"]=r},function(t,e,n){"use strict";var r=n(119);var i=n(87);var a=function(n){function t(t){var e=t?t:{};n.call(this,e);this.type=r["a"].IMAGE}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(i["a"]);a.prototype.getSource;e["a"]=a},function(t,e,n){"use strict";n.d(e,"b",function(){return u});n.d(e,"a",function(){return c});n.d(e,"c",function(){return h});var r=n(17);var i=n(62);var a=n(84);var o=n(40);var s=r["a"].momentProperties=[];function u(t,e){var n,r,i;if(!Object(a["a"])(e._isAMomentObject)){t._isAMomentObject=e._isAMomentObject}if(!Object(a["a"])(e._i)){t._i=e._i}if(!Object(a["a"])(e._f)){t._f=e._f}if(!Object(a["a"])(e._l)){t._l=e._l}if(!Object(a["a"])(e._strict)){t._strict=e._strict}if(!Object(a["a"])(e._tzm)){t._tzm=e._tzm}if(!Object(a["a"])(e._isUTC)){t._isUTC=e._isUTC}if(!Object(a["a"])(e._offset)){t._offset=e._offset}if(!Object(a["a"])(e._pf)){t._pf=Object(o["a"])(e)}if(!Object(a["a"])(e._locale)){t._locale=e._locale}if(s.length>0){for(n=0;n<s.length;n++){r=s[n];i=e[r];if(!Object(a["a"])(i)){t[r]=i}}}return t}var l=false;function c(t){u(this,t);this._d=new Date(t._d!=null?t._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(l===false){l=true;r["a"].updateOffset(this);l=false}}function h(t){return t instanceof c||t!=null&&t._isAMomentObject!=null}},function(t,e,n){"use strict";var h=n(9);var a=n(3);var o=n(28);var r=n(7);var f=n(38);var i=n(81);var s=n(126);var u=n(115);var l=n(117);var d=n(231);var p=n(176);var v=n(137);var c=function(c){function i(t,e,n){c.call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;if(Array.isArray(t[0])){this.setCoordinates(t,e)}else if(e!==undefined&&n){this.setFlatCoordinates(e,t);this.ends_=n}else{var r=this.getLayout();var i=t;var a=[];var o=[];for(var s=0,u=i.length;s<u;++s){var l=i[s];if(s===0){r=l.getLayout()}Object(h["c"])(a,l.getFlatCoordinates());o.push(a.length)}this.setFlatCoordinates(r,a);this.ends_=o}}if(c)i.__proto__=c;i.prototype=Object.create(c&&c.prototype);i.prototype.constructor=i;i.prototype.appendLineString=function t(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{Object(h["c"])(this.flatCoordinates,e.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};i.prototype.clone=function t(){return new i(this.flatCoordinates.slice(),this.layout,this.ends_.slice())};i.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(a["e"])(this.getExtent(),e,n)){return i}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(s["a"])(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(s["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,false,e,n,r,i)};i.prototype.getCoordinateAtM=function t(e,n,r){if(this.layout!=o["a"].XYM&&this.layout!=o["a"].XYZM||this.flatCoordinates.length===0){return null}var i=n!==undefined?n:false;var a=r!==undefined?r:false;return Object(d["c"])(this.flatCoordinates,0,this.ends_,this.stride,e,i,a)};i.prototype.getCoordinates=function t(){return Object(l["b"])(this.flatCoordinates,0,this.ends_,this.stride)};i.prototype.getEnds=function t(){return this.ends_};i.prototype.getLineString=function t(e){if(e<0||this.ends_.length<=e){return null}return new f["a"](this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)};i.prototype.getLineStrings=function t(){var e=this.flatCoordinates;var n=this.ends_;var r=this.layout;var i=[];var a=0;for(var o=0,s=n.length;o<s;++o){var u=n[o];var l=new f["a"](e.slice(a,u),r);i.push(l);a=u}return i};i.prototype.getFlatMidpoints=function t(){var e=[];var n=this.flatCoordinates;var r=0;var i=this.ends_;var a=this.stride;for(var o=0,s=i.length;o<s;++o){var u=i[o];var l=Object(d["a"])(n,r,u,a,.5);Object(h["c"])(e,l);r=u}return e};i.prototype.getSimplifiedGeometryInternal=function t(e){var n=[];var r=[];n.length=Object(v["b"])(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r);return new i(n,o["a"].XY,r)};i.prototype.getType=function t(){return r["a"].MULTI_LINE_STRING};i.prototype.intersectsExtent=function t(e){return Object(p["b"])(this.flatCoordinates,0,this.ends_,this.stride,e)};i.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=Object(u["c"])(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1];this.changed()};return i}(i["a"]);e["a"]=c},function(t,e,n){"use strict";n.d(e,"c",function(){return r});n.d(e,"d",function(){return i});n.d(e,"e",function(){return a});n.d(e,"b",function(){return s});n.d(e,"a",function(){return u});n.d(e,"f",function(){return l});var r="ol-hidden";var i="ol-selectable";var a="ol-unselectable";var o="ol-unsupported";var s="ol-control";var u="ol-collapsed";var l=function(){var n;var r={};return function(t){if(!n){n=document.createElement("div").style}if(!(t in r)){n.font=t;var e=n.fontFamily;n.font="";if(!e){return null}r[t]=e.split(/,\s?/)}return r[t]}}()},function(t,e,n){"use strict";n.d(e,"b",function(){return f});var r=n(5);var u=n(3);var i=n(118);var o=n(28);var l=n(127);var a=n(10);var s=function(t){function e(){t.call(this);this.layout=o["a"].XY;this.stride=2;this.flatCoordinates=null}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.computeExtent=function t(e){return Object(u["o"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};e.prototype.getCoordinates=function t(){return Object(r["b"])()};e.prototype.getFirstCoordinate=function t(){return this.flatCoordinates.slice(0,this.stride)};e.prototype.getFlatCoordinates=function t(){return this.flatCoordinates};e.prototype.getLastCoordinate=function t(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};e.prototype.getLayout=function t(){return this.layout};e.prototype.getSimplifiedGeometry=function t(e){if(this.simplifiedGeometryRevision!=this.getRevision()){Object(a["b"])(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var n=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n)){return this.simplifiedGeometryCache[n]}else{var r=this.getSimplifiedGeometryInternal(e);var i=r.getFlatCoordinates();if(i.length<this.flatCoordinates.length){this.simplifiedGeometryCache[n]=r;return r}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};e.prototype.getSimplifiedGeometryInternal=function t(e){return this};e.prototype.getStride=function t(){return this.stride};e.prototype.setFlatCoordinates=function t(e,n){this.stride=h(e);this.layout=e;this.flatCoordinates=n};e.prototype.setCoordinates=function t(e,n){Object(r["b"])()};e.prototype.setLayout=function t(e,n,r){var i;if(e){i=h(e)}else{for(var a=0;a<r;++a){if(n.length===0){this.layout=o["a"].XY;this.stride=2;return}else{n=n[0]}}i=n.length;e=c(i)}this.layout=e;this.stride=i};e.prototype.applyTransform=function t(e){if(this.flatCoordinates){e(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};e.prototype.rotate=function t(e,n){var r=this.getFlatCoordinates();if(r){var i=this.getStride();Object(l["a"])(r,0,r.length,i,e,n,r);this.changed()}};e.prototype.scale=function t(e,n,r){var i=n;if(i===undefined){i=e}var a=r;if(!a){a=Object(u["x"])(this.getExtent())}var o=this.getFlatCoordinates();if(o){var s=this.getStride();Object(l["b"])(o,0,o.length,s,e,i,a,o);this.changed()}};e.prototype.translate=function t(e,n){var r=this.getFlatCoordinates();if(r){var i=this.getStride();Object(l["d"])(r,0,r.length,i,e,n,r);this.changed()}};return e}(i["a"]);function c(t){var e;if(t==2){e=o["a"].XY}else if(t==3){e=o["a"].XYZ}else if(t==4){e=o["a"].XYZM}return e}function h(t){var e;if(t==o["a"].XY){e=2}else if(t==o["a"].XYZ||t==o["a"].XYM){e=3}else if(t==o["a"].XYZM){e=4}return e}function f(t,e,n){var r=t.getFlatCoordinates();if(!r){return null}else{var i=t.getStride();return Object(l["c"])(r,0,r.length,i,e,n)}}e["a"]=s},function(t,e,n){"use strict";n.d(e,"a",function(){return a});n.d(e,"b",function(){return l});var r=n(136);var s=n(17);var i=n(84);function u(t){if(s["a"].suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+t)}}function a(i,a){var o=true;return Object(r["a"])(function(){if(s["a"].deprecationHandler!=null){s["a"].deprecationHandler(null,i)}if(o){var t=[];var e;for(var n=0;n<arguments.length;n++){e="";if(typeof arguments[n]==="object"){e+="\n["+n+"] ";for(var r in arguments[0]){e+=r+": "+arguments[0][r]+", "}e=e.slice(0,-2)}else{e=arguments[n]}t.push(e)}u(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack);o=false}return a.apply(this,arguments)},a)}var o={};function l(t,e){if(s["a"].deprecationHandler!=null){s["a"].deprecationHandler(t,e)}if(!o[t]){u(e);o[t]=true}}s["a"].suppressDeprecationWarnings=false;s["a"].deprecationHandler=null},function(t,e,n){"use strict";var r=n(89);var i=n(62);var a=n(22);var o=n(37);var s=n(65);var u=n(6);var l=n(49);var c=n(17);var h=n(13);var f=n(31);var d=n(124);var p=n(143);function v(t,e){return(t%e+e)%e}var g=n(85);var m=n(121);var y=n(40);var _=n(110);n.d(e,"a",function(){return b});n.d(e,"b",function(){return w});n.d(e,"f",function(){return S});n.d(e,"c",function(){return T});n.d(e,"h",function(){return x});n.d(e,"g",function(){return C});n.d(e,"k",function(){return M});n.d(e,"e",function(){return j});n.d(e,"d",function(){return A});n.d(e,"j",function(){return I});n.d(e,"i",function(){return D});function b(t,e){if(isNaN(t)||isNaN(e)){return NaN}var n=v(e,12);t+=(e-n)/12;return n===1?Object(_["d"])(t)?29:28:31-n%7%2}Object(a["a"])("M",["MM",2],"Mo",function(){return this.month()+1});Object(a["a"])("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Object(a["a"])("MMMM",0,0,function(t){return this.localeData().months(this,t)});Object(o["a"])("month","M");Object(s["a"])("month",8);Object(u["a"])("M",u["d"]);Object(u["a"])("MM",u["d"],u["h"]);Object(u["a"])("MMM",function(t,e){return e.monthsShortRegex(t)});Object(u["a"])("MMMM",function(t,e){return e.monthsRegex(t)});Object(l["a"])(["M","MM"],function(t,e){e[h["e"]]=Object(f["a"])(t)-1});Object(l["a"])(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);if(i!=null){e[h["e"]]=i}else{Object(y["a"])(n).invalidMonth=t}});var O=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var w="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function S(t,e){if(!t){return Object(d["a"])(this._months)?this._months:this._months["standalone"]}return Object(d["a"])(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||O).test(e)?"format":"standalone"][t.month()]}var T="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function x(t,e){if(!t){return Object(d["a"])(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return Object(d["a"])(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[O.test(e)?"format":"standalone"][t.month()]}function E(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(r=0;r<12;++r){a=Object(m["a"])([2e3,r]);this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase();this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase()}}if(n){if(e==="MMM"){i=g["a"].call(this._shortMonthsParse,o);return i!==-1?i:null}else{i=g["a"].call(this._longMonthsParse,o);return i!==-1?i:null}}else{if(e==="MMM"){i=g["a"].call(this._shortMonthsParse,o);if(i!==-1){return i}i=g["a"].call(this._longMonthsParse,o);return i!==-1?i:null}else{i=g["a"].call(this._longMonthsParse,o);if(i!==-1){return i}i=g["a"].call(this._shortMonthsParse,o);return i!==-1?i:null}}}function C(t,e,n){var r,i,a;if(this._monthsParseExact){return E.call(this,t,e,n)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(r=0;r<12;r++){i=Object(m["a"])([2e3,r]);if(n&&!this._longMonthsParse[r]){this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i");this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")}if(!n&&!this._monthsParse[r]){a="^"+this.months(i,"")+"|^"+this.monthsShort(i,"");this._monthsParse[r]=new RegExp(a.replace(".",""),"i")}if(n&&e==="MMMM"&&this._longMonthsParse[r].test(t)){return r}else if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t)){return r}else if(!n&&this._monthsParse[r].test(t)){return r}}}function M(t,e){var n;if(!t.isValid()){return t}if(typeof e==="string"){if(/^\d+$/.test(e)){e=Object(f["a"])(e)}else{e=t.localeData().monthsParse(e);if(!Object(p["a"])(e)){return t}}}n=Math.min(t.date(),b(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n);return t}function j(t){if(t!=null){M(this,t);c["a"].updateOffset(this,true);return this}else{return Object(r["a"])(this,"Month")}}function A(){return b(this.year(),this.month())}var k=u["s"];function I(t){if(this._monthsParseExact){if(!Object(i["a"])(this,"_monthsRegex")){P.call(this)}if(t){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!Object(i["a"])(this,"_monthsShortRegex")){this._monthsShortRegex=k}return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}}var R=u["s"];function D(t){if(this._monthsParseExact){if(!Object(i["a"])(this,"_monthsRegex")){P.call(this)}if(t){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!Object(i["a"])(this,"_monthsRegex")){this._monthsRegex=R}return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}}function P(){function t(t,e){return e.length-t.length}var e=[],n=[],r=[],i,a;for(i=0;i<12;i++){a=Object(m["a"])([2e3,i]);e.push(this.monthsShort(a,""));n.push(this.months(a,""));r.push(this.months(a,""));r.push(this.monthsShort(a,""))}e.sort(t);n.sort(t);r.sort(t);for(i=0;i<12;i++){e[i]=Object(u["t"])(e[i]);n[i]=Object(u["t"])(n[i])}for(i=0;i<24;i++){r[i]=Object(u["t"])(r[i])}this._monthsRegex=new RegExp("^("+r.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){return t===void 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;if(Array.prototype.indexOf){r=Array.prototype.indexOf}else{r=function t(e){var n;for(n=0;n<this.length;++n){if(this[n]===e){return n}}return-1}}},function(t,e,n){"use strict";e["a"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,n){"use strict";n.d(e,"b",function(){return d});var i=n(2);var a=n(11);var o=n(5);var s=n(42);var r=n(216);var u=n(86);var l=n(10);var c=n(130);var h=n(138);var f=function(r){function t(t){var e=Object(l["a"])({},t);delete e.source;r.call(this,e);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(t.map){this.setMap(t.map)}Object(i["a"])(this,Object(s["b"])(u["a"].SOURCE),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.getLayersArray=function t(e){var n=e?e:[];n.push(this);return n};t.prototype.getLayerStatesArray=function t(e){var n=e?e:[];n.push(this.getLayerState());return n};t.prototype.getSource=function t(){var e=this.get(u["a"].SOURCE);return e||null};t.prototype.getSourceState=function t(){var e=this.getSource();return!e?h["a"].UNDEFINED:e.getState()};t.prototype.handleSourceChange_=function t(){this.changed()};t.prototype.handleSourcePropertyChange_=function t(){if(this.sourceChangeKey_){Object(i["e"])(this.sourceChangeKey_);this.sourceChangeKey_=null}var e=this.getSource();if(e){this.sourceChangeKey_=Object(i["a"])(e,a["a"].CHANGE,this.handleSourceChange_,this)}this.changed()};t.prototype.setMap=function t(e){if(this.mapPrecomposeKey_){Object(i["e"])(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!e){this.changed()}if(this.mapRenderKey_){Object(i["e"])(this.mapRenderKey_);this.mapRenderKey_=null}if(e){this.mapPrecomposeKey_=Object(i["a"])(e,c["a"].PRECOMPOSE,function(t){var e=t;var n=this.getLayerState();n.managed=false;if(this.getZIndex()===undefined){n.zIndex=Infinity}e.frameState.layerStatesArray.push(n);e.frameState.layerStates[Object(o["c"])(this)]=n},this);this.mapRenderKey_=Object(i["a"])(this,a["a"].CHANGE,e.render,e);this.changed()}};t.prototype.setSource=function t(e){this.set(u["a"].SOURCE,e)};return t}(r["a"]);function d(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e["a"]=f},function(t,e,n){"use strict";var f=n(8);var d=n(152);var p=n(154);function r(t){var e=Object.keys(t.defs);var n=e.length;var r,i;for(r=0;r<n;++r){var a=e[r];if(!Object(f["g"])(a)){var o=t.defs(a);Object(f["c"])(new p["a"]({code:a,axisOrientation:o.axis,metersPerUnit:o.to_meter,units:o.units}))}}for(r=0;r<n;++r){var s=e[r];var u=Object(f["g"])(s);for(i=0;i<n;++i){var l=e[i];var c=Object(f["g"])(l);if(!Object(d["c"])(s,l)){if(t.defs[s]===t.defs[l]){Object(f["b"])([u,c])}else{var h=t(s,l);Object(f["a"])(u,c,h.forward,h.inverse)}}}}}var i=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");t.WGS84=t["EPSG:4326"];t["EPSG:3785"]=t["EPSG:3857"];t.GOOGLE=t["EPSG:3857"];t["EPSG:900913"]=t["EPSG:3857"];t["EPSG:102113"]=t["EPSG:3857"]};var v=1;var g=2;var s=4;var u=5;var A=484813681109536e-20;var j=Math.PI/2;var l=.16666666666666666;var c=.04722222222222222;var h=.022156084656084655;var k=1e-10;var m=.017453292519943295;var y=57.29577951308232;var _=Math.PI/4;var a=Math.PI*2;var b=3.14159265359;var O={};O.greenwich=0;O.lisbon=-9.131906111111;O.paris=2.337229166667;O.bogota=-74.080916666667;O.madrid=-3.687938888889;O.rome=12.452333333333;O.bern=7.439583333333;O.jakarta=106.807719444444;O.ferro=-17.666666666667;O.brussels=4.367975;O.stockholm=18.058277777778;O.athens=23.7163375;O.oslo=10.722916666667;var w={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var S=/[\s_\-\/\(\)]/g;function T(t,e){if(t[e]){return t[e]}var n=Object.keys(t);var r=e.toLowerCase().replace(S,"");var i=-1;var a,o;while(++i<n.length){a=n[i];o=a.toLowerCase().replace(S,"");if(o===r){return t[a]}}}var o=function(t){var r={};var e=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");n.push(true);t[n[0].toLowerCase()]=n[1];return t},{});var n,i,a;var o={proj:"projName",datum:"datumCode",rf:function t(e){r.rf=parseFloat(e)},lat_0:function t(e){r.lat0=e*m},lat_1:function t(e){r.lat1=e*m},lat_2:function t(e){r.lat2=e*m},lat_ts:function t(e){r.lat_ts=e*m},lon_0:function t(e){r.long0=e*m},lon_1:function t(e){r.long1=e*m},lon_2:function t(e){r.long2=e*m},alpha:function t(e){r.alpha=parseFloat(e)*m},lonc:function t(e){r.longc=e*m},x_0:function t(e){r.x0=parseFloat(e)},y_0:function t(e){r.y0=parseFloat(e)},k_0:function t(e){r.k0=parseFloat(e)},k:function t(e){r.k0=parseFloat(e)},a:function t(e){r.a=parseFloat(e)},b:function t(e){r.b=parseFloat(e)},r_a:function t(){r.R_A=true},zone:function t(e){r.zone=parseInt(e,10)},south:function t(){r.utmSouth=true},towgs84:function t(e){r.datum_params=e.split(",").map(function(t){return parseFloat(t)})},to_meter:function t(e){r.to_meter=parseFloat(e)},units:function t(e){r.units=e;var n=T(w,e);if(n){r.to_meter=n.to_meter}},from_greenwich:function t(e){r.from_greenwich=e*m},pm:function t(e){var t=T(O,e);r.from_greenwich=(t?t:parseFloat(e))*m},nadgrids:function t(e){if(e==="@null"){r.datumCode="none"}else{r.nadgrids=e}},axis:function t(e){var n="ewnsud";if(e.length===3&&n.indexOf(e.substr(0,1))!==-1&&n.indexOf(e.substr(1,1))!==-1&&n.indexOf(e.substr(2,1))!==-1){r.axis=e}}};for(n in e){i=e[n];if(n in o){a=o[n];if(typeof a==="function"){a(i)}else{r[a]=i}}else{r[n]=i}}if(typeof r.datumCode==="string"&&r.datumCode!=="WGS84"){r.datumCode=r.datumCode.toLowerCase()}return r};var x=n(286);var E=n.n(x);function C(t){var e=this;if(arguments.length===2){var n=arguments[1];if(typeof n==="string"){if(n.charAt(0)==="+"){C[t]=o(arguments[1])}else{C[t]=E()(arguments[1])}}else{C[t]=n}}else if(arguments.length===1){if(Array.isArray(t)){return t.map(function(t){if(Array.isArray(t)){C.apply(e,t)}else{C(t)}})}else if(typeof t==="string"){if(t in C){return C[t]}}else if("EPSG"in t){C["EPSG:"+t.EPSG]=t}else if("ESRI"in t){C["ESRI:"+t.ESRI]=t}else if("IAU2000"in t){C["IAU2000:"+t.IAU2000]=t}else{console.log(t)}return}}i(C);var M=C;function I(t){return typeof t==="string"}function R(t){return t in M}var D=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function P(e){return D.some(function(t){return e.indexOf(t)>-1})}var N=["3857","900913","3785","102113"];function L(t){var e=T(t,"authority");if(!e){return}var n=T(e,"epsg");return n&&N.indexOf(n)>-1}function $(t){var e=T(t,"extension");if(!e){return}return T(e,"proj4")}function F(t){return t[0]==="+"}function G(t){if(I(t)){if(R(t)){return M[t]}if(P(t)){var e=E()(t);if(L(e)){return M["EPSG:3857"]}var n=$(e);if(n){return o(n)}return e}if(F(t)){return o(t)}}else{return t}}var H=G;var U=function(t,e){t=t||{};var n,r;if(!e){return t}for(r in e){n=e[r];if(n!==undefined){t[r]=n}}return t};var W=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)};var Y=function(t){return t<0?-1:1};var V=function(t){return Math.abs(t)<=b?t:t-Y(t)*a};var q=function(t,e,n){var r=t*n;var i=.5*t;r=Math.pow((1-r)/(1+r),i);return Math.tan(.5*(j-e))/r};var z=function(t,e){var n=.5*t;var r,i;var a=j-2*Math.atan(e);for(var o=0;o<=15;o++){r=t*Math.sin(a);i=j-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-a;a+=i;if(Math.abs(i)<=1e-10){return a}}return-9999};function B(){var t=this.b/this.a;this.es=1-t*t;if(!("x0"in this)){this.x0=0}if(!("y0"in this)){this.y0=0}this.e=Math.sqrt(this.es);if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=W(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}else{if(!this.k0){if(this.k){this.k0=this.k}else{this.k0=1}}}}function K(t){var e=t.x;var n=t.y;if(n*y>90&&n*y<-90&&e*y>180&&e*y<-180){return null}var r,i;if(Math.abs(Math.abs(n)-j)<=k){return null}else{if(this.sphere){r=this.x0+this.a*this.k0*V(e-this.long0);i=this.y0+this.a*this.k0*Math.log(Math.tan(_+.5*n))}else{var a=Math.sin(n);var o=q(this.e,n,a);r=this.x0+this.a*this.k0*V(e-this.long0);i=this.y0-this.a*this.k0*Math.log(o)}t.x=r;t.y=i;return t}}function X(t){var e=t.x-this.x0;var n=t.y-this.y0;var r,i;if(this.sphere){i=j-2*Math.atan(Math.exp(-n/(this.a*this.k0)))}else{var a=Math.exp(-n/(this.a*this.k0));i=z(this.e,a);if(i===-9999){return null}}r=V(this.long0+e/(this.a*this.k0));t.x=r;t.y=i;return t}var Z=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];var Q={init:B,forward:K,inverse:X,names:Z};function J(){}function tt(t){return t}var et=["longlat","identity"];var nt={init:J,forward:tt,inverse:tt,names:et};var rt=[Q,nt];var it={};var at=[];function ot(t,e){var n=at.length;if(!t.names){console.log(e);return true}at[n]=t;t.names.forEach(function(t){it[t.toLowerCase()]=n});return this}function st(t){if(!t){return false}var e=t.toLowerCase();if(typeof it[e]!=="undefined"&&at[it[e]]){return at[it[e]]}}function ut(){rt.forEach(ot)}var lt={start:ut,add:ot,get:st};var ct={};ct.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};ct.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};ct.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};ct.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};ct.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"};ct.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};ct.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};ct.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"};ct.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};ct.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};ct.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};ct.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"};ct.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};ct.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"};ct.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."};ct.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"};ct.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};ct.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};ct.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"};ct.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"};ct.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"};ct.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"};ct.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"};ct.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};ct.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};ct.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};ct.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};ct.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};ct.hough={a:6378270,rf:297,ellipseName:"Hough"};ct.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};ct.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};ct.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};ct.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};ct.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"};ct.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};ct.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};ct.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"};ct.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"};ct.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};ct.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};ct.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var ht=ct.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ct.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function ft(t,e,n,r){var i=t*t;var a=e*e;var o=(i-a)/i;var s=0;if(r){t*=1-o*(l+o*(c+o*h));i=t*t;o=0}else{s=Math.sqrt(o)}var u=(i-a)/a;return{es:o,e:s,ep2:u}}function dt(t,e,n,r,i){if(!t){var a=T(ct,r);if(!a){a=ht}t=a.a;e=a.b;n=a.rf}if(n&&!e){e=(1-1/n)*t}if(n===0||Math.abs(t-e)<k){i=true;e=t}return{a:t,b:e,rf:n,sphere:i}}var pt={};pt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};pt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};pt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};pt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};pt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};pt.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};pt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};pt.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"};pt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};pt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};pt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};pt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};pt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};pt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};pt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};pt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};pt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function vt(t,e,n,r,i,a){var o={};if(t===undefined||t==="none"){o.datum_type=u}else{o.datum_type=s}if(e){o.datum_params=e.map(parseFloat);if(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0){o.datum_type=v}if(o.datum_params.length>3){if(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0){o.datum_type=g;o.datum_params[3]*=A;o.datum_params[4]*=A;o.datum_params[5]*=A;o.datum_params[6]=o.datum_params[6]/1e6+1}}}o.a=n;o.b=r;o.es=i;o.ep2=a;return o}var gt=vt;function mt(t,e){if(!(this instanceof mt)){return new mt(t)}e=e||function(t){if(t){throw t}};var n=H(t);if(typeof n!=="object"){e(t);return}var r=mt.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=T(pt,n.datumCode);if(i){n.datum_params=i.towgs84?i.towgs84.split(","):null;n.ellps=i.ellipse;n.datumName=i.datumName?i.datumName:n.datumCode}}n.k0=n.k0||1;n.axis=n.axis||"enu";n.ellps=n.ellps||"wgs84";var a=dt(n.a,n.b,n.rf,n.ellps,n.sphere);var o=ft(a.a,a.b,a.rf,n.R_A);var s=n.datum||gt(n.datumCode,n.datum_params,a.a,a.b,o.es,o.ep2);U(this,n);U(this,r);this.a=a.a;this.b=a.b;this.rf=a.rf;this.sphere=a.sphere;this.es=o.es;this.e=o.e;this.ep2=o.ep2;this.datum=s;this.init();e(null,this)}mt.projections=lt;mt.projections.start();var yt=mt;function _t(t,e){if(t.datum_type!==e.datum_type){return false}else if(t.a!==e.a||Math.abs(t.es-e.es)>5e-11){return false}else if(t.datum_type===v){return t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]}else if(t.datum_type===g){return t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]}else{return true}}function bt(t,e,n){var r=t.x;var i=t.y;var a=t.z?t.z:0;var o;var s;var u;var l;if(i<-j&&i>-1.001*j){i=-j}else if(i>j&&i<1.001*j){i=j}else if(i<-j){return{x:-Infinity,y:-Infinity,z:t.z}}else if(i>j){return{x:Infinity,y:Infinity,z:t.z}}if(r>Math.PI){r-=2*Math.PI}s=Math.sin(i);l=Math.cos(i);u=s*s;o=n/Math.sqrt(1-e*u);return{x:(o+a)*l*Math.cos(r),y:(o+a)*l*Math.sin(r),z:(o*(1-e)+a)*s}}function Ot(t,e,n,r){var i=1e-12;var a=i*i;var o=30;var s;var u;var l;var c;var h;var f;var d;var p;var v;var g;var m;var y;var _;var b=t.x;var O=t.y;var w=t.z?t.z:0;var S;var T;var x;s=Math.sqrt(b*b+O*O);u=Math.sqrt(b*b+O*O+w*w);if(s/n<i){S=0;if(u/n<i){T=j;x=-r;return{x:t.x,y:t.y,z:t.z}}}else{S=Math.atan2(O,b)}l=w/u;c=s/u;h=1/Math.sqrt(1-e*(2-e)*c*c);p=c*(1-e)*h;v=l*h;_=0;do{_++;d=n/Math.sqrt(1-e*v*v);x=s*p+w*v-d*(1-e*v*v);f=e*d/(d+x);h=1/Math.sqrt(1-f*(2-f)*c*c);g=c*(1-f)*h;m=l*h;y=m*p-g*v;p=g;v=m}while(y*y>a&&_<o);T=Math.atan(m/Math.abs(g));return{x:S,y:T,z:x}}function wt(t,e,n){if(e===v){return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]}}else if(e===g){var r=n[0];var i=n[1];var a=n[2];var o=n[3];var s=n[4];var u=n[5];var l=n[6];return{x:l*(t.x-u*t.y+s*t.z)+r,y:l*(u*t.x+t.y-o*t.z)+i,z:l*(-s*t.x+o*t.y+t.z)+a}}}function St(t,e,n){if(e===v){return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]}}else if(e===g){var r=n[0];var i=n[1];var a=n[2];var o=n[3];var s=n[4];var u=n[5];var l=n[6];var c=(t.x-r)/l;var h=(t.y-i)/l;var f=(t.z-a)/l;return{x:c+u*h-s*f,y:-u*c+h+o*f,z:s*c-o*h+f}}}function Tt(t){return t===v||t===g}var xt=function(t,e,n){if(_t(t,e)){return n}if(t.datum_type===u||e.datum_type===u){return n}if(t.es===e.es&&t.a===e.a&&!Tt(t.datum_type)&&!Tt(e.datum_type)){return n}n=bt(n,t.es,t.a);if(Tt(t.datum_type)){n=wt(n,t.datum_type,t.datum_params)}if(Tt(e.datum_type)){n=St(n,e.datum_type,e.datum_params)}return Ot(n,e.es,e.a,e.b)};var Et=function(t,e,n){var r=n.x,i=n.y,a=n.z||0;var o,s,u;var l={};for(u=0;u<3;u++){if(e&&u===2&&n.z===undefined){continue}if(u===0){o=r;s="x"}else if(u===1){o=i;s="y"}else{o=a;s="z"}switch(t.axis[u]){case"e":l[s]=o;break;case"w":l[s]=-o;break;case"n":l[s]=o;break;case"s":l[s]=-o;break;case"u":if(n[s]!==undefined){l.z=o}break;case"d":if(n[s]!==undefined){l.z=-o}break;default:return null}}return l};var Ct=function(t){var e={x:t[0],y:t[1]};if(t.length>2){e.z=t[2]}if(t.length>3){e.m=t[3]}return e};var Mt=function(t){jt(t.x);jt(t.y)};function jt(t){if(typeof Number.isFinite==="function"){if(Number.isFinite(t)){return}throw new TypeError("coordinates must be finite numbers")}if(typeof t!=="number"||t!==t||!isFinite(t)){throw new TypeError("coordinates must be finite numbers")}}function At(t,e){return(t.datum.datum_type===v||t.datum.datum_type===g)&&e.datumCode!=="WGS84"||(e.datum.datum_type===v||e.datum.datum_type===g)&&t.datumCode!=="WGS84"}function kt(t,e,n){var r;if(Array.isArray(n)){n=Ct(n)}Mt(n);if(t.datum&&e.datum&&At(t,e)){r=new yt("WGS84");n=kt(t,r,n);t=r}if(t.axis!=="enu"){n=Et(t,false,n)}if(t.projName==="longlat"){n={x:n.x*m,y:n.y*m}}else{if(t.to_meter){n={x:n.x*t.to_meter,y:n.y*t.to_meter}}n=t.inverse(n)}if(t.from_greenwich){n.x+=t.from_greenwich}n=xt(t.datum,e.datum,n);if(e.from_greenwich){n={x:n.x-e.from_greenwich,y:n.y}}if(e.projName==="longlat"){n={x:n.x*y,y:n.y*y}}else{n=e.forward(n);if(e.to_meter){n={x:n.x/e.to_meter,y:n.y/e.to_meter}}}if(e.axis!=="enu"){return Et(e,true,n)}return n}var It=yt("WGS84");function Rt(t,e,n){var r,i,a;if(Array.isArray(n)){r=kt(t,e,n);if(n.length===3){return[r.x,r.y,r.z]}else{return[r.x,r.y]}}else{i=kt(t,e,n);a=Object.keys(n);if(a.length===2){return i}a.forEach(function(t){if(t==="x"||t==="y"){return}i[t]=n[t]});return i}}function Dt(t){if(t instanceof yt){return t}if(t.oProj){return t.oProj}return yt(t)}function Pt(n,r,t){n=Dt(n);var e=false;var i;if(typeof r==="undefined"){r=n;n=It;e=true}else if(typeof r.x!=="undefined"||Array.isArray(r)){t=r;r=n;n=It;e=true}r=Dt(r);if(t){return Rt(n,r,t)}else{i={forward:function t(e){return Rt(n,r,e)},inverse:function t(e){return Rt(r,n,e)}};if(e){i.oProj=r}return i}}var Nt=Pt;var Lt=n(246);var $t=n.n(Lt);function Ft(t,e,n){if(!(this instanceof Ft)){return new Ft(t,e,n)}if(Array.isArray(t)){this.x=t[0];this.y=t[1];this.z=t[2]||0}else if(typeof t==="object"){this.x=t.x;this.y=t.y;this.z=t.z||0}else if(typeof t==="string"&&typeof e==="undefined"){var r=t.split(",");this.x=parseFloat(r[0],10);this.y=parseFloat(r[1],10);this.z=parseFloat(r[2],10)||0}else{this.x=t;this.y=e;this.z=n||0}console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ft.fromMGRS=function(t){return new Ft(Object(Lt["toPoint"])(t))};Ft.prototype.toMGRS=function(t){return Object(Lt["forward"])([this.x,this.y],t)};var Gt=Ft;var Ht=n(318);var Ut=1;var Wt=.25;var Yt=.046875;var Vt=.01953125;var qt=.01068115234375;var zt=.75;var Bt=.46875;var Kt=.013020833333333334;var Xt=.007120768229166667;var Zt=.3645833333333333;var Qt=.005696614583333333;var Jt=.3076171875;var te=function(t){var e=[];e[0]=Ut-t*(Wt+t*(Yt+t*(Vt+t*qt)));e[1]=t*(zt-t*(Yt+t*(Vt+t*qt)));var n=t*t;e[2]=n*(Bt-t*(Kt+t*Xt));n*=t;e[3]=n*(Zt-t*Qt);e[4]=n*t*Jt;return e};var ee=function(t,e,n,r){n*=e;e*=e;return r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))};var ne=20;var re=function(t,e,n){var r=1/(1-e);var i=t;for(var a=ne;a;--a){var o=Math.sin(i);var s=1-e*o*o;s=(ee(i,o,Math.cos(i),n)-t)*(s*Math.sqrt(s))*r;i-=s;if(Math.abs(s)<k){return i}}return i};function ie(){this.x0=this.x0!==undefined?this.x0:0;this.y0=this.y0!==undefined?this.y0:0;this.long0=this.long0!==undefined?this.long0:0;this.lat0=this.lat0!==undefined?this.lat0:0;if(this.es){this.en=te(this.es);this.ml0=ee(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en)}}function ae(t){var e=t.x;var n=t.y;var r=V(e-this.long0);var i;var a,o;var s=Math.sin(n);var u=Math.cos(n);if(!this.es){var l=u*Math.sin(r);if(Math.abs(Math.abs(l)-1)<k){return 93}else{a=.5*this.a*this.k0*Math.log((1+l)/(1-l))+this.x0;o=u*Math.cos(r)/Math.sqrt(1-Math.pow(l,2));l=Math.abs(o);if(l>=1){if(l-1>k){return 93}else{o=0}}else{o=Math.acos(o)}if(n<0){o=-o}o=this.a*this.k0*(o-this.lat0)+this.y0}}else{var c=u*r;var h=Math.pow(c,2);var f=this.ep2*Math.pow(u,2);var d=Math.pow(f,2);var p=Math.abs(u)>k?Math.tan(n):0;var v=Math.pow(p,2);var g=Math.pow(v,2);i=1-this.es*Math.pow(s,2);c=c/Math.sqrt(i);var m=ee(n,s,u,this.en);a=this.a*(this.k0*c*(1+h/6*(1-v+f+h/20*(5-18*v+g+14*f-58*v*f+h/42*(61+179*g-g*v-479*v)))))+this.x0;o=this.a*(this.k0*(m-this.ml0+s*r*c/2*(1+h/12*(5-v+9*f+4*d+h/30*(61+g-58*v+270*f-330*v*f+h/56*(1385+543*g-g*v-3111*v))))))+this.y0}t.x=a;t.y=o;return t}function oe(t){var e,n;var r,i;var a=(t.x-this.x0)*(1/this.a);var o=(t.y-this.y0)*(1/this.a);if(!this.es){var s=Math.exp(a/this.k0);var u=.5*(s-1/s);var l=this.lat0+o/this.k0;var c=Math.cos(l);e=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(u,2)));r=Math.asin(e);if(o<0){r=-r}if(u===0&&c===0){i=0}else{i=V(Math.atan2(u,c)+this.long0)}}else{e=this.ml0+o/this.k0;n=re(e,this.es,this.en);if(Math.abs(n)<j){var h=Math.sin(n);var f=Math.cos(n);var d=Math.abs(f)>k?Math.tan(n):0;var p=this.ep2*Math.pow(f,2);var v=Math.pow(p,2);var g=Math.pow(d,2);var m=Math.pow(g,2);e=1-this.es*Math.pow(h,2);var y=a*Math.sqrt(e)/this.k0;var _=Math.pow(y,2);e=e*d;r=n-e*_/(1-this.es)*.5*(1-_/12*(5+3*g-9*p*g+p-4*v-_/30*(61+90*g-252*p*g+45*m+46*p-_/56*(1385+3633*g+4095*m+1574*m*g))));i=V(this.long0+y*(1-_/6*(1+2*g+p-_/20*(5+28*g+24*m+8*p*g+6*p-_/42*(61+662*g+1320*m+720*m*g))))/f)}else{r=j*Y(o);i=0}}t.x=i;t.y=r;return t}var se=["Transverse_Mercator","Transverse Mercator","tmerc"];var ue={init:ie,forward:ae,inverse:oe,names:se};var le=function(t){var e=Math.exp(t);e=(e-1/e)/2;return e};var ce=function(t,e){t=Math.abs(t);e=Math.abs(e);var n=Math.max(t,e);var r=Math.min(t,e)/(n?n:1);return n*Math.sqrt(1+Math.pow(r,2))};var he=function(t){var e=1+t;var n=e-1;return n===0?t:t*Math.log(e)/n};var fe=function(t){var e=Math.abs(t);e=he(e*(1+e/(ce(1,e)+1)));return t<0?-e:e};var de=function(t,e){var n=2*Math.cos(2*e);var r=t.length-1;var i=t[r];var a=0;var o;while(--r>=0){o=-a+n*i+t[r];a=i;i=o}return e+o*Math.sin(2*e)};var pe=function(t,e){var n=2*Math.cos(e);var r=t.length-1;var i=t[r];var a=0;var o;while(--r>=0){o=-a+n*i+t[r];a=i;i=o}return Math.sin(e)*o};var ve=function(t){var e=Math.exp(t);e=(e+1/e)/2;return e};var ge=function(t,e,n){var r=Math.sin(e);var i=Math.cos(e);var a=le(n);var o=ve(n);var s=2*i*o;var u=-2*r*a;var l=t.length-1;var c=t[l];var h=0;var f=0;var d=0;var p;var v;while(--l>=0){p=f;v=h;f=c;h=d;c=-p+s*f-u*h+t[l];d=-v+u*f+s*h}s=r*o;u=i*a;return[s*c-u*d,s*d+u*c]};function me(){if(this.es===undefined||this.es<=0){throw new Error("incorrect elliptical usage")}this.x0=this.x0!==undefined?this.x0:0;this.y0=this.y0!==undefined?this.y0:0;this.long0=this.long0!==undefined?this.long0:0;this.lat0=this.lat0!==undefined?this.lat0:0;this.cgb=[];this.cbg=[];this.utg=[];this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es));var e=t/(2-t);var n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675))))));this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725))))));n=n*e;this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945)))));this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945)))));n=n*e;this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835))));this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835))));n=n*e;this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175)));this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175)));n=n*e;this.cgb[4]=n*(4174/315+e*(-144838/6237));this.cbg[4]=n*(-734/315+e*(109598/31185));n=n*e;this.cgb[5]=n*(601676/22275);this.cbg[5]=n*(444337/155925);n=Math.pow(e,2);this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256)));this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800))))));this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800))))));this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720)))));this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360)))));n=n*e;this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720))));this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440))));n=n*e;this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600)));this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600)));n=n*e;this.utg[4]=n*(-4583/161280+e*(108847/3991680));this.gtu[4]=n*(34729/80640+e*(-3418889/1995840));n=n*e;this.utg[5]=n*(-20648693/638668800);this.gtu[5]=n*(212378941/319334400);var r=de(this.cbg,this.lat0);this.Zb=-this.Qn*(r+pe(this.gtu,2*r))}function ye(t){var e=V(t.x-this.long0);var n=t.y;n=de(this.cbg,n);var r=Math.sin(n);var i=Math.cos(n);var a=Math.sin(e);var o=Math.cos(e);n=Math.atan2(r,o*i);e=Math.atan2(a*i,ce(r,i*o));e=fe(Math.tan(e));var s=ge(this.gtu,2*n,2*e);n=n+s[0];e=e+s[1];var u;var l;if(Math.abs(e)<=2.623395162778){u=this.a*(this.Qn*e)+this.x0;l=this.a*(this.Qn*n+this.Zb)+this.y0}else{u=Infinity;l=Infinity}t.x=u;t.y=l;return t}function _e(t){var e=(t.x-this.x0)*(1/this.a);var n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn;e=e/this.Qn;var r;var i;if(Math.abs(e)<=2.623395162778){var a=ge(this.utg,2*n,2*e);n=n+a[0];e=e+a[1];e=Math.atan(le(e));var o=Math.sin(n);var s=Math.cos(n);var u=Math.sin(e);var l=Math.cos(e);n=Math.atan2(o*l,ce(u,l*s));e=Math.atan2(u,l*s);r=V(e+this.long0);i=de(this.cgb,n)}else{r=Infinity;i=Infinity}t.x=r;t.y=i;return t}var be=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];var Oe={init:me,forward:ye,inverse:_e,names:be};var we=function(t,e){if(t===undefined){t=Math.floor((V(e)+Math.PI)*30/Math.PI)+1;if(t<0){return 0}else if(t>60){return 60}}return t};var Se="etmerc";function Te(){var t=we(this.zone,this.long0);if(t===undefined){throw new Error("unknown utm zone")}this.lat0=0;this.long0=(6*Math.abs(t)-183)*m;this.x0=5e5;this.y0=this.utmSouth?1e7:0;this.k0=.9996;Oe.init.apply(this);this.forward=Oe.forward;this.inverse=Oe.inverse}var xe=["Universal Transverse Mercator System","utm"];var Ee={init:Te,names:xe,dependsOn:Se};var Ce=function(t,e){return Math.pow((1-t)/(1+t),e)};var Me=20;function je(){var t=Math.sin(this.lat0);var e=Math.cos(this.lat0);e*=e;this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t);this.C=Math.sqrt(1+this.es*e*e/(1-this.es));this.phic0=Math.asin(t/this.C);this.ratexp=.5*this.C*this.e;this.K=Math.tan(.5*this.phic0+_)/(Math.pow(Math.tan(.5*this.lat0+_),this.C)*Ce(this.e*t,this.ratexp))}function Ae(t){var e=t.x;var n=t.y;t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+_),this.C)*Ce(this.e*Math.sin(n),this.ratexp))-j;t.x=this.C*e;return t}function ke(t){var e=1e-14;var n=t.x/this.C;var r=t.y;var i=Math.pow(Math.tan(.5*r+_)/this.K,1/this.C);for(var a=Me;a>0;--a){r=2*Math.atan(i*Ce(this.e*Math.sin(t.y),-.5*this.e))-j;if(Math.abs(r-t.y)<e){break}t.y=r}if(!a){return null}t.x=n;t.y=r;return t}var Ie=["gauss"];var Re={init:je,forward:Ae,inverse:ke,names:Ie};function De(){Re.init.apply(this);if(!this.rc){return}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}}function Pe(t){var e,n,r,i;t.x=V(t.x-this.long0);Re.forward.apply(this,[t]);e=Math.sin(t.y);n=Math.cos(t.y);r=Math.cos(t.x);i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r);t.x=i*n*Math.sin(t.x);t.y=i*(this.cosc0*e-this.sinc0*n*r);t.x=this.a*t.x+this.x0;t.y=this.a*t.y+this.y0;return t}function Ne(t){var e,n,r,i,a;t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;t.x/=this.k0;t.y/=this.k0;if(a=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(a,this.R2);e=Math.sin(o);n=Math.cos(o);i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/a);r=Math.atan2(t.x*e,a*this.cosc0*n-t.y*this.sinc0*e)}else{i=this.phic0;r=0}t.x=r;t.y=i;Re.inverse.apply(this,[t]);t.x=V(t.x+this.long0);return t}var Le=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];var $e={init:De,forward:Pe,inverse:Ne,names:Le};function Fe(t,e,n){e*=n;return Math.tan(.5*(j+t))*Math.pow((1-e)/(1+e),.5*n)}function Ge(){this.coslat0=Math.cos(this.lat0);this.sinlat0=Math.sin(this.lat0);if(this.sphere){if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=k){this.k0=.5*(1+Y(this.lat0)*Math.sin(this.lat_ts))}}else{if(Math.abs(this.coslat0)<=k){if(this.lat0>0){this.con=1}else{this.con=-1}}this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e));if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=k){this.k0=.5*this.cons*W(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/q(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))}this.ms1=W(this.e,this.sinlat0,this.coslat0);this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-j;this.cosX0=Math.cos(this.X0);this.sinX0=Math.sin(this.X0)}}function He(t){var e=t.x;var n=t.y;var r=Math.sin(n);var i=Math.cos(n);var a,o,s,u,l,c;var h=V(e-this.long0);if(Math.abs(Math.abs(e-this.long0)-Math.PI)<=k&&Math.abs(n+this.lat0)<=k){t.x=NaN;t.y=NaN;return t}if(this.sphere){a=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(h));t.x=this.a*a*i*Math.sin(h)+this.x0;t.y=this.a*a*(this.coslat0*r-this.sinlat0*i*Math.cos(h))+this.y0;return t}else{o=2*Math.atan(this.ssfn_(n,r,this.e))-j;u=Math.cos(o);s=Math.sin(o);if(Math.abs(this.coslat0)<=k){l=q(this.e,n*this.con,this.con*r);c=2*this.a*this.k0*l/this.cons;t.x=this.x0+c*Math.sin(e-this.long0);t.y=this.y0-this.con*c*Math.cos(e-this.long0);return t}else if(Math.abs(this.sinlat0)<k){a=2*this.a*this.k0/(1+u*Math.cos(h));t.y=a*s}else{a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*u*Math.cos(h)));t.y=a*(this.cosX0*s-this.sinX0*u*Math.cos(h))+this.y0}t.x=a*u*Math.sin(h)+this.x0}return t}function Ue(t){t.x-=this.x0;t.y-=this.y0;var e,n,r,i,a;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));e=this.long0;n=this.lat0;if(o<=k){t.x=e;t.y=n;return t}n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o);if(Math.abs(this.coslat0)<k){if(this.lat0>0){e=V(this.long0+Math.atan2(t.x,-1*t.y))}else{e=V(this.long0+Math.atan2(t.x,t.y))}}else{e=V(this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s)))}t.x=e;t.y=n;return t}else{if(Math.abs(this.coslat0)<=k){if(o<=k){n=this.lat0;e=this.long0;t.x=e;t.y=n;return t}t.x*=this.con;t.y*=this.con;r=o*this.cons/(2*this.a*this.k0);n=this.con*z(this.e,r);e=this.con*V(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else{i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1));e=this.long0;if(o<=k){a=this.X0}else{a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o);e=V(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))}n=-1*z(this.e,Math.tan(.5*(j+a)))}}t.x=e;t.y=n;return t}var We=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];var Ye={init:Ge,forward:He,inverse:Ue,names:We,ssfn_:Fe};function Ve(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t);var n=this.a;var r=this.rf;var i=1/r;var a=2*i-Math.pow(i,2);var o=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(e,2));this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4));this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2));var u=Math.log(Math.tan(Math.PI/4+t/2));var l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*u+this.alpha*o/2*l}function qe(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2));var n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y)));var r=-this.alpha*(e+n)+this.K;var i=2*(Math.atan(Math.exp(r))-Math.PI/4);var a=this.alpha*(t.x-this.lambda0);var o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a)));var s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0;t.x=this.R*o+this.x0;return t}function ze(t){var e=t.x-this.x0;var n=t.y-this.y0;var r=e/this.R;var i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4);var a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r));var o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i)));var s=this.lambda0+o/this.alpha;var u=0;var l=a;var c=-1e3;var h=0;while(Math.abs(l-c)>1e-7){if(++h>20){return}u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2));c=l;l=2*Math.atan(Math.exp(u))-Math.PI/2}t.x=s;t.y=l;return t}var Be=["somerc"];var Ke={init:Ve,forward:qe,inverse:ze,names:Be};function Xe(){this.no_off=this.no_off||false;this.no_rot=this.no_rot||false;if(isNaN(this.k0)){this.k0=1}var t=Math.sin(this.lat0);var e=Math.cos(this.lat0);var n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4));this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=q(this.e,this.lat0,t);var i=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(i*i<1){i=1}var a;var o;if(!isNaN(this.longc)){if(this.lat0>=0){a=i+Math.sqrt(i*i-1)}else{a=i-Math.sqrt(i*i-1)}this.el=a*Math.pow(r,this.bl);o=.5*(a-1/a);this.gamma0=Math.asin(Math.sin(this.alpha)/i);this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl}else{var s=q(this.e,this.lat1,Math.sin(this.lat1));var u=q(this.e,this.lat2,Math.sin(this.lat2));if(this.lat0>=0){this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl)}else{this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl)}var l=Math.pow(s,this.bl);var c=Math.pow(u,this.bl);a=this.el/l;o=.5*(a-1/a);var h=(this.el*this.el-c*l)/(this.el*this.el+c*l);var f=(c-l)/(c+l);var d=V(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/f)/this.bl;this.long0=V(this.long0);var p=V(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/o);this.alpha=Math.asin(i*Math.sin(this.gamma0))}if(this.no_off){this.uc=0}else{if(this.lat0>=0){this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}else{this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}}}function Ze(t){var e=t.x;var n=t.y;var r=V(e-this.long0);var i,a;var o;if(Math.abs(Math.abs(n)-j)<=k){if(n>0){o=-1}else{o=1}a=this.al/this.bl*Math.log(Math.tan(_+o*this.gamma0*.5));i=-1*o*j*this.al/this.bl}else{var s=q(this.e,n,Math.sin(n));var u=this.el/Math.pow(s,this.bl);var l=.5*(u-1/u);var c=.5*(u+1/u);var h=Math.sin(this.bl*r);var f=(l*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;if(Math.abs(Math.abs(f)-1)<=k){a=Number.POSITIVE_INFINITY}else{a=.5*this.al*Math.log((1-f)/(1+f))/this.bl}if(Math.abs(Math.cos(this.bl*r))<=k){i=this.al*this.bl*r}else{i=this.al*Math.atan2(l*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*r))/this.bl}}if(this.no_rot){t.x=this.x0+i;t.y=this.y0+a}else{i-=this.uc;t.x=this.x0+a*Math.cos(this.alpha)+i*Math.sin(this.alpha);t.y=this.y0+i*Math.cos(this.alpha)-a*Math.sin(this.alpha)}return t}function Qe(t){var e,n;if(this.no_rot){n=t.y-this.y0;e=t.x-this.x0}else{n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha);e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha);e+=this.uc}var r=Math.exp(-1*this.bl*n/this.al);var i=.5*(r-1/r);var a=.5*(r+1/r);var o=Math.sin(this.bl*e/this.al);var s=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/a;var u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);if(Math.abs(s-1)<k){t.x=this.long0;t.y=j}else if(Math.abs(s+1)<k){t.x=this.long0;t.y=-1*j}else{t.y=z(this.e,u);t.x=V(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)}return t}var Je=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];var tn={init:Xe,forward:Ze,inverse:Qe,names:Je};function en(){if(!this.lat2){this.lat2=this.lat1}if(!this.k0){this.k0=1}this.x0=this.x0||0;this.y0=this.y0||0;if(Math.abs(this.lat1+this.lat2)<k){return}var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1);var n=Math.cos(this.lat1);var r=W(this.e,e,n);var i=q(this.e,this.lat1,e);var a=Math.sin(this.lat2);var o=Math.cos(this.lat2);var s=W(this.e,a,o);var u=q(this.e,this.lat2,a);var l=q(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>k){this.ns=Math.log(r/s)/Math.log(i/u)}else{this.ns=e}if(isNaN(this.ns)){this.ns=e}this.f0=r/(this.ns*Math.pow(i,this.ns));this.rh=this.a*this.f0*Math.pow(l,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}}function nn(t){var e=t.x;var n=t.y;if(Math.abs(2*Math.abs(n)-Math.PI)<=k){n=Y(n)*(j-2*k)}var r=Math.abs(Math.abs(n)-j);var i,a;if(r>k){i=q(this.e,n,Math.sin(n));a=this.a*this.f0*Math.pow(i,this.ns)}else{r=n*this.ns;if(r<=0){return null}a=0}var o=this.ns*V(e-this.long0);t.x=this.k0*(a*Math.sin(o))+this.x0;t.y=this.k0*(this.rh-a*Math.cos(o))+this.y0;return t}function rn(t){var e,n,r;var i,a;var o=(t.x-this.x0)/this.k0;var s=this.rh-(t.y-this.y0)/this.k0;if(this.ns>0){e=Math.sqrt(o*o+s*s);n=1}else{e=-Math.sqrt(o*o+s*s);n=-1}var u=0;if(e!==0){u=Math.atan2(n*o,n*s)}if(e!==0||this.ns>0){n=1/this.ns;r=Math.pow(e/(this.a*this.f0),n);i=z(this.e,r);if(i===-9999){return null}}else{i=-j}a=V(u/this.ns+this.long0);t.x=a;t.y=i;return t}var an=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];var on={init:en,forward:nn,inverse:rn,names:an};function sn(){this.a=6377397.155;this.es=.006674372230614;this.e=Math.sqrt(this.es);if(!this.lat0){this.lat0=.863937979737193}if(!this.long0){this.long0=.7417649320975901-.308341501185665}if(!this.k0){this.k0=.9999}this.s45=.785398163397448;this.s90=2*this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0)/this.alfa);this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2);this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g;this.k1=this.k0;this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1*this.n0/Math.tan(this.s0);this.ad=this.s90-this.uq}function un(t){var e,n,r,i,a,o,s;var u=t.x;var l=t.y;var c=V(u-this.long0);e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2);n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45);r=-c*this.alfa;i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r));a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i));o=this.n*a;s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n);t.y=s*Math.cos(o)/1;t.x=s*Math.sin(o)/1;if(!this.czech){t.y*=-1;t.x*=-1}return t}function ln(t){var e,n,r,i,a,o,s;var u;var l=t.x;t.x=t.y;t.y=l;if(!this.czech){t.y*=-1;t.x*=-1}o=Math.sqrt(t.x*t.x+t.y*t.y);a=Math.atan2(t.y,t.x);i=a/Math.sin(this.s0);r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45);e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i));n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e));t.x=this.long0-n/this.alfa;s=e;u=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45);if(Math.abs(s-t.y)<1e-10){u=1}s=t.y;c+=1}while(u===0&&c<15);if(c>=15){return null}return t}var cn=["Krovak","krovak"];var hn={init:sn,forward:un,inverse:ln,names:cn};var fn=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)};var dn=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))};var pn=function(t){return.375*t*(1+.25*t*(1+.46875*t))};var vn=function(t){return.05859375*t*t*(1+.75*t)};var gn=function(t){return t*t*t*(35/3072)};var mn=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)};var yn=function(t){return Math.abs(t)<j?t:t-Y(t)*Math.PI};var _n=function(t,e,n,r,i){var a;var o;a=t/e;for(var s=0;s<15;s++){o=(t-(e*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a));a+=o;if(Math.abs(o)<=1e-10){return a}}return NaN};function bn(){if(!this.sphere){this.e0=dn(this.es);this.e1=pn(this.es);this.e2=vn(this.es);this.e3=gn(this.es);this.ml0=this.a*fn(this.e0,this.e1,this.e2,this.e3,this.lat0)}}function On(t){var e,n;var r=t.x;var i=t.y;r=V(r-this.long0);if(this.sphere){e=this.a*Math.asin(Math.cos(i)*Math.sin(r));n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0)}else{var a=Math.sin(i);var o=Math.cos(i);var s=mn(this.a,this.e,a);var u=Math.tan(i)*Math.tan(i);var l=r*Math.cos(i);var c=l*l;var h=this.es*o*o/(1-this.es);var f=this.a*fn(this.e0,this.e1,this.e2,this.e3,i);e=s*l*(1-c*u*(1/6-(8-u+8*h)*c/120));n=f-this.ml0+s*a/o*c*(.5+(5-u+6*h)*c/24)}t.x=e+this.x0;t.y=n+this.y0;return t}function wn(t){t.x-=this.x0;t.y-=this.y0;var e=t.x/this.a;var n=t.y/this.a;var r,i;if(this.sphere){var a=n+this.lat0;r=Math.asin(Math.sin(a)*Math.cos(e));i=Math.atan2(Math.tan(e),Math.cos(a))}else{var o=this.ml0/this.a+n;var s=_n(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-j)<=k){t.x=this.long0;t.y=j;if(n<0){t.y*=-1}return t}var u=mn(this.a,this.e,Math.sin(s));var l=u*u*u/this.a/this.a*(1-this.es);var c=Math.pow(Math.tan(s),2);var h=e*this.a/u;var f=h*h;r=s-u*Math.tan(s)/l*h*h*(.5-(1+3*c)*h*h/24);i=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}t.x=V(i+this.long0);t.y=yn(r);return t}var Sn=["Cassini","Cassini_Soldner","cass"];var Tn={init:bn,forward:On,inverse:wn,names:Sn};var xn=function(t,e){var n;if(t>1e-7){n=t*e;return(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))}else{return 2*e}};var En=1;var Cn=2;var Mn=3;var jn=4;function An(){var t=Math.abs(this.lat0);if(Math.abs(t-j)<k){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else if(Math.abs(t)<k){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}if(this.es>0){var e;this.qp=xn(this.e,1);this.mmf=.5/(1-this.es);this.apa=Fn(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp);e=Math.sin(this.lat0);this.sinb1=xn(this.e,e)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode===this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}}function kn(t){var e,n,r,i,a,o,s,u,l,c;var h=t.x;var f=t.y;h=V(h-this.long0);if(this.sphere){a=Math.sin(f);c=Math.cos(f);r=Math.cos(h);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*a+this.cosph0*c*r;if(n<=k){return null}n=Math.sqrt(2/n);e=n*c*Math.sin(h);n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){r=-r}if(Math.abs(f+this.phi0)<k){return null}n=_-f*.5;n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n));e=n*Math.sin(h);n*=r}}else{s=0;u=0;l=0;r=Math.cos(h);i=Math.sin(h);a=Math.sin(f);o=xn(this.e,a);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){s=o/this.qp;u=Math.sqrt(1-s*s)}switch(this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*r;break;case this.EQUIT:l=1+u*r;break;case this.N_POLE:l=j+f;o=this.qp-o;break;case this.S_POLE:l=f-j;o=this.qp+o;break}if(Math.abs(l)<k){return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l);if(this.mode===this.OBLIQ){n=this.ymf*l*(this.cosb1*s-this.sinb1*u*r)}else{n=(l=Math.sqrt(2/(1+u*r)))*s*this.ymf}e=this.xmf*l*u*i;break;case this.N_POLE:case this.S_POLE:if(o>=0){e=(l=Math.sqrt(o))*i;n=r*(this.mode===this.S_POLE?l:-l)}else{e=n=0}break}}t.x=this.a*e+this.x0;t.y=this.a*n+this.y0;return t}function In(t){t.x-=this.x0;t.y-=this.y0;var e=t.x/this.a;var n=t.y/this.a;var r,i,a,o,s,u,l;if(this.sphere){var c=0,h,f=0;h=Math.sqrt(e*e+n*n);i=h*.5;if(i>1){return null}i=2*Math.asin(i);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){f=Math.sin(i);c=Math.cos(i)}switch(this.mode){case this.EQUIT:i=Math.abs(h)<=k?0:Math.asin(n*f/h);e*=f;n=c*h;break;case this.OBLIQ:i=Math.abs(h)<=k?this.phi0:Math.asin(c*this.sinph0+n*f*this.cosph0/h);e*=f*this.cosph0;n=(c-Math.sin(i)*this.sinph0)*h;break;case this.N_POLE:n=-n;i=j-i;break;case this.S_POLE:i-=j;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{l=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){e/=this.dd;n*=this.dd;u=Math.sqrt(e*e+n*n);if(u<k){t.x=0;t.y=this.phi0;return t}o=2*Math.asin(.5*u/this.rq);a=Math.cos(o);e*=o=Math.sin(o);if(this.mode===this.OBLIQ){l=a*this.sinb1+n*o*this.cosb1/u;s=this.qp*l;n=u*this.cosb1*a-n*this.sinb1*o}else{l=n*o/u;s=this.qp*l;n=u*a}}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){n=-n}s=e*e+n*n;if(!s){t.x=0;t.y=this.phi0;return t}l=1-s/this.qp;if(this.mode===this.S_POLE){l=-l}}r=Math.atan2(e,n);i=Gn(Math.asin(l),this.apa)}t.x=V(this.long0+r);t.y=i;return t}var Rn=.3333333333333333;var Dn=.17222222222222222;var Pn=.10257936507936508;var Nn=.06388888888888888;var Ln=.0664021164021164;var $n=.016415012942191543;function Fn(t){var e;var n=[];n[0]=t*Rn;e=t*t;n[0]+=e*Dn;n[1]=e*Nn;e*=t;n[0]+=e*Pn;n[1]+=e*Ln;n[2]=e*$n;return n}function Gn(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var Hn=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];var Un={init:An,forward:kn,inverse:In,names:Hn,S_POLE:En,N_POLE:Cn,EQUIT:Mn,OBLIQ:jn};var Wn=function(t){if(Math.abs(t)>1){t=t>1?1:-1}return Math.asin(t)};function Yn(){if(Math.abs(this.lat1+this.lat2)<k){return}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=W(this.e3,this.sin_po,this.cos_po);this.qs1=xn(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=W(this.e3,this.sin_po,this.cos_po);this.qs2=xn(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=xn(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>k){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0}function Vn(t){var e=t.x;var n=t.y;this.sin_phi=Math.sin(n);this.cos_phi=Math.cos(n);var r=xn(this.e3,this.sin_phi,this.cos_phi);var i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0;var a=this.ns0*V(e-this.long0);var o=i*Math.sin(a)+this.x0;var s=this.rh-i*Math.cos(a)+this.y0;t.x=o;t.y=s;return t}function qn(t){var e,n,r,i,a,o;t.x-=this.x0;t.y=this.rh-t.y+this.y0;if(this.ns0>=0){e=Math.sqrt(t.x*t.x+t.y*t.y);r=1}else{e=-Math.sqrt(t.x*t.x+t.y*t.y);r=-1}i=0;if(e!==0){i=Math.atan2(r*t.x,r*t.y)}r=e*this.ns0/this.a;if(this.sphere){o=Math.asin((this.c-r*r)/(2*this.ns0))}else{n=(this.c-r*r)/this.ns0;o=this.phi1z(this.e3,n)}a=V(i/this.ns0+this.long0);t.x=a;t.y=o;return t}function zn(t,e){var n,r,i,a,o;var s=Wn(.5*e);if(t<k){return s}var u=t*t;for(var l=1;l<=25;l++){n=Math.sin(s);r=Math.cos(s);i=t*n;a=1-i*i;o=.5*a*a/r*(e/(1-u)-n/a+.5/t*Math.log((1-i)/(1+i)));s=s+o;if(Math.abs(o)<=1e-7){return s}}return null}var Bn=["Albers_Conic_Equal_Area","Albers","aea"];var Kn={init:Yn,forward:Vn,inverse:qn,names:Bn,phi1z:zn};function Xn(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1e3*this.a;this.rc=1}function Zn(t){var e,n;var r;var i;var a;var o;var s,u;var l=t.x;var c=t.y;r=V(l-this.long0);e=Math.sin(c);n=Math.cos(c);i=Math.cos(r);o=this.sin_p14*e+this.cos_p14*n*i;a=1;if(o>0||Math.abs(o)<=k){s=this.x0+this.a*a*n*Math.sin(r)/o;u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*i)/o}else{s=this.x0+this.infinity_dist*n*Math.sin(r);u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)}t.x=s;t.y=u;return t}function Qn(t){var e;var n,r;var i;var a,o;t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;t.x/=this.k0;t.y/=this.k0;if(e=Math.sqrt(t.x*t.x+t.y*t.y)){i=Math.atan2(e,this.rc);n=Math.sin(i);r=Math.cos(i);o=Wn(r*this.sin_p14+t.y*n*this.cos_p14/e);a=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n);a=V(this.long0+a)}else{o=this.phic0;a=0}t.x=a;t.y=o;return t}var Jn=["gnom"];var tr={init:Xn,forward:Zn,inverse:Qn,names:Jn};var er=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6){if(e<0){return-1*j}else{return j}}var r=Math.asin(.5*e);var i;var a;var o;var s;for(var u=0;u<30;u++){a=Math.sin(r);o=Math.cos(r);s=t*a;i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-a/(1-s*s)+.5/t*Math.log((1-s)/(1+s)));r+=i;if(Math.abs(i)<=1e-10){return r}}return NaN};function nr(){if(!this.sphere){this.k0=W(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}function rr(t){var e=t.x;var n=t.y;var r,i;var a=V(e-this.long0);if(this.sphere){r=this.x0+this.a*a*Math.cos(this.lat_ts);i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts)}else{var o=xn(this.e,Math.sin(n));r=this.x0+this.a*this.k0*a;i=this.y0+this.a*o*.5/this.k0}t.x=r;t.y=i;return t}function ir(t){t.x-=this.x0;t.y-=this.y0;var e,n;if(this.sphere){e=V(this.long0+t.x/this.a/Math.cos(this.lat_ts));n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))}else{n=er(this.e,2*t.y*this.k0/this.a);e=V(this.long0+t.x/(this.a*this.k0))}t.x=e;t.y=n;return t}var ar=["cea"];var or={init:nr,forward:rr,inverse:ir,names:ar};function sr(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts)}function ur(t){var e=t.x;var n=t.y;var r=V(e-this.long0);var i=yn(n-this.lat0);t.x=this.x0+this.a*r*this.rc;t.y=this.y0+this.a*i;return t}function lr(t){var e=t.x;var n=t.y;t.x=V(this.long0+(e-this.x0)/(this.a*this.rc));t.y=yn(this.lat0+(n-this.y0)/this.a);return t}var cr=["Equirectangular","Equidistant_Cylindrical","eqc"];var hr={init:sr,forward:ur,inverse:lr,names:cr};var fr=20;function dr(){this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=dn(this.es);this.e1=pn(this.es);this.e2=vn(this.es);this.e3=gn(this.es);this.ml0=this.a*fn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function pr(t){var e=t.x;var n=t.y;var r,i,a;var o=V(e-this.long0);a=o*Math.sin(n);if(this.sphere){if(Math.abs(n)<=k){r=this.a*o;i=-1*this.a*this.lat0}else{r=this.a*Math.sin(a)/Math.tan(n);i=this.a*(yn(n-this.lat0)+(1-Math.cos(a))/Math.tan(n))}}else{if(Math.abs(n)<=k){r=this.a*o;i=-1*this.ml0}else{var s=mn(this.a,this.e,Math.sin(n))/Math.tan(n);r=s*Math.sin(a);i=this.a*fn(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+s*(1-Math.cos(a))}}t.x=r+this.x0;t.y=i+this.y0;return t}function vr(t){var e,n,r,i,a;var o,s;var u,l;r=t.x-this.x0;i=t.y-this.y0;if(this.sphere){if(Math.abs(i+this.a*this.lat0)<=k){e=V(r/this.a+this.long0);n=0}else{o=this.lat0+i/this.a;s=r*r/this.a/this.a+o*o;u=o;var c;for(a=fr;a;--a){c=Math.tan(u);l=-1*(o*(u*c+1)-u-.5*(u*u+s)*c)/((u-o)/c-1);u+=l;if(Math.abs(l)<=k){n=u;break}}e=V(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}}else{if(Math.abs(i+this.ml0)<=k){n=0;e=V(this.long0+r/this.a)}else{o=(this.ml0+i)/this.a;s=r*r/this.a/this.a+o*o;u=o;var h,f,d,p;var v;for(a=fr;a;--a){v=this.e*Math.sin(u);h=Math.sqrt(1-v*v)*Math.tan(u);f=this.a*fn(this.e0,this.e1,this.e2,this.e3,u);d=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u);p=f/this.a;l=(o*(h*p+1)-p-.5*h*(p*p+s))/(this.es*Math.sin(2*u)*(p*p+s-2*o*p)/(4*h)+(o-p)*(h*d-2/Math.sin(2*u))-d);u-=l;if(Math.abs(l)<=k){n=u;break}}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n);e=V(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}}t.x=e;t.y=n;return t}var gr=["Polyconic","poly"];var mr={init:dr,forward:pr,inverse:vr,names:gr};var yr=1;function _r(){this.A=[];this.A[1]=.6399175073;this.A[2]=-.1358797613;this.A[3]=.063294409;this.A[4]=-.02526853;this.A[5]=.0117879;this.A[6]=-.0055161;this.A[7]=.0026906;this.A[8]=-.001333;this.A[9]=67e-5;this.A[10]=-34e-5;this.B_re=[];this.B_im=[];this.B_re[1]=.7557853228;this.B_im[1]=0;this.B_re[2]=.249204646;this.B_im[2]=.003371507;this.B_re[3]=-.001541739;this.B_im[3]=.04105856;this.B_re[4]=-.10162907;this.B_im[4]=.01727609;this.B_re[5]=-.26623489;this.B_im[5]=-.36249218;this.B_re[6]=-.6870983;this.B_im[6]=-1.1651967;this.C_re=[];this.C_im=[];this.C_re[1]=1.3231270439;this.C_im[1]=0;this.C_re[2]=-.577245789;this.C_im[2]=-.007809598;this.C_re[3]=.508307513;this.C_im[3]=-.112208952;this.C_re[4]=-.15094762;this.C_im[4]=.18200602;this.C_re[5]=1.01418179;this.C_im[5]=1.64497696;this.C_re[6]=1.9660549;this.C_im[6]=2.5127645;this.D=[];this.D[1]=1.5627014243;this.D[2]=.5185406398;this.D[3]=-.03333098;this.D[4]=-.1052906;this.D[5]=-.0368594;this.D[6]=.007317;this.D[7]=.0122;this.D[8]=.00394;this.D[9]=-.0013}function br(t){var e;var n=t.x;var r=t.y;var i=r-this.lat0;var a=n-this.long0;var o=i/A*1e-5;var s=a;var u=1;var l=0;for(e=1;e<=10;e++){u=u*o;l=l+this.A[e]*u}var c=l;var h=s;var f=1;var d=0;var p;var v;var g=0;var m=0;for(e=1;e<=6;e++){p=f*c-d*h;v=d*c+f*h;f=p;d=v;g=g+this.B_re[e]*f-this.B_im[e]*d;m=m+this.B_im[e]*f+this.B_re[e]*d}t.x=m*this.a+this.x0;t.y=g*this.a+this.y0;return t}function Or(t){var e;var n=t.x;var r=t.y;var i=n-this.x0;var a=r-this.y0;var o=a/this.a;var s=i/this.a;var u=1;var l=0;var c;var h;var f=0;var d=0;for(e=1;e<=6;e++){c=u*o-l*s;h=l*o+u*s;u=c;l=h;f=f+this.C_re[e]*u-this.C_im[e]*l;d=d+this.C_im[e]*u+this.C_re[e]*l}for(var p=0;p<this.iterations;p++){var v=f;var g=d;var m;var y;var _=o;var b=s;for(e=2;e<=6;e++){m=v*f-g*d;y=g*f+v*d;v=m;g=y;_=_+(e-1)*(this.B_re[e]*v-this.B_im[e]*g);b=b+(e-1)*(this.B_im[e]*v+this.B_re[e]*g)}v=1;g=0;var O=this.B_re[1];var w=this.B_im[1];for(e=2;e<=6;e++){m=v*f-g*d;y=g*f+v*d;v=m;g=y;O=O+e*(this.B_re[e]*v-this.B_im[e]*g);w=w+e*(this.B_im[e]*v+this.B_re[e]*g)}var S=O*O+w*w;f=(_*O+b*w)/S;d=(b*O-_*w)/S}var T=f;var x=d;var E=1;var C=0;for(e=1;e<=9;e++){E=E*T;C=C+this.D[e]*E}var M=this.lat0+C*A*1e5;var j=this.long0+x;t.x=j;t.y=M;return t}var wr=["New_Zealand_Map_Grid","nzmg"];var Sr={init:_r,forward:br,inverse:Or,names:wr};function Tr(){}function xr(t){var e=t.x;var n=t.y;var r=V(e-this.long0);var i=this.x0+this.a*r;var a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;t.x=i;t.y=a;return t}function Er(t){t.x-=this.x0;t.y-=this.y0;var e=V(this.long0+t.x/this.a);var n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);t.x=e;t.y=n;return t}var Cr=["Miller_Cylindrical","mill"];var Mr={init:Tr,forward:xr,inverse:Er,names:Cr};var jr=20;function Ar(){if(!this.sphere){this.en=te(this.es)}else{this.n=1;this.m=0;this.es=0;this.C_y=Math.sqrt((this.m+1)/this.n);this.C_x=this.C_y/(this.m+1)}}function kr(t){var e,n;var r=t.x;var i=t.y;r=V(r-this.long0);if(this.sphere){if(!this.m){i=this.n!==1?Math.asin(this.n*Math.sin(i)):i}else{var a=this.n*Math.sin(i);for(var o=jr;o;--o){var s=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));i-=s;if(Math.abs(s)<k){break}}}e=this.a*this.C_x*r*(this.m+Math.cos(i));n=this.a*this.C_y*i}else{var u=Math.sin(i);var l=Math.cos(i);n=this.a*ee(i,u,l,this.en);e=this.a*r*l/Math.sqrt(1-this.es*u*u)}t.x=e;t.y=n;return t}function Ir(t){var e,n,r,i;t.x-=this.x0;r=t.x/this.a;t.y-=this.y0;e=t.y/this.a;if(this.sphere){e/=this.C_y;r=r/(this.C_x*(this.m+Math.cos(e)));if(this.m){e=Wn((this.m*e+Math.sin(e))/this.n)}else if(this.n!==1){e=Wn(Math.sin(e)/this.n)}r=V(r+this.long0);e=yn(e)}else{e=re(t.y/this.a,this.es,this.en);i=Math.abs(e);if(i<j){i=Math.sin(e);n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e));r=V(n)}else if(i-k<j){r=this.long0}}t.x=r;t.y=e;return t}var Rr=["Sinusoidal","sinu"];var Dr={init:Ar,forward:kr,inverse:Ir,names:Rr};function Pr(){}function Nr(t){var e=t.x;var n=t.y;var r=V(e-this.long0);var i=n;var a=Math.PI*Math.sin(n);while(true){var o=-(i+Math.sin(i)-a)/(1+Math.cos(i));i+=o;if(Math.abs(o)<k){break}}i/=2;if(Math.PI/2-Math.abs(n)<k){r=0}var s=.900316316158*this.a*r*Math.cos(i)+this.x0;var u=1.4142135623731*this.a*Math.sin(i)+this.y0;t.x=s;t.y=u;return t}function Lr(t){var e;var n;t.x-=this.x0;t.y-=this.y0;n=t.y/(1.4142135623731*this.a);if(Math.abs(n)>.999999999999){n=.999999999999}e=Math.asin(n);var r=V(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));if(r<-Math.PI){r=-Math.PI}if(r>Math.PI){r=Math.PI}n=(2*e+Math.sin(2*e))/Math.PI;if(Math.abs(n)>1){n=1}var i=Math.asin(n);t.x=r;t.y=i;return t}var $r=["Mollweide","moll"];var Fr={init:Pr,forward:Nr,inverse:Lr,names:$r};function Gr(){if(Math.abs(this.lat1+this.lat2)<k){return}this.lat2=this.lat2||this.lat1;this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=dn(this.es);this.e1=pn(this.es);this.e2=vn(this.es);this.e3=gn(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=W(this.e,this.sinphi,this.cosphi);this.ml1=fn(this.e0,this.e1,this.e2,this.e3,this.lat1);if(Math.abs(this.lat1-this.lat2)<k){this.ns=this.sinphi}else{this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=W(this.e,this.sinphi,this.cosphi);this.ml2=fn(this.e0,this.e1,this.e2,this.e3,this.lat2);this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}this.g=this.ml1+this.ms1/this.ns;this.ml0=fn(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)}function Hr(t){var e=t.x;var n=t.y;var r;if(this.sphere){r=this.a*(this.g-n)}else{var i=fn(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var a=this.ns*V(e-this.long0);var o=this.x0+r*Math.sin(a);var s=this.y0+this.rh-r*Math.cos(a);t.x=o;t.y=s;return t}function Ur(t){t.x-=this.x0;t.y=this.rh-t.y+this.y0;var e,n,r,i;if(this.ns>=0){n=Math.sqrt(t.x*t.x+t.y*t.y);e=1}else{n=-Math.sqrt(t.x*t.x+t.y*t.y);e=-1}var a=0;if(n!==0){a=Math.atan2(e*t.x,e*t.y)}if(this.sphere){i=V(this.long0+a/this.ns);r=yn(this.g-n/this.a);t.x=i;t.y=r;return t}else{var o=this.g-n/this.a;r=_n(o,this.e0,this.e1,this.e2,this.e3);i=V(this.long0+a/this.ns);t.x=i;t.y=r;return t}}var Wr=["Equidistant_Conic","eqdc"];var Yr={init:Gr,forward:Hr,inverse:Ur,names:Wr};function Vr(){this.R=this.a}function qr(t){var e=t.x;var n=t.y;var r=V(e-this.long0);var i,a;if(Math.abs(n)<=k){i=this.x0+this.R*r;a=this.y0}var o=Wn(2*Math.abs(n/Math.PI));if(Math.abs(r)<=k||Math.abs(Math.abs(n)-j)<=k){i=this.x0;if(n>=0){a=this.y0+Math.PI*this.R*Math.tan(.5*o)}else{a=this.y0+Math.PI*this.R*-Math.tan(.5*o)}}var s=.5*Math.abs(Math.PI/r-r/Math.PI);var u=s*s;var l=Math.sin(o);var c=Math.cos(o);var h=c/(l+c-1);var f=h*h;var d=h*(2/l-1);var p=d*d;var v=Math.PI*this.R*(s*(h-p)+Math.sqrt(u*(h-p)*(h-p)-(p+u)*(f-p)))/(p+u);if(r<0){v=-v}i=this.x0+v;var g=u+h;v=Math.PI*this.R*(d*g-s*Math.sqrt((p+u)*(u+1)-g*g))/(p+u);if(n>=0){a=this.y0+v}else{a=this.y0-v}t.x=i;t.y=a;return t}function zr(t){var e,n;var r,i,a,o,s,u;var l;var c;var h;var f;var d;t.x-=this.x0;t.y-=this.y0;h=Math.PI*this.R;r=t.x/h;i=t.y/h;a=r*r+i*i;o=-Math.abs(i)*(1+a);s=o-2*i*i+r*r;u=-2*o+1+2*i*i+a*a;d=i*i/u+(2*s*s*s/u/u/u-9*o*s/u/u)/27;l=(o-s*s/3/u)/u;c=2*Math.sqrt(-l/3);h=3*d/l/c;if(Math.abs(h)>1){if(h>=0){h=1}else{h=-1}}f=Math.acos(h)/3;if(t.y>=0){n=(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI}else{n=-(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI}if(Math.abs(r)<k){e=this.long0}else{e=V(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r)}t.x=e;t.y=n;return t}var Br=["Van_der_Grinten_I","VanDerGrinten","vandg"];var Kr={init:Vr,forward:qr,inverse:zr,names:Br};function Xr(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)}function Zr(t){var e=t.x;var n=t.y;var r=Math.sin(t.y);var i=Math.cos(t.y);var a=V(e-this.long0);var o,s,u,l,c,h,f,d,p,v,g,m,y,_,b,O,w,S,T,x,E,C,M;if(this.sphere){if(Math.abs(this.sin_p12-1)<=k){t.x=this.x0+this.a*(j-n)*Math.sin(a);t.y=this.y0-this.a*(j-n)*Math.cos(a);return t}else if(Math.abs(this.sin_p12+1)<=k){t.x=this.x0+this.a*(j+n)*Math.sin(a);t.y=this.y0+this.a*(j+n)*Math.cos(a);return t}else{S=this.sin_p12*r+this.cos_p12*i*Math.cos(a);O=Math.acos(S);w=O/Math.sin(O);t.x=this.x0+this.a*w*i*Math.sin(a);t.y=this.y0+this.a*w*(this.cos_p12*r-this.sin_p12*i*Math.cos(a));return t}}else{o=dn(this.es);s=pn(this.es);u=vn(this.es);l=gn(this.es);if(Math.abs(this.sin_p12-1)<=k){c=this.a*fn(o,s,u,l,j);h=this.a*fn(o,s,u,l,n);t.x=this.x0+(c-h)*Math.sin(a);t.y=this.y0-(c-h)*Math.cos(a);return t}else if(Math.abs(this.sin_p12+1)<=k){c=this.a*fn(o,s,u,l,j);h=this.a*fn(o,s,u,l,n);t.x=this.x0+(c+h)*Math.sin(a);t.y=this.y0+(c+h)*Math.cos(a);return t}else{f=r/i;d=mn(this.a,this.e,this.sin_p12);p=mn(this.a,this.e,r);v=Math.atan((1-this.es)*f+this.es*d*this.sin_p12/(p*i));g=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(a));if(g===0){T=Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v))}else if(Math.abs(Math.abs(g)-Math.PI)<=k){T=-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v))}else{T=Math.asin(Math.sin(a)*Math.cos(v)/Math.sin(g))}m=this.e*this.sin_p12/Math.sqrt(1-this.es);y=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es);_=m*y;b=y*y;x=T*T;E=x*T;C=E*T;M=C*T;O=d*T*(1-x*b*(1-b)/6+E/8*_*(1-2*b)+C/120*(b*(4-7*b)-3*m*m*(1-7*b))-M/48*_);t.x=this.x0+O*Math.sin(g);t.y=this.y0+O*Math.cos(g);return t}}}function Qr(t){t.x-=this.x0;t.y-=this.y0;var e,n,r,i,a,o,s,u,l,c,h,f,d,p,v,g,m,y,_,b,O,w,S;if(this.sphere){e=Math.sqrt(t.x*t.x+t.y*t.y);if(e>2*j*this.a){return}n=e/this.a;r=Math.sin(n);i=Math.cos(n);a=this.long0;if(Math.abs(e)<=k){o=this.lat0}else{o=Wn(i*this.sin_p12+t.y*r*this.cos_p12/e);s=Math.abs(this.lat0)-j;if(Math.abs(s)<=k){if(this.lat0>=0){a=V(this.long0+Math.atan2(t.x,-t.y))}else{a=V(this.long0-Math.atan2(-t.x,t.y))}}else{a=V(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))}}t.x=a;t.y=o;return t}else{u=dn(this.es);l=pn(this.es);c=vn(this.es);h=gn(this.es);if(Math.abs(this.sin_p12-1)<=k){f=this.a*fn(u,l,c,h,j);e=Math.sqrt(t.x*t.x+t.y*t.y);d=f-e;o=_n(d/this.a,u,l,c,h);a=V(this.long0+Math.atan2(t.x,-1*t.y));t.x=a;t.y=o;return t}else if(Math.abs(this.sin_p12+1)<=k){f=this.a*fn(u,l,c,h,j);e=Math.sqrt(t.x*t.x+t.y*t.y);d=e-f;o=_n(d/this.a,u,l,c,h);a=V(this.long0+Math.atan2(t.x,t.y));t.x=a;t.y=o;return t}else{e=Math.sqrt(t.x*t.x+t.y*t.y);g=Math.atan2(t.x,t.y);p=mn(this.a,this.e,this.sin_p12);m=Math.cos(g);y=this.e*this.cos_p12*m;_=-y*y/(1-this.es);b=3*this.es*(1-_)*this.sin_p12*this.cos_p12*m/(1-this.es);O=e/p;w=O-_*(1+_)*Math.pow(O,3)/6-b*(1+3*_)*Math.pow(O,4)/24;S=1-_*w*w/2-O*w*w*w/6;v=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*m);a=V(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(v)));o=Math.atan((1-this.es*S*this.sin_p12/Math.sin(v))*Math.tan(v)/(1-this.es));t.x=a;t.y=o;return t}}}var Jr=["Azimuthal_Equidistant","aeqd"];var ti={init:Xr,forward:Zr,inverse:Qr,names:Jr};function ei(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0)}function ni(t){var e,n;var r;var i;var a;var o,s,u;var l=t.x;var c=t.y;r=V(l-this.long0);e=Math.sin(c);n=Math.cos(c);i=Math.cos(r);o=this.sin_p14*e+this.cos_p14*n*i;a=1;if(o>0||Math.abs(o)<=k){s=this.a*a*n*Math.sin(r);u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*i)}t.x=s;t.y=u;return t}function ri(t){var e;var n;var r,i;var a;var o,s;t.x-=this.x0;t.y-=this.y0;e=Math.sqrt(t.x*t.x+t.y*t.y);n=Wn(e/this.a);r=Math.sin(n);i=Math.cos(n);o=this.long0;if(Math.abs(e)<=k){s=this.lat0;t.x=o;t.y=s;return t}s=Wn(i*this.sin_p14+t.y*r*this.cos_p14/e);a=Math.abs(this.lat0)-j;if(Math.abs(a)<=k){if(this.lat0>=0){o=V(this.long0+Math.atan2(t.x,-t.y))}else{o=V(this.long0-Math.atan2(-t.x,t.y))}t.x=o;t.y=s;return t}o=V(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r));t.x=o;t.y=s;return t}var ii=["ortho"];var ai={init:ei,forward:ni,inverse:ri,names:ii};var oi={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6};var si={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function ui(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Quadrilateralized Spherical Cube";if(this.lat0>=j-_/2){this.face=oi.TOP}else if(this.lat0<=-(j-_/2)){this.face=oi.BOTTOM}else if(Math.abs(this.long0)<=_){this.face=oi.FRONT}else if(Math.abs(this.long0)<=j+_){this.face=this.long0>0?oi.RIGHT:oi.LEFT}else{this.face=oi.BACK}if(this.es!==0){this.one_minus_f=1-(this.a-this.b)/this.a;this.one_minus_f_squared=this.one_minus_f*this.one_minus_f}}function li(t){var e={x:0,y:0};var n,r;var i,a;var o,s;var u={value:0};t.x-=this.long0;if(this.es!==0){n=Math.atan(this.one_minus_f_squared*Math.tan(t.y))}else{n=t.y}r=t.x;if(this.face===oi.TOP){a=j-n;if(r>=_&&r<=j+_){u.value=si.AREA_0;i=r-j}else if(r>j+_||r<=-(j+_)){u.value=si.AREA_1;i=r>0?r-b:r+b}else if(r>-(j+_)&&r<=-_){u.value=si.AREA_2;i=r+j}else{u.value=si.AREA_3;i=r}}else if(this.face===oi.BOTTOM){a=j+n;if(r>=_&&r<=j+_){u.value=si.AREA_0;i=-r+j}else if(r<_&&r>=-_){u.value=si.AREA_1;i=-r}else if(r<-_&&r>=-(j+_)){u.value=si.AREA_2;i=-r-j}else{u.value=si.AREA_3;i=r>0?-r+b:-r-b}}else{var l,c,h;var f,d;var p,v;if(this.face===oi.RIGHT){r=fi(r,+j)}else if(this.face===oi.BACK){r=fi(r,+b)}else if(this.face===oi.LEFT){r=fi(r,-j)}f=Math.sin(n);d=Math.cos(n);p=Math.sin(r);v=Math.cos(r);l=d*v;c=d*p;h=f;if(this.face===oi.FRONT){a=Math.acos(l);i=hi(a,h,c,u)}else if(this.face===oi.RIGHT){a=Math.acos(c);i=hi(a,h,-l,u)}else if(this.face===oi.BACK){a=Math.acos(-l);i=hi(a,h,-c,u)}else if(this.face===oi.LEFT){a=Math.acos(-c);i=hi(a,h,l,u)}else{a=i=0;u.value=si.AREA_0}}s=Math.atan(12/b*(i+Math.acos(Math.sin(i)*Math.cos(_))-j));o=Math.sqrt((1-Math.cos(a))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i)))));if(u.value===si.AREA_1){s+=j}else if(u.value===si.AREA_2){s+=b}else if(u.value===si.AREA_3){s+=1.5*b}e.x=o*Math.cos(s);e.y=o*Math.sin(s);e.x=e.x*this.a+this.x0;e.y=e.y*this.a+this.y0;t.x=e.x;t.y=e.y;return t}function ci(t){var e={lam:0,phi:0};var n,r,i,a;var o,s,u,l;var c;var h={value:0};t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y));n=Math.atan2(t.y,t.x);if(t.x>=0&&t.x>=Math.abs(t.y)){h.value=si.AREA_0}else if(t.y>=0&&t.y>=Math.abs(t.x)){h.value=si.AREA_1;n-=j}else if(t.x<0&&-t.x>=Math.abs(t.y)){h.value=si.AREA_2;n=n<0?n+b:n-b}else{h.value=si.AREA_3;n+=j}c=b/12*Math.tan(n);o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2));s=Math.atan(o);i=Math.cos(n);a=Math.tan(r);u=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(s))));if(u<-1){u=-1}else if(u>+1){u=+1}if(this.face===oi.TOP){l=Math.acos(u);e.phi=j-l;if(h.value===si.AREA_0){e.lam=s+j}else if(h.value===si.AREA_1){e.lam=s<0?s+b:s-b}else if(h.value===si.AREA_2){e.lam=s-j}else{e.lam=s}}else if(this.face===oi.BOTTOM){l=Math.acos(u);e.phi=l-j;if(h.value===si.AREA_0){e.lam=-s+j}else if(h.value===si.AREA_1){e.lam=-s}else if(h.value===si.AREA_2){e.lam=-s-j}else{e.lam=s<0?-s-b:-s+b}}else{var f,d,p;f=u;c=f*f;if(c>=1){p=0}else{p=Math.sqrt(1-c)*Math.sin(s)}c+=p*p;if(c>=1){d=0}else{d=Math.sqrt(1-c)}if(h.value===si.AREA_1){c=d;d=-p;p=c}else if(h.value===si.AREA_2){d=-d;p=-p}else if(h.value===si.AREA_3){c=d;d=p;p=-c}if(this.face===oi.RIGHT){c=f;f=-d;d=c}else if(this.face===oi.BACK){f=-f;d=-d}else if(this.face===oi.LEFT){c=f;f=d;d=-c}e.phi=Math.acos(-p)-j;e.lam=Math.atan2(d,f);if(this.face===oi.RIGHT){e.lam=fi(e.lam,-j)}else if(this.face===oi.BACK){e.lam=fi(e.lam,-b)}else if(this.face===oi.LEFT){e.lam=fi(e.lam,+j)}}if(this.es!==0){var v;var g,m;v=e.phi<0?1:0;g=Math.tan(e.phi);m=this.b/Math.sqrt(g*g+this.one_minus_f_squared);e.phi=Math.atan(Math.sqrt(this.a*this.a-m*m)/(this.one_minus_f*m));if(v){e.phi=-e.phi}}e.lam+=this.long0;t.x=e.lam;t.y=e.phi;return t}function hi(t,e,n,r){var i;if(t<k){r.value=si.AREA_0;i=0}else{i=Math.atan2(e,n);if(Math.abs(i)<=_){r.value=si.AREA_0}else if(i>_&&i<=j+_){r.value=si.AREA_1;i-=j}else if(i>j+_||i<=-(j+_)){r.value=si.AREA_2;i=i>=0?i-b:i+b}else{r.value=si.AREA_3;i+=j}}return i}function fi(t,e){var n=t+e;if(n<-b){n+=a}else if(n>+b){n-=a}return n}var di=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];var pi={init:ui,forward:li,inverse:ci,names:di};var vi=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]];var gi=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]];var mi=.8487;var yi=1.3523;var _i=y/5;var bi=1/_i;var Oi=18;var wi=function t(e,n){return e[0]+n*(e[1]+n*(e[2]+n*e[3]))};var Si=function t(e,n){return e[1]+n*(2*e[2]+n*3*e[3])};function Ti(t,e,n,r){var i=e;for(;r;--r){var a=t(i);i-=a;if(Math.abs(a)<n){break}}return i}function xi(){this.x0=this.x0||0;this.y0=this.y0||0;this.long0=this.long0||0;this.es=0;this.title=this.title||"Robinson"}function Ei(t){var e=V(t.x-this.long0);var n=Math.abs(t.y);var r=Math.floor(n*_i);if(r<0){r=0}else if(r>=Oi){r=Oi-1}n=y*(n-bi*r);var i={x:wi(vi[r],n)*e,y:wi(gi[r],n)};if(t.y<0){i.y=-i.y}i.x=i.x*this.a*mi+this.x0;i.y=i.y*this.a*yi+this.y0;return i}function Ci(t){var e={x:(t.x-this.x0)/(this.a*mi),y:Math.abs(t.y-this.y0)/(this.a*yi)};if(e.y>=1){e.x/=vi[Oi][0];e.y=t.y<0?-j:j}else{var n=Math.floor(e.y*Oi);if(n<0){n=0}else if(n>=Oi){n=Oi-1}for(;;){if(gi[n][0]>e.y){--n}else if(gi[n+1][0]<=e.y){++n}else{break}}var r=gi[n];var i=5*(e.y-r[0])/(gi[n+1][0]-r[0]);i=Ti(function(t){return(wi(r,t)-e.y)/Si(r,t)},i,k,100);e.x/=wi(vi[n],i);e.y=(5*n+i)*m;if(t.y<0){e.y=-e.y}}e.x=V(e.x+this.long0);return e}var Mi=["Robinson","robin"];var ji={init:xi,forward:Ei,inverse:Ci,names:Mi};var Ai=function(t){t.Proj.projections.add(ue);t.Proj.projections.add(Oe);t.Proj.projections.add(Ee);t.Proj.projections.add($e);t.Proj.projections.add(Ye);t.Proj.projections.add(Ke);t.Proj.projections.add(tn);t.Proj.projections.add(on);t.Proj.projections.add(hn);t.Proj.projections.add(Tn);t.Proj.projections.add(Un);t.Proj.projections.add(Kn);t.Proj.projections.add(tr);t.Proj.projections.add(or);t.Proj.projections.add(hr);t.Proj.projections.add(mr);t.Proj.projections.add(Sr);t.Proj.projections.add(Mr);t.Proj.projections.add(Dr);t.Proj.projections.add(Fr);t.Proj.projections.add(Yr);t.Proj.projections.add(Kr);t.Proj.projections.add(ti);t.Proj.projections.add(ai);t.Proj.projections.add(pi);t.Proj.projections.add(ji)};Nt.defaultDatum="WGS84";Nt.Proj=yt;Nt.WGS84=new Nt.Proj("WGS84");Nt.Point=Gt;Nt.toPoint=Ct;Nt.defs=M;Nt.transform=kt;Nt.mgrs=$t.a;Nt.version=Ht["a"];Ai(Nt);var ki=Nt;ki.Proj.projections.add(Ke);var Ii="somerc";var Ri=Ii;var Di=["+proj="+Ri,"+lat_0=46.95240555555556","+lon_0=7.439583333333333","+k_0=1","+x_0=600000","+y_0=200000","+ellps=bessel","+towgs84=674.374,15.056,405.346,0,0,0,0","+units=m","+no_defs"].join(" ");var Pi=[42e4,3e4,9e5,35e4];ki.defs("EPSG:21781",Di);r(ki);f["g"]("EPSG:21781").setExtent(Pi);var Ni="EPSG:21781";var Li=e["a"]=Ni},function(t,e,n){"use strict";n.d(e,"b",function(){return l});n.d(e,"a",function(){return c});n.d(e,"c",function(){return h});n.d(e,"d",function(){return f});n.d(e,"e",function(){return d});var i=n(37);var a=n(65);var r=n(17);var o=n(106);var s=n(83);var u=n(110);function l(e,n){return function(t){if(t!=null){h(this,e,t);r["a"].updateOffset(this,n);return this}else{return c(this,e)}}}function c(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function h(t,e,n){if(t.isValid()&&!isNaN(n)){if(e==="FullYear"&&Object(u["d"])(t.year())&&t.month()===1&&t.date()===29){t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Object(s["a"])(n,t.month()))}else{t._d["set"+(t._isUTC?"UTC":"")+e](n)}}}function f(t){t=Object(i["c"])(t);if(Object(o["a"])(this[t])){return this[t]()}return this}function d(t,e){if(typeof t==="object"){t=Object(i["b"])(t);var n=Object(a["b"])(t);for(var r=0;r<n.length;r++){this[n[r].unit](t[n[r].unit])}}else{t=Object(i["c"])(t);if(Object(o["a"])(this[t])){return this[t](e)}}return this}},function(t,e,n){"use strict";n.d(e,"b",function(){return s});var o=n(2);var r=n(128);var i=n(11);var a=function(t){function e(){t.call(this);this.revision_=0}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.changed=function t(){++this.revision_;this.dispatchEvent(i["a"].CHANGE)};e.prototype.getRevision=function t(){return this.revision_};e.prototype.on=function t(e,n){if(Array.isArray(e)){var r=e.length;var i=new Array(r);for(var a=0;a<r;++a){i[a]=Object(o["a"])(this,e[a],n)}return i}else{return Object(o["a"])(this,e,n)}};e.prototype.once=function t(e,n){if(Array.isArray(e)){var r=e.length;var i=new Array(r);for(var a=0;a<r;++a){i[a]=Object(o["b"])(this,e[a],n)}return i}else{return Object(o["b"])(this,e,n)}};e.prototype.un=function t(e,n){if(Array.isArray(e)){for(var r=0,i=e.length;r<i;++r){Object(o["c"])(this,e[r],n)}return}else{Object(o["c"])(this,e,n)}};return e}(r["a"]);function s(t){if(Array.isArray(t)){for(var e=0,n=t.length;e<n;++e){Object(o["e"])(t[e])}}else{Object(o["e"])(t)}}e["a"]=a},function(t,e,n){"use strict";var l=n(1);var r=n(53);var i=n(216);var c=n(97);var h=n(87);var f=n(164);var d=n(244);var a={};a.interaction=function(n){l["a"].assertInstanceof(n,r["a"]);Object.defineProperty(n,"active",{get:function t(){return n.getActive()},set:function t(e){n.setActive(e)}})};a.layer=function(n){l["a"].assertInstanceof(n,i["a"]);Object.defineProperty(n,"visible",{configurable:true,get:function t(){return n.getVisible()},set:function t(e){n.setVisible(e)}});Object.defineProperty(n,"opacity",{configurable:true,get:function t(){return n.getOpacity()},set:function t(e){n.setOpacity(e)}})};a.layerLoading=function(n,t){var e;var r=null;var i=null;var a=s;var o=u;n.set("load_count",0,true);if(n instanceof c["a"]){n.getLayers().on("add",function(t){var e=t.element;e.set("parent_group",n)})}if(n instanceof h["a"]){e=n.getSource();if(e===null){return}else if(e instanceof d["b"]){r=["tileloadstart"];i=["tileloadend","tileloaderror"]}else if(e instanceof f["a"]){r=["imageloadstart"];i=["imageloadend","imageloaderror"]}else{l["a"].fail("unsupported source type")}e.on(r,function(){a(n);t.$applyAsync()});e.on(i,function(){o(n);t.$applyAsync()})}Object.defineProperty(n,"loading",{configurable:true,get:function t(){return n.get("load_count")>0}});function s(t){var e=t.get("load_count");var n=t.get("parent_group");t.set("load_count",++e,true);if(n){s(n)}}function u(t){var e=t.get("load_count");var n=t.get("parent_group");t.set("load_count",--e,true);if(n){u(n)}}};e["a"]=a},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});n.d(e,"c",function(){return a});n.d(e,"d",function(){return o});function r(t,e,n){if(n===undefined){n=[0,0]}n[0]=t[0]+2*e;n[1]=t[1]+2*e;return n}function i(t){return t[0]>0&&t[1]>0}function a(t,e,n){if(n===undefined){n=[0,0]}n[0]=t[0]*e+.5|0;n[1]=t[1]*e+.5|0;return n}function o(t,e){if(Array.isArray(t)){return t}else{if(e===undefined){e=[t,t]}else{e[0]=e[1]=t}return e}}},function(t,e,n){"use strict";e["a"]={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";var r=n(5);var i=n(61);var a=function t(e,n){if(n===void 0){n={}}i["a"].call(this,e);this.detail=n};r["d"](a,i["a"]);e["a"]=a},function(t,e,n){"use strict";var v=n(9);var l=n(3);var a=n(28);var r=n(7);var o=n(105);var d=n(26);var i=n(81);var s=n(213);function u(t,e,n,r){var i=[];var a=Object(l["j"])();for(var o=0,s=n.length;o<s;++o){var u=n[o];a=Object(l["o"])(t,e,u[0],r);i.push((a[0]+a[2])/2,(a[1]+a[3])/2);e=u[u.length-1]}return i}var c=n(126);var h=n(145);var f=n(115);var g=n(117);var m=n(249);var y=n(176);var _=n(192);var b=n(137);var p=function(p){function i(t,e,n){p.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;if(!n&&!Array.isArray(t[0])){var r=this.getLayout();var i=t;var a=[];var o=[];for(var s=0,u=i.length;s<u;++s){var l=i[s];if(s===0){r=l.getLayout()}var c=a.length;var h=l.getEnds();for(var f=0,d=h.length;f<d;++f){h[f]+=c}Object(v["c"])(a,l.getFlatCoordinates());o.push(h)}e=r;t=a;n=o}if(e!==undefined&&n){this.setFlatCoordinates(e,t);this.endss_=n}else{this.setCoordinates(t,e)}}if(p)i.__proto__=p;i.prototype=Object.create(p&&p.prototype);i.prototype.constructor=i;i.prototype.appendPolygon=function t(e){var n;if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice();n=e.getEnds().slice();this.endss_.push()}else{var r=this.flatCoordinates.length;Object(v["c"])(this.flatCoordinates,e.getFlatCoordinates());n=e.getEnds().slice();for(var i=0,a=n.length;i<a;++i){n[i]+=r}}this.endss_.push(n);this.changed()};i.prototype.clone=function t(){var e=this.endss_.length;var n=new Array(e);for(var r=0;r<e;++r){n[r]=this.endss_[r].slice()}return new i(this.flatCoordinates.slice(),this.layout,n)};i.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(l["e"])(this.getExtent(),e,n)){return i}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(c["f"])(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(c["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,true,e,n,r,i)};i.prototype.containsXY=function t(e,n){return Object(h["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)};i.prototype.getArea=function t(){return Object(s["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};i.prototype.getCoordinates=function t(e){var n;if(e!==undefined){n=this.getOrientedFlatCoordinates().slice();Object(_["d"])(n,0,this.endss_,this.stride,e)}else{n=this.flatCoordinates}return Object(g["c"])(n,0,this.endss_,this.stride)};i.prototype.getEndss=function t(){return this.endss_};i.prototype.getFlatInteriorPoints=function t(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=u(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(m["b"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};i.prototype.getInteriorPoints=function t(){return new o["a"](this.getFlatInteriorPoints().slice(),a["a"].XYM)};i.prototype.getOrientedFlatCoordinates=function t(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(Object(_["b"])(e,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=Object(_["d"])(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};i.prototype.getSimplifiedGeometryInternal=function t(e){var n=[];var r=[];n.length=Object(b["d"])(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r);return new i(n,a["a"].XY,r)};i.prototype.getPolygon=function t(e){if(e<0||this.endss_.length<=e){return null}var n;if(e===0){n=0}else{var r=this.endss_[e-1];n=r[r.length-1]}var i=this.endss_[e].slice();var a=i[i.length-1];if(n!==0){for(var o=0,s=i.length;o<s;++o){i[o]-=n}}return new d["b"](this.flatCoordinates.slice(n,a),this.layout,i)};i.prototype.getPolygons=function t(){var e=this.layout;var n=this.flatCoordinates;var r=this.endss_;var i=[];var a=0;for(var o=0,s=r.length;o<s;++o){var u=r[o].slice();var l=u[u.length-1];if(a!==0){for(var c=0,h=u.length;c<h;++c){u[c]-=a}}var f=new d["b"](n.slice(a,l),e,u);i.push(f);a=l}return i};i.prototype.getType=function t(){return r["a"].MULTI_POLYGON};i.prototype.intersectsExtent=function t(e){return Object(y["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)};i.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=Object(f["d"])(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0){this.flatCoordinates.length=0}else{var i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()};return i}(i["a"]);var O=e["a"]=p},function(t,e,n){"use strict";var s=n(5);var a=n(39);var u=n(93);var o=n(42);var l=n(160);var c=n(20);var h=n(2);var f=n(11);var d=n(3);var r=n(216);var p=n(10);var v=n(138);var g={LAYERS:"layers"};var i=function(i){function t(t){var e=t||{};var n=Object(p["a"])({},e);delete n.layers;var r=e.layers;i.call(this,n);this.layersListenerKeys_=[];this.listenerKeys_={};Object(h["a"])(this,Object(o["b"])(g.LAYERS),this.handleLayersChanged_,this);if(r){if(Array.isArray(r)){r=new a["a"](r.slice(),{unique:true})}else{Object(c["a"])(typeof r.getArray==="function",43)}}else{r=new a["a"](undefined,{unique:true})}this.setLayers(r)}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.handleLayerChange_=function t(){this.changed()};t.prototype.handleLayersChanged_=function t(){this.layersListenerKeys_.forEach(h["e"]);this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(Object(h["a"])(e,u["a"].ADD,this.handleLayersAdd_,this),Object(h["a"])(e,u["a"].REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_){this.listenerKeys_[n].forEach(h["e"])}Object(p["b"])(this.listenerKeys_);var r=e.getArray();for(var i=0,a=r.length;i<a;i++){var o=r[i];this.listenerKeys_[Object(s["c"])(o)]=[Object(h["a"])(o,l["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(h["a"])(o,f["a"].CHANGE,this.handleLayerChange_,this)]}this.changed()};t.prototype.handleLayersAdd_=function t(e){var n=e.element;this.listenerKeys_[Object(s["c"])(n)]=[Object(h["a"])(n,l["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(h["a"])(n,f["a"].CHANGE,this.handleLayerChange_,this)];this.changed()};t.prototype.handleLayersRemove_=function t(e){var n=e.element;var r=Object(s["c"])(n);this.listenerKeys_[r].forEach(h["e"]);delete this.listenerKeys_[r];this.changed()};t.prototype.getLayers=function t(){return this.get(g.LAYERS)};t.prototype.setLayers=function t(e){this.set(g.LAYERS,e)};t.prototype.getLayersArray=function t(e){var n=e!==undefined?e:[];this.getLayers().forEach(function(t){t.getLayersArray(n)});return n};t.prototype.getLayerStatesArray=function t(e){var n=e!==undefined?e:[];var r=n.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(n)});var i=this.getLayerState();for(var a=r,o=n.length;a<o;a++){var s=n[a];s.opacity*=i.opacity;s.visible=s.visible&&i.visible;s.maxResolution=Math.min(s.maxResolution,i.maxResolution);s.minResolution=Math.max(s.minResolution,i.minResolution);if(i.extent!==undefined){if(s.extent!==undefined){s.extent=Object(d["B"])(s.extent,i.extent)}else{s.extent=i.extent}}}return n};t.prototype.getSourceState=function t(){return v["a"].READY};return t}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var i=n(1);var a=n(43);var r=n(50);var o=n(2);var s=n(15);var u=n(159);var l=n(118);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function h(t,e,n){if(e)c(t.prototype,e);if(n)c(t,n);return t}function f(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}function d(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}var p=function(r){f(t,r);function t(t){var e;t.type=a["a"].GEOMETRY;e=r.call(this,t)||this;var n=t.featureProperties||{};e.feature_=new s["a"](n);e.format_=new u["a"];e.updatingExpression_=false;e.updatingGeometry_=false;e.geometryChangeListenerKey_=null;e.listenerKeys.push(o["a"](e.feature_,"change:"+e.feature.getGeometryName(),e.handleFeatureGeometryChange_,d(d(e))));e.setGeometryFromExpression_();return e}var e=t.prototype;e.setExpression=function t(e){this.updatingExpression_=true;r.prototype.setExpression.call(this,e);if(!this.updatingGeometry_){this.setGeometryFromExpression_()}this.registerGeometryChange_();this.updatingExpression_=false};e.handleFeatureGeometryChange_=function t(){if(this.updatingExpression_){return}this.updatingGeometry_=true;var e=this.feature_.getGeometry();if(e){this.expression=this.format_.writeGeometry(e)}else{this.expression=null}this.registerGeometryChange_();this.updatingGeometry_=false};e.handleGeometryChange_=function t(e){var n=i["a"].assertInstanceof(e.target,l["a"]);this.updatingGeometry_=true;this.expression=this.format_.writeGeometry(n);this.updatingGeometry_=false};e.setGeometryFromExpression_=function t(){var e=null;if(this.expression){var n=i["a"].assertString(this.expression);e=this.format_.readGeometry(n)}this.geometry=e};e.registerGeometryChange_=function t(){if(this.geometryChangeListenerKey_!==null){o["e"](this.geometryChangeListenerKey_);this.geometryChangeListenerKey_=null}var e=this.feature_.getGeometry();if(e){this.geometryChangeListenerKey_=o["a"](e,"change",this.handleGeometryChange_,this)}};h(t,[{key:"feature",get:function t(){return this.feature_}},{key:"geometry",get:function t(){return this.feature_.getGeometry()||null},set:function t(e){this.feature_.setGeometry(e)}}]);return t}(r["a"]);e["a"]=p},function(t,e,n){"use strict";e["a"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,w,S){"use strict";(function(r){S.d(w,"c",function(){return m});S.d(w,"a",function(){return y});S.d(w,"e",function(){return _});S.d(w,"b",function(){return b});S.d(w,"d",function(){return O});var n=S(124);var t=S(62);var i=S(84);var o=S(258);var a=S(82);var s=S(240);var u=S(241);var e=S(327);var l=S(304);var c;var h={};var f={};var d;function p(t){return t?t.toLowerCase().replace("_","-"):t}function v(t){var e=0,n,r,i,a;while(e<t.length){a=p(t[e]).split("-");n=a.length;r=p(t[e+1]);r=r?r.split("-"):null;while(n>0){i=g(a.slice(0,n).join("-"));if(i){return i}if(r&&r.length>=n&&Object(o["a"])(a,r,true)>=n-1){break}n--}e++}return d}function g(t){var e=null;if(!h[t]&&typeof r!=="undefined"&&r&&r.exports){try{e=d._abbr;var n=c;!function t(){var e=new Error("Cannot find module 'undefined'");e.code="MODULE_NOT_FOUND";throw e}();m(e)}catch(t){}}return h[t]}function m(t,e){var n;if(t){if(Object(i["a"])(e)){n=b(t)}else{n=y(t,e)}if(n){d=n}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+t+" not found. Did you forget to load it?")}}}return d._abbr}function y(t,e){if(e!==null){var n,r=l["a"];e.abbr=t;if(h[t]!=null){Object(a["b"])("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");r=h[t]._config}else if(e.parentLocale!=null){if(h[e.parentLocale]!=null){r=h[e.parentLocale]._config}else{n=g(e.parentLocale);if(n!=null){r=n._config}else{if(!f[e.parentLocale]){f[e.parentLocale]=[]}f[e.parentLocale].push({name:t,config:e});return null}}}h[t]=new u["a"](Object(s["a"])(r,e));if(f[t]){f[t].forEach(function(t){y(t.name,t.config)})}m(t);return h[t]}else{delete h[t];return null}}function _(t,e){if(e!=null){var n,r,i=l["a"];r=g(t);if(r!=null){i=r._config}e=Object(s["a"])(i,e);n=new u["a"](e);n.parentLocale=h[t];h[t]=n;m(t)}else{if(h[t]!=null){if(h[t].parentLocale!=null){h[t]=h[t].parentLocale}else if(h[t]!=null){delete h[t]}}}return h[t]}function b(t){var e;if(t&&t._locale&&t._locale._abbr){t=t._locale._abbr}if(!t){return d}if(!Object(n["a"])(t)){e=g(t);if(e){return e}t=[t]}return v(t)}function O(){return Object(e["a"])(h)}}).call(this,S(355)(t))},function(t,e,n){"use strict";var r=n(56);var i=n(38);var a=n(105);var o=n(79);var s=n(96);var u=n(27);var l=n(26);var c={};c.toMulti=function(t){var e;if(t instanceof u["a"]){e=new a["a"]([]);e.appendPoint(t)}else if(t instanceof i["a"]){e=new o["a"]([]);e.appendLineString(t)}else if(t instanceof l["b"]){e=new s["a"]([]);e.appendPolygon(t)}else{e=t}return e};c.isSafari=function(){return navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1};c.colorZeroPadding=function(t){return t.length==1?"0"+t:t};c.rgbArrayToHex=function(t){var e=t[0];var n=t[1];var r=t[2];if(e!=(e&255)||n!=(n&255)||r!=(r&255)){throw Error('"('+e+","+n+","+r+')" is not a valid RGB color')}var i=c.colorZeroPadding(e.toString(16));var a=c.colorZeroPadding(n.toString(16));var o=c.colorZeroPadding(r.toString(16));return"#"+i+a+o};c.decodeQueryString=function(t){var e={};if(t){var n=t.substring(1).split("&");for(var r=n,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;var u=s.indexOf("=");if(u>=0){var l=s.substring(0,u);var c=s.substring(u+1);e[decodeURIComponent(l)]=decodeURIComponent(c)}else{e[s]=""}}}return e};c.encodeQueryString=function(t){var e=[];for(var n in t){var r=t[n];e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return e.join("&")};c.deleteCondition=function(t){return r["h"](t)&&r["k"](t)};e["a"]=c},function(t,e,n){"use strict";n.d(e,"a",function(){return g});n.d(e,"g",function(){return m});n.d(e,"c",function(){return y});n.d(e,"j",function(){return _});n.d(e,"b",function(){return b});n.d(e,"h",function(){return O});n.d(e,"i",function(){return S});n.d(e,"d",function(){return T});n.d(e,"f",function(){return x});n.d(e,"e",function(){return E});n.d(e,"l",function(){return M});n.d(e,"m",function(){return A});n.d(e,"k",function(){return I});var r=n(22);var i=n(37);var a=n(65);var c=n(6);var o=n(49);var s=n(31);var u=n(124);var l=n(85);var h=n(62);var f=n(121);var d=n(40);Object(r["a"])("d",0,"do","day");Object(r["a"])("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Object(r["a"])("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Object(r["a"])("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Object(r["a"])("e",0,0,"weekday");Object(r["a"])("E",0,0,"isoWeekday");Object(i["a"])("day","d");Object(i["a"])("weekday","e");Object(i["a"])("isoWeekday","E");Object(a["a"])("day",11);Object(a["a"])("weekday",11);Object(a["a"])("isoWeekday",11);Object(c["a"])("d",c["d"]);Object(c["a"])("e",c["d"]);Object(c["a"])("E",c["d"]);Object(c["a"])("dd",function(t,e){return e.weekdaysMinRegex(t)});Object(c["a"])("ddd",function(t,e){return e.weekdaysShortRegex(t)});Object(c["a"])("dddd",function(t,e){return e.weekdaysRegex(t)});Object(o["c"])(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);if(i!=null){e.d=i}else{Object(d["a"])(n).invalidWeekday=t}});Object(o["c"])(["d","e","E"],function(t,e,n,r){e[r]=Object(s["a"])(t)});function p(t,e){if(typeof t!=="string"){return t}if(!isNaN(t)){return parseInt(t,10)}t=e.weekdaysParse(t);if(typeof t==="number"){return t}return null}function v(t,e){if(typeof t==="string"){return e.weekdaysParse(t)%7||7}return isNaN(t)?null:t}var g="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function m(t,e){if(!t){return Object(u["a"])(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return Object(u["a"])(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}var y="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function _(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}var b="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function O(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function w(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(r=0;r<7;++r){a=Object(f["a"])([2e3,1]).day(r);this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase();this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase();this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase()}}if(n){if(e==="dddd"){i=l["a"].call(this._weekdaysParse,o);return i!==-1?i:null}else if(e==="ddd"){i=l["a"].call(this._shortWeekdaysParse,o);return i!==-1?i:null}else{i=l["a"].call(this._minWeekdaysParse,o);return i!==-1?i:null}}else{if(e==="dddd"){i=l["a"].call(this._weekdaysParse,o);if(i!==-1){return i}i=l["a"].call(this._shortWeekdaysParse,o);if(i!==-1){return i}i=l["a"].call(this._minWeekdaysParse,o);return i!==-1?i:null}else if(e==="ddd"){i=l["a"].call(this._shortWeekdaysParse,o);if(i!==-1){return i}i=l["a"].call(this._weekdaysParse,o);if(i!==-1){return i}i=l["a"].call(this._minWeekdaysParse,o);return i!==-1?i:null}else{i=l["a"].call(this._minWeekdaysParse,o);if(i!==-1){return i}i=l["a"].call(this._weekdaysParse,o);if(i!==-1){return i}i=l["a"].call(this._shortWeekdaysParse,o);return i!==-1?i:null}}}function S(t,e,n){var r,i,a;if(this._weekdaysParseExact){return w.call(this,t,e,n)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(r=0;r<7;r++){i=Object(f["a"])([2e3,1]).day(r);if(n&&!this._fullWeekdaysParse[r]){this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[r]){a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,"");this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")}if(n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t)){return r}else if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t)){return r}else if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t)){return r}else if(!n&&this._weekdaysParse[r].test(t)){return r}}}function T(t){if(!this.isValid()){return t!=null?this:NaN}var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(t!=null){t=p(t,this.localeData());return this.add(t-e,"d")}else{return e}}function x(t){if(!this.isValid()){return t!=null?this:NaN}var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function E(t){if(!this.isValid()){return t!=null?this:NaN}if(t!=null){var e=v(t,this.localeData());return this.day(this.day()%7?e:e-7)}else{return this.day()||7}}var C=c["s"];function M(t){if(this._weekdaysParseExact){if(!Object(h["a"])(this,"_weekdaysRegex")){R.call(this)}if(t){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!Object(h["a"])(this,"_weekdaysRegex")){this._weekdaysRegex=C}return this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}}var j=c["s"];function A(t){if(this._weekdaysParseExact){if(!Object(h["a"])(this,"_weekdaysRegex")){R.call(this)}if(t){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!Object(h["a"])(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=j}return this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var k=c["s"];function I(t){if(this._weekdaysParseExact){if(!Object(h["a"])(this,"_weekdaysRegex")){R.call(this)}if(t){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!Object(h["a"])(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=k}return this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function R(){function t(t,e){return e.length-t.length}var e=[],n=[],r=[],i=[],a,o,s,u,l;for(a=0;a<7;a++){o=Object(f["a"])([2e3,1]).day(a);s=this.weekdaysMin(o,"");u=this.weekdaysShort(o,"");l=this.weekdays(o,"");e.push(s);n.push(u);r.push(l);i.push(s);i.push(u);i.push(l)}e.sort(t);n.sort(t);r.sort(t);i.sort(t);for(a=0;a<7;a++){n[a]=Object(c["t"])(n[a]);r[a]=Object(c["t"])(r[a]);i[a]=Object(c["t"])(i[a])}this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";var i=new Date,u=new Date;function l(a,o,n,r){function s(t){return a(t=new Date(+t)),t}s.floor=s;s.ceil=function(t){return a(t=new Date(t-1)),o(t,1),a(t),t};s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n};s.offset=function(t,e){return o(t=new Date(+t),e==null?1:Math.floor(e)),t};s.range=function(t,e,n){var r=[],i;t=s.ceil(t);n=n==null?1:Math.floor(n);if(!(t<e)||!(n>0))return r;do{r.push(i=new Date(+t)),o(t,n),a(t)}while(i<t&&t<e);return r};s.filter=function(n){return l(function(t){if(t>=t)while(a(t),!n(t)){t.setTime(t-1)}},function(t,e){if(t>=t){if(e<0)while(++e<=0){while(o(t,-1),!n(t)){}}else while(--e>=0){while(o(t,+1),!n(t)){}}}})};if(n){s.count=function(t,e){i.setTime(+t),u.setTime(+e);a(i),a(u);return Math.floor(n(i,u))};s.every=function(e){e=Math.floor(e);return!isFinite(e)||!(e>0)?null:!(e>1)?s:s.filter(r?function(t){return r(t)%e===0}:function(t){return s.count(0,t)%e===0})}}return s}var e=l(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});e.every=function(n){n=Math.floor(n);if(!isFinite(n)||!(n>0))return null;if(!(n>1))return e;return l(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n})};var n=e.range;var r=1e3;var a=6e4;var o=36e5;var s=864e5;var c=6048e5;var h=l(function(t){t.setTime(Math.floor(t/r)*r)},function(t,e){t.setTime(+t+e*r)},function(t,e){return(e-t)/r},function(t){return t.getUTCSeconds()});var f=h.range;var d=l(function(t){t.setTime(Math.floor(t/a)*a)},function(t,e){t.setTime(+t+e*a)},function(t,e){return(e-t)/a},function(t){return t.getMinutes()});var p=d.range;var v=l(function(t){var e=t.getTimezoneOffset()*a%o;if(e<0)e+=o;t.setTime(Math.floor((+t-e)/o)*o+e)},function(t,e){t.setTime(+t+e*o)},function(t,e){return(e-t)/o},function(t){return t.getHours()});var g=v.range;var m=l(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*a)/s},function(t){return t.getDate()-1});var y=m.range;function _(e){return l(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7);t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e*7)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*a)/c})}var b=_(0);var O=_(1);var w=_(2);var S=_(3);var T=_(4);var x=_(5);var E=_(6);var C=b.range;var M=O.range;var j=w.range;var A=S.range;var k=T.range;var I=x.range;var R=E.range;var D=l(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});var P=D.range;var N=l(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});N.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:l(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n);t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)})};var L=N.range;var $=l(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*a)},function(t,e){return(e-t)/a},function(t){return t.getUTCMinutes()});var F=$.range;var G=l(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*o)},function(t,e){return(e-t)/o},function(t){return t.getUTCHours()});var H=G.range;var U=l(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/s},function(t){return t.getUTCDate()-1});var W=U.range;function Y(e){return l(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e*7)},function(t,e){return(e-t)/c})}var V=Y(0);var q=Y(1);var z=Y(2);var B=Y(3);var K=Y(4);var X=Y(5);var Z=Y(6);var Q=V.range;var J=q.range;var tt=z.range;var et=B.range;var nt=K.range;var rt=X.range;var it=Z.range;var at=l(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});var ot=at.range;var st=l(function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:l(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n);t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})};var ut=st.range;t.timeInterval=l;t.timeMillisecond=e;t.timeMilliseconds=n;t.utcMillisecond=e;t.utcMilliseconds=n;t.timeSecond=h;t.timeSeconds=f;t.utcSecond=h;t.utcSeconds=f;t.timeMinute=d;t.timeMinutes=p;t.timeHour=v;t.timeHours=g;t.timeDay=m;t.timeDays=y;t.timeWeek=b;t.timeWeeks=C;t.timeSunday=b;t.timeSundays=C;t.timeMonday=O;t.timeMondays=M;t.timeTuesday=w;t.timeTuesdays=j;t.timeWednesday=S;t.timeWednesdays=A;t.timeThursday=T;t.timeThursdays=k;t.timeFriday=x;t.timeFridays=I;t.timeSaturday=E;t.timeSaturdays=R;t.timeMonth=D;t.timeMonths=P;t.timeYear=N;t.timeYears=L;t.utcMinute=$;t.utcMinutes=F;t.utcHour=G;t.utcHours=H;t.utcDay=U;t.utcDays=W;t.utcWeek=V;t.utcWeeks=Q;t.utcSunday=V;t.utcSundays=Q;t.utcMonday=q;t.utcMondays=J;t.utcTuesday=z;t.utcTuesdays=tt;t.utcWednesday=B;t.utcWednesdays=et;t.utcThursday=K;t.utcThursdays=nt;t.utcFriday=X;t.utcFridays=rt;t.utcSaturday=Z;t.utcSaturdays=it;t.utcMonth=at;t.utcMonths=ot;t.utcYear=st;t.utcYears=ut;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";var l=n(14);var c=n(123);var r=angular.module("ngeoAngularFilters",[]);r.Scalify=function(t){var r=t("number");var e=function t(e){var n=r(e,0);return n?"1 : "+n:""};e["$stateful"]=true;return e};r.Scalify.$inject=["$filter"];r.filter("ngeoScalify",r.Scalify);r.Number=function(t){var p=t.NUMBER_FORMATS;var e=function t(e,n){var r=p.GROUP_SEP;var i=p.DECIMAL_SEP;if(n===undefined){n=3}if(e===Infinity){return"∞"}else if(e===-Infinity){return"-∞"}else if(e===0){return"0"}var a=e<0;e=Math.abs(e);var o=n-Math.floor(Math.log(e)/Math.log(10))-1;var s=Math.pow(10,o);e=Math.round(e*s);var u="";var l=Math.floor(e/s);if(o>0){var c=""+e;while(c.length<o){c="0"+c}u=c.substring(c.length-o);while(u[u.length-1]==="0"){u=u.substring(0,u.length-1)}}var h=[];var f=""+l;while(f.length>3){var d=f.length-3;h.unshift(f.substring(d));f=f.substring(0,d)}h.unshift(f);return(a?"-":"")+h.join(r)+(u.length===0?"":i+u)};return e};r.Number.$inject=["$locale"];r.filter("ngeoNumber",r.Number);r.UnitPrefix=function(t){var h=t("ngeoNumber");var f=["","k","M","G","T","P"];var d=["","Ki","Mi","Gi","Ti","Pi"];var e=function t(e,n,r,i){if(n===undefined){n=""}var a=1e3;var o=f;if(r==="square"){a=1e6}else if(r==="binary"){a=1024;o=d}var s=0;var u=o.length-1;while(e>=a&&s<u){e=e/a;s++}var l=o[s]+n;var c=l.length==0?"":" ";return h(e,i)+c+l};return e};r.UnitPrefix.$inject=["$filter"];r.filter("ngeoUnitPrefix",r.UnitPrefix);r.NumberCoordinates=function(u){var t=function t(e,n,r){var i=r?r:"{x} {y}";var a=e[0];var o=e[1];var s=parseInt(n,10)|0;a=u("number")(a,s);o=u("number")(o,s);return i.replace("{x}",a).replace("{y}",o)};return t};r.NumberCoordinates.$inject=["$filter"];r.filter("ngeoNumberCoordinates",r.NumberCoordinates);r.DMSCoordinates=function(){var u=function t(e,n,r){var i=l["d"](e+180,360)-180;var a=Math.abs(3600*i);var o=Math.floor(a/3600);var s=Math.floor(a/60%60);var u=a%60;return o+"° "+c["b"](s,2)+"′ "+c["b"](u,2,r)+"″ "+n.charAt(i<0?1:0)};var t=function t(e,n,r){var i=parseInt(n,10)|0;var a=r?r:"{x} {y}";var o=u(e[0],"EW",i);var s=u(e[1],"NS",i);return a.replace("{x}",o).replace("{y}",s)};return t};r.filter("ngeoDMSCoordinates",r.DMSCoordinates);r.trustHtmlFilter=function(e){return function(t){if(t!==undefined&&t!==null){return e.trustAsHtml(""+t)}else{return e.trustAsHtml("&nbsp;")}}};r.trustHtmlFilter.$inject=["$sce"];r.filter("ngeoTrustHtml",r.trustHtmlFilter);r.trustHtmlAutoFilter=function(o,s){return function(t){if(t!==undefined&&t!==null){if(typeof t==="string"){for(var e=s,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{r=e.next();if(r.done)break;i=r.value}var a=i;if(t.match(a.expression)){t=a.template.replace(/\$1/g,t);break}}return o.trustAsHtml(""+t)}else{return o.trustAsHtml(""+t)}}else{return o.trustAsHtml("&nbsp;")}}};r.trustHtmlAutoFilter.$inject=["$sce","ngeoStringToHtmlReplacements"];r.filter("ngeoTrustHtmlAuto",r.trustHtmlAutoFilter);r.Duration=function(i){var a=Object.freeze({SECONDS:Symbol("seconds"),MINUTES:Symbol("minutes"),HOURS:Symbol("hours"),DAYS:Symbol("days")});var o=function t(e,n){var r="";switch(n){case a.SECONDS:r=i.getPlural(e,"second","seconds");break;case a.MINUTES:r=i.getPlural(e,"minute","minutes");break;case a.HOURS:r=i.getPlural(e,"hour","hours");break;case a.DAYS:r=i.getPlural(e,"day","days");break;default:break}return e+" "+r};var t=function t(e){e=Math.round(e);var n;if(e<60){return o(e,a.SECONDS)}var r=e%60;e=Math.floor(e/60);if(e<60){n=o(e,a.MINUTES);if(r>0){n+=" "+o(r,a.SECONDS)}return n}r=e%60;e=Math.floor(e/60);if(e<24){n=o(e,a.HOURS);if(r>0){n+=" "+o(r,a.MINUTES)}return n}r=e%24;e=Math.floor(e/24);n=o(e,a.DAYS);if(r>0){n+=" "+o(r,a.HOURS)}return n};return t};r.Duration.$inject=["gettextCatalog"];r.filter("ngeoDuration",r.Duration);r.StringToHtmlReplacements=[{expression:/^(https?:\/\/.+)$/gm,template:'<a target="_blank" href="$1">$1</a>'},{expression:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/gim,template:'<a href="mailto:$1">$1</a>'}];r.constant("ngeoStringToHtmlReplacements",r.StringToHtmlReplacements);e["a"]=r},function(t,e,n){"use strict";var i=n(9);var h=n(3);var a=n(7);var u=n(27);var r=n(81);var o=n(115);var s=n(117);var f=n(14);var l=function(n){function r(t,e){n.call(this);if(e&&!Array.isArray(t[0])){this.setFlatCoordinates(e,t)}else{this.setCoordinates(t,e)}}if(n)r.__proto__=n;r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.prototype.appendPoint=function t(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{Object(i["c"])(this.flatCoordinates,e.getFlatCoordinates())}this.changed()};r.prototype.clone=function t(){var e=new r(this.flatCoordinates.slice(),this.layout);return e};r.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(h["e"])(this.getExtent(),e,n)){return i}var a=this.flatCoordinates;var o=this.stride;for(var s=0,u=a.length;s<u;s+=o){var l=Object(f["f"])(e,n,a[s],a[s+1]);if(l<i){i=l;for(var c=0;c<o;++c){r[c]=a[s+c]}r.length=o}}return i};r.prototype.getCoordinates=function t(){return Object(s["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};r.prototype.getPoint=function t(e){var n=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;if(e<0||n<=e){return null}return new u["a"](this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)};r.prototype.getPoints=function t(){var e=this.flatCoordinates;var n=this.layout;var r=this.stride;var i=[];for(var a=0,o=e.length;a<o;a+=r){var s=new u["a"](e.slice(a,a+r),n);i.push(s)}return i};r.prototype.getType=function t(){return a["a"].MULTI_POINT};r.prototype.intersectsExtent=function t(e){var n=this.flatCoordinates;var r=this.stride;for(var i=0,a=n.length;i<a;i+=r){var o=n[i];var s=n[i+1];if(Object(h["h"])(e,o,s)){return true}}return false};r.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(o["b"])(this.flatCoordinates,0,e,this.stride);this.changed()};return r}(r["a"]);e["a"]=l},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){return t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"d",function(){return i});n.d(e,"c",function(){return a});n.d(e,"b",function(){return o});n.d(e,"e",function(){return s});n.d(e,"f",function(){return l});function r(t,e,n,r){if(r!==undefined){r[0]=t;r[1]=e;r[2]=n;return r}else{return[t,e,n]}}function i(t,e,n){return t+"/"+e+"/"+n}function a(t){return i(t[0],t[1],t[2])}function o(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function u(t){var e=t[0];var n=new Array(e);var r=1<<e-1;var i,a;for(i=0;i<e;++i){a=48;if(t[1]&r){a+=1}if(t[2]&r){a+=2}n[i]=String.fromCharCode(a);r>>=1}return n.join("")}function l(t,e){var n=t[0];var r=t[1];var i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom()){return false}var a=e.getExtent();var o;if(!a){o=e.getFullTileRange(n)}else{o=e.getTileRangeForExtentAndZ(a,n)}if(!o){return true}else{return o.containsXY(r,i)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"a",function(){return i});var r=.5;var i=true},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){t.ui=t.ui||{};return t.ui.version="1.12.1"})},function(t,e,n){"use strict";n.d(e,"a",function(){return f});n.d(e,"d",function(){return d});n.d(e,"c",function(){return p});n.d(e,"b",function(){return v});var r=n(89);var i=n(22);var a=n(37);var o=n(65);var s=n(6);var u=n(49);var l=n(17);var c=n(13);var h=n(31);Object(i["a"])("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t});Object(i["a"])(0,["YY",2],0,function(){return this.year()%100});Object(i["a"])(0,["YYYY",4],0,"year");Object(i["a"])(0,["YYYYY",5],0,"year");Object(i["a"])(0,["YYYYYY",6,true],0,"year");Object(a["a"])("year","y");Object(o["a"])("year",1);Object(s["a"])("Y",s["p"]);Object(s["a"])("YY",s["d"],s["h"]);Object(s["a"])("YYYY",s["f"],s["k"]);Object(s["a"])("YYYYY",s["g"],s["m"]);Object(s["a"])("YYYYYY",s["g"],s["m"]);Object(u["a"])(["YYYYY","YYYYYY"],c["i"]);Object(u["a"])("YYYY",function(t,e){e[c["i"]]=t.length===2?l["a"].parseTwoDigitYear(t):Object(h["a"])(t)});Object(u["a"])("YY",function(t,e){e[c["i"]]=l["a"].parseTwoDigitYear(t)});Object(u["a"])("Y",function(t,e){e[c["i"]]=parseInt(t,10)});function f(t){return d(t)?366:365}function d(t){return t%4===0&&t%100!==0||t%400===0}l["a"].parseTwoDigitYear=function(t){return Object(h["a"])(t)+(Object(h["a"])(t)>68?1900:2e3)};var p=Object(r["b"])("FullYear",true);function v(){return d(this.year())}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){if(t<0){return Math.ceil(t)||0}else{return Math.floor(t)}}},function(t,e,n){"use strict";var r=n(1);var i=n(95);var a=n(5);var o=n(48);var c=n(8);var s=n(171);var h=n(187);var u=n(2);var l=n(53);var f=n(41);var d=n(36);var p=n(33);var v=n(34);var g=n(16);var m=function t(e){if(e===void 0){e={}}l["a"].call(this,{handleEvent:t.handleEvent_});this.helpTooltipElement_=null;this.helpTooltipOverlay_=null;this.measureTooltipElement_=null;this.measureTooltipOverlay_=null;this.measureTooltipOverlayCoord_=null;this.sketchFeature=null;this.continueMsg=null;this.decimals=e.decimals;this.precision=e.precision;this.displayHelpTooltip_=e.displayHelpTooltip!==undefined?e.displayHelpTooltip:true;this.startMsg;if(e.startMsg!==undefined){this.startMsg=e.startMsg}else{this.startMsg=document.createElement("span");this.startMsg.textContent="Click to start drawing."}this.changeEventKey_=null;this.postcomposeEventKey_=null;var n=e.style!==undefined?e.style:[new g["c"]({fill:new p["a"]({color:"rgba(255, 255, 255, 0.2)"})}),new g["c"]({stroke:new v["a"]({color:"white",width:5})}),new g["c"]({stroke:new v["a"]({color:"#ffcc33",width:3})})];this.vectorLayer_=new f["a"]({source:new d["a"],style:n});this.drawInteraction_=this.createDrawInteraction(e.sketchStyle,this.vectorLayer_.getSource());this.shouldHandleDrawInteractionActiveChange_=true;u["a"](this.drawInteraction_,"change:active",this.handleDrawInteractionActiveChange_,this);u["a"](this.drawInteraction_,"drawstart",this.onDrawStart_,this);u["a"](this.drawInteraction_,"drawend",this.onDrawEnd_,this);u["a"](this,"change:active",this.updateState_,this)};a["d"](m,l["a"]);m.getFormattedArea=function(t,e,n,r){var i=t.clone().transform(e,"EPSG:4326");var a=Math.abs(h["a"](i,{projection:"EPSG:4326"}));return r(a,"m²","square",n)};m.getFormattedCircleArea=function(t,e,n){var r=Math.PI*Math.pow(t.getRadius(),2);return n(r,"m²","square",e)};m.getFormattedLength=function(t,e,n,r){var i=0;var a=t.getCoordinates();for(var o=0,s=a.length-1;o<s;++o){var u=c["m"](a[o],e,"EPSG:4326");var l=c["m"](a[o+1],e,"EPSG:4326");i+=h["b"](u,l)}return r(i,"m","unit",n)};m.getFormattedPoint=function(t,e,n,r){return n(t.getCoordinates(),e,r)};m.handleEvent_=function(t){if(t.type!="pointermove"||t.dragging){return true}var e=this.sketchFeature===null?this.startMsg:this.continueMsg;if(this.displayHelpTooltip_){o["d"](this.helpTooltipElement_);this.helpTooltipElement_.appendChild(e);this.helpTooltipOverlay_.setPosition(t.coordinate)}return true};m.prototype.getDrawInteraction=function(){return this.drawInteraction_};m.prototype.createDrawInteraction=function(t,e){};m.prototype.setMap=function(t){l["a"].prototype.setMap.call(this,t);this.vectorLayer_.setMap(t);var e=this.drawInteraction_.getMap();if(e!==null){e.removeInteraction(this.drawInteraction_)}if(t!==null){t.addInteraction(this.drawInteraction_)}};m.prototype.onDrawStart_=function(t){var n=this;this.sketchFeature=t.feature||t.detail.feature;this.vectorLayer_.getSource().clear(true);this.createMeasureTooltip_();var e=this.sketchFeature.getGeometry();r["a"].assert(e!==undefined);this.changeEventKey_=u["a"](e,"change",function(){n.handleMeasure(function(t,e){if(e!==null){n.measureTooltipElement_.innerHTML=t;n.measureTooltipOverlayCoord_=e}})});this.postcomposeEventKey_=u["a"](this.getMap(),"postcompose",function(){n.measureTooltipOverlay_.setPosition(n.measureTooltipOverlayCoord_)})};m.prototype.onDrawEnd_=function(t){this.measureTooltipElement_.classList.add("ngeo-tooltip-static");this.measureTooltipOverlay_.setOffset([0,-7]);var e=new i["a"]("measureend",{feature:this.sketchFeature});this.dispatchEvent(e);this.sketchFeature=null;this.unlistenerEvent_()};m.prototype.unlistenerEvent_=function(){if(this.changeEventKey_!==null&&this.postcomposeEventKey_!==null){u["e"](this.changeEventKey_);u["e"](this.postcomposeEventKey_);this.changeEventKey_=null;this.postcomposeEventKey_=null}};m.prototype.createHelpTooltip_=function(){this.removeHelpTooltip_();if(this.displayHelpTooltip_){this.helpTooltipElement_=document.createElement("div");this.helpTooltipElement_.classList.add("tooltip");this.helpTooltipOverlay_=new s["a"]({element:this.helpTooltipElement_,offset:[15,0],positioning:"center-left"});this.getMap().addOverlay(this.helpTooltipOverlay_)}};m.prototype.removeHelpTooltip_=function(){if(this.displayHelpTooltip_){this.getMap().removeOverlay(this.helpTooltipOverlay_);if(this.helpTooltipElement_!==null){this.helpTooltipElement_.parentNode.removeChild(this.helpTooltipElement_)}this.helpTooltipElement_=null;this.helpTooltipOverlay_=null}};m.prototype.createMeasureTooltip_=function(){this.removeMeasureTooltip_();this.measureTooltipElement_=document.createElement("div");this.measureTooltipElement_.classList.add("tooltip");this.measureTooltipElement_.classList.add("ngeo-tooltip-measure");this.measureTooltipOverlay_=new s["a"]({element:this.measureTooltipElement_,offset:[0,-15],positioning:"bottom-center",stopEvent:false});this.getMap().addOverlay(this.measureTooltipOverlay_)};m.prototype.removeMeasureTooltip_=function(){if(this.measureTooltipElement_!==null){this.measureTooltipElement_.parentNode.removeChild(this.measureTooltipElement_);this.measureTooltipElement_=null;this.measureTooltipOverlay_=null;this.measureTooltipOverlayCoord_=null}};m.prototype.updateState_=function(){var t=this.getActive();this.shouldHandleDrawInteractionActiveChange_=false;this.drawInteraction_.setActive(t);this.shouldHandleDrawInteractionActiveChange_=true;if(!this.getMap()){return}if(t){if(!this.measureTooltipOverlay_){this.createMeasureTooltip_();this.createHelpTooltip_()}}else{this.vectorLayer_.getSource().clear(true);this.getMap().removeOverlay(this.measureTooltipOverlay_);this.removeMeasureTooltip_();this.removeHelpTooltip_();this.unlistenerEvent_()}};m.prototype.handleMeasure=function(t){};m.prototype.getTooltipElement=function(){return this.measureTooltipElement_};m.prototype.handleDrawInteractionActiveChange_=function(){if(this.shouldHandleDrawInteractionActiveChange_){this.setActive(this.drawInteraction_.getActive())}};e["a"]=m},function(t,e,n){"use strict";var r={};r.GMF_DEMO="https://geomapfish-demo-dc.camptocamp.com/2.4/";r.MAPSERVER_WFS_FEATURE_NS="http://mapserver.gis.umn.edu/mapserver";r.MAPSERVER_PROXY=r.GMF_DEMO+"mapserv_proxy";r.PRINT_PROXY=r.GMF_DEMO+"printproxy";r.SEARCH=r.GMF_DEMO+"fulltextsearch?query=%QUERY";e["a"]=r},function(t,e,n){"use strict";e["a"]={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return c});n.d(e,"c",function(){return h});n.d(e,"d",function(){return i});function r(t,e,n,r){for(var i=0,a=n.length;i<a;++i){t[e++]=n[i]}return e}function c(t,e,n,r){for(var i=0,a=n.length;i<a;++i){var o=n[i];for(var s=0;s<r;++s){t[e++]=o[s]}}return e}function h(t,e,n,r,i){var a=i?i:[];var o=0;for(var s=0,u=n.length;s<u;++s){var l=c(t,e,n[s],r);a[o++]=l;e=l}a.length=o;return a}function i(t,e,n,r,i){var a=i?i:[];var o=0;for(var s=0,u=n.length;s<u;++s){var l=h(t,e,n[s],r,a[o]);a[o++]=l;e=l[l.length-1]}a.length=o;return a}},function(t,e,n){"use strict";var r=angular.module("ngeoBtnComponent",[]);r.btnGroupComponent_=function(o){return{restrict:"A",controller:"ngeoBtnGroupController",link:function t(e,n,r,i){var a=o(r["ngeoBtnGroupActive"]).assign;if(a){e.$watch(function(){return i.buttons_.some(function(t){return t(e)===true})},function(t){a(e,t)})}}}};r.btnGroupComponent_.$inject=["$parse"];r.directive("ngeoBtnGroup",r.btnGroupComponent_);r.BtnGroupController=function(t){this.buttons_=[];this.scope_=t};r.BtnGroupController.$inject=["$scope"];r.BtnGroupController.prototype.activate=function(n){var r=this;this.buttons_.forEach(function(t,e){if(e!=n){t.assign(r.scope_,false)}})};r.BtnGroupController.prototype.addButton=function(t){this.buttons_.push(t);return this.buttons_.length-1};r.controller("ngeoBtnGroupController",r.BtnGroupController);r.btnComponent_=function(c){return{require:["?^ngeoBtnGroup","ngModel"],restrict:"A",link:function t(e,n,r,i){var a=i[0];var o=i[1];var s=-1;var u=c(r["ngModel"]);var l=u.assign;if(u(e)===undefined){l(e,false)}if(a!==null){s=a.addButton(u)}n.on("click",function(){e.$apply(function(){o.$setViewValue(!o.$viewValue);o.$render()})});o.$render=function(){if(o.$viewValue&&a!==null){a.activate(s)}n.toggleClass("active",o.$viewValue)}}}};r.btnComponent_.$inject=["$parse"];r.directive("ngeoBtn",r.btnComponent_);e["a"]=r},function(t,e,n){"use strict";n.d(e,"a",function(){return c});n.d(e,"b",function(){return h});n.d(e,"c",function(){return r});function c(t,e,n,r,i){var a=i!==undefined?i:[];var o=0;for(var s=e;s<n;s+=r){a[o++]=t.slice(s,s+r)}a.length=o;return a}function h(t,e,n,r,i){var a=i!==undefined?i:[];var o=0;for(var s=0,u=n.length;s<u;++s){var l=n[s];a[o++]=c(t,e,l,r,a[o]);e=l}a.length=o;return a}function r(t,e,n,r,i){var a=i!==undefined?i:[];var o=0;for(var s=0,u=n.length;s<u;++s){var l=n[s];a[o++]=h(t,e,l,r,a[o]);e=l[l.length-1]}a.length=o;return a}},function(t,e,n){"use strict";var a=n(5);var r=n(42);var u=n(3);var l=n(127);var c=n(8);var i=n(67);var h=n(29);var f=Object(h["c"])();var o=function(t){function e(){t.call(this);this.extent_=Object(u["j"])();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.clone=function t(){return Object(a["b"])()};e.prototype.closestPointXY=function t(e,n,r,i){return Object(a["b"])()};e.prototype.containsXY=function t(e,n){return false};e.prototype.getClosestPoint=function t(e,n){var r=n?n:[NaN,NaN];this.closestPointXY(e[0],e[1],r,Infinity);return r};e.prototype.intersectsCoordinate=function t(e){return this.containsXY(e[0],e[1])};e.prototype.computeExtent=function t(e){return Object(a["b"])()};e.prototype.getExtent=function t(e){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return Object(u["I"])(this.extent_,e)};e.prototype.rotate=function t(e,n){Object(a["b"])()};e.prototype.scale=function t(e,n,r){Object(a["b"])()};e.prototype.simplify=function t(e){return this.getSimplifiedGeometry(e*e)};e.prototype.getSimplifiedGeometry=function t(e){return Object(a["b"])()};e.prototype.getType=function t(){return Object(a["b"])()};e.prototype.applyTransform=function t(e){Object(a["b"])()};e.prototype.intersectsExtent=function t(e){return Object(a["b"])()};e.prototype.translate=function t(e,n){Object(a["b"])()};e.prototype.transform=function t(e,o){var s=Object(c["g"])(e);var n=s.getUnits()==i["b"].TILE_PIXELS?function(t,e,n){var r=s.getExtent();var i=s.getWorldExtent();var a=Object(u["A"])(i)/Object(u["A"])(r);Object(h["b"])(f,i[0],i[3],a,-a,0,0,0);Object(l["c"])(t,0,t.length,n,f,e);return Object(c["i"])(s,o)(t,e,n)}:Object(c["i"])(s,o);this.applyTransform(n);return this};return e}(r["a"]);e["a"]=o},function(t,e,n){"use strict";e["a"]={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";var r=n(33);var i=n(257);var a="#333";var o=function t(e){var n=e||{};this.font_=n.font;this.rotation_=n.rotation;this.rotateWithView_=n.rotateWithView;this.scale_=n.scale;this.text_=n.text;this.textAlign_=n.textAlign;this.textBaseline_=n.textBaseline;this.fill_=n.fill!==undefined?n.fill:new r["a"]({color:a});this.maxAngle_=n.maxAngle!==undefined?n.maxAngle:Math.PI/4;this.placement_=n.placement!==undefined?n.placement:i["a"].POINT;this.overflow_=!!n.overflow;this.stroke_=n.stroke!==undefined?n.stroke:null;this.offsetX_=n.offsetX!==undefined?n.offsetX:0;this.offsetY_=n.offsetY!==undefined?n.offsetY:0;this.backgroundFill_=n.backgroundFill?n.backgroundFill:null;this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null;this.padding_=n.padding===undefined?null:n.padding};o.prototype.clone=function t(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():undefined,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():undefined})};o.prototype.getOverflow=function t(){return this.overflow_};o.prototype.getFont=function t(){return this.font_};o.prototype.getMaxAngle=function t(){return this.maxAngle_};o.prototype.getPlacement=function t(){return this.placement_};o.prototype.getOffsetX=function t(){return this.offsetX_};o.prototype.getOffsetY=function t(){return this.offsetY_};o.prototype.getFill=function t(){return this.fill_};o.prototype.getRotateWithView=function t(){return this.rotateWithView_};o.prototype.getRotation=function t(){return this.rotation_};o.prototype.getScale=function t(){return this.scale_};o.prototype.getStroke=function t(){return this.stroke_};o.prototype.getText=function t(){return this.text_};o.prototype.getTextAlign=function t(){return this.textAlign_};o.prototype.getTextBaseline=function t(){return this.textBaseline_};o.prototype.getBackgroundFill=function t(){return this.backgroundFill_};o.prototype.getBackgroundStroke=function t(){return this.backgroundStroke_};o.prototype.getPadding=function t(){return this.padding_};o.prototype.setOverflow=function t(e){this.overflow_=e};o.prototype.setFont=function t(e){this.font_=e};o.prototype.setMaxAngle=function t(e){this.maxAngle_=e};o.prototype.setOffsetX=function t(e){this.offsetX_=e};o.prototype.setOffsetY=function t(e){this.offsetY_=e};o.prototype.setPlacement=function t(e){this.placement_=e};o.prototype.setFill=function t(e){this.fill_=e};o.prototype.setRotation=function t(e){this.rotation_=e};o.prototype.setScale=function t(e){this.scale_=e};o.prototype.setStroke=function t(e){this.stroke_=e};o.prototype.setText=function t(e){this.text_=e};o.prototype.setTextAlign=function t(e){this.textAlign_=e};o.prototype.setTextBaseline=function t(e){this.textBaseline_=e};o.prototype.setBackgroundFill=function t(e){this.backgroundFill_=e};o.prototype.setBackgroundStroke=function t(e){this.backgroundStroke_=e};o.prototype.setPadding=function t(e){this.padding_=e};e["a"]=o},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(227);function r(t,e,n,r){return Object(i["a"])(t,e,n,r,true).utc()}},function(t,n,r){(function(t,e){true?e(n,r(282)):undefined})(this,function(t,u){"use strict";function l(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function e(o){var s=o.length-1;return function(t){var e=t<=0?t=0:t>=1?(t=1,s-1):Math.floor(t*s),n=o[e],r=o[e+1],i=e>0?o[e-1]:2*n-r,a=e<s-1?o[e+2]:2*r-n;return l((t-e/s)*s,i,n,r,a)}}function n(o){var s=o.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=o[(e+s-1)%s],r=o[e%s],i=o[(e+1)%s],a=o[(e+2)%s];return l((t-e/s)*s,n,r,i,a)}}function i(t){return function(){return t}}function r(e,n){return function(t){return e+t*n}}function a(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):i(isNaN(t)?e:t)}function s(n){return(n=+n)===1?c:function(t,e){return e-t?a(t,e,n):i(isNaN(t)?e:t)}}function c(t,e){var n=e-t;return n?r(t,n):i(isNaN(t)?e:t)}var h=function t(e){var o=s(e);function n(e,t){var n=o((e=u.rgb(e)).r,(t=u.rgb(t)).r),r=o(e.g,t.g),i=o(e.b,t.b),a=c(e.opacity,t.opacity);return function(t){e.r=n(t);e.g=r(t);e.b=i(t);e.opacity=a(t);return e+""}}n.gamma=t;return n}(1);function f(s){return function(t){var e=t.length,n=new Array(e),r=new Array(e),i=new Array(e),a,o;for(a=0;a<e;++a){o=u.rgb(t[a]);n[a]=o.r||0;r[a]=o.g||0;i[a]=o.b||0}n=s(n);r=s(r);i=s(i);o.opacity=1;return function(t){o.r=n(t);o.g=r(t);o.b=i(t);return o+""}}}var d=f(e);var p=f(n);function v(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o){i[o]=T(t[o],e[o])}for(;o<n;++o){a[o]=e[o]}return function(t){for(o=0;o<r;++o){a[o]=i[o](t)}return a}}function g(e,n){var r=new Date;return e=+e,n-=e,function(t){return r.setTime(e+n*t),r}}function m(e,n){return e=+e,n-=e,function(t){return e+n*t}}function y(t,e){var n={},r={},i;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(i in e){if(i in t){n[i]=T(t[i],e[i])}else{r[i]=e[i]}}return function(t){for(i in n){r[i]=n[i](t)}return r}}var _=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b=new RegExp(_.source,"g");function O(t){return function(){return t}}function w(e){return function(t){return e(t)+""}}function S(t,r){var e=_.lastIndex=b.lastIndex=0,n,i,a,o=-1,s=[],u=[];t=t+"",r=r+"";while((n=_.exec(t))&&(i=b.exec(r))){if((a=i.index)>e){a=r.slice(e,a);if(s[o])s[o]+=a;else s[++o]=a}if((n=n[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:m(n,i)})}e=b.lastIndex}if(e<r.length){a=r.slice(e);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?w(u[0].x):O(r):(r=u.length,function(t){for(var e=0,n;e<r;++e){s[(n=u[e]).i]=n.x(t)}return s.join("")})}function T(t,e){var n=typeof e,r;return e==null||n==="boolean"?i(e):(n==="number"?m:n==="string"?(r=u.color(e))?(e=r,h):S:e instanceof u.color?h:e instanceof Date?g:Array.isArray(e)?v:typeof e.valueOf!=="function"&&typeof e.toString!=="function"||isNaN(e)?y:m)(t,e)}function x(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function E(t,e){var n=o(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function C(e,n){return e=+e,n-=e,function(t){return Math.round(e+n*t)}}var M=180/Math.PI;var j={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function A(t,e,n,r,i,a){var o,s,u;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(u=t*n+e*r)n-=t*u,r-=e*u;if(s=Math.sqrt(n*n+r*r))n/=s,r/=s,u/=s;if(t*r<e*n)t=-t,e=-e,u=-u,o=-o;return{translateX:i,translateY:a,rotate:Math.atan2(e,t)*M,skewX:Math.atan(u)*M,scaleX:o,scaleY:s}}var k,I,R,D;function P(t){if(t==="none")return j;if(!k)k=document.createElement("DIV"),I=document.documentElement,R=document.defaultView;k.style.transform=t;t=R.getComputedStyle(I.appendChild(k),null).getPropertyValue("transform");I.removeChild(k);t=t.slice(7,-1).split(",");return A(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function N(t){if(t==null)return j;if(!D)D=document.createElementNS("http://www.w3.org/2000/svg","g");D.setAttribute("transform",t);if(!(t=D.transform.baseVal.consolidate()))return j;t=t.matrix;return A(t.a,t.b,t.c,t.d,t.e,t.f)}function L(n,s,u,i){function l(t){return t.length?t.pop()+" ":""}function r(t,e,n,r,i,a){if(t!==n||e!==r){var o=i.push("translate(",null,s,null,u);a.push({i:o-4,x:m(t,n)},{i:o-2,x:m(e,r)})}else if(n||r){i.push("translate("+n+s+r+u)}}function o(t,e,n,r){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;r.push({i:n.push(l(n)+"rotate(",null,i)-2,x:m(t,e)})}else if(e){n.push(l(n)+"rotate("+e+i)}}function c(t,e,n,r){if(t!==e){r.push({i:n.push(l(n)+"skewX(",null,i)-2,x:m(t,e)})}else if(e){n.push(l(n)+"skewX("+e+i)}}function h(t,e,n,r,i,a){if(t!==n||e!==r){var o=i.push(l(i)+"scale(",null,",",null,")");a.push({i:o-4,x:m(t,n)},{i:o-2,x:m(e,r)})}else if(n!==1||r!==1){i.push(l(i)+"scale("+n+","+r+")")}}return function(t,e){var i=[],a=[];t=n(t),e=n(e);r(t.translateX,t.translateY,e.translateX,e.translateY,i,a);o(t.rotate,e.rotate,i,a);c(t.skewX,e.skewX,i,a);h(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,a);t=e=null;return function(t){var e=-1,n=a.length,r;while(++e<n){i[(r=a[e]).i]=r.x(t)}return i.join("")}}}var $=L(P,"px, ","px)","deg)");var F=L(N,", ",")",")");var G=Math.SQRT2,H=2,U=4,W=1e-12;function Y(t){return((t=Math.exp(t))+1/t)/2}function V(t){return((t=Math.exp(t))-1/t)/2}function q(t){return((t=Math.exp(2*t))-1)/(t+1)}function z(t,e){var a=t[0],o=t[1],s=t[2],n=e[0],r=e[1],i=e[2],u=n-a,l=r-o,c=u*u+l*l,h,f;if(c<W){f=Math.log(i/s)/G;h=function t(e){return[a+e*u,o+e*l,s*Math.exp(G*e*f)]}}else{var d=Math.sqrt(c),p=(i*i-s*s+U*c)/(2*s*H*d),v=(i*i-s*s-U*c)/(2*i*H*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);f=(m-g)/G;h=function t(e){var n=e*f,r=Y(g),i=s/(H*d)*(r*q(G*n+g)-V(g));return[a+i*u,o+i*l,s*r/Y(G*n+g)]}}h.duration=f*1e3;return h}function B(o){return function(e,t){var n=o((e=u.hsl(e)).h,(t=u.hsl(t)).h),r=c(e.s,t.s),i=c(e.l,t.l),a=c(e.opacity,t.opacity);return function(t){e.h=n(t);e.s=r(t);e.l=i(t);e.opacity=a(t);return e+""}}}var K=B(o);var X=B(c);function Z(e,t){var n=c((e=u.lab(e)).l,(t=u.lab(t)).l),r=c(e.a,t.a),i=c(e.b,t.b),a=c(e.opacity,t.opacity);return function(t){e.l=n(t);e.a=r(t);e.b=i(t);e.opacity=a(t);return e+""}}function Q(o){return function(e,t){var n=o((e=u.hcl(e)).h,(t=u.hcl(t)).h),r=c(e.c,t.c),i=c(e.l,t.l),a=c(e.opacity,t.opacity);return function(t){e.h=n(t);e.c=r(t);e.l=i(t);e.opacity=a(t);return e+""}}}var J=Q(o);var tt=Q(c);function et(s){return function t(o){o=+o;function e(e,t){var n=s((e=u.cubehelix(e)).h,(t=u.cubehelix(t)).h),r=c(e.s,t.s),i=c(e.l,t.l),a=c(e.opacity,t.opacity);return function(t){e.h=n(t);e.s=r(t);e.l=i(Math.pow(t,o));e.opacity=a(t);return e+""}}e.gamma=t;return e}(1)}var nt=et(o);var rt=et(c);function it(t,e){var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);while(n<r){a[n]=t(i,i=e[++n])}return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}function at(t,e){var n=new Array(e);for(var r=0;r<e;++r){n[r]=t(r/(e-1))}return n}t.interpolate=T;t.interpolateArray=v;t.interpolateBasis=e;t.interpolateBasisClosed=n;t.interpolateDate=g;t.interpolateDiscrete=x;t.interpolateHue=E;t.interpolateNumber=m;t.interpolateObject=y;t.interpolateRound=C;t.interpolateString=S;t.interpolateTransformCss=$;t.interpolateTransformSvg=F;t.interpolateZoom=z;t.interpolateRgb=h;t.interpolateRgbBasis=d;t.interpolateRgbBasisClosed=p;t.interpolateHsl=K;t.interpolateHslLong=X;t.interpolateLab=Z;t.interpolateHcl=J;t.interpolateHclLong=tt;t.interpolateCubehelix=nt;t.interpolateCubehelixLong=rt;t.piecewise=it;t.quantize=at;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"a",function(){return i});function r(t,e,n){var r=n!==undefined?t.toFixed(n):""+t;var i=r.indexOf(".");i=i===-1?r.length:i;return i>e?r:new Array(1+e-i).join("0")+r}function i(t,e){var n=(""+t).split(".");var r=(""+e).split(".");for(var i=0;i<Math.max(n.length,r.length);i++){var a=parseInt(n[i]||"0",10);var o=parseInt(r[i]||"0",10);if(a>o){return 1}if(o>a){return-1}}return 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}},function(t,e,n){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"e",function(){return u});n.d(e,"a",function(){return l});n.d(e,"f",function(){return r});n.d(e,"d",function(){return m});n.d(e,"b",function(){return y});n.d(e,"c",function(){return i});var v=n(14);function g(t,e,n,r,i,a,o){var s=t[e];var u=t[e+1];var l=t[n]-s;var c=t[n+1]-u;var h;if(l===0&&c===0){h=e}else{var f=((i-s)*l+(a-u)*c)/(l*l+c*c);if(f>1){h=n}else if(f>0){for(var d=0;d<r;++d){o[d]=Object(v["c"])(t[e+d],t[n+d],f)}o.length=r;return}else{h=e}}for(var p=0;p<r;++p){o[p]=t[h+p]}o.length=r}function u(t,e,n,r,i){var a=t[e];var o=t[e+1];for(e+=r;e<n;e+=r){var s=t[e];var u=t[e+1];var l=Object(v["f"])(a,o,s,u);if(l>i){i=l}a=s;o=u}return i}function l(t,e,n,r,i){for(var a=0,o=n.length;a<o;++a){var s=n[a];i=u(t,e,s,r,i);e=s}return i}function r(t,e,n,r,i){for(var a=0,o=n.length;a<o;++a){var s=n[a];i=l(t,e,s,r,i);e=s[s.length-1]}return i}function m(t,e,n,r,i,a,o,s,u,l,c){if(e==n){return l}var h,f;if(i===0){f=Object(v["f"])(o,s,t[e],t[e+1]);if(f<l){for(h=0;h<r;++h){u[h]=t[e+h]}u.length=r;return f}else{return l}}var d=c?c:[NaN,NaN];var p=e+r;while(p<n){g(t,p-r,p,r,o,s,d);f=Object(v["f"])(o,s,d[0],d[1]);if(f<l){l=f;for(h=0;h<r;++h){u[h]=d[h]}u.length=r;p+=r}else{p+=r*Math.max((Math.sqrt(f)-Math.sqrt(l))/i|0,1)}}if(a){g(t,n-r,e,r,o,s,d);f=Object(v["f"])(o,s,d[0],d[1]);if(f<l){l=f;for(h=0;h<r;++h){u[h]=d[h]}u.length=r}}return l}function y(t,e,n,r,i,a,o,s,u,l,c){var h=c?c:[NaN,NaN];for(var f=0,d=n.length;f<d;++f){var p=n[f];l=m(t,e,p,r,i,a,o,s,u,l,h);e=p}return l}function i(t,e,n,r,i,a,o,s,u,l,c){var h=c?c:[NaN,NaN];for(var f=0,d=n.length;f<d;++f){var p=n[f];l=y(t,e,p,r,i,a,o,s,u,l,h);e=p[p.length-1]}return l}},function(t,e,n){"use strict";n.d(e,"c",function(){return r});n.d(e,"a",function(){return i});n.d(e,"b",function(){return a});n.d(e,"d",function(){return o});function r(t,e,n,r,i,a){var o=a?a:[];var s=0;for(var u=e;u<n;u+=r){var l=t[u];var c=t[u+1];o[s++]=i[0]*l+i[2]*c+i[4];o[s++]=i[1]*l+i[3]*c+i[5]}if(a&&o.length!=s){o.length=s}return o}function i(t,e,n,r,i,a,o){var s=o?o:[];var u=Math.cos(i);var l=Math.sin(i);var c=a[0];var h=a[1];var f=0;for(var d=e;d<n;d+=r){var p=t[d]-c;var v=t[d+1]-h;s[f++]=c+p*u-v*l;s[f++]=h+p*l+v*u;for(var g=d+2;g<d+r;++g){s[f++]=t[g]}}if(o&&s.length!=f){s.length=f}return s}function a(t,e,n,r,i,a,o,s){var u=s?s:[];var l=o[0];var c=o[1];var h=0;for(var f=e;f<n;f+=r){var d=t[f]-l;var p=t[f+1]-c;u[h++]=l+i*d;u[h++]=c+a*p;for(var v=f+2;v<f+r;++v){u[h++]=t[v]}}if(s&&u.length!=h){u.length=h}return u}function o(t,e,n,r,i,a,o){var s=o?o:[];var u=0;for(var l=e;l<n;l+=r){s[u++]=t[l]+i;s[u++]=t[l+1]+a;for(var c=l+2;c<l+r;++c){s[u++]=t[c]}}if(o&&s.length!=u){s.length=u}return s}},function(t,e,n){"use strict";var r=n(212);var i=n(2);var l=n(47);var c=n(61);var a=function(t){function e(){t.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.addEventListener=function t(e,n){var r=this.listeners_[e];if(!r){r=this.listeners_[e]=[]}if(r.indexOf(n)===-1){r.push(n)}};e.prototype.dispatchEvent=function t(e){var n=typeof e==="string"?new c["a"](e):e;var r=n.type;n.target=this;var i=this.listeners_[r];var a;if(i){if(!(r in this.dispatching_)){this.dispatching_[r]=0;this.pendingRemovals_[r]=0}++this.dispatching_[r];for(var o=0,s=i.length;o<s;++o){if(i[o].call(this,n)===false||n.propagationStopped){a=false;break}}--this.dispatching_[r];if(this.dispatching_[r]===0){var u=this.pendingRemovals_[r];delete this.pendingRemovals_[r];while(u--){this.removeEventListener(r,l["c"])}delete this.dispatching_[r]}return a}};e.prototype.disposeInternal=function t(){Object(i["d"])(this)};e.prototype.getListeners=function t(e){return this.listeners_[e]};e.prototype.hasListener=function t(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0};e.prototype.removeEventListener=function t(e,n){var r=this.listeners_[e];if(r){var i=r.indexOf(n);if(e in this.pendingRemovals_){r[i]=l["c"];++this.pendingRemovals_[e]}else{r.splice(i,1);if(r.length===0){delete this.listeners_[e]}}}};return e}(r["a"]);e["a"]=a},function(t,e,n){"use strict";var s=n(1);var r=function t(e){this.groups_={};this.scope_=e};r.$inject=["$rootScope"];r.$inject=["$rootScope"];r.prototype.registerTool=function(n,r,t){var i=this;var e=this.groups_[n];if(!e){e=this.groups_[n]=[]}var a=this.scope_.$watch(r.getActive,function(t,e){if(t===e){return}if(t){i.deactivateTools_(n,r)}else{i.activateDefault_(n)}});e.push({tool:r,defaultTool:t||false,unlisten:a});if(s["a"].ENABLE_ASSERTS){var o=0;e.forEach(function(t){if(t.defaultTool){o++}});s["a"].assert(o<=1,"more than one default tool in group "+n)}};r.prototype.unregisterTool=function(t,e){var n=this.groups_[t];if(n){for(var r=0;r<n.length;r++){if(n[r].tool==e){n[r].unlisten();n.splice(r,1);break}}}};r.prototype.unregisterGroup=function(t){var e=this.groups_[t];if(e){for(var n=0;n<e.length;n++){e[n].unlisten()}delete this.groups_[t]}};r.prototype.activateTool=function(t){t.setActive(true)};r.prototype.deactivateTool=function(t){t.setActive(false)};r.prototype.deactivateTools_=function(t,e){var n=this.groups_[t];for(var r=0;r<n.length;r++){if(e!=n[r].tool){n[r].tool.setActive(false)}}};r.prototype.activateDefault_=function(t){var e=this.groups_[t];var n=null;var r=false;for(var i=0;i<e.length;i++){r=r||e[i].tool.getActive();if(e[i].defaultTool){n=e[i].tool}}if(!r&&n!==null){n.setActive(true)}};r.module=angular.module("ngeoToolActivateMgr",[]);r.module.service("ngeoToolActivateMgr",r);e["a"]=r},function(t,e,n){"use strict";e["a"]={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";var g=n(191);var p=n(20);var m=n(3);var y=n(10);var v=n(14);var _=n(8);var b=n(163);var O=n(92);var r=n(185);var w=n(168);var S=n(107);var a=n(123);var T=n(144);var i=function(i){function t(t){var e=t||{};var n=e.params||{};var r="TRANSPARENT"in n?n["TRANSPARENT"]:true;i.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,opaque:!r,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,tileUrlFunction:o,url:e.url,urls:e.urls,wrapX:e.wrapX!==undefined?e.wrapX:true,transition:e.transition});this.gutter_=e.gutter!==undefined?e.gutter:0;this.params_=n;this.v13_=true;this.serverType_=e.serverType;this.hidpi_=e.hidpi!==undefined?e.hidpi:true;this.tmpExtent_=Object(m["j"])();this.updateV13_();this.setKey(this.getKeyForParams_())}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.getGetFeatureInfoUrl=function t(e,n,r,i){var a=Object(_["g"])(r);var o=this.getProjection();var s=this.getTileGrid();if(!s){s=this.getTileGridForProjection(a)}var u=s.getTileCoordForCoordAndResolution(e,n);if(s.getResolutions().length<=u[0]){return undefined}var l=s.getResolution(u[0]);var c=s.getTileCoordExtent(u,this.tmpExtent_);var h=Object(O["d"])(s.getTileSize(u[0]),this.tmpSize);var f=this.gutter_;if(f!==0){h=Object(O["a"])(h,f,this.tmpSize);c=Object(m["c"])(c,l*f,c)}if(o&&o!==a){l=Object(b["a"])(o,a,e,l);c=Object(_["n"])(c,a,o);e=Object(_["m"])(e,a,o)}var d={SERVICE:"WMS",VERSION:g["a"],REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};Object(y["a"])(d,this.params_,i);var p=Math.floor((e[0]-c[0])/l);var v=Math.floor((c[3]-e[1])/l);d[this.v13_?"I":"X"]=p;d[this.v13_?"J":"Y"]=v;return this.getRequestUrl_(u,h,c,1,o||a,d)};t.prototype.getGutter=function t(){return this.gutter_};t.prototype.getParams=function t(){return this.params_};t.prototype.getRequestUrl_=function t(e,n,r,i,a,o){var s=this.urls;if(!s){return undefined}o["WIDTH"]=n[0];o["HEIGHT"]=n[1];o[this.v13_?"CRS":"SRS"]=a.getCode();if(!("STYLES"in this.params_)){o["STYLES"]=""}if(i!=1){switch(this.serverType_){case w["a"].GEOSERVER:var u=90*i+.5|0;if("FORMAT_OPTIONS"in o){o["FORMAT_OPTIONS"]+=";dpi:"+u}else{o["FORMAT_OPTIONS"]="dpi:"+u}break;case w["a"].MAPSERVER:o["MAP_RESOLUTION"]=90*i;break;case w["a"].CARMENTA_SERVER:case w["a"].QGIS:o["DPI"]=90*i;break;default:Object(p["a"])(false,52);break}}var l=a.getAxisOrientation();var c=r;if(this.v13_&&l.substr(0,2)=="ne"){var h;h=r[0];c[0]=r[1];c[1]=h;h=r[2];c[2]=r[3];c[3]=h}o["BBOX"]=c.join(",");var f;if(s.length==1){f=s[0]}else{var d=Object(v["d"])(Object(S["e"])(e),s.length);f=s[d]}return Object(T["a"])(f,o)};t.prototype.getTilePixelRatio=function t(e){return!this.hidpi_||this.serverType_===undefined?1:e};t.prototype.getKeyForParams_=function t(){var e=0;var n=[];for(var r in this.params_){n[e++]=r+"-"+this.params_[r]}return n.join("/")};t.prototype.updateParams=function t(e){Object(y["a"])(this.params_,e);this.updateV13_();this.setKey(this.getKeyForParams_())};t.prototype.updateV13_=function t(){var e=this.params_["VERSION"]||g["a"];this.v13_=Object(a["a"])(e,"1.3")>=0};return t}(r["a"]);function o(t,e,n){var r=this.getTileGrid();if(!r){r=this.getTileGridForProjection(n)}if(r.getResolutions().length<=t[0]){return undefined}if(e!=1&&(!this.hidpi_||this.serverType_===undefined)){e=1}var i=r.getResolution(t[0]);var a=r.getTileCoordExtent(t,this.tmpExtent_);var o=Object(O["d"])(r.getTileSize(t[0]),this.tmpSize);var s=this.gutter_;if(s!==0){o=Object(O["a"])(o,s,this.tmpSize);a=Object(m["c"])(a,i*s,a)}if(e!=1){o=Object(O["c"])(o,e,this.tmpSize)}var u={SERVICE:"WMS",VERSION:g["a"],REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};Object(y["a"])(u,this.params_);return this.getRequestUrl_(t,o,a,e,n,u)}e["a"]=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(75);function i(t){if(Array.isArray(t)){return Object(r["d"])(t)}else{return t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"b",function(){return o});n.d(e,"c",function(){return s});var c=n(110);var r=n(58);var a=n(139);function h(t,e,n){var r=7+e-n,i=(7+Object(a["b"])(t,0,r).getUTCDay()-e)%7;return-i+r-1}function i(t,e,n,r,i){var a=(7+n-r)%7,o=h(t,r,i),s=1+7*(e-1)+a+o,u,l;if(s<=0){u=t-1;l=Object(c["a"])(u)+s}else if(s>Object(c["a"])(t)){u=t+1;l=s-Object(c["a"])(t)}else{u=t;l=s}return{year:u,dayOfYear:l}}function o(t,e,n){var r=h(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,a,o;if(i<1){o=t.year()-1;a=i+s(o,e,n)}else if(i>s(t.year(),e,n)){a=i-s(t.year(),e,n);o=t.year()+1}else{o=t.year();a=i}return{week:a,year:o}}function s(t,e,n){var r=h(t,e,n),i=h(t+1,e,n);return(Object(c["a"])(t)-r+i)/7}},function(t,e,n){"use strict";var r=n(136);var i=n(121);var a=n(40);var o;if(Array.prototype.some){o=Array.prototype.some}else{o=function t(e){var n=Object(this);var r=n.length>>>0;for(var i=0;i<r;i++){if(i in n&&e.call(this,n[i],i,n)){return true}}return false}}n.d(e,"b",function(){return s});n.d(e,"a",function(){return u});function s(t){if(t._isValid==null){var e=Object(a["a"])(t);var n=o.call(e.parsedDateParts,function(t){return t!=null});var r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict){r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(t)){t._isValid=r}else{return r}}return t._isValid}function u(t){var e=Object(i["a"])(NaN);if(t!=null){Object(r["a"])(Object(a["a"])(e),t)}else{Object(a["a"])(e).userInvalidated=true}return e}},function(t,e,n){"use strict";var r=n(0);var i=function t(){};i.prototype.read=function t(e){if(!e){return null}else if(typeof e==="string"){var n=Object(r["r"])(e);return this.readFromDocument(n)}else if(Object(r["g"])(e)){return this.readFromDocument(e)}else{return this.readFromNode(e)}};i.prototype.readFromDocument=function t(e){};i.prototype.readFromNode=function t(e){};e["a"]=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(62);function i(t,e){for(var n in e){if(Object(r["a"])(e,n)){t[n]=e[n]}}if(Object(r["a"])(e,"toString")){t.toString=e.toString}if(Object(r["a"])(e,"valueOf")){t.valueOf=e.valueOf}return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});n.d(e,"b",function(){return f});n.d(e,"e",function(){return m});n.d(e,"c",function(){return p});n.d(e,"d",function(){return a});var S=n(14);function r(t,e,n,r,i,a,o){var s=o!==undefined?o:[];if(!a){n=u(t,e,n,r,i,s,0);t=s;e=0;r=2}s.length=h(t,e,n,r,i,s,0);return s}function h(t,e,n,r,i,a,o){var s=(n-e)/r;if(s<3){for(;e<n;e+=r){a[o++]=t[e];a[o++]=t[e+1]}return o}var u=new Array(s);u[0]=1;u[s-1]=1;var l=[e,n-r];var c=0;while(l.length>0){var h=l.pop();var f=l.pop();var d=0;var p=t[f];var v=t[f+1];var g=t[h];var m=t[h+1];for(var y=f+r;y<h;y+=r){var _=t[y];var b=t[y+1];var O=Object(S["g"])(_,b,p,v,g,m);if(O>d){c=y;d=O}}if(d>i){u[(c-e)/r]=1;if(f+r<c){l.push(f,c)}if(c+r<h){l.push(c,h)}}}for(var w=0;w<s;++w){if(u[w]){a[o++]=t[e+w*r];a[o++]=t[e+w*r+1]}}return o}function f(t,e,n,r,i,a,o,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];o=h(t,e,c,r,i,a,o);s.push(o);e=c}return o}function i(t,e,n,r,i,a,o,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];var h=[];o=f(t,e,c,r,i,a,o,h);s.push(h);e=c[c.length-1]}return o}function u(t,e,n,r,i,a,o){if(n<=e+r){for(;e<n;e+=r){a[o++]=t[e];a[o++]=t[e+1]}return o}var s=t[e];var u=t[e+1];a[o++]=s;a[o++]=u;var l=s;var c=u;for(e+=r;e<n;e+=r){l=t[e];c=t[e+1];if(Object(S["f"])(s,u,l,c)>i){a[o++]=l;a[o++]=c;s=l;u=c}}if(l!=s||c!=u){a[o++]=l;a[o++]=c}return o}function m(t,e){return e*Math.round(t/e)}function d(t,e,n,r,i,a,o){if(e==n){return o}var s=m(t[e],i);var u=m(t[e+1],i);e+=r;a[o++]=s;a[o++]=u;var l,c;do{l=m(t[e],i);c=m(t[e+1],i);e+=r;if(e==n){a[o++]=l;a[o++]=c;return o}}while(l==s&&c==u);while(e<n){var h=m(t[e],i);var f=m(t[e+1],i);e+=r;if(h==l&&f==c){continue}var d=l-s;var p=c-u;var v=h-s;var g=f-u;if(d*g==p*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(p<0&&g<p||p==g||p>0&&g>p)){l=h;c=f;continue}a[o++]=l;a[o++]=c;s=l;u=c;l=h;c=f}a[o++]=l;a[o++]=c;return o}function p(t,e,n,r,i,a,o,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];o=d(t,e,c,r,i,a,o);s.push(o);e=c}return o}function a(t,e,n,r,i,a,o,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];var h=[];o=p(t,e,c,r,i,a,o,h);s.push(h);e=c[c.length-1]}return o}},function(t,e,n){"use strict";e["a"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});function r(t,e,n,r,i,a,o){var s=new Date(t,e,n,r,i,a,o);if(t<100&&t>=0&&isFinite(s.getFullYear())){s.setFullYear(t)}return s}function i(t){var e=new Date(Date.UTC.apply(null,arguments));if(t<100&&t>=0&&isFinite(e.getUTCFullYear())){e.setUTCFullYear(t)}return e}},function(t,e,n){"use strict";var a=n(47);var o=n(188);var r=n(42);var s=n(48);var u=n(2);var i=function(e){function t(t){e.call(this);this.element=t.element?t.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=t.render?t.render:a["c"];if(t.target){this.setTarget(t.target)}}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){Object(s["e"])(this.element);e.prototype.disposeInternal.call(this)};t.prototype.getMap=function t(){return this.map_};t.prototype.setMap=function t(e){if(this.map_){Object(s["e"])(this.element)}for(var n=0,r=this.listenerKeys.length;n<r;++n){Object(u["e"])(this.listenerKeys[n])}this.listenerKeys.length=0;this.map_=e;if(this.map_){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element);if(this.render!==a["c"]){this.listenerKeys.push(Object(u["a"])(e,o["a"].POSTRENDER,this.render,this))}e.render()}};t.prototype.setTarget=function t(e){this.target_=typeof e==="string"?document.getElementById(e):e};return t}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var r=angular.module("ngeoDebounce",[]);r.factory_=function(l){return function(a,o,s){var u=null;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}var r=this;var i=function t(){u=null;a.apply(r,e)};if(u!==null){l.cancel(u)}u=l(i,o,s)}}};r.factory_.$inject=["$timeout"];r.factory("ngeoDebounce",r.factory_);e["a"]=r},function(t,e,n){"use strict";var a=n(3);var r=n(7);var i=n(81);var u=n(115);var o=function(i){function e(t,e,n){i.call(this);if(n!==undefined&&e===undefined){this.setFlatCoordinates(n,t)}else{var r=e?e:0;this.setCenterAndRadius(t,r,n)}}if(i)e.__proto__=i;e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.prototype.clone=function t(){return new e(this.flatCoordinates.slice(),undefined,this.layout)};e.prototype.closestPointXY=function t(e,n,r,i){var a=this.flatCoordinates;var o=e-a[0];var s=n-a[1];var u=o*o+s*s;if(u<i){if(u===0){for(var l=0;l<this.stride;++l){r[l]=a[l]}}else{var c=this.getRadius()/Math.sqrt(u);r[0]=a[0]+c*o;r[1]=a[1]+c*s;for(var h=2;h<this.stride;++h){r[h]=a[h]}}r.length=this.stride;return u}else{return i}};e.prototype.containsXY=function t(e,n){var r=this.flatCoordinates;var i=e-r[0];var a=n-r[1];return i*i+a*a<=this.getRadiusSquared_()};e.prototype.getCenter=function t(){return this.flatCoordinates.slice(0,this.stride)};e.prototype.computeExtent=function t(e){var n=this.flatCoordinates;var r=n[this.stride]-n[0];return Object(a["k"])(n[0]-r,n[1]-r,n[0]+r,n[1]+r,e)};e.prototype.getRadius=function t(){return Math.sqrt(this.getRadiusSquared_())};e.prototype.getRadiusSquared_=function t(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0];var n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n};e.prototype.getType=function t(){return r["a"].CIRCLE};e.prototype.intersectsExtent=function t(e){var n=this.getExtent();if(Object(a["F"])(e,n)){var r=this.getCenter();if(e[0]<=r[0]&&e[2]>=r[0]){return true}if(e[1]<=r[1]&&e[3]>=r[1]){return true}return Object(a["t"])(e,this.intersectsCoordinate,this)}return false};e.prototype.setCenter=function t(e){var n=this.stride;var r=this.flatCoordinates[n]-this.flatCoordinates[0];var i=e.slice();i[n]=i[0]+r;for(var a=1;a<n;++a){i[n+a]=e[a]}this.setFlatCoordinates(this.layout,i);this.changed()};e.prototype.setCenterAndRadius=function t(e,n,r){this.setLayout(r,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var i=this.flatCoordinates;var a=Object(u["a"])(i,0,e,this.stride);i[a++]=i[0]+n;for(var o=1,s=this.stride;o<s;++o){i[a++]=i[o]}i.length=a;this.changed()};e.prototype.getCoordinates=function t(){return null};e.prototype.setCoordinates=function t(e,n){};e.prototype.setRadius=function t(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e;this.changed()};return e}(i["a"]);o.prototype.transform;e["a"]=o},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){return typeof t==="number"||Object.prototype.toString.call(t)==="[object Number]"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t,e){var n=[];Object.keys(e).forEach(function(t){if(e[t]!==null&&e[t]!==undefined){n.push(t+"="+encodeURIComponent(e[t]))}});var r=n.join("&");t=t.replace(/[?&]$/,"");t=t.indexOf("?")===-1?t+"?":t+"&";return t+r}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return u});n.d(e,"c",function(){return l});n.d(e,"d",function(){return i});var o=n(3);function r(e,n,r,i,t){var a=Object(o["t"])(t,function(t){return!u(e,n,r,i,t[0],t[1])});return!a}function u(t,e,n,r,i,a){var o=0;var s=t[n-r];var u=t[n-r+1];for(;e<n;e+=r){var l=t[e];var c=t[e+1];if(u<=a){if(c>a&&(l-s)*(a-u)-(i-s)*(c-u)>0){o++}}else if(c<=a&&(l-s)*(a-u)-(i-s)*(c-u)<0){o--}s=l;u=c}return o!==0}function l(t,e,n,r,i,a){if(n.length===0){return false}if(!u(t,e,n[0],r,i,a)){return false}for(var o=1,s=n.length;o<s;++o){if(u(t,n[o-1],n[o],r,i,a)){return false}}return true}function i(t,e,n,r,i,a){if(n.length===0){return false}for(var o=0,s=n.length;o<s;++o){var u=n[o];if(l(t,e,u,r,i,a)){return true}e=u[u.length-1]}return false}},function(t,e,n){"use strict";e["a"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";var a=n(174);var j=n(9);var A=n(3);var l=n(10);var k=n(8);var r=n(185);var I={KVP:"KVP",REST:"REST"};var R=n(224);var c=n(144);n.d(e,"b",function(){return s});var i=function(i){function t(t){var e=t.requestEncoding!==undefined?t.requestEncoding:I.KVP;var n=t.tileGrid;var r=t.urls;if(r===undefined&&t.url!==undefined){r=Object(a["c"])(t.url)}i.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:a["d"],urls:r,wrapX:t.wrapX!==undefined?t.wrapX:false,transition:t.transition});this.version_=t.version!==undefined?t.version:"1.0.0";this.format_=t.format!==undefined?t.format:"image/jpeg";this.dimensions_=t.dimensions!==undefined?t.dimensions:{};this.layer_=t.layer;this.matrixSet_=t.matrixSet;this.style_=t.style;this.requestEncoding_=e;this.setKey(this.getKeyForDimensions_());if(r&&r.length>0){this.tileUrlFunction=Object(a["b"])(r.map(u.bind(this)))}}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.setUrls=function t(e){this.urls=e;var n=e.join("\n");this.setTileUrlFunction(Object(a["b"])(e.map(u.bind(this))),n)};t.prototype.getDimensions=function t(){return this.dimensions_};t.prototype.getFormat=function t(){return this.format_};t.prototype.getLayer=function t(){return this.layer_};t.prototype.getMatrixSet=function t(){return this.matrixSet_};t.prototype.getRequestEncoding=function t(){return this.requestEncoding_};t.prototype.getStyle=function t(){return this.style_};t.prototype.getVersion=function t(){return this.version_};t.prototype.getKeyForDimensions_=function t(){var e=0;var n=[];for(var r in this.dimensions_){n[e++]=r+"-"+this.dimensions_[r]}return n.join("/")};t.prototype.updateDimensions=function t(e){Object(l["a"])(this.dimensions_,e);this.setKey(this.getKeyForDimensions_())};return t}(r["a"]);var o=e["a"]=i;function s(t,s){var e=t["Contents"]["Layer"];var n=Object(j["d"])(e,function(t,e,n){return t["Identifier"]==s["layer"]});if(n===null){return null}var u=t["Contents"]["TileMatrixSet"];var r;if(n["TileMatrixSetLink"].length>1){if("projection"in s){r=Object(j["e"])(n["TileMatrixSetLink"],function(e,t,n){var r=Object(j["d"])(u,function(t){return t["Identifier"]==e["TileMatrixSet"]});var i=r["SupportedCRS"];var a=Object(k["g"])(i.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(k["g"])(i);var o=Object(k["g"])(s["projection"]);if(a&&o){return Object(k["e"])(a,o)}else{return i==s["projection"]}})}else{r=Object(j["e"])(n["TileMatrixSetLink"],function(t,e,n){return t["TileMatrixSet"]==s["matrixSet"]})}}else{r=0}if(r<0){r=0}var i=n["TileMatrixSetLink"][r]["TileMatrixSet"];var a=n["TileMatrixSetLink"][r]["TileMatrixSetLimits"];var o=n["Format"][0];if("format"in s){o=s["format"]}r=Object(j["e"])(n["Style"],function(t,e,n){if("style"in s){return t["Title"]==s["style"]}else{return t["isDefault"]}});if(r<0){r=0}var l=n["Style"][r]["Identifier"];var c={};if("Dimension"in n){n["Dimension"].forEach(function(t,e,n){var r=t["Identifier"];var i=t["Default"];if(i===undefined){i=t["Value"][0]}c[r]=i})}var h=t["Contents"]["TileMatrixSet"];var f=Object(j["d"])(h,function(t,e,n){return t["Identifier"]==i});var d;var p=f["SupportedCRS"];if(p){d=Object(k["g"])(p.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(k["g"])(p)}if("projection"in s){var v=Object(k["g"])(s["projection"]);if(v){if(!d||Object(k["e"])(v,d)){d=v}}}var g=n["WGS84BoundingBox"];var m,y;if(g!==undefined){var _=Object(k["g"])("EPSG:4326").getExtent();y=g[0]==_[0]&&g[2]==_[2];m=Object(k["n"])(g,"EPSG:4326",d);var b=d.getExtent();if(b){if(!Object(A["g"])(b,m)){m=undefined}}}var O=Object(R["a"])(f,m,a);var w=[];var S=s["requestEncoding"];S=S!==undefined?S:"";if("OperationsMetadata"in t&&"GetTile"in t["OperationsMetadata"]){var T=t["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"];for(var x=0,E=T.length;x<E;++x){if(T[x]["Constraint"]){var C=Object(j["d"])(T[x]["Constraint"],function(t){return t["name"]=="GetEncoding"});var M=C["AllowedValues"]["Value"];if(S===""){S=M[0]}if(S===I.KVP){if(Object(j["f"])(M,I.KVP)){w.push(T[x]["href"])}}else{break}}else if(T[x]["href"]){S=I.KVP;w.push(T[x]["href"])}}}if(w.length===0){S=I.REST;n["ResourceURL"].forEach(function(t){if(t["resourceType"]==="tile"){o=t["format"];w.push(t["template"])}})}return{urls:w,layer:s["layer"],matrixSet:i,format:o,projection:d,requestEncoding:S,tileGrid:O,style:l,dimensions:c,wrapX:y,crossOrigin:s["crossOrigin"]}}function u(a){var o=this.requestEncoding_;var n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};if(o==I.KVP){Object(l["a"])(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_})}a=o==I.KVP?Object(c["a"])(a,n):a.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t});var s=this.tileGrid;var u=this.dimensions_;return function(t,e,n){if(!t){return undefined}else{var r={TileMatrix:s.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};Object(l["a"])(r,u);var i=a;if(o==I.KVP){i=Object(c["a"])(i,r)}else{i=i.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}return i}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t,e,n){var r=""+Math.abs(t),i=e-r.length,a=t>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}},function(t,e,n){"use strict";var r=n(269);var i=function(a){function t(t,e,n,r,i){a.call(this,t,e,n.originalEvent,r,i);this.pointerEvent=n}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;return t}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var r=n(2);var i=n(11);var u=n(3);var a=n(118);var o=n(7);var f=n(10);var s=function(e){function h(t){e.call(this);this.geometries_=t?t:null;this.listenGeometriesChange_()}if(e)h.__proto__=e;h.prototype=Object.create(e&&e.prototype);h.prototype.constructor=h;h.prototype.unlistenGeometriesChange_=function t(){if(!this.geometries_){return}for(var e=0,n=this.geometries_.length;e<n;++e){Object(r["c"])(this.geometries_[e],i["a"].CHANGE,this.changed,this)}};h.prototype.listenGeometriesChange_=function t(){if(!this.geometries_){return}for(var e=0,n=this.geometries_.length;e<n;++e){Object(r["a"])(this.geometries_[e],i["a"].CHANGE,this.changed,this)}};h.prototype.clone=function t(){var e=new h(null);e.setGeometries(this.geometries_);return e};h.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(u["e"])(this.getExtent(),e,n)){return i}var a=this.geometries_;for(var o=0,s=a.length;o<s;++o){i=a[o].closestPointXY(e,n,r,i)}return i};h.prototype.containsXY=function t(e,n){var r=this.geometries_;for(var i=0,a=r.length;i<a;++i){if(r[i].containsXY(e,n)){return true}}return false};h.prototype.computeExtent=function t(e){Object(u["l"])(e);var n=this.geometries_;for(var r=0,i=n.length;r<i;++r){Object(u["q"])(e,n[r].getExtent())}return e};h.prototype.getGeometries=function t(){return l(this.geometries_)};h.prototype.getGeometriesArray=function t(){return this.geometries_};h.prototype.getSimplifiedGeometry=function t(e){if(this.simplifiedGeometryRevision!=this.getRevision()){Object(f["b"])(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var n=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n)){return this.simplifiedGeometryCache[n]}else{var r=[];var i=this.geometries_;var a=false;for(var o=0,s=i.length;o<s;++o){var u=i[o];var l=u.getSimplifiedGeometry(e);r.push(l);if(l!==u){a=true}}if(a){var c=new h(null);c.setGeometriesArray(r);this.simplifiedGeometryCache[n]=c;return c}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};h.prototype.getType=function t(){return o["a"].GEOMETRY_COLLECTION};h.prototype.intersectsExtent=function t(e){var n=this.geometries_;for(var r=0,i=n.length;r<i;++r){if(n[r].intersectsExtent(e)){return true}}return false};h.prototype.isEmpty=function t(){return this.geometries_.length===0};h.prototype.rotate=function t(e,n){var r=this.geometries_;for(var i=0,a=r.length;i<a;++i){r[i].rotate(e,n)}this.changed()};h.prototype.scale=function t(e,n,r){var i=r;if(!i){i=Object(u["x"])(this.getExtent())}var a=this.geometries_;for(var o=0,s=a.length;o<s;++o){a[o].scale(e,n,i)}this.changed()};h.prototype.setGeometries=function t(e){this.setGeometriesArray(l(e))};h.prototype.setGeometriesArray=function t(e){this.unlistenGeometriesChange_();this.geometries_=e;this.listenGeometriesChange_();this.changed()};h.prototype.applyTransform=function t(e){var n=this.geometries_;for(var r=0,i=n.length;r<i;++r){n[r].applyTransform(e)}this.changed()};h.prototype.translate=function t(e,n){var r=this.geometries_;for(var i=0,a=r.length;i<a;++i){r[i].translate(e,n)}this.changed()};h.prototype.disposeInternal=function t(){this.unlistenGeometriesChange_();e.prototype.disposeInternal.call(this)};return h}(a["a"]);function l(t){var e=[];for(var n=0,r=t.length;n<r;++n){e.push(t[n].clone())}return e}e["a"]=s},function(t,e,n){"use strict";var r={AND:"&&",NOT:"!",OR:"||"};e["a"]=r},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"a",function(){return i});n.d(e,"c",function(){return u});var a=n(10);var o={};function r(){o={}}function i(t,e,n){var r=t.getCode();var i=e.getCode();if(!(r in o)){o[r]={}}o[r][i]=n}function s(t,e){var n=t.getCode();var r=e.getCode();var i=o[n][r];delete o[n][r];if(Object(a["d"])(o[n])){delete o[n]}return i}function u(t,e){var n;if(t in o&&e in o[t]){n=o[t][e]}return n}},function(t,e,n){"use strict";e["a"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,n){"use strict";var r=n(67);var i=function t(e){this.code_=e.code;this.units_=e.units;this.extent_=e.extent!==undefined?e.extent:null;this.worldExtent_=e.worldExtent!==undefined?e.worldExtent:null;this.axisOrientation_=e.axisOrientation!==undefined?e.axisOrientation:"enu";this.global_=e.global!==undefined?e.global:false;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=e.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=e.metersPerUnit};i.prototype.canWrapX=function t(){return this.canWrapX_};i.prototype.getCode=function t(){return this.code_};i.prototype.getExtent=function t(){return this.extent_};i.prototype.getUnits=function t(){return this.units_};i.prototype.getMetersPerUnit=function t(){return this.metersPerUnit_||r["a"][this.units_]};i.prototype.getWorldExtent=function t(){return this.worldExtent_};i.prototype.getAxisOrientation=function t(){return this.axisOrientation_};i.prototype.isGlobal=function t(){return this.global_};i.prototype.setGlobal=function t(e){this.global_=e;this.canWrapX_=!!(e&&this.extent_)};i.prototype.getDefaultTileGrid=function t(){return this.defaultTileGrid_};i.prototype.setDefaultTileGrid=function t(e){this.defaultTileGrid_=e};i.prototype.setExtent=function t(e){this.extent_=e;this.canWrapX_=!!(this.global_&&e)};i.prototype.setWorldExtent=function t(e){this.worldExtent_=e};i.prototype.setGetPointResolution=function t(e){this.getPointResolutionFunc_=e};i.prototype.getPointResolutionFunc=function t(){return this.getPointResolutionFunc_};e["a"]=i},function(t,e,n){"use strict";var i=n(1);var a=n(194);var r=n(39);var o=n(2);var s=n(25);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function l(t,e,n){if(e)u(t.prototype,e);if(n)u(t,n);return t}var c=function(){function t(){this.collection_=new r["a"];this.map_=null;this.listenerKeys_=[];o["a"](this.collection_,"add",this.handleDataSourcesAdd_,this)}var e=t.prototype;e.bindMap_=function t(e){var n=e.getView();this.listenerKeys_.push(o["a"](n,"change:resolution",this.handleViewResolutionChange_,this));var r=n.getResolution();i["a"].assertNumber(r);this.syncDataSourcesToResolution_(r)};e.unbindMap_=function t(e){this.listenerKeys_.forEach(o["e"]);this.listenerKeys_=[]};e.handleViewResolutionChange_=function t(e){var n=e.target;i["a"].assertInstanceof(n,s["a"]);var r=n.getResolution();i["a"].assertNumber(r);this.syncDataSourcesToResolution_(r)};e.syncDataSourcesToResolution_=function t(e){var n=this;this.collection_.forEach(function(t){n.syncDataSourceToResolution_(t,e)})};e.syncDataSourceToResolution_=function t(e,n){if(!e.supportsDynamicInRange){return}var r=e.maxResolution;var i=e.minResolution;var a=i===null||i===undefined||n>=i;var o=r===null||r===undefined||n<=r;var s=a&&o;e.inRange=s};e.handleDataSourcesAdd_=function t(e){var n=i["a"].assertInstanceof(e.element,a["a"]);if(this.map_){var r=this.map_.getView().getResolution();i["a"].assertNumber(r);this.syncDataSourceToResolution_(n,r)}};l(t,[{key:"map",set:function t(e){if(this.map_===e){return}if(this.map_){this.unbindMap_(this.map_)}this.map_=e;if(e){this.bindMap_(e)}}},{key:"collection",get:function t(){return this.collection_}}]);return t}();c.module=angular.module("ngeoDataSources",[]);c.module.service("ngeoDataSources",c);e["a"]=c},function(t,e,n){"use strict";var r=n(5);var a=n(9);var i=n(71);var o=n(146);var s=n(0);var u=function(t){function e(){t.call(this);this.xmlSerializer_=new XMLSerializer}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.getType=function t(){return o["a"].XML};e.prototype.readFeature=function t(e,n){if(!e){return null}else if(typeof e==="string"){var r=Object(s["r"])(e);return this.readFeatureFromDocument(r,n)}else if(Object(s["g"])(e)){return this.readFeatureFromDocument(e,n)}else{return this.readFeatureFromNode(e,n)}};e.prototype.readFeatureFromDocument=function t(e,n){var r=this.readFeaturesFromDocument(e,n);if(r.length>0){return r[0]}else{return null}};e.prototype.readFeatureFromNode=function t(e,n){return null};e.prototype.readFeatures=function t(e,n){if(!e){return[]}else if(typeof e==="string"){var r=Object(s["r"])(e);return this.readFeaturesFromDocument(r,n)}else if(Object(s["g"])(e)){return this.readFeaturesFromDocument(e,n)}else{return this.readFeaturesFromNode(e,n)}};e.prototype.readFeaturesFromDocument=function t(e,n){var r=[];for(var i=e.firstChild;i;i=i.nextSibling){if(i.nodeType==Node.ELEMENT_NODE){Object(a["c"])(r,this.readFeaturesFromNode(i,n))}}return r};e.prototype.readFeaturesFromNode=function t(e,n){return Object(r["b"])()};e.prototype.readGeometry=function t(e,n){if(!e){return null}else if(typeof e==="string"){var r=Object(s["r"])(e);return this.readGeometryFromDocument(r,n)}else if(Object(s["g"])(e)){return this.readGeometryFromDocument(e,n)}else{return this.readGeometryFromNode(e,n)}};e.prototype.readGeometryFromDocument=function t(e,n){return null};e.prototype.readGeometryFromNode=function t(e,n){return null};e.prototype.readProjection=function t(e){if(!e){return null}else if(typeof e==="string"){var n=Object(s["r"])(e);return this.readProjectionFromDocument(n)}else if(Object(s["g"])(e)){return this.readProjectionFromDocument(e)}else{return this.readProjectionFromNode(e)}};e.prototype.readProjectionFromDocument=function t(e){return this.dataProjection};e.prototype.readProjectionFromNode=function t(e){return this.dataProjection};e.prototype.writeFeature=function t(e,n){var r=this.writeFeatureNode(e,n);return this.xmlSerializer_.serializeToString(r)};e.prototype.writeFeatureNode=function t(e,n){return null};e.prototype.writeFeatures=function t(e,n){var r=this.writeFeaturesNode(e,n);return this.xmlSerializer_.serializeToString(r)};e.prototype.writeFeaturesNode=function t(e,n){return null};e.prototype.writeGeometry=function t(e,n){var r=this.writeGeometryNode(e,n);return this.xmlSerializer_.serializeToString(r)};e.prototype.writeGeometryNode=function t(e,n){return null};return e}(i["a"]);e["a"]=u},function(t,e,n){"use strict";var l=n(1);var r=n(266);var c=n(59);var h=n(21);var i=n(116);var a=n(91);var o=n(186);var f=n(15);var s=function t(e,n,r,i,a){var o=this;this.active;if(this.active===undefined){this.active=false}this.features;this.map;this.showMeasure;this.gettextCatalog_=r;r.getString("Point");r.getString("LineString");r.getString("Polygon");r.getString("Circle");r.getString("Rectangle");r.getString("Text");this.featureHelper_=i;this.ngeoFeatures_=a;this.interactions_=[];this.drawPoint;this.measureLength;this.measureArea;this.measureAzimut;this.drawRectangle;this.drawText;e.$watch(function(){return o.active},function(t){if(t===false){o.interactions_.forEach(function(t){t.setActive(false)})}})};s.$inject=["$scope","$sce","gettextCatalog","ngeoFeatureHelper","ngeoFeatures"];s.$inject=["$scope","$sce","gettextCatalog","ngeoFeatureHelper","ngeoFeatures"];s.prototype.registerInteraction=function(t){this.interactions_.push(t);t.setActive(false);a["a"].interaction(t);this.map.addInteraction(t)};s.prototype.handleActiveChange=function(t){this.active=this.interactions_.some(function(t){return t.getActive()},this)};s.prototype.handleDrawEnd=function(t,e){var n;if(e.feature){n=e.feature}else{n=e.detail.feature}l["a"].assert(n);var r=n.get("azimut");var i=this.features||this.ngeoFeatures_;var a=new f["a"](n.getGeometry());var o=c["a"];switch(t){case h["a"].CIRCLE:a.set(o.IS_CIRCLE,true);if(r!==undefined){a.set(o.AZIMUT,r)}break;case h["a"].TEXT:a.set(o.IS_TEXT,true);break;case h["a"].RECTANGLE:a.set(o.IS_RECTANGLE,true);break;default:break}var s=this.gettextCatalog_.getString(t);a.set(o.NAME,s+" "+(i.getLength()+1));var u=t!==h["a"].TEXT?"#DB4436":"#000000";a.set(o.COLOR,u);a.set(o.ANGLE,0);a.set(o.OPACITY,.2);a.set(o.SHOW_MEASURE,this.showMeasure?true:false);a.set(o.SHOW_LABEL,false);a.set(o.SIZE,10);a.set(o.STROKE,2);this.featureHelper_.setStyle(a);i.push(a)};s.module=angular.module("ngeoDrawfeatureController",[r["a"].name,i["a"].name,o["a"].module.name]);s.module.controller("ngeoDrawfeatureController",s);e["a"]=s},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";var w=Math.PI,d=2*w,S=1e-6,p=d-S;function e(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function n(){return new e}e.prototype=n.prototype={constructor:e,moveTo:function t(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function t(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function t(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function t(e,n,r,i){this._+="Q"+ +e+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function t(e,n,r,i,a,o){this._+="C"+ +e+","+ +n+","+ +r+","+ +i+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function t(e,n,r,i,a){e=+e,n=+n,r=+r,i=+i,a=+a;var o=this._x1,s=this._y1,u=r-e,l=i-n,c=o-e,h=s-n,f=c*c+h*h;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null){this._+="M"+(this._x1=e)+","+(this._y1=n)}else if(!(f>S));else if(!(Math.abs(h*u-l*c)>S)||!a){this._+="L"+(this._x1=e)+","+(this._y1=n)}else{var d=r-o,p=i-s,v=u*u+l*l,g=d*d+p*p,m=Math.sqrt(v),y=Math.sqrt(f),_=a*Math.tan((w-Math.acos((v+f-g)/(2*m*y)))/2),b=_/y,O=_/m;if(Math.abs(b-1)>S){this._+="L"+(e+b*c)+","+(n+b*h)}this._+="A"+a+","+a+",0,0,"+ +(h*d>c*p)+","+(this._x1=e+O*u)+","+(this._y1=n+O*l)}},arc:function t(e,n,r,i,a,o){e=+e,n=+n,r=+r;var s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,h=1^o,f=o?i-a:a-i;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null){this._+="M"+l+","+c}else if(Math.abs(this._x1-l)>S||Math.abs(this._y1-c)>S){this._+="L"+l+","+c}if(!r)return;if(f<0)f=f%d+d;if(f>p){this._+="A"+r+","+r+",0,1,"+h+","+(e-s)+","+(n-u)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=c)}else if(f>S){this._+="A"+r+","+r+",0,"+ +(f>=w)+","+h+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=n+r*Math.sin(a))}},rect:function t(e,n,r,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function t(){return this._}};t.path=n;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";var i=n(20);var o=n(15);var a=n(71);var r=n(5);var s=n(146);var u=function(t){function e(){t.call(this)}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.getType=function t(){return s["a"].JSON};e.prototype.readFeature=function t(e,n){return this.readFeatureFromObject(l(e),this.getReadOptions(e,n))};e.prototype.readFeatures=function t(e,n){return this.readFeaturesFromObject(l(e),this.getReadOptions(e,n))};e.prototype.readFeatureFromObject=function t(e,n){return Object(r["b"])()};e.prototype.readFeaturesFromObject=function t(e,n){return Object(r["b"])()};e.prototype.readGeometry=function t(e,n){return this.readGeometryFromObject(l(e),this.getReadOptions(e,n))};e.prototype.readGeometryFromObject=function t(e,n){return Object(r["b"])()};e.prototype.readProjection=function t(e){return this.readProjectionFromObject(l(e))};e.prototype.readProjectionFromObject=function t(e){return Object(r["b"])()};e.prototype.writeFeature=function t(e,n){return JSON.stringify(this.writeFeatureObject(e,n))};e.prototype.writeFeatureObject=function t(e,n){return Object(r["b"])()};e.prototype.writeFeatures=function t(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))};e.prototype.writeFeaturesObject=function t(e,n){return Object(r["b"])()};e.prototype.writeGeometry=function t(e,n){return JSON.stringify(this.writeGeometryObject(e,n))};e.prototype.writeGeometryObject=function t(e,n){return Object(r["b"])()};return e}(a["a"]);function l(t){if(typeof t==="string"){var e=JSON.parse(t);return e?e:null}else if(t!==null){return t}else{return null}}var c=u;var h=n(150);var f=n(38);var d=n(79);var p=n(105);var v=n(96);var g=n(27);var m=n(26);var y=n(10);var _=n(8);var b=n(7);var O=function(n){function t(t){var e=t?t:{};n.call(this);this.dataProjection=Object(_["g"])(e.dataProjection?e.dataProjection:"EPSG:4326");if(e.featureProjection){this.defaultFeatureProjection=Object(_["g"])(e.featureProjection)}this.geometryName_=e.geometryName;this.extractGeometryName_=e.extractGeometryName}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.readFeatureFromObject=function t(e,n){var r=null;if(e["type"]==="Feature"){r=e}else{r={type:"Feature",geometry:e,properties:null}}var i=w(r["geometry"],n);var a=new o["a"];if(this.geometryName_){a.setGeometryName(this.geometryName_)}else if(this.extractGeometryName_&&"geometry_name"in r!==undefined){a.setGeometryName(r["geometry_name"])}a.setGeometry(i);if("id"in r){a.setId(r["id"])}if(r["properties"]){a.setProperties(r["properties"])}return a};t.prototype.readFeaturesFromObject=function t(e,n){var r=e;var i=null;if(r["type"]==="FeatureCollection"){var a=e;i=[];var o=a["features"];for(var s=0,u=o.length;s<u;++s){i.push(this.readFeatureFromObject(o[s],n))}}else{i=[this.readFeatureFromObject(e,n)]}return i};t.prototype.readGeometryFromObject=function t(e,n){return w(e,n)};t.prototype.readProjectionFromObject=function t(e){var n=e["crs"];var r;if(n){if(n["type"]=="name"){r=Object(_["g"])(n["properties"]["name"])}else{Object(i["a"])(false,36)}}else{r=this.dataProjection}return r};t.prototype.writeFeatureObject=function t(e,n){n=this.adaptOptions(n);var r={type:"Feature",geometry:null,properties:null};var i=e.getId();if(i!==undefined){r.id=i}var a=e.getGeometry();if(a){r.geometry=A(a,n)}var o=e.getProperties();delete o[e.getGeometryName()];if(!Object(y["d"])(o)){r.properties=o}return r};t.prototype.writeFeaturesObject=function t(e,n){n=this.adaptOptions(n);var r=[];for(var i=0,a=e.length;i<a;++i){r.push(this.writeFeatureObject(e[i],n))}return{type:"FeatureCollection",features:r}};t.prototype.writeGeometryObject=function t(e,n){return A(e,this.adaptOptions(n))};return t}(c);function w(t,e){if(!t){return null}var n;switch(t["type"]){case b["a"].POINT:{n=T(t);break}case b["a"].LINE_STRING:{n=x(t);break}case b["a"].POLYGON:{n=j(t);break}case b["a"].MULTI_POINT:{n=C(t);break}case b["a"].MULTI_LINE_STRING:{n=E(t);break}case b["a"].MULTI_POLYGON:{n=M(t);break}case b["a"].GEOMETRY_COLLECTION:{n=S(t);break}default:{throw new Error("Unsupported GeoJSON type: "+t.type)}}return Object(a["b"])(n,false,e)}function S(t,e){var n=t["geometries"].map(function(t){return w(t,e)});return new h["a"](n)}function T(t){return new g["a"](t["coordinates"])}function x(t){return new f["a"](t["coordinates"])}function E(t){return new d["a"](t["coordinates"])}function C(t){return new p["a"](t["coordinates"])}function M(t){return new v["a"](t["coordinates"])}function j(t){return new m["b"](t["coordinates"])}function A(t,e){t=Object(a["b"])(t,true,e);var n=t.getType();var r;switch(n){case b["a"].POINT:{r=N(t,e);break}case b["a"].LINE_STRING:{r=I(t,e);break}case b["a"].POLYGON:{r=L(t,e);break}case b["a"].MULTI_POINT:{r=D(t,e);break}case b["a"].MULTI_LINE_STRING:{r=R(t,e);break}case b["a"].MULTI_POLYGON:{r=P(t,e);break}case b["a"].GEOMETRY_COLLECTION:{r=k(t,e);break}case b["a"].CIRCLE:{r={type:"GeometryCollection",geometries:[]};break}default:{throw new Error("Unsupported geometry type: "+n)}}return r}function k(t,n){var e=t.getGeometriesArray().map(function(t){var e=Object(y["a"])({},n);delete e.featureProjection;return A(t,e)});return{type:"GeometryCollection",geometries:e}}function I(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function R(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function D(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function P(t,e){var n;if(e){n=e.rightHanded}return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function N(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function L(t,e){var n;if(e){n=e.rightHanded}return{type:"Polygon",coordinates:t.getCoordinates(n)}}var $=e["a"]=O},function(t,e,n){"use strict";e["a"]={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";var r=function t(){};r.prototype.createDate=function(t,e){if(e===void 0){e=null}return t!==null?new Date(t):e};r.prototype.getTime=function(t,e){if(e===void 0){e=null}return t?t.getTime():e};r.prototype.getOptions=function(t){var e=this.createDate(t.minValue);var n=this.createDate(t.maxValue);var r=this.createDate(t.minDefValue,e);var i=this.createDate(t.maxDefValue,n);var a=t.mode==="range"?[this.getTime(r),this.getTime(i)]:this.getTime(r);return{minDate:this.getTime(e),maxDate:this.getTime(n),values:a}};r.prototype.getUTCDate=function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())};r.module=angular.module("ngeoTime",[]);r.module.service("ngeoTime",r);e["a"]=r},function(t,e,n){"use strict";n.d(e,"f",function(){return h});n.d(e,"a",function(){return f});n.d(e,"d",function(){return d});n.d(e,"e",function(){return p});n.d(e,"c",function(){return v});n.d(e,"b",function(){return g});var r=n(22);var i=n(37);var a=n(65);var o=n(6);var s=n(49);var u=n(31);var l=n(58);var c=n(133);Object(r["a"])("w",["ww",2],"wo","week");Object(r["a"])("W",["WW",2],"Wo","isoWeek");Object(i["a"])("week","w");Object(i["a"])("isoWeek","W");Object(a["a"])("week",5);Object(a["a"])("isoWeek",5);Object(o["a"])("w",o["d"]);Object(o["a"])("ww",o["d"],o["h"]);Object(o["a"])("W",o["d"]);Object(o["a"])("WW",o["d"],o["h"]);Object(s["c"])(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Object(u["a"])(t)});function h(t){return Object(c["b"])(t,this._week.dow,this._week.doy).week}var f={dow:0,doy:6};function d(){return this._week.dow}function p(){return this._week.doy}function v(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function g(t){var e=Object(c["b"])(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});var h=n(48);var f=n(3);var R=n(14);var c=n(8);function r(t,e,n,r){var i=Object(c["m"])(n,e,t);var a=Object(c["h"])(e,r,n);var o=e.getMetersPerUnit();if(o!==undefined){a*=o}var s=t.getMetersPerUnit();if(s!==undefined){a/=s}var u=t.getExtent();if(!u||Object(f["f"])(u,i)){var l=Object(c["h"])(t,a,i)/a;if(isFinite(l)&&l>0){a/=l}}return a}function D(t,e,n,r){var i=n-t;var a=r-e;var o=Math.sqrt(i*i+a*a);return[Math.round(n+i/o),Math.round(r+a/o)]}function i(t,e,E,C,n,M,r,i,a,s,o){var j=Object(h["a"])(Math.round(E*t),Math.round(E*e));if(a.length===0){return j.canvas}j.scale(E,E);var A=Object(f["j"])();a.forEach(function(t,e,n){Object(f["q"])(A,t.extent)});var u=Object(f["E"])(A);var l=Object(f["A"])(A);var k=Object(h["a"])(Math.round(E*u/C),Math.round(E*l/C));var c=E/C;a.forEach(function(t,e,n){var r=t.extent[0]-A[0];var i=-(t.extent[3]-A[3]);var a=Object(f["E"])(t.extent);var o=Object(f["A"])(t.extent);k.drawImage(t.image,s,s,t.image.width-2*s,t.image.height-2*s,r*c,i*c,a*c,o*c)});var I=Object(f["C"])(r);i.getTriangles().forEach(function(t,e,n){var r=t.source;var i=t.target;var a=r[0][0],o=r[0][1];var s=r[1][0],u=r[1][1];var l=r[2][0],c=r[2][1];var h=(i[0][0]-I[0])/M;var f=-(i[0][1]-I[1])/M;var d=(i[1][0]-I[0])/M;var p=-(i[1][1]-I[1])/M;var v=(i[2][0]-I[0])/M;var g=-(i[2][1]-I[1])/M;var m=a;var y=o;a=0;o=0;s-=m;u-=y;l-=m;c-=y;var _=[[s,u,0,0,d-h],[l,c,0,0,v-h],[0,0,s,u,p-f],[0,0,l,c,g-f]];var b=Object(R["e"])(_);if(!b){return}j.save();j.beginPath();var O=(h+d+v)/3;var w=(f+p+g)/3;var S=D(O,w,h,f);var T=D(O,w,d,p);var x=D(O,w,v,g);j.moveTo(T[0],T[1]);j.lineTo(S[0],S[1]);j.lineTo(x[0],x[1]);j.clip();j.transform(b[0],b[2],b[1],b[3],h,f);j.translate(A[0]-m,A[3]-y);j.scale(C/E,-C/E);j.drawImage(k.canvas,0,0);j.restore()});if(o){j.save();j.strokeStyle="black";j.lineWidth=1;i.getTriangles().forEach(function(t,e,n){var r=t.target;var i=(r[0][0]-I[0])/M;var a=-(r[0][1]-I[1])/M;var o=(r[1][0]-I[0])/M;var s=-(r[1][1]-I[1])/M;var u=(r[2][0]-I[0])/M;var l=-(r[2][1]-I[1])/M;j.beginPath();j.moveTo(o,s);j.lineTo(i,a);j.lineTo(u,l);j.closePath();j.stroke()});j.restore()}return j.canvas}},function(t,e,n){"use strict";var a=n(5);var y=n(108);var _=n(32);var r=n(9);var i=n(61);var b=n(3);var o=n(8);var s=n(220);var u=n(2);var l=n(11);var O=n(163);var w=n(262);var c=function(m){function t(t,e,n,r,i,a){var o=t.getExtent();var s=e.getExtent();var u=s?Object(b["B"])(n,s):n;var l=Object(b["x"])(u);var c=Object(O["a"])(t,e,l,r);var h=y["b"];var f=new w["a"](t,e,u,o,c*h);var d=f.calculateSourceExtent();var p=a(d,c,i);var v=_["a"].LOADED;if(p){v=_["a"].IDLE}var g=p?p.getPixelRatio():1;m.call(this,n,r,g,v);this.targetProj_=e;this.maxSourceExtent_=o;this.triangulation_=f;this.targetResolution_=r;this.targetExtent_=n;this.sourceImage_=p;this.sourcePixelRatio_=g;this.canvas_=null;this.sourceListenerKey_=null}if(m)t.__proto__=m;t.prototype=Object.create(m&&m.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){if(this.state==_["a"].LOADING){this.unlistenSource_()}m.prototype.disposeInternal.call(this)};t.prototype.getImage=function t(){return this.canvas_};t.prototype.getProjection=function t(){return this.targetProj_};t.prototype.reproject_=function t(){var e=this.sourceImage_.getState();if(e==_["a"].LOADED){var n=Object(b["E"])(this.targetExtent_)/this.targetResolution_;var r=Object(b["A"])(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(O["b"])(n,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e;this.changed()};t.prototype.load=function t(){if(this.state==_["a"].IDLE){this.state=_["a"].LOADING;this.changed();var e=this.sourceImage_.getState();if(e==_["a"].LOADED||e==_["a"].ERROR){this.reproject_()}else{this.sourceListenerKey_=Object(u["a"])(this.sourceImage_,l["a"].CHANGE,function(t){var e=this.sourceImage_.getState();if(e==_["a"].LOADED||e==_["a"].ERROR){this.unlistenSource_();this.reproject_()}},this);this.sourceImage_.load()}}};t.prototype.unlistenSource_=function t(){Object(u["e"])(this.sourceListenerKey_);this.sourceListenerKey_=null};return t}(s["a"]);var h=c;var f=n(218);n.d(e,"b",function(){return g});var d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};var p=function(n){function t(t,e){n.call(this,t);this.image=e}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(i["a"]);var v=function(e){function t(t){e.call(this,{attributions:t.attributions,projection:t.projection,state:t.state});this.resolutions_=t.resolutions!==undefined?t.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getResolutions=function t(){return this.resolutions_};t.prototype.findNearestResolution=function t(e){if(this.resolutions_){var n=Object(r["h"])(this.resolutions_,e,0);e=this.resolutions_[n]}return e};t.prototype.getImage=function t(e,n,r,i){var a=this.getProjection();if(!y["a"]||!a||!i||Object(o["e"])(a,i)){if(a){i=a}return this.getImageInternal(e,n,r,i)}else{if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(o["e"])(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==n&&Object(b["p"])(this.reprojectedImage_.getExtent(),e)){return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new h(a,i,e,n,r,function(t,e,n){return this.getImageInternal(t,e,n,a)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};t.prototype.getImageInternal=function t(e,n,r,i){return Object(a["b"])()};t.prototype.handleImageChange=function t(e){var n=e.target;switch(n.getState()){case _["a"].LOADING:this.loading=true;this.dispatchEvent(new p(d.IMAGELOADSTART,n));break;case _["a"].LOADED:this.loading=false;this.dispatchEvent(new p(d.IMAGELOADEND,n));break;case _["a"].ERROR:this.loading=false;this.dispatchEvent(new p(d.IMAGELOADERROR,n));break;default:}};return t}(f["a"]);function g(t,e){t.getImage().src=e}var m=e["a"]=v},function(t,e,n){"use strict";n.d(e,"c",function(){return i});n.d(e,"d",function(){return a});n.d(e,"a",function(){return o});n.d(e,"b",function(){return s});var r=n(14);function i(t,e){if(t!==undefined){return 0}else{return undefined}}function a(t,e){if(t!==undefined){return t+e}else{return undefined}}function o(t){var n=2*Math.PI/t;return function(t,e){if(t!==undefined){t=Math.floor((t+e)/n+.5)*n;return t}else{return undefined}}}function s(t){var n=t||Object(r["i"])(5);return function(t,e){if(t!==undefined){if(Math.abs(t+e)<=n){return 0}else{return t+e}}else{return undefined}}}},function(t,e,n){"use strict";var d=n(1);var r=n(194);var p=n(151);var s=n(43);var v=n(196);var g=n(167);var m=n(177);var y=n(9);var i=n(156);var a=n(10);var _=n(0);var b="_feature";var O="_layer";var o=function(n){function t(t){n.call(this);var e=t?t:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver";this.gmlFormat_=new v["a"];this.layers_=e.layers?e.layers:null}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.getLayers=function t(){return this.layers_};t.prototype.setLayers=function t(e){this.layers_=e};t.prototype.readFeatures_=function t(e,n){e.setAttribute("namespaceURI",this.featureNS_);var r=e.localName;var i=[];if(e.childNodes.length===0){return i}if(r=="msGMLOutput"){for(var a=0,o=e.childNodes.length;a<o;a++){var s=e.childNodes[a];if(s.nodeType!==Node.ELEMENT_NODE){continue}var u=s;var l=n[0];var c=O;var h=u.localName.replace(c,"");if(this.layers_&&!Object(y["f"])(this.layers_,h)){continue}var f=h+b;l["featureType"]=f;l["featureNS"]=this.featureNS_;var d={};d[f]=Object(_["i"])(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var p=Object(_["q"])([l["featureNS"],null],d);u.setAttribute("namespaceURI",this.featureNS_);var v=Object(_["t"])([],p,u,n,this.gmlFormat_);if(v){Object(y["c"])(i,v)}}}if(r=="FeatureCollection"){var g=Object(_["t"])([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);if(g){i=g}}return i};t.prototype.readFeaturesFromNode=function t(e,n){var r={};if(n){Object(a["a"])(r,this.getReadOptions(e,n))}return this.readFeatures_(e,[r])};return t}(i["a"]);var w=o;function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function l(t,e,n){if(e)u(t.prototype,e);if(n)u(t,n);return t}function c(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var h=function(h){c(f,h);function f(t){var e;e=h.call(this,t)||this;e.dimensionsConfig_=t.dimensionsConfig||null;e.dimensionsFiltersConfig_=t.dimensionsFiltersConfig||null;e.filterCondition_=t.filterCondition||p["a"].AND;e.filterRules_=t.filterRules||null;e.filtrable_=t.filtrable||null;e.copyable_=t.copyable===true;e.dimensions_=t.dimensions||null;e.geometryName_=t.geometryName||f.DEFAULT_GEOMETRY_NAME_;e.ogcImageType_=t.ogcImageType||"image/png";e.ogcLayers_=t.ogcLayers||null;e.ogcServerType_=t.ogcServerType||f.ServerType.MAPSERVER;e.ogcType_=t.ogcType||f.Type.WMS;e.snappable_=t.snappable===true;e.snappingToEdges_=t.snappingToEdges!==false;e.snappingToVertice_=t.snappingToVertice!==false;e.snappingTolerance_=t.snappingTolerance!==undefined?t.snappingTolerance:10;e.timeAttributeName_=t.timeAttributeName;e.timeLowerValue_=t.timeLowerValue;e.timeProperty_=t.timeProperty!==undefined?t.timeProperty:null;e.timeUpperValue_=t.timeUpperValue;e.wfsFeatureNS_=t.wfsFeatureNS;e.wfsFeaturePrefix_=t.wfsFeaturePrefix||f.WFSFeaturePrefix.FEATURE;e.wfsOutputFormat_=t.wfsOutputFormat||f.WFSOutputFormat.GML3;e.wfsUrl_=t.wfsUrl;e.wmsInfoFormat_=t.wmsInfoFormat||f.WMSInfoFormat.GML;e.wmsIsSingleTile_=t.wmsIsSingleTile===true;e.wmsUrl_=t.wmsUrl;e.wmtsLayer_=t.wmtsLayer;e.wmtsUrl_=t.wmtsUrl;var n=[];if(e.queryable&&e.ogcLayers){for(var r=e.ogcLayers,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(s.queryable){n.push(s.name)}}}var u=null;if(e.supportsWFS&&n.length){var l=undefined;if(e.wfsOutputFormat_===f.WFSOutputFormat.GML3){l=new g["a"]}else if(e.wfsOutputFormat_===f.WFSOutputFormat.GML2){l=new v["a"]}d["a"].assert(l);u=new m["a"]({featureNS:e.wfsFeatureNS,featureType:n,gmlFormat:l})}e.wfsFormat_=u;var c=null;if(e.supportsWMS&&n.length){if(e.wmsInfoFormat===f.WMSInfoFormat.GML){c=new w({layers:n})}}e.wmsFormat_=c;return e}var t=f.prototype;t.getAttributes=function t(){return h.prototype.attributes};t.setAttributes=function t(e){h.prototype.setAttributes.call(this,e);this.updateGeometryNameFromAttributes_()};t.combinableWithDataSourceForWFS=function t(e){return this.combinableForWFS&&e.combinableForWFS&&this.supportsWFS&&e.supportsWFS&&this.queryable&&e.queryable&&this.wfsUrl===e.wfsUrl&&this.haveTheSameActiveDimensions(e)};t.combinableWithDataSourceForWMS=function t(e){return this.combinableForWMS&&e.combinableForWMS&&this.supportsWMS&&e.supportsWMS&&this.queryable&&e.queryable&&this.wmsUrl===e.wmsUrl&&this.haveTheSameActiveDimensions(e)};t.isAnyOGCLayerInRange=function t(e,n){if(n===void 0){n=false}return!!this.getInRangeOGCLayerNames(e,n).length};t.getInRangeOGCLayerNames=function t(e,n){if(n===void 0){n=false}var r=[];if(this.ogcLayers){for(var i=this.ogcLayers,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{o=i.next();if(o.done)break;s=o.value}var u=s;var l=u.maxResolution;var c=u.minResolution;var h=c===undefined||e>=c;var f=l===undefined||e<=l;var d=h&&f;if(d&&(!n||u.queryable)){r.push(u.name)}}}return r};t.getOGCLayerNames=function t(e){if(e===void 0){e=false}var n=[];if(this.ogcLayers){for(var r=this.ogcLayers,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(!e||s.queryable){n.push(s.name)}}}return n};t.getFiltrableOGCLayerName=function t(){d["a"].assert(this.filtrable);var e=this.getOGCLayerNames();d["a"].assert(e.length===1);return e[0]};t.updateGeometryNameFromAttributes_=function t(){var e=f.DEFAULT_GEOMETRY_NAME_;if(this.attributes){for(var n=this.attributes,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{i=n.next();if(i.done)break;a=i.value}var o=a;if(o.type===s["a"].GEOMETRY){e=o.name;break}}}this.geometryName_=e};t.haveTheSameActiveDimensions=function t(e){var n=true;var r=this.activeDimensions;var i=e.activeDimensions;for(var a in r){if(r[a]!==i[a]){n=false;break}}if(n){for(var o in i){if(i[o]!==r[o]){n=false;break}}}return n};l(f,[{key:"dimensions",get:function t(){return this.dimensions_}},{key:"dimensionsConfig",get:function t(){return this.dimensionsConfig_},set:function t(e){this.dimensionsConfig_=e}},{key:"dimensionsFiltersConfig",get:function t(){return this.dimensionsFiltersConfig_},set:function t(e){this.dimensionsFiltersConfig_=e}},{key:"filterCondition",get:function t(){return this.filterCondition_},set:function t(e){this.filterCondition_=e}},{key:"filterRules",get:function t(){return this.filterRules_},set:function t(e){this.filterRules_=e}},{key:"timeLowerValue",get:function t(){return this.timeLowerValue_},set:function t(e){this.timeLowerValue_=e}},{key:"timeRangeValue",get:function t(){var e=null;var n=this.timeLowerValue;var r=this.timeUpperValue;if(n!==undefined){e={end:r,start:n}}return e},set:function t(e){if(e){this.timeUpperValue=e.end;this.timeLowerValue=e.start}else{this.timeUpperValue=undefined;this.timeLowerValue=undefined}}},{key:"timeUpperValue",get:function t(){return this.timeUpperValue_},set:function t(e){this.timeUpperValue_=e}},{key:"copyable",get:function t(){return this.copyable_}},{key:"filtrable",get:function t(){return this.filtrable_},set:function t(e){this.filtrable_=e}},{key:"geometryName",get:function t(){return this.geometryName_}},{key:"ogcImageType",get:function t(){return this.ogcImageType_}},{key:"ogcLayers",get:function t(){return this.ogcLayers_}},{key:"ogcServerType",get:function t(){return this.ogcServerType_}},{key:"ogcType",get:function t(){return this.ogcType_}},{key:"snappable",get:function t(){return this.snappable_}},{key:"snappingToEdges",get:function t(){return this.snappingToEdges_}},{key:"snappingToVertice",get:function t(){return this.snappingToVertice_}},{key:"snappingTolerance",get:function t(){return this.snappingTolerance_}},{key:"timeAttributeName",get:function t(){return this.timeAttributeName_}},{key:"timeProperty",get:function t(){return this.timeProperty_}},{key:"wfsFeatureNS",get:function t(){return this.wfsFeatureNS_}},{key:"wfsFeaturePrefix",get:function t(){return this.wfsFeaturePrefix_}},{key:"wfsOutputFormat",get:function t(){return this.wfsOutputFormat_}},{key:"wfsUrl",get:function t(){return this.wfsUrl_}},{key:"wmsInfoFormat",get:function t(){return this.wmsInfoFormat_}},{key:"wmsIsSingleTile",get:function t(){return this.wmsIsSingleTile_}},{key:"wmsUrl",get:function t(){return this.wmsUrl_}},{key:"wmtsLayer",get:function t(){return this.wmtsLayer_}},{key:"wmtsUrl",get:function t(){return this.wmtsUrl_}},{key:"activeDimensions",get:function t(){var e={};var n=this.dimensions_||{};var r=this.dimensionsConfig||{};for(var i in r){if(r[i]===null){if(n[i]!==undefined&&n[i]!==null){e[i]=n[i]}}else{e[i]=r[i]}}return e}},{key:"combinableForWFS",get:function t(){return this.filterRules_===null&&this.timeRangeValue===null}},{key:"combinableForWMS",get:function t(){return this.filterRules_===null&&this.timeRangeValue===null}},{key:"queryable",get:function t(){var e=false;var n=this.supportsWMS||this.supportsWFS;if(n&&this.ogcLayers){for(var r=this.ogcLayers,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(s.queryable===true){e=true;break}}}return e}},{key:"supportsWFS",get:function t(){return this.wfsUrl!==undefined}},{key:"supportsAttributes",get:function t(){return this.attributes!==null||this.supportsWFS&&this.ogcLayers!==null&&this.ogcLayers.length===1&&this.ogcLayers[0].queryable===true}},{key:"supportsWMS",get:function t(){return this.wmsUrl!==undefined}},{key:"supportsWMTS",get:function t(){return this.wmtsUrl!==undefined}},{key:"wfsFormat",get:function t(){return this.wfsFormat_}},{key:"wmsFormat",get:function t(){return this.wmsFormat_}}]);return f}(r["a"]);h.guessServiceTypeByUrl=function(t){var e;if(/(wmts)/i.test(t)){e=h.Type.WMTS}else{e=h.Type.WMS}return e};h.DEFAULT_GEOMETRY_NAME_="geom";h.ServerType={GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGISSERVER:"qgisserver"};h.Type={WMS:"WMS",WMTS:"WMTS"};h.WFSFeaturePrefix={FEATURE:"feature"};h.WFSOutputFormat={GML2:"GML2",GML3:"GML3"};h.WMSInfoFormat={GML:"application/vnd.ogc.gml"};var f=e["a"]=h},function(t,e,n){"use strict";var u=n(9);var i=n(3);var s=n(71);var r=n(63);var m=n(4);var l=n(28);var a=n(38);var o=n(79);var c=n(96);var h=n(26);var p=n(10);var y=n(8);var _=n(0);var f=r["a"]+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/"+"1.0.0/gmlsf.xsd";var d={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};var v=function(n){function t(t){var e=t?t:{};n.call(this,e);this.surface_=e.surface!==undefined?e.surface:false;this.curve_=e.curve!==undefined?e.curve:false;this.multiCurve_=e.multiCurve!==undefined?e.multiCurve:true;this.multiSurface_=e.multiSurface!==undefined?e.multiSurface:true;this.schemaLocation=e.schemaLocation?e.schemaLocation:f;this.hasZ=e.hasZ!==undefined?e.hasZ:false}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.readMultiCurve_=function t(e,n){var r=Object(_["t"])([],this.MULTICURVE_PARSERS_,e,n,this);if(r){var i=new o["a"](r);return i}else{return undefined}};t.prototype.readMultiSurface_=function t(e,n){var r=Object(_["t"])([],this.MULTISURFACE_PARSERS_,e,n,this);if(r){return new c["a"](r)}};t.prototype.curveMemberParser_=function t(e,n){Object(_["s"])(this.CURVEMEMBER_PARSERS_,e,n,this)};t.prototype.surfaceMemberParser_=function t(e,n){Object(_["s"])(this.SURFACEMEMBER_PARSERS_,e,n,this)};t.prototype.readPatch_=function t(e,n){return Object(_["t"])([null],this.PATCHES_PARSERS_,e,n,this)};t.prototype.readSegment_=function t(e,n){return Object(_["t"])([null],this.SEGMENTS_PARSERS_,e,n,this)};t.prototype.readPolygonPatch_=function t(e,n){return Object(_["t"])([null],this.FLAT_LINEAR_RINGS_PARSERS,e,n,this)};t.prototype.readLineStringSegment_=function t(e,n){return Object(_["t"])([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,n,this)};t.prototype.interiorParser_=function t(e,n){var r=Object(_["t"])(undefined,this.RING_PARSERS,e,n,this);if(r){var i=n[n.length-1];i.push(r)}};t.prototype.exteriorParser_=function t(e,n){var r=Object(_["t"])(undefined,this.RING_PARSERS,e,n,this);if(r){var i=n[n.length-1];i[0]=r}};t.prototype.readSurface_=function t(e,n){var r=Object(_["t"])([null],this.SURFACE_PARSERS_,e,n,this);if(r&&r[0]){var i=r[0];var a=[i.length];var o,s;for(o=1,s=r.length;o<s;++o){Object(u["c"])(i,r[o]);a.push(i.length)}return new h["b"](i,l["a"].XYZ,a)}else{return undefined}};t.prototype.readCurve_=function t(e,n){var r=Object(_["t"])([null],this.CURVE_PARSERS_,e,n,this);if(r){var i=new a["a"](r,l["a"].XYZ);return i}else{return undefined}};t.prototype.readEnvelope_=function t(e,n){var r=Object(_["t"])([null],this.ENVELOPE_PARSERS_,e,n,this);return Object(i["k"])(r[1][0],r[1][1],r[2][0],r[2][1])};t.prototype.readFlatPos_=function t(e,n){var r=Object(_["e"])(e,false);var i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;var a=[];var o;while(o=i.exec(r)){a.push(parseFloat(o[1]));r=r.substr(o[0].length)}if(r!==""){return undefined}var s=n[0];var u=s["srsName"];var l="enu";if(u){var c=Object(y["g"])(u);l=c.getAxisOrientation()}if(l==="neu"){var h,f;for(h=0,f=a.length;h<f;h+=3){var d=a[h];var p=a[h+1];a[h]=p;a[h+1]=d}}var v=a.length;if(v==2){a.push(0)}if(v===0){return undefined}return a};t.prototype.readFlatPosList_=function t(e,n){var r=Object(_["e"])(e,false).replace(/^\s*|\s*$/g,"");var i=n[0];var a=i["srsName"];var o=i["srsDimension"];var s="enu";if(a){var u=Object(y["g"])(a);s=u.getAxisOrientation()}var l=r.split(/\s+/);var c=2;if(e.getAttribute("srsDimension")){c=Object(m["g"])(e.getAttribute("srsDimension"))}else if(e.getAttribute("dimension")){c=Object(m["g"])(e.getAttribute("dimension"))}else if(e.parentNode.getAttribute("srsDimension")){c=Object(m["g"])(e.parentNode.getAttribute("srsDimension"))}else if(o){c=Object(m["g"])(o)}var h,f,d;var p=[];for(var v=0,g=l.length;v<g;v+=c){h=parseFloat(l[v]);f=parseFloat(l[v+1]);d=c===3?parseFloat(l[v+2]):0;if(s.substr(0,2)==="en"){p.push(h,f,d)}else{p.push(f,h,d)}}return p};t.prototype.writePos_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=a?"3":"2";e.setAttribute("srsDimension",o);var s=i["srsName"];var u="enu";if(s){u=Object(y["g"])(s).getAxisOrientation()}var l=n.getCoordinates();var c;if(u.substr(0,2)==="en"){c=l[0]+" "+l[1]}else{c=l[1]+" "+l[0]}if(a){var h=l[2]||0;c+=" "+h}Object(m["n"])(e,c)};t.prototype.getCoords_=function t(e,n,r){var i="enu";if(n){i=Object(y["g"])(n).getAxisOrientation()}var a=i.substr(0,2)==="en"?e[0]+" "+e[1]:e[1]+" "+e[0];if(r){var o=e[2]||0;a+=" "+o}return a};t.prototype.writePosList_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=a?"3":"2";e.setAttribute("srsDimension",o);var s=i["srsName"];var u=n.getCoordinates();var l=u.length;var c=new Array(l);var h;for(var f=0;f<l;++f){h=u[f];c[f]=this.getCoords_(h,s,a)}Object(m["n"])(e,c.join(" "))};t.prototype.writePoint_=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(a){e.setAttribute("srsName",a)}var o=Object(_["d"])(e.namespaceURI,"pos");e.appendChild(o);this.writePos_(o,n,r)};t.prototype.writeEnvelope=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(a){e.setAttribute("srsName",a)}var o=["lowerCorner","upperCorner"];var s=[n[0]+" "+n[1],n[2]+" "+n[3]];Object(_["u"])({node:e},this.ENVELOPE_SERIALIZERS_,_["b"],s,r,o,this)};t.prototype.writeLinearRing_=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(a){e.setAttribute("srsName",a)}var o=Object(_["d"])(e.namespaceURI,"posList");e.appendChild(o);this.writePosList_(o,n,r)};t.prototype.RING_NODE_FACTORY_=function t(e,n,r){var i=n[n.length-1];var a=i.node;var o=i["exteriorWritten"];if(o===undefined){i["exteriorWritten"]=true}return Object(_["d"])(a.namespaceURI,o!==undefined?"interior":"exterior")};t.prototype.writeSurfaceOrPolygon_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];if(e.nodeName!=="PolygonPatch"&&o){e.setAttribute("srsName",o)}if(e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var s=n.getLinearRings();Object(_["u"])({node:e,hasZ:a,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,s,r,undefined,this)}else if(e.nodeName==="Surface"){var u=Object(_["d"])(e.namespaceURI,"patches");e.appendChild(u);this.writeSurfacePatches_(u,n,r)}};t.prototype.writeCurveOrLineString_=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(e.nodeName!=="LineStringSegment"&&a){e.setAttribute("srsName",a)}if(e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var o=Object(_["d"])(e.namespaceURI,"posList");e.appendChild(o);this.writePosList_(o,n,r)}else if(e.nodeName==="Curve"){var s=Object(_["d"])(e.namespaceURI,"segments");e.appendChild(s);this.writeCurveSegments_(s,n,r)}};t.prototype.writeMultiSurfaceOrPolygon_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];var s=i["surface"];if(o){e.setAttribute("srsName",o)}var u=n.getPolygons();Object(_["u"])({node:e,hasZ:a,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,r,undefined,this)};t.prototype.writeMultiPoint_=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];var o=i["hasZ"];if(a){e.setAttribute("srsName",a)}var s=n.getPoints();Object(_["u"])({node:e,hasZ:o,srsName:a},this.POINTMEMBER_SERIALIZERS_,Object(_["p"])("pointMember"),s,r,undefined,this)};t.prototype.writeMultiCurveOrLineString_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];var s=i["curve"];if(o){e.setAttribute("srsName",o)}var u=n.getLineStrings();Object(_["u"])({node:e,hasZ:a,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,r,undefined,this)};t.prototype.writeRing_=function t(e,n,r){var i=Object(_["d"])(e.namespaceURI,"LinearRing");e.appendChild(i);this.writeLinearRing_(i,n,r)};t.prototype.writeSurfaceOrPolygonMember_=function t(e,n,r){var i=this.GEOMETRY_NODE_FACTORY_(n,r);if(i){e.appendChild(i);this.writeSurfaceOrPolygon_(i,n,r)}};t.prototype.writePointMember_=function t(e,n,r){var i=Object(_["d"])(e.namespaceURI,"Point");e.appendChild(i);this.writePoint_(i,n,r)};t.prototype.writeLineStringOrCurveMember_=function t(e,n,r){var i=this.GEOMETRY_NODE_FACTORY_(n,r);if(i){e.appendChild(i);this.writeCurveOrLineString_(i,n,r)}};t.prototype.writeSurfacePatches_=function t(e,n,r){var i=Object(_["d"])(e.namespaceURI,"PolygonPatch");e.appendChild(i);this.writeSurfaceOrPolygon_(i,n,r)};t.prototype.writeCurveSegments_=function t(e,n,r){var i=Object(_["d"])(e.namespaceURI,"LineStringSegment");e.appendChild(i);this.writeCurveOrLineString_(i,n,r)};t.prototype.writeGeometryElement=function t(e,n,r){var i=r[r.length-1];var a=Object(p["a"])({},i);a["node"]=e;var o;if(Array.isArray(n)){if(i.dataProjection){o=Object(y["n"])(n,i.featureProjection,i.dataProjection)}else{o=n}}else{o=Object(s["b"])(n,true,i)}Object(_["u"])(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],r,undefined,this)};t.prototype.writeFeatureElement=function t(e,n,r){var i=n.getId();if(i){e.setAttribute("fid",i)}var a=r[r.length-1];var o=a["featureNS"];var s=n.getGeometryName();if(!a.serializers){a.serializers={};a.serializers[o]={}}var u=n.getProperties();var l=[];var c=[];for(var h in u){var f=u[h];if(f!==null){l.push(h);c.push(f);if(h==s||typeof f.getSimplifiedGeometry==="function"){if(!(h in a.serializers[o])){a.serializers[o][h]=Object(_["k"])(this.writeGeometryElement,this)}}else{if(!(h in a.serializers[o])){a.serializers[o][h]=Object(_["k"])(m["n"])}}}}var d=Object(p["a"])({},a);d.node=e;Object(_["u"])(d,a.serializers,Object(_["p"])(undefined,o),c,r,l)};t.prototype.writeFeatureMembers_=function t(e,n,r){var i=r[r.length-1];var a=i["featureType"];var o=i["featureNS"];var s={};s[o]={};s[o][a]=Object(_["k"])(this.writeFeatureElement,this);var u=Object(p["a"])({},i);u.node=e;Object(_["u"])(u,s,Object(_["p"])(a,o),n,r)};t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function t(e,n,r){var i=n[n.length-1].node;return Object(_["d"])(this.namespace,d[i.nodeName])};t.prototype.GEOMETRY_NODE_FACTORY_=function t(e,n,r){var i=n[n.length-1];var a=i["multiSurface"];var o=i["surface"];var s=i["curve"];var u=i["multiCurve"];var l;if(!Array.isArray(e)){l=e.getType();if(l==="MultiPolygon"&&a===true){l="MultiSurface"}else if(l==="Polygon"&&o===true){l="Surface"}else if(l==="LineString"&&s===true){l="Curve"}else if(l==="MultiLineString"&&u===true){l="MultiCurve"}}else{l="Envelope"}return Object(_["d"])(this.namespace,l)};t.prototype.writeGeometryNode=function t(e,n){n=this.adaptOptions(n);var r=Object(_["d"])(this.namespace,"geom");var i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(n){Object(p["a"])(i,n)}this.writeGeometryElement(r,e,[i]);return r};t.prototype.writeFeaturesNode=function t(e,n){n=this.adaptOptions(n);var r=Object(_["d"])(this.namespace,"featureMembers");r.setAttributeNS(_["c"],"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(n){Object(p["a"])(i,n)}this.writeFeatureMembers_(r,e,[i]);return r};return t}(r["b"]);v.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Object(_["n"])(v.prototype.readFlatPos_),posList:Object(_["n"])(v.prototype.readFlatPosList_)}};v.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:v.prototype.interiorParser_,exterior:v.prototype.exteriorParser_}};v.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(_["n"])(r["b"].prototype.readPoint),MultiPoint:Object(_["n"])(r["b"].prototype.readMultiPoint),LineString:Object(_["n"])(r["b"].prototype.readLineString),MultiLineString:Object(_["n"])(r["b"].prototype.readMultiLineString),LinearRing:Object(_["n"])(r["b"].prototype.readLinearRing),Polygon:Object(_["n"])(r["b"].prototype.readPolygon),MultiPolygon:Object(_["n"])(r["b"].prototype.readMultiPolygon),Surface:Object(_["n"])(v.prototype.readSurface_),MultiSurface:Object(_["n"])(v.prototype.readMultiSurface_),Curve:Object(_["n"])(v.prototype.readCurve_),MultiCurve:Object(_["n"])(v.prototype.readMultiCurve_),Envelope:Object(_["n"])(v.prototype.readEnvelope_)}};v.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:Object(_["i"])(v.prototype.curveMemberParser_),curveMembers:Object(_["i"])(v.prototype.curveMemberParser_)}};v.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:Object(_["i"])(v.prototype.surfaceMemberParser_),surfaceMembers:Object(_["i"])(v.prototype.surfaceMemberParser_)}};v.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(_["i"])(r["b"].prototype.readLineString),Curve:Object(_["i"])(v.prototype.readCurve_)}};v.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(_["i"])(r["b"].prototype.readPolygon),Surface:Object(_["i"])(v.prototype.readSurface_)}};v.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Object(_["n"])(v.prototype.readPatch_)}};v.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Object(_["n"])(v.prototype.readSegment_)}};v.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:Object(_["i"])(v.prototype.readFlatPosList_),upperCorner:Object(_["i"])(v.prototype.readFlatPosList_)}};v.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Object(_["n"])(v.prototype.readPolygonPatch_)}};v.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Object(_["n"])(v.prototype.readLineStringSegment_)}};v.prototype.writeFeatures;v.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:Object(_["k"])(v.prototype.writeRing_),interior:Object(_["k"])(v.prototype.writeRing_)}};v.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(_["k"])(m["n"]),upperCorner:Object(_["k"])(m["n"])}};v.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(_["k"])(v.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(_["k"])(v.prototype.writeSurfaceOrPolygonMember_)}};v.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(_["k"])(v.prototype.writePointMember_)}};v.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(_["k"])(v.prototype.writeLineStringOrCurveMember_),curveMember:Object(_["k"])(v.prototype.writeLineStringOrCurveMember_)}};v.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(_["k"])(v.prototype.writeCurveOrLineString_),MultiCurve:Object(_["k"])(v.prototype.writeMultiCurveOrLineString_),Point:Object(_["k"])(v.prototype.writePoint_),MultiPoint:Object(_["k"])(v.prototype.writeMultiPoint_),LineString:Object(_["k"])(v.prototype.writeCurveOrLineString_),MultiLineString:Object(_["k"])(v.prototype.writeMultiCurveOrLineString_),LinearRing:Object(_["k"])(v.prototype.writeLinearRing_),Polygon:Object(_["k"])(v.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(_["k"])(v.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(_["k"])(v.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(_["k"])(v.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(_["k"])(v.prototype.writeEnvelope)}};e["a"]=v},function(t,e,n){"use strict";e["a"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,n){"use strict";var l=n(1);var r=n(178);var o=n(95);var i=n(5);var s=n(15);var a=n(2);var u=n(47);var c=n(142);var h=n(150);var f=n(38);var d=n(27);var p=n(54);var v=n(41);var g=n(36);var m=function t(e){p["b"].call(this,{handleDownEvent:t.handleDownEvent_,handleEvent:t.handleEvent_,handleUpEvent:t.handleUpEvent_});this.downPx_=null;this.source_=e.source!==undefined?e.source:null;this.started_=false;this.sketchFeature_=null;this.sketchPoint_=null;this.squaredClickTolerance_=4;this.sketchLayer_=new v["a"]({source:new g["a"]({useSpatialIndex:false,wrapX:false}),style:e.style||r["a"].getDefaultDrawStyleFunction()});a["a"](this,"change:active",this.updateState_,this)};i["d"](m,p["b"]);m.handleDownEvent_=function(t){this.downPx_=t.pixel;return true};m.handleUpEvent_=function(t){var e=this.downPx_;var n=t.pixel;var r=e[0]-n[0];var i=e[1]-n[1];var a=r*r+i*i;var o=true;if(a<=this.squaredClickTolerance_){this.handlePointerMove_(t);if(!this.started_){this.startDrawing_(t)}else{this.finishDrawing_()}o=false}return o};m.handleEvent_=function(t){var e=true;if(t.type==="pointermove"){e=this.handlePointerMove_(t)}else if(t.type==="dblclick"){e=false}return p["b"].prototype.handleEvent.call(this,t)&&e};m.prototype.handlePointerMove_=function(t){if(this.started_){this.modifyDrawing_(t)}else{this.createOrUpdateSketchPoint_(t)}return true};m.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(this.sketchPoint_===null){this.sketchPoint_=new s["a"](new d["a"](e));this.updateSketchFeatures_()}else{var n=this.sketchPoint_.getGeometry();l["a"].assertInstanceof(n,d["a"]);n.setCoordinates(e)}};m.prototype.updateSketchFeatures_=function(){var t=[];if(this.sketchFeature_!==null){t.push(this.sketchFeature_)}if(this.sketchPoint_!==null){t.push(this.sketchPoint_)}var e=this.sketchLayer_.getSource();e.clear(true);e.addFeatures(t)};m.prototype.startDrawing_=function(t){var e=t.coordinate;this.started_=true;var n=new f["a"]([e.slice(),e.slice()]);var r=new c["a"](e,0);var i=new h["a"]([n,r]);l["a"].assert(i!==undefined);this.sketchFeature_=new s["a"];this.sketchFeature_.setGeometry(i);this.updateSketchFeatures_();var a=new o["a"]("drawstart",{feature:this.sketchFeature_});this.dispatchEvent(a)};m.prototype.modifyDrawing_=function(t){var e=t.coordinate;var n=l["a"].assertInstanceof(this.sketchFeature_.getGeometry(),h["a"]);var r=n.getGeometriesArray();var i=r[0];l["a"].assertInstanceof(i,f["a"]);var a=i.getCoordinates();var o=this.sketchPoint_.getGeometry();l["a"].assertInstanceof(o,d["a"]);o.setCoordinates(e);var s=a[a.length-1];s[0]=e[0];s[1]=e[1];l["a"].assertInstanceof(i,f["a"]);i.setCoordinates(a);var u=l["a"].assertInstanceof(r[1],c["a"]);u.setRadius(i.getLength());this.updateSketchFeatures_()};m.prototype.abortDrawing_=function(){this.started_=false;var t=this.sketchFeature_;if(t!==null){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLayer_.getSource().clear(true)}return t};m.prototype.shouldStopEvent=u["a"];m.prototype.updateState_=function(){var t=this.getMap();var e=this.getActive();if(t===null||!e){this.abortDrawing_()}this.sketchLayer_.setMap(e?t:null)};m.prototype.finishDrawing_=function(){var t=this.abortDrawing_();l["a"].assert(t!==null);if(this.source_!==null){this.source_.addFeature(t)}var e=new o["a"]("drawend",{feature:this.sketchFeature_});this.dispatchEvent(e)};m.prototype.setMap=function(t){p["b"].prototype.setMap.call(this,t);this.updateState_()};var y=m;var _=n(112);var b=n(154);var O=function t(e,n,r){if(r===void 0){r={}}_["a"].call(this,r);this.continueMsg;if(r.continueMsg!==undefined){this.continueMsg=r.continueMsg}else{this.continueMsg=document.createElement("span");this.continueMsg.textContent="Click to finish."}this.numberFormat=l["a"].assert(n);this.unitPrefixFormat=l["a"].assert(e)};i["d"](O,_["a"]);O.prototype.createDrawInteraction=function(t,e){return new y({source:e,style:t})};O.prototype.handleMeasure=function(t){var e=l["a"].assertInstanceof(this.sketchFeature.getGeometry(),h["a"]);var n=l["a"].assertInstanceof(e.getGeometries()[0],f["a"]);var r=O.getFormattedAzimutRadius(n,l["a"].assertInstanceof(this.getMap().getView().getProjection(),b["a"]),this.decimals,this.precision,this.unitPrefixFormat,this.numberFormat);t(r,n.getLastCoordinate())};O.getFormattedAzimutRadius=function(t,e,n,r,i,a){var o=O.getFormattedAzimut(t,n,a);o+=", "+_["a"].getFormattedLength(t,e,r,i);return o};O.getFormattedAzimut=function(t,e,n){var r=O.getAzimut(t);return n(r,e)+"°"};O.getAzimut=function(t){var e=t.getCoordinates();var n=e[1][0]-e[0][0];var r=e[1][1]-e[0][1];var i=Math.acos(r/Math.sqrt(n*n+r*r));var a=n>0?1:-1;return a*i*180/Math.PI%360};var w=e["a"]=O},function(n,t,e){(function(xt){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function(t,e){true?n.exports=e():undefined})(this,function(){"use strict";var t=typeof window!=="undefined"&&typeof document!=="undefined";var e=["Edge","Trident","Firefox"];var n=0;for(var r=0;r<e.length;r+=1){if(t&&navigator.userAgent.indexOf(e[r])>=0){n=1;break}}function i(t){var e=false;return function(){if(e){return}e=true;window.Promise.resolve().then(function(){e=false;t()})}}function a(t){var e=false;return function(){if(!e){e=true;setTimeout(function(){e=false;t()},n)}}}var o=t&&window.Promise;var s=o?i:a;function u(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function b(t,e){if(t.nodeType!==1){return[]}var n=getComputedStyle(t,null);return e?n[e]:n}function d(t){if(t.nodeName==="HTML"){return t}return t.parentNode||t.host}function p(t){if(!t){return document.body}switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=b(t),n=e.overflow,r=e.overflowX,i=e.overflowY;if(/(auto|scroll|overlay)/.test(n+i+r)){return t}return p(d(t))}var l=t&&!!(window.MSInputMethodContext&&document.documentMode);var c=t&&/MSIE 10/.test(navigator.userAgent);function v(t){if(t===11){return l}if(t===10){return c}return l||c}function _(t){if(!t){return document.documentElement}var e=v(10)?document.body:null;var n=t.offsetParent;while(n===e&&t.nextElementSibling){n=(t=t.nextElementSibling).offsetParent}var r=n&&n.nodeName;if(!r||r==="BODY"||r==="HTML"){return t?t.ownerDocument.documentElement:document.documentElement}if(["TD","TABLE"].indexOf(n.nodeName)!==-1&&b(n,"position")==="static"){return _(n)}return n}function h(t){var e=t.nodeName;if(e==="BODY"){return false}return e==="HTML"||_(t.firstElementChild)===t}function f(t){if(t.parentNode!==null){return f(t.parentNode)}return t}function g(t,e){if(!t||!t.nodeType||!e||!e.nodeType){return document.documentElement}var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING;var r=n?t:e;var i=n?e:t;var a=document.createRange();a.setStart(r,0);a.setEnd(i,0);var o=a.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i)){if(h(o)){return o}return _(o)}var s=f(t);if(s.host){return g(s.host,e)}else{return g(t,f(e).host)}}function m(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top";var n=e==="top"?"scrollTop":"scrollLeft";var r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement;var a=t.ownerDocument.scrollingElement||i;return a[n]}return t[n]}function y(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r=m(e,"top");var i=m(e,"left");var a=n?-1:1;t.top+=r*a;t.bottom+=r*a;t.left+=i*a;t.right+=i*a;return t}function O(t,e){var n=e==="x"?"Left":"Top";var r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function w(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],v(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function S(t){var e=t.body;var n=t.documentElement;var r=v(10)&&getComputedStyle(n);return{height:w("Height",e,n,r),width:w("Width",e,n,r)}}var T=function t(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}};var x=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(t,e,n){if(e)r(t.prototype,e);if(n)r(t,n);return t}}();var E=function t(e,n,r){if(n in e){Object.defineProperty(e,n,{value:r,enumerable:true,configurable:true,writable:true})}else{e[n]=r}return e};var C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};function M(t){return C({},t,{right:t.left+t.width,bottom:t.top+t.height})}function j(t){var e={};try{if(v(10)){e=t.getBoundingClientRect();var n=m(t,"top");var r=m(t,"left");e.top+=n;e.left+=r;e.bottom+=n;e.right+=r}else{e=t.getBoundingClientRect()}}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top};var a=t.nodeName==="HTML"?S(t.ownerDocument):{};var o=a.width||t.clientWidth||i.right-i.left;var s=a.height||t.clientHeight||i.bottom-i.top;var u=t.offsetWidth-o;var l=t.offsetHeight-s;if(u||l){var c=b(t);u-=O(c,"x");l-=O(c,"y");i.width-=u;i.height-=l}return M(i)}function A(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r=v(10);var i=e.nodeName==="HTML";var a=j(t);var o=j(e);var s=p(t);var u=b(e);var l=parseFloat(u.borderTopWidth,10);var c=parseFloat(u.borderLeftWidth,10);if(n&&i){o.top=Math.max(o.top,0);o.left=Math.max(o.left,0)}var h=M({top:a.top-o.top-l,left:a.left-o.left-c,width:a.width,height:a.height});h.marginTop=0;h.marginLeft=0;if(!r&&i){var f=parseFloat(u.marginTop,10);var d=parseFloat(u.marginLeft,10);h.top-=l-f;h.bottom-=l-f;h.left-=c-d;h.right-=c-d;h.marginTop=f;h.marginLeft=d}if(r&&!n?e.contains(s):e===s&&s.nodeName!=="BODY"){h=y(h,e)}return h}function k(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=t.ownerDocument.documentElement;var r=A(t,n);var i=Math.max(n.clientWidth,window.innerWidth||0);var a=Math.max(n.clientHeight,window.innerHeight||0);var o=!e?m(n):0;var s=!e?m(n,"left"):0;var u={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return M(u)}function I(t){var e=t.nodeName;if(e==="BODY"||e==="HTML"){return false}if(b(t,"position")==="fixed"){return true}return I(d(t))}function R(t){if(!t||!t.parentElement||v()){return document.documentElement}var e=t.parentElement;while(e&&b(e,"transform")==="none"){e=e.parentElement}return e||document.documentElement}function D(t,e,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var a={top:0,left:0};var o=i?R(t):g(t,e);if(r==="viewport"){a=k(o,i)}else{var s=void 0;if(r==="scrollParent"){s=p(d(e));if(s.nodeName==="BODY"){s=t.ownerDocument.documentElement}}else if(r==="window"){s=t.ownerDocument.documentElement}else{s=r}var u=A(s,o,i);if(s.nodeName==="HTML"&&!I(o)){var l=S(t.ownerDocument),c=l.height,h=l.width;a.top+=u.top-u.marginTop;a.bottom=c+u.top;a.left+=u.left-u.marginLeft;a.right=h+u.left}else{a=u}}n=n||0;var f=typeof n==="number";a.left+=f?n:n.left||0;a.top+=f?n:n.top||0;a.right-=f?n:n.right||0;a.bottom-=f?n:n.bottom||0;return a}function P(t){var e=t.width,n=t.height;return e*n}function N(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(t.indexOf("auto")===-1){return t}var o=D(r,n,a,i);var s={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}};var u=Object.keys(s).map(function(t){return C({key:t},s[t],{area:P(s[t])})}).sort(function(t,e){return e.area-t.area});var l=u.filter(function(t){var e=t.width,n=t.height;return e>=r.clientWidth&&n>=r.clientHeight});var c=l.length>0?l[0].key:u[0].key;var h=t.split("-")[1];return c+(h?"-"+h:"")}function L(t,e,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var i=r?R(e):g(e,n);return A(n,i,r)}function $(t){var e=getComputedStyle(t);var n=parseFloat(e.marginTop)+parseFloat(e.marginBottom);var r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);var i={width:t.offsetWidth+r,height:t.offsetHeight+n};return i}function F(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function G(t,e,n){n=n.split("-")[0];var r=$(t);var i={width:r.width,height:r.height};var a=["right","left"].indexOf(n)!==-1;var o=a?"top":"left";var s=a?"left":"top";var u=a?"height":"width";var l=!a?"height":"width";i[o]=e[o]+e[u]/2-r[u]/2;if(n===s){i[s]=e[s]-r[l]}else{i[s]=e[F(s)]}return i}function H(t,e){if(Array.prototype.find){return t.find(e)}return t.filter(e)[0]}function U(t,e,n){if(Array.prototype.findIndex){return t.findIndex(function(t){return t[e]===n})}var r=H(t,function(t){return t[e]===n});return t.indexOf(r)}function W(t,n,e){var r=e===undefined?t:t.slice(0,U(t,"name",e));r.forEach(function(t){if(t["function"]){console.warn("`modifier.function` is deprecated, use `modifier.fn`!")}var e=t["function"]||t.fn;if(t.enabled&&u(e)){n.offsets.popper=M(n.offsets.popper);n.offsets.reference=M(n.offsets.reference);n=e(n,t)}});return n}function Y(){if(this.state.isDestroyed){return}var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:false,offsets:{}};t.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed);t.placement=N(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);t.originalPlacement=t.placement;t.positionFixed=this.options.positionFixed;t.offsets.popper=G(this.popper,t.offsets.reference,t.placement);t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";t=W(this.modifiers,t);if(!this.state.isCreated){this.state.isCreated=true;this.options.onCreate(t)}else{this.options.onUpdate(t)}}function V(t,r){return t.some(function(t){var e=t.name,n=t.enabled;return n&&e===r})}function q(t){var e=[false,"ms","Webkit","Moz","O"];var n=t.charAt(0).toUpperCase()+t.slice(1);for(var r=0;r<e.length;r++){var i=e[r];var a=i?""+i+n:t;if(typeof document.body.style[a]!=="undefined"){return a}}return null}function z(){this.state.isDestroyed=true;if(V(this.modifiers,"applyStyle")){this.popper.removeAttribute("x-placement");this.popper.style.position="";this.popper.style.top="";this.popper.style.left="";this.popper.style.right="";this.popper.style.bottom="";this.popper.style.willChange="";this.popper.style[q("transform")]=""}this.disableEventListeners();if(this.options.removeOnDestroy){this.popper.parentNode.removeChild(this.popper)}return this}function B(t){var e=t.ownerDocument;return e?e.defaultView:window}function K(t,e,n,r){var i=t.nodeName==="BODY";var a=i?t.ownerDocument.defaultView:t;a.addEventListener(e,n,{passive:true});if(!i){K(p(a.parentNode),e,n,r)}r.push(a)}function X(t,e,n,r){n.updateBound=r;B(t).addEventListener("resize",n.updateBound,{passive:true});var i=p(t);K(i,"scroll",n.updateBound,n.scrollParents);n.scrollElement=i;n.eventsEnabled=true;return n}function Z(){if(!this.state.eventsEnabled){this.state=X(this.reference,this.options,this.state,this.scheduleUpdate)}}function Q(t,e){B(t).removeEventListener("resize",e.updateBound);e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)});e.updateBound=null;e.scrollParents=[];e.scrollElement=null;e.eventsEnabled=false;return e}function J(){if(this.state.eventsEnabled){cancelAnimationFrame(this.scheduleUpdate);this.state=Q(this.reference,this.state)}}function tt(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function et(n,r){Object.keys(r).forEach(function(t){var e="";if(["width","height","top","right","bottom","left"].indexOf(t)!==-1&&tt(r[t])){e="px"}n.style[t]=r[t]+e})}function nt(n,r){Object.keys(r).forEach(function(t){var e=r[t];if(e!==false){n.setAttribute(t,r[t])}else{n.removeAttribute(t)}})}function rt(t){et(t.instance.popper,t.styles);nt(t.instance.popper,t.attributes);if(t.arrowElement&&Object.keys(t.arrowStyles).length){et(t.arrowElement,t.arrowStyles)}return t}function it(t,e,n,r,i){var a=L(i,e,t,n.positionFixed);var o=N(n.placement,a,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);e.setAttribute("x-placement",o);et(e,{position:n.positionFixed?"fixed":"absolute"});return n}function at(t,e){var n=e.x,r=e.y;var i=t.offsets.popper;var a=H(t.instance.modifiers,function(t){return t.name==="applyStyle"}).gpuAcceleration;if(a!==undefined){console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!")}var o=a!==undefined?a:e.gpuAcceleration;var s=_(t.instance.popper);var u=j(s);var l={position:i.position};var c={left:Math.floor(i.left),top:Math.round(i.top),bottom:Math.round(i.bottom),right:Math.floor(i.right)};var h=n==="bottom"?"top":"bottom";var f=r==="right"?"left":"right";var d=q("transform");var p=void 0,v=void 0;if(h==="bottom"){if(s.nodeName==="HTML"){v=-s.clientHeight+c.bottom}else{v=-u.height+c.bottom}}else{v=c.top}if(f==="right"){if(s.nodeName==="HTML"){p=-s.clientWidth+c.right}else{p=-u.width+c.right}}else{p=c.left}if(o&&d){l[d]="translate3d("+p+"px, "+v+"px, 0)";l[h]=0;l[f]=0;l.willChange="transform"}else{var g=h==="bottom"?-1:1;var m=f==="right"?-1:1;l[h]=v*g;l[f]=p*m;l.willChange=h+", "+f}var y={"x-placement":t.placement};t.attributes=C({},y,t.attributes);t.styles=C({},l,t.styles);t.arrowStyles=C({},t.offsets.arrow,t.arrowStyles);return t}function ot(t,n,e){var r=H(t,function(t){var e=t.name;return e===n});var i=!!r&&t.some(function(t){return t.name===e&&t.enabled&&t.order<r.order});if(!i){var a="`"+n+"`";var o="`"+e+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function st(t,e){var n;if(!ot(t.instance.modifiers,"arrow","keepTogether")){return t}var r=e.element;if(typeof r==="string"){r=t.instance.popper.querySelector(r);if(!r){return t}}else{if(!t.instance.popper.contains(r)){console.warn("WARNING: `arrow.element` must be child of its popper element!");return t}}var i=t.placement.split("-")[0];var a=t.offsets,o=a.popper,s=a.reference;var u=["left","right"].indexOf(i)!==-1;var l=u?"height":"width";var c=u?"Top":"Left";var h=c.toLowerCase();var f=u?"left":"top";var d=u?"bottom":"right";var p=$(r)[l];if(s[d]-p<o[h]){t.offsets.popper[h]-=o[h]-(s[d]-p)}if(s[h]+p>o[d]){t.offsets.popper[h]+=s[h]+p-o[d]}t.offsets.popper=M(t.offsets.popper);var v=s[h]+s[l]/2-p/2;var g=b(t.instance.popper);var m=parseFloat(g["margin"+c],10);var y=parseFloat(g["border"+c+"Width"],10);var _=v-t.offsets.popper[h]-m-y;_=Math.max(Math.min(o[l]-p,_),0);t.arrowElement=r;t.offsets.arrow=(n={},E(n,h,Math.round(_)),E(n,f,""),n);return t}function ut(t){if(t==="end"){return"start"}else if(t==="start"){return"end"}return t}var lt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var ct=lt.slice(3);function ht(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=ct.indexOf(t);var r=ct.slice(n+1).concat(ct.slice(0,n));return e?r.reverse():r}var ft={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function dt(d,p){if(V(d.instance.modifiers,"inner")){return d}if(d.flipped&&d.placement===d.originalPlacement){return d}var v=D(d.instance.popper,d.instance.reference,p.padding,p.boundariesElement,d.positionFixed);var g=d.placement.split("-")[0];var m=F(g);var y=d.placement.split("-")[1]||"";var _=[];switch(p.behavior){case ft.FLIP:_=[g,m];break;case ft.CLOCKWISE:_=ht(g);break;case ft.COUNTERCLOCKWISE:_=ht(g,true);break;default:_=p.behavior}_.forEach(function(t,e){if(g!==t||_.length===e+1){return d}g=d.placement.split("-")[0];m=F(g);var n=d.offsets.popper;var r=d.offsets.reference;var i=Math.floor;var a=g==="left"&&i(n.right)>i(r.left)||g==="right"&&i(n.left)<i(r.right)||g==="top"&&i(n.bottom)>i(r.top)||g==="bottom"&&i(n.top)<i(r.bottom);var o=i(n.left)<i(v.left);var s=i(n.right)>i(v.right);var u=i(n.top)<i(v.top);var l=i(n.bottom)>i(v.bottom);var c=g==="left"&&o||g==="right"&&s||g==="top"&&u||g==="bottom"&&l;var h=["top","bottom"].indexOf(g)!==-1;var f=!!p.flipVariations&&(h&&y==="start"&&o||h&&y==="end"&&s||!h&&y==="start"&&u||!h&&y==="end"&&l);if(a||c||f){d.flipped=true;if(a||c){g=_[e+1]}if(f){y=ut(y)}d.placement=g+(y?"-"+y:"");d.offsets.popper=C({},d.offsets.popper,G(d.instance.popper,d.offsets.reference,d.placement));d=W(d.instance.modifiers,d,"flip")}});return d}function pt(t){var e=t.offsets,n=e.popper,r=e.reference;var i=t.placement.split("-")[0];var a=Math.floor;var o=["top","bottom"].indexOf(i)!==-1;var s=o?"right":"bottom";var u=o?"left":"top";var l=o?"width":"height";if(n[s]<a(r[u])){t.offsets.popper[u]=a(r[u])-n[l]}if(n[u]>a(r[s])){t.offsets.popper[u]=a(r[s])}return t}function vt(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var a=+i[1];var o=i[2];if(!a){return t}if(o.indexOf("%")===0){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}var u=M(s);return u[e]/100*a}else if(o==="vh"||o==="vw"){var l=void 0;if(o==="vh"){l=Math.max(document.documentElement.clientHeight,window.innerHeight||0)}else{l=Math.max(document.documentElement.clientWidth,window.innerWidth||0)}return l/100*a}else{return a}}function gt(t,i,a,e){var o=[0,0];var s=["right","left"].indexOf(e)!==-1;var n=t.split(/(\+|\-)/).map(function(t){return t.trim()});var r=n.indexOf(H(n,function(t){return t.search(/,|\s/)!==-1}));if(n[r]&&n[r].indexOf(",")===-1){console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.")}var u=/\s*,\s*|\s+/;var l=r!==-1?[n.slice(0,r).concat([n[r].split(u)[0]]),[n[r].split(u)[1]].concat(n.slice(r+1))]:[n];l=l.map(function(t,e){var n=(e===1?!s:s)?"height":"width";var r=false;return t.reduce(function(t,e){if(t[t.length-1]===""&&["+","-"].indexOf(e)!==-1){t[t.length-1]=e;r=true;return t}else if(r){t[t.length-1]+=e;r=false;return t}else{return t.concat(e)}},[]).map(function(t){return vt(t,n,i,a)})});l.forEach(function(n,r){n.forEach(function(t,e){if(tt(t)){o[r]+=t*(n[e-1]==="-"?-1:1)}})});return o}function mt(t,e){var n=e.offset;var r=t.placement,i=t.offsets,a=i.popper,o=i.reference;var s=r.split("-")[0];var u=void 0;if(tt(+n)){u=[+n,0]}else{u=gt(n,a,o,s)}if(s==="left"){a.top+=u[0];a.left-=u[1]}else if(s==="right"){a.top+=u[0];a.left+=u[1]}else if(s==="top"){a.left+=u[0];a.top-=u[1]}else if(s==="bottom"){a.left+=u[0];a.top+=u[1]}t.popper=a;return t}function yt(t,i){var e=i.boundariesElement||_(t.instance.popper);if(t.instance.reference===e){e=_(e)}var n=q("transform");var r=t.instance.popper.style;var a=r.top,o=r.left,s=r[n];r.top="";r.left="";r[n]="";var u=D(t.instance.popper,t.instance.reference,i.padding,e,t.positionFixed);r.top=a;r.left=o;r[n]=s;i.boundaries=u;var l=i.priority;var c=t.offsets.popper;var h={primary:function t(e){var n=c[e];if(c[e]<u[e]&&!i.escapeWithReference){n=Math.max(c[e],u[e])}return E({},e,n)},secondary:function t(e){var n=e==="right"?"left":"top";var r=c[n];if(c[e]>u[e]&&!i.escapeWithReference){r=Math.min(c[n],u[e]-(e==="right"?c.width:c.height))}return E({},n,r)}};l.forEach(function(t){var e=["left","top"].indexOf(t)!==-1?"primary":"secondary";c=C({},c,h[e](t))});t.offsets.popper=c;return t}function _t(t){var e=t.placement;var n=e.split("-")[0];var r=e.split("-")[1];if(r){var i=t.offsets,a=i.reference,o=i.popper;var s=["bottom","top"].indexOf(n)!==-1;var u=s?"left":"top";var l=s?"width":"height";var c={start:E({},u,a[u]),end:E({},u,a[u]+a[l]-o[l])};t.offsets.popper=C({},o,c[r])}return t}function bt(t){if(!ot(t.instance.modifiers,"hide","preventOverflow")){return t}var e=t.offsets.reference;var n=H(t.instance.modifiers,function(t){return t.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===true){return t}t.hide=true;t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===false){return t}t.hide=false;t.attributes["x-out-of-boundaries"]=false}return t}function Ot(t){var e=t.placement;var n=e.split("-")[0];var r=t.offsets,i=r.popper,a=r.reference;var o=["left","right"].indexOf(n)!==-1;var s=["top","left"].indexOf(n)===-1;i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0);t.placement=F(e);t.offsets.popper=M(i);return t}var wt={shift:{order:100,enabled:true,fn:_t},offset:{order:200,enabled:true,fn:mt,offset:0},preventOverflow:{order:300,enabled:true,fn:yt,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:true,fn:pt},arrow:{order:500,enabled:true,fn:st,element:"[x-arrow]"},flip:{order:600,enabled:true,fn:dt,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:false,fn:Ot},hide:{order:800,enabled:true,fn:bt},computeStyle:{order:850,enabled:true,fn:at,gpuAcceleration:true,x:"bottom",y:"right"},applyStyle:{order:900,enabled:true,fn:rt,onLoad:it,gpuAcceleration:undefined}};var St={placement:"bottom",positionFixed:false,eventsEnabled:true,removeOnDestroy:false,onCreate:function t(){},onUpdate:function t(){},modifiers:wt};var Tt=function(){function a(t,e){var n=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};T(this,a);this.scheduleUpdate=function(){return requestAnimationFrame(n.update)};this.update=s(this.update.bind(this));this.options=C({},a.Defaults,r);this.state={isDestroyed:false,isCreated:false,scrollParents:[]};this.reference=t&&t.jquery?t[0]:t;this.popper=e&&e.jquery?e[0]:e;this.options.modifiers={};Object.keys(C({},a.Defaults.modifiers,r.modifiers)).forEach(function(t){n.options.modifiers[t]=C({},a.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(t){return C({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order});this.modifiers.forEach(function(t){if(t.enabled&&u(t.onLoad)){t.onLoad(n.reference,n.popper,n.options,t,n.state)}});this.update();var i=this.options.eventsEnabled;if(i){this.enableEventListeners()}this.state.eventsEnabled=i}x(a,[{key:"update",value:function t(){return Y.call(this)}},{key:"destroy",value:function t(){return z.call(this)}},{key:"enableEventListeners",value:function t(){return Z.call(this)}},{key:"disableEventListeners",value:function t(){return J.call(this)}}]);return a}();Tt.Utils=(typeof window!=="undefined"?window:xt).PopperUtils;Tt.placements=lt;Tt.Defaults=St;return Tt})}).call(this,e(234))},function(t,e,n){"use strict";var r=n(188);var i=n(42);var f=n(125);var a=n(80);var p=n(48);var o=n(2);var v=n(3);var s={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};var u=function(e){function t(t){e.call(this);this.options=t;this.id=t.id;this.insertFirst=t.insertFirst!==undefined?t.insertFirst:true;this.stopEvent=t.stopEvent!==undefined?t.stopEvent:true;this.element=document.createElement("div");this.element.className=t.className!==undefined?t.className:"ol-overlay-container "+a["d"];this.element.style.position="absolute";this.autoPan=t.autoPan!==undefined?t.autoPan:false;this.autoPanAnimation=t.autoPanAnimation||{};this.autoPanMargin=t.autoPanMargin!==undefined?t.autoPanMargin:20;this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:true};this.mapPostrenderListenerKey=null;Object(o["a"])(this,Object(i["b"])(s.ELEMENT),this.handleElementChanged,this);Object(o["a"])(this,Object(i["b"])(s.MAP),this.handleMapChanged,this);Object(o["a"])(this,Object(i["b"])(s.OFFSET),this.handleOffsetChanged,this);Object(o["a"])(this,Object(i["b"])(s.POSITION),this.handlePositionChanged,this);Object(o["a"])(this,Object(i["b"])(s.POSITIONING),this.handlePositioningChanged,this);if(t.element!==undefined){this.setElement(t.element)}this.setOffset(t.offset!==undefined?t.offset:[0,0]);this.setPositioning(t.positioning!==undefined?t.positioning:f["a"].TOP_LEFT);if(t.position!==undefined){this.setPosition(t.position)}}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getElement=function t(){return this.get(s.ELEMENT)};t.prototype.getId=function t(){return this.id};t.prototype.getMap=function t(){return this.get(s.MAP)};t.prototype.getOffset=function t(){return this.get(s.OFFSET)};t.prototype.getPosition=function t(){return this.get(s.POSITION)};t.prototype.getPositioning=function t(){return this.get(s.POSITIONING)};t.prototype.handleElementChanged=function t(){Object(p["d"])(this.element);var e=this.getElement();if(e){this.element.appendChild(e)}};t.prototype.handleMapChanged=function t(){if(this.mapPostrenderListenerKey){Object(p["e"])(this.element);Object(o["e"])(this.mapPostrenderListenerKey);this.mapPostrenderListenerKey=null}var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(o["a"])(e,r["a"].POSTRENDER,this.render,this);this.updatePixelPosition();var n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();if(this.insertFirst){n.insertBefore(this.element,n.childNodes[0]||null)}else{n.appendChild(this.element)}}};t.prototype.render=function t(){this.updatePixelPosition()};t.prototype.handleOffsetChanged=function t(){this.updatePixelPosition()};t.prototype.handlePositionChanged=function t(){this.updatePixelPosition();if(this.get(s.POSITION)&&this.autoPan){this.panIntoView()}};t.prototype.handlePositioningChanged=function t(){this.updatePixelPosition()};t.prototype.setElement=function t(e){this.set(s.ELEMENT,e)};t.prototype.setMap=function t(e){this.set(s.MAP,e)};t.prototype.setOffset=function t(e){this.set(s.OFFSET,e)};t.prototype.setPosition=function t(e){this.set(s.POSITION,e)};t.prototype.panIntoView=function t(){var e=this.getMap();if(!e||!e.getTargetElement()){return}var n=this.getRect(e.getTargetElement(),e.getSize());var r=this.getElement();var i=this.getRect(r,[Object(p["c"])(r),Object(p["b"])(r)]);var a=this.autoPanMargin;if(!Object(v["g"])(n,i)){var o=i[0]-n[0];var s=n[2]-i[2];var u=i[1]-n[1];var l=n[3]-i[3];var c=[0,0];if(o<0){c[0]=o-a}else if(s<0){c[0]=Math.abs(s)+a}if(u<0){c[1]=u-a}else if(l<0){c[1]=Math.abs(l)+a}if(c[0]!==0||c[1]!==0){var h=e.getView().getCenter();var f=e.getPixelFromCoordinate(h);var d=[f[0]+c[0],f[1]+c[1]];e.getView().animate({center:e.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}};t.prototype.getRect=function t(e,n){var r=e.getBoundingClientRect();var i=r.left+window.pageXOffset;var a=r.top+window.pageYOffset;return[i,a,i+n[0],a+n[1]]};t.prototype.setPositioning=function t(e){this.set(s.POSITIONING,e)};t.prototype.setVisible=function t(e){if(this.rendered.visible!==e){this.element.style.display=e?"":"none";this.rendered.visible=e}};t.prototype.updatePixelPosition=function t(){var e=this.getMap();var n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(false);return}var r=e.getPixelFromCoordinate(n);var i=e.getSize();this.updateRenderedPosition(r,i)};t.prototype.updateRenderedPosition=function t(e,n){var r=this.element.style;var i=this.getOffset();var a=this.getPositioning();this.setVisible(true);var o=i[0];var s=i[1];if(a==f["a"].BOTTOM_RIGHT||a==f["a"].CENTER_RIGHT||a==f["a"].TOP_RIGHT){if(this.rendered.left_!==""){this.rendered.left_=r.left=""}var u=Math.round(n[0]-e[0]-o)+"px";if(this.rendered.right_!=u){this.rendered.right_=r.right=u}}else{if(this.rendered.right_!==""){this.rendered.right_=r.right=""}if(a==f["a"].BOTTOM_CENTER||a==f["a"].CENTER_CENTER||a==f["a"].TOP_CENTER){o-=this.element.offsetWidth/2}var l=Math.round(e[0]+o)+"px";if(this.rendered.left_!=l){this.rendered.left_=r.left=l}}if(a==f["a"].BOTTOM_LEFT||a==f["a"].BOTTOM_CENTER||a==f["a"].BOTTOM_RIGHT){if(this.rendered.top_!==""){this.rendered.top_=r.top=""}var c=Math.round(n[1]-e[1]-s)+"px";if(this.rendered.bottom_!=c){this.rendered.bottom_=r.bottom=c}}else{if(this.rendered.bottom_!==""){this.rendered.bottom_=r.bottom=""}if(a==f["a"].CENTER_LEFT||a==f["a"].CENTER_CENTER||a==f["a"].CENTER_RIGHT){s-=this.element.offsetHeight/2}var h=Math.round(e[1]+s)+"px";if(this.rendered.top_!=h){this.rendered.top_=r.top=h}}};t.prototype.getOptions=function t(){return this.options};return t}(i["a"]);e["a"]=u},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r="http://www.w3.org/1999/xlink";function i(t){return t.getAttributeNS(r,"href")}},function(t,e,n){"use strict";var r=n(43);var i=n(50);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function o(t,e,n){if(e)a(t.prototype,e);if(n)a(t,n);return t}function s(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var u=function(n){s(t,n);function t(t){var e;t.operator=i["a"].OperatorType.EQUAL_TO;t.type=r["a"].SELECT;e=n.call(this,t)||this;e.choices_=t.choices;return e}o(t,[{key:"choices",get:function t(){return this.choices_}},{key:"selectedChoices",get:function t(){var e;if(this.expression){var n=String(this.expression);e=n.split(",")}else{e=[]}return e}}]);return t}(i["a"]);e["a"]=u},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return u});n.d(e,"d",function(){return i});n.d(e,"c",function(){return c});var l=n(20);var o=n(14);var s=n(107);function a(n,i){var a=/\{z\}/g;var o=/\{x\}/g;var s=/\{y\}/g;var u=/\{-y\}/g;return function(r,t,e){if(!r){return undefined}else{return n.replace(a,r[0].toString()).replace(o,r[1].toString()).replace(s,function(){var t=-r[2]-1;return t.toString()}).replace(u,function(){var t=r[0];var e=i.getFullTileRange(t);Object(l["a"])(e,55);var n=e.getHeight()+r[2];return n.toString()})}}}function r(t,e){var n=t.length;var r=new Array(n);for(var i=0;i<n;++i){r[i]=a(t[i],e)}return u(r)}function u(a){if(a.length===1){return a[0]}return function(t,e,n){if(!t){return undefined}else{var r=Object(s["e"])(t);var i=Object(o["d"])(r,a.length);return a[i](t,e,n)}}}function i(t,e,n){return undefined}function c(t){var e=[];var n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0);var i=n[2].charCodeAt(0);var a;for(a=r;a<=i;++a){e.push(t.replace(n[0],String.fromCharCode(a)))}return e}n=n=/\{(\d+)-(\d+)\}/.exec(t);if(n){var o=parseInt(n[2],10);for(var s=parseInt(n[1],10);s<=o;s++){e.push(t.replace(n[0],s.toString()))}return e}e.push(t);return e}},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(e){"use strict";function s(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function u(t){return t=s(Math.abs(t)),t?t[1]:NaN}function n(s,u){return function(t,e){var n=t.length,r=[],i=0,a=s[0],o=0;while(n>0&&a>0){if(o+a+1>e)a=Math.max(1,e-o);r.push(t.substring(n-=a,n+a));if((o+=a+1)>e)break;a=s[i=(i+1)%s.length]}return r.reverse().join(u)}}function a(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x(t){return new i(t)}x.prototype=i.prototype;function i(t){if(!(e=r.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ";this.align=e[2]||">";this.sign=e[3]||"-";this.symbol=e[4]||"";this.zero=!!e[5];this.width=e[6]&&+e[6];this.comma=!!e[7];this.precision=e[8]&&+e[8].slice(1);this.trim=!!e[9];this.type=e[10]||""}i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n){switch(t[n]){case".":r=i=n;break;case"0":if(r===0)r=n;i=n;break;default:if(r>0){if(!+t[n])break t;r=0}break}}return r>0?t.slice(0,r)+t.slice(i+1):t}var C;function t(t,e){var n=s(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(C=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+s(t,Math.max(0,e+a-1))[0]}function o(t,e){var n=s(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var M={"%":function t(e,n){return(e*100).toFixed(n)},b:function t(e){return Math.round(e).toString(2)},c:function t(e){return e+""},d:function t(e){return Math.round(e).toString(10)},e:function t(e,n){return e.toExponential(n)},f:function t(e,n){return e.toFixed(n)},g:function t(e,n){return e.toPrecision(n)},o:function t(e){return Math.round(e).toString(8)},p:function t(e,n){return o(e*100,n)},r:o,s:t,X:function t(e){return Math.round(e).toString(16).toUpperCase()},x:function t(e){return Math.round(e).toString(16)}};function l(t){return t}var j=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function c(t){var w=t.grouping&&t.thousands?n(t.grouping,t.thousands):l,r=t.currency,S=t.decimal,T=t.numerals?a(t.numerals):l,i=t.percent||"%";function o(t){t=x(t);var l=t.fill,c=t.align,h=t.sign,e=t.symbol,f=t.zero,d=t.width,p=t.comma,v=t.precision,g=t.trim,m=t.type;if(m==="n")p=true,m="g";else if(!M[m])v==null&&(v=12),g=true,m="g";if(f||l==="0"&&c==="=")f=true,l="0",c="=";var y=e==="$"?r[0]:e==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_=e==="$"?r[1]:/[%p]/.test(m)?i:"";var b=M[m],O=/[defgprs%]/.test(m);v=v==null?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function n(t){var e=y,n=_,r,i,a;if(m==="c"){n=b(t)+n;t=""}else{t=+t;var o=t<0;t=b(Math.abs(t),v);if(g)t=E(t);if(o&&+t===0)o=false;e=(o?h==="("?h:"-":h==="-"||h==="("?"":h)+e;n=(m==="s"?j[8+C/3]:"")+n+(o&&h==="("?")":"");if(O){r=-1,i=t.length;while(++r<i){if(a=t.charCodeAt(r),48>a||a>57){n=(a===46?S+t.slice(r+1):t.slice(r))+n;t=t.slice(0,r);break}}}}if(p&&!f)t=w(t,Infinity);var s=e.length+t.length+n.length,u=s<d?new Array(d-s+1).join(l):"";if(p&&f)t=w(u+t,u.length?d-n.length:Infinity),u="";switch(c){case"<":t=e+t+n+u;break;case"=":t=e+u+t+n;break;case"^":t=u.slice(0,s=u.length>>1)+e+t+n+u.slice(s);break;default:t=u+e+t+n;break}return T(t)}n.toString=function(){return t+""};return n}function e(t,e){var n=o((t=x(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(u(e)/3)))*3,i=Math.pow(10,-r),a=j[8+r/3];return function(t){return n(i*t)+a}}return{format:o,formatPrefix:e}}var h;f({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function f(t){h=c(t);e.format=h.format;e.formatPrefix=h.formatPrefix;return h}function d(t){return Math.max(0,-u(Math.abs(t)))}function p(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(u(e)/3)))*3-u(Math.abs(t)))}function v(t,e){t=Math.abs(t),e=Math.abs(e)-t;return Math.max(0,u(e)-u(t))+1}e.formatDefaultLocale=f;e.formatLocale=c;e.formatSpecifier=x;e.precisionFixed=d;e.precisionPrefix=p;e.precisionRound=v;Object.defineProperty(e,"__esModule",{value:true})})},function(t,e,n){"use strict";n.d(e,"a",function(){return l});n.d(e,"b",function(){return r});n.d(e,"c",function(){return h});n.d(e,"d",function(){return i});var o=n(3);var s=n(145);var u=n(250);function l(t,e,n,r,i){var a=Object(o["s"])(Object(o["j"])(),t,e,n,r);if(!Object(o["F"])(i,a)){return false}if(Object(o["g"])(i,a)){return true}if(a[0]>=i[0]&&a[2]<=i[2]){return true}if(a[1]>=i[1]&&a[3]<=i[3]){return true}return Object(u["a"])(t,e,n,r,function(t,e){return Object(o["G"])(i,t,e)})}function r(t,e,n,r,i){for(var a=0,o=n.length;a<o;++a){if(l(t,e,n[a],r,i)){return true}e=n[a]}return false}function c(t,e,n,r,i){if(l(t,e,n,r,i)){return true}if(Object(s["b"])(t,e,n,r,i[0],i[1])){return true}if(Object(s["b"])(t,e,n,r,i[0],i[3])){return true}if(Object(s["b"])(t,e,n,r,i[2],i[1])){return true}if(Object(s["b"])(t,e,n,r,i[2],i[3])){return true}return false}function h(t,e,n,r,i){if(!c(t,e,n[0],r,i)){return false}if(n.length===1){return true}for(var a=1,o=n.length;a<o;++a){if(Object(s["a"])(t,n[a-1],n[a],r,i)){if(!l(t,n[a-1],n[a],r,i)){return false}}}return true}function i(t,e,n,r,i){for(var a=0,o=n.length;a<o;++a){var s=n[a];if(h(t,e,s,r,i)){return true}e=s[s.length-1]}return false}},function(t,e,n){"use strict";n.d(e,"b",function(){return nt});var g=n(20);var u=n(196);var l=n(167);var s=n(63);var o=n(64);var r=n(156);var c=n(4);var d=n(10);var i=n(8);var m=n(0);var a={"http://www.opengis.net/gml":{boundedBy:Object(m["m"])(s["b"].prototype.readGeometryElement,"bounds")}};var h={"http://www.opengis.net/wfs":{totalInserted:Object(m["m"])(c["f"]),totalUpdated:Object(m["m"])(c["f"]),totalDeleted:Object(m["m"])(c["f"])}};var f={"http://www.opengis.net/wfs":{TransactionSummary:Object(m["m"])(E,"transactionSummary"),InsertResults:Object(m["m"])(A,"insertIds")}};var p={"http://www.opengis.net/wfs":{PropertyName:Object(m["k"])(c["n"])}};var y={"http://www.opengis.net/wfs":{Insert:Object(m["k"])(k),Update:Object(m["k"])(P),Delete:Object(m["k"])(D),Property:Object(m["k"])(N),Native:Object(m["k"])(L)}};var v="feature";var _="http://www.w3.org/2000/xmlns/";var b="http://www.opengis.net/ogc";var O="http://www.opengis.net/wfs";var w="http://www.opengis.net/fes";var S={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};var T="1.1.0";var x=function(n){function t(t){n.call(this);var e=t?t:{};this.featureType_=e.featureType;this.featureNS_=e.featureNS;this.gmlFormat_=e.gmlFormat?e.gmlFormat:new l["a"];this.schemaLocation_=e.schemaLocation?e.schemaLocation:S[T]}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.getFeatureType=function t(){return this.featureType_};t.prototype.setFeatureType=function t(e){this.featureType_=e};t.prototype.readFeaturesFromNode=function t(e,n){var r={node:e};Object(d["a"])(r,{featureType:this.featureType_,featureNS:this.featureNS_});Object(d["a"])(r,this.getReadOptions(e,n?n:{}));var i=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[s["a"]]["featureMember"]=Object(m["i"])(s["b"].prototype.readFeaturesInternal);var a=Object(m["t"])([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,i,this.gmlFormat_);if(!a){a=[]}return a};t.prototype.readTransactionResponse=function t(e){if(!e){return undefined}else if(typeof e==="string"){var n=Object(m["r"])(e);return this.readTransactionResponseFromDocument(n)}else if(Object(m["g"])(e)){return this.readTransactionResponseFromDocument(e)}else{return this.readTransactionResponseFromNode(e)}};t.prototype.readFeatureCollectionMetadata=function t(e){if(!e){return undefined}else if(typeof e==="string"){var n=Object(m["r"])(e);return this.readFeatureCollectionMetadataFromDocument(n)}else if(Object(m["g"])(e)){return this.readFeatureCollectionMetadataFromDocument(e)}else{return this.readFeatureCollectionMetadataFromNode(e)}};t.prototype.readFeatureCollectionMetadataFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(n)}}return undefined};t.prototype.readFeatureCollectionMetadataFromNode=function t(e){var n={};var r=Object(c["g"])(e.getAttribute("numberOfFeatures"));n["numberOfFeatures"]=r;return Object(m["t"])(n,a,e,[],this.gmlFormat_)};t.prototype.readTransactionResponseFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(n)}}return undefined};t.prototype.readTransactionResponseFromNode=function t(e){return Object(m["t"])({},f,e,[])};t.prototype.writeGetFeature=function t(e){var n=Object(m["d"])(O,"GetFeature");n.setAttribute("service","WFS");n.setAttribute("version","1.1.0");var r;if(e){if(e.handle){n.setAttribute("handle",e.handle)}if(e.outputFormat){n.setAttribute("outputFormat",e.outputFormat)}if(e.maxFeatures!==undefined){n.setAttribute("maxFeatures",String(e.maxFeatures))}if(e.resultType){n.setAttribute("resultType",e.resultType)}if(e.startIndex!==undefined){n.setAttribute("startIndex",String(e.startIndex))}if(e.count!==undefined){n.setAttribute("count",String(e.count))}if(e.viewParams!==undefined){n.setAttribute("viewParams ",e.viewParams)}r=e.filter;if(e.bbox){Object(g["a"])(e.geometryName,12);var i=Object(o["bbox"])(e.geometryName,e.bbox,e.srsName);if(r){r=Object(o["and"])(r,i)}else{r=i}}}n.setAttributeNS(m["c"],"xsi:schemaLocation",this.schemaLocation_);var a={node:n};Object(d["a"])(a,{srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:r,propertyNames:e.propertyNames?e.propertyNames:[]});Object(g["a"])(Array.isArray(e.featureTypes),11);rt(n,e.featureTypes,[a]);return n};t.prototype.writeTransaction=function t(e,n,r,i){var a=[];var o=Object(m["d"])(O,"Transaction");var s=i.version?i.version:T;var u=s==="1.0.0"?2:3;o.setAttribute("service","WFS");o.setAttribute("version",s);var l;var c;if(i){l=i.gmlOptions?i.gmlOptions:{};if(i.handle){o.setAttribute("handle",i.handle)}}var h=S[s];o.setAttributeNS(m["c"],"xsi:schemaLocation",h);var f=i.featurePrefix?i.featurePrefix:v;if(e){c=Object(d["a"])({node:o},{featureNS:i.featureNS,featureType:i.featureType,featurePrefix:f,gmlVersion:u,hasZ:i.hasZ,srsName:i.srsName});Object(d["a"])(c,l);Object(m["u"])(c,y,Object(m["p"])("Insert"),e,a)}if(n){c=Object(d["a"])({node:o},{featureNS:i.featureNS,featureType:i.featureType,featurePrefix:f,gmlVersion:u,hasZ:i.hasZ,srsName:i.srsName});Object(d["a"])(c,l);Object(m["u"])(c,y,Object(m["p"])("Update"),n,a)}if(r){Object(m["u"])({node:o,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:f,gmlVersion:u,srsName:i.srsName},y,Object(m["p"])("Delete"),r,a)}if(i.nativeElements){Object(m["u"])({node:o,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:f,gmlVersion:u,srsName:i.srsName},y,Object(m["p"])("Native"),i.nativeElements,a)}return o};t.prototype.readProjectionFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(n)}}return null};t.prototype.readProjectionFromNode=function t(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(var n=e.firstElementChild;n;n=n.nextElementSibling){if(!(n.childNodes.length===0||n.childNodes.length===1&&n.firstChild.nodeType===3)){var r=[{}];this.gmlFormat_.readGeometryElement(n,r);return Object(i["g"])(r.pop().srsName)}}}return null};return t}(r["a"]);function E(t,e){return Object(m["t"])({},h,t,e)}var C={"http://www.opengis.net/ogc":{FeatureId:Object(m["i"])(function(t,e){return t.getAttribute("fid")})}};function M(t,e){Object(m["s"])(C,t,e)}var j={"http://www.opengis.net/wfs":{Feature:M}};function A(t,e){return Object(m["t"])([],j,t,e)}function k(t,e,n){var r=n[n.length-1];var i=r["featureType"];var a=r["featureNS"];var o=r["gmlVersion"];var s=Object(m["d"])(a,i);t.appendChild(s);if(o===2){u["a"].prototype.writeFeatureElement(s,e,n)}else{l["a"].prototype.writeFeatureElement(s,e,n)}}function I(t,e,n){var r=Object(m["d"])(b,"Filter");var i=Object(m["d"])(b,"FeatureId");r.appendChild(i);i.setAttribute("fid",e);t.appendChild(r)}function R(t,e){t=t?t:v;var n=t+":";if(e.indexOf(n)===0){return e}else{return n+e}}function D(t,e,n){var r=n[n.length-1];Object(g["a"])(e.getId()!==undefined,26);var i=r["featureType"];var a=r["featurePrefix"];var o=r["featureNS"];var s=R(a,i);t.setAttribute("typeName",s);t.setAttributeNS(_,"xmlns:"+a,o);var u=e.getId();if(u!==undefined){I(t,u,n)}}function P(t,e,n){var r=n[n.length-1];Object(g["a"])(e.getId()!==undefined,27);var i=r["featureType"];var a=r["featurePrefix"];var o=r["featureNS"];var s=R(a,i);var u=e.getGeometryName();t.setAttribute("typeName",s);t.setAttributeNS(_,"xmlns:"+a,o);var l=e.getId();if(l!==undefined){var c=e.getKeys();var h=[];for(var f=0,d=c.length;f<d;f++){var p=e.get(c[f]);if(p!==undefined){var v=c[f];if(p&&typeof p.getSimplifiedGeometry==="function"){v=u}h.push({name:v,value:p})}}Object(m["u"])({gmlVersion:r["gmlVersion"],node:t,hasZ:r["hasZ"],srsName:r["srsName"]},y,Object(m["p"])("Property"),h,n);I(t,l,n)}}function N(t,e,n){var r=Object(m["d"])(O,"Name");var i=n[n.length-1];var a=i["gmlVersion"];t.appendChild(r);Object(c["n"])(r,e.name);if(e.value!==undefined&&e.value!==null){var o=Object(m["d"])(O,"Value");t.appendChild(o);if(e.value&&typeof e.value.getSimplifiedGeometry==="function"){if(a===2){u["a"].prototype.writeGeometryElement(o,e.value,n)}else{l["a"].prototype.writeGeometryElement(o,e.value,n)}}else{Object(c["n"])(o,e.value)}}}function L(t,e,n){if(e.vendorId){t.setAttribute("vendorId",e.vendorId)}if(e.safeToIgnore!==undefined){t.setAttribute("safeToIgnore",String(e.safeToIgnore))}if(e.value!==undefined){Object(c["n"])(t,e.value)}}var $={"http://www.opengis.net/wfs":{Query:Object(m["k"])(F)},"http://www.opengis.net/ogc":{During:Object(m["k"])(V),And:Object(m["k"])(q),Or:Object(m["k"])(q),Not:Object(m["k"])(z),BBOX:Object(m["k"])(H),Contains:Object(m["k"])(U),Intersects:Object(m["k"])(W),Within:Object(m["k"])(Y),PropertyIsEqualTo:Object(m["k"])(B),PropertyIsNotEqualTo:Object(m["k"])(B),PropertyIsLessThan:Object(m["k"])(B),PropertyIsLessThanOrEqualTo:Object(m["k"])(B),PropertyIsGreaterThan:Object(m["k"])(B),PropertyIsGreaterThanOrEqualTo:Object(m["k"])(B),PropertyIsNull:Object(m["k"])(K),PropertyIsBetween:Object(m["k"])(X),PropertyIsLike:Object(m["k"])(Z)}};function F(t,e,n){var r=n[n.length-1];var i=r["featurePrefix"];var a=r["featureNS"];var o=r["propertyNames"];var s=r["srsName"];var u;if(i){u=R(i,e)}else{u=e}t.setAttribute("typeName",u);if(s){t.setAttribute("srsName",s)}if(a){t.setAttributeNS(_,"xmlns:"+i,a)}var l=Object(d["a"])({},r);l.node=t;Object(m["u"])(l,p,Object(m["p"])("PropertyName"),o,n);var c=r["filter"];if(c){var h=Object(m["d"])(b,"Filter");t.appendChild(h);G(h,c,n)}}function G(t,e,n){var r={node:t};Object(m["u"])(r,$,Object(m["p"])(e.getTagName()),[e],n)}function H(t,e,n){var r=n[n.length-1];r["srsName"]=e.srsName;J(t,e.geometryName);l["a"].prototype.writeGeometryElement(t,e.extent,n)}function U(t,e,n){var r=n[n.length-1];r["srsName"]=e.srsName;J(t,e.geometryName);l["a"].prototype.writeGeometryElement(t,e.geometry,n)}function W(t,e,n){var r=n[n.length-1];r["srsName"]=e.srsName;J(t,e.geometryName);l["a"].prototype.writeGeometryElement(t,e.geometry,n)}function Y(t,e,n){var r=n[n.length-1];r["srsName"]=e.srsName;J(t,e.geometryName);l["a"].prototype.writeGeometryElement(t,e.geometry,n)}function V(t,e,n){var r=Object(m["d"])(w,"ValueReference");Object(c["n"])(r,e.propertyName);t.appendChild(r);var i=Object(m["d"])(s["a"],"TimePeriod");t.appendChild(i);var a=Object(m["d"])(s["a"],"begin");i.appendChild(a);et(a,e.begin);var o=Object(m["d"])(s["a"],"end");i.appendChild(o);et(o,e.end)}function q(t,e,n){var r={node:t};var i=e.conditions;for(var a=0,o=i.length;a<o;++a){var s=i[a];Object(m["u"])(r,$,Object(m["p"])(s.getTagName()),[s],n)}}function z(t,e,n){var r={node:t};var i=e.condition;Object(m["u"])(r,$,Object(m["p"])(i.getTagName()),[i],n)}function B(t,e,n){if(e.matchCase!==undefined){t.setAttribute("matchCase",e.matchCase.toString())}J(t,e.propertyName);tt(t,""+e.expression)}function K(t,e,n){J(t,e.propertyName)}function X(t,e,n){J(t,e.propertyName);var r=Object(m["d"])(b,"LowerBoundary");t.appendChild(r);tt(r,""+e.lowerBoundary);var i=Object(m["d"])(b,"UpperBoundary");t.appendChild(i);tt(i,""+e.upperBoundary)}function Z(t,e,n){t.setAttribute("wildCard",e.wildCard);t.setAttribute("singleChar",e.singleChar);t.setAttribute("escapeChar",e.escapeChar);if(e.matchCase!==undefined){t.setAttribute("matchCase",e.matchCase.toString())}J(t,e.propertyName);tt(t,""+e.pattern)}function Q(t,e,n){var r=Object(m["d"])(b,t);Object(c["n"])(r,n);e.appendChild(r)}function J(t,e){Q("PropertyName",t,e)}function tt(t,e){Q("Literal",t,e)}function et(t,e){var n=Object(m["d"])(s["a"],"TimeInstant");t.appendChild(n);var r=Object(m["d"])(s["a"],"timePosition");n.appendChild(r);Object(c["n"])(r,e)}function nt(t){var e=Object(m["d"])(b,"Filter");G(e,t,[]);return e}function rt(t,e,n){var r=n[n.length-1];var i=Object(d["a"])({},r);i.node=t;Object(m["u"])(i,$,Object(m["p"])("Query"),e,n)}e["a"]=x},function(t,e,n){"use strict";var r=n(16);var i={};i.getDefaultDrawStyleFunction=function(){var n=Object(r["b"])();return function(t,e){return n[t.getGeometry().getType()]}};i.getDefaultModifyStyleFunction=function(){var n=Object(r["b"])();return function(t,e){return n["Point"]}};e["a"]=i},function(t,e,n){"use strict";n.d(e,"c",function(){return m});n.d(e,"a",function(){return y});n.d(e,"d",function(){return _});n.d(e,"b",function(){return b});var r=n(89);var i=n(22);var a=n(37);var o=n(65);var s=n(6);var u=n(49);var l=n(13);var c=n(31);var h=n(148);var f=n(40);function d(){return this.hours()%12||12}function p(){return this.hours()||24}Object(i["a"])("H",["HH",2],0,"hour");Object(i["a"])("h",["hh",2],0,d);Object(i["a"])("k",["kk",2],0,p);Object(i["a"])("hmm",0,0,function(){return""+d.apply(this)+Object(h["a"])(this.minutes(),2)});Object(i["a"])("hmmss",0,0,function(){return""+d.apply(this)+Object(h["a"])(this.minutes(),2)+Object(h["a"])(this.seconds(),2)});Object(i["a"])("Hmm",0,0,function(){return""+this.hours()+Object(h["a"])(this.minutes(),2)});Object(i["a"])("Hmmss",0,0,function(){return""+this.hours()+Object(h["a"])(this.minutes(),2)+Object(h["a"])(this.seconds(),2)});function v(t,e){Object(i["a"])(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}v("a",true);v("A",false);Object(a["a"])("hour","h");Object(o["a"])("hour",13);function g(t,e){return e._meridiemParse}Object(s["a"])("a",g);Object(s["a"])("A",g);Object(s["a"])("H",s["d"]);Object(s["a"])("h",s["d"]);Object(s["a"])("k",s["d"]);Object(s["a"])("HH",s["d"],s["h"]);Object(s["a"])("hh",s["d"],s["h"]);Object(s["a"])("kk",s["d"],s["h"]);Object(s["a"])("hmm",s["j"]);Object(s["a"])("hmmss",s["l"]);Object(s["a"])("Hmm",s["j"]);Object(s["a"])("Hmmss",s["l"]);Object(u["a"])(["H","HH"],l["b"]);Object(u["a"])(["k","kk"],function(t,e,n){var r=Object(c["a"])(t);e[l["b"]]=r===24?0:r});Object(u["a"])(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t);n._meridiem=t});Object(u["a"])(["h","hh"],function(t,e,n){e[l["b"]]=Object(c["a"])(t);Object(f["a"])(n).bigHour=true});Object(u["a"])("hmm",function(t,e,n){var r=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,r));e[l["d"]]=Object(c["a"])(t.substr(r));Object(f["a"])(n).bigHour=true});Object(u["a"])("hmmss",function(t,e,n){var r=t.length-4;var i=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,r));e[l["d"]]=Object(c["a"])(t.substr(r,2));e[l["f"]]=Object(c["a"])(t.substr(i));Object(f["a"])(n).bigHour=true});Object(u["a"])("Hmm",function(t,e,n){var r=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,r));e[l["d"]]=Object(c["a"])(t.substr(r))});Object(u["a"])("Hmmss",function(t,e,n){var r=t.length-4;var i=t.length-2;e[l["b"]]=Object(c["a"])(t.substr(0,r));e[l["d"]]=Object(c["a"])(t.substr(r,2));e[l["f"]]=Object(c["a"])(t.substr(i))});function m(t){return(t+"").toLowerCase().charAt(0)==="p"}var y=/[ap]\.?m?\.?/i;function _(t,e,n){if(t>11){return n?"pm":"PM"}else{return n?"am":"AM"}}var b=Object(r["b"])("Hours",true)},function(t,e,n){"use strict";var r=function t(e,n){this.dispatcher=e;this.mapping_=n};r.prototype.getEvents=function t(){return Object.keys(this.mapping_)};r.prototype.getHandlerForEvent=function t(e){return this.mapping_[e]};e["a"]=r},function(t,e,n){"use strict";var g=n(1);var r=n(229);var i=n(155);var a=n(298);var o=n(10);var s=function(){t.$inject=["$injector","ngeoDataSources","ngeoDataSourcesHelper","ngeoQuerent","ngeoQueryResult"];function t(t,e,n,r,i){var a=t.has("ngeoQueryOptions")?t.get("ngeoQueryOptions"):{};this.dataSources_=e.collection;this.ngeoDataSourcesHelper_=n;this.ngeoQuerent_=r;this.result_=i;this.limit_=a.limit!==undefined?a.limit:50;this.queryCountFirst_=a.queryCountFirst!==undefined?a.queryCountFirst:false;this.tolerancePx_=a.tolerance!==undefined?a.tolerance:3;this.dataSourceNames_={}}var e=t.prototype;e.issue=function t(e){this.clear();var n;if(e.dataSources===undefined&&e.queryableDataSources===undefined){n=this.ngeoQuerent_.getQueryableDataSources(this.dataSources_.getArray(),e.map)}var r=e.limit!==undefined?e.limit:this.limit_;o["a"](e,{queryableDataSources:n,limit:r,tolerancePx:this.tolerancePx_,wfsCount:this.queryCountFirst_});this.result_.pending=true;this.ngeoQuerent_.issue(e).then(this.handleResult_.bind(this))};e.clear=function t(){this.result_.total=0;for(var e=this.result_.sources,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{r=e.next();if(r.done)break;i=r.value}var a=i;a.features.length=0;a.pending=false;a.queried=false;a.tooManyResults=false;a.totalFeatureCount=undefined}this.result_.sources.length=0;this.result_.pending=false};e.handleResult_=function t(d){var p=this;var v=0;var e=function t(e){var n=Number(e);var i=p.ngeoDataSourcesHelper_.getDataSource(n);var r=i.name;g["a"].assert(i);var a=d[n];var o=a.features;var s=a.limit;var u=a.tooManyFeatures===true;var l=a.totalFeatureCount;var c={};o.forEach(function(e){var t=g["a"].assertString(e.get("ngeo_feature_type_"));if(!c[t]){c[t]=[]}if(i.attributes&&i.attributes.length){var n=e.getProperties();var r={};i.attributes.forEach(function(t){if(t.alias){r[t.alias]=n[t.name];e.unset(t.name,true)}else{r[t.name]=n[t.name]}});e.setProperties(r,true)}c[t].push(e)});for(var h in c){r=h?h:r;var f=c[h];p.result_.sources.push({features:f,id:n,label:r,limit:s,pending:false,queried:true,tooManyResults:u,totalFeatureCount:l});v+=o.length}};for(var n in d){e(n)}this.result_.total=v;this.result_.pending=false};return t}();s.module=angular.module("ngeoMapQuerent",[i["a"].module.name,a["a"].module.name,r["a"].module.name]);s.module.service("ngeoMapQuerent",s);s.module.value("ngeoQueryResult",{sources:[],total:0,pending:false});e["a"]=s},function(t,e,n){"use strict";var a=n(1);var r=n(203);var o=n(5);var i=n(41);var s=n(10);var u=n(36);var l=n(16);var c=function t(){this.featureUidToGroupIndex_={};this.groups_=[];this.source_=new u["a"]({useSpatialIndex:false});this.layer_=new i["a"]({source:this.source_,style:this.styleFunction_.bind(this),updateWhileAnimating:true,updateWhileInteracting:true})};c.prototype.addFeature=function(t,e){a["a"].assert(e>=0);a["a"].assert(e<this.groups_.length);var n=o["c"](t).toString();this.featureUidToGroupIndex_[n]=e;this.groups_[e].features[n]=t;this.source_.addFeature(t)};c.prototype.removeFeature=function(t,e){a["a"].assert(e>=0);a["a"].assert(e<this.groups_.length);var n=o["c"](t).toString();delete this.featureUidToGroupIndex_[n];delete this.groups_[e].features[n];this.source_.removeFeature(t)};c.prototype.clear=function(t){a["a"].assert(t>=0);a["a"].assert(t<this.groups_.length);var e=this.groups_[t];for(var n in e.features){this.removeFeature(e.features[n],t)}a["a"].assert(s["d"](e.features))};c.prototype.getLayer=function(){return this.layer_};c.prototype.getFeatureOverlay=function(){var t=this.groups_.length;this.groups_.push({styleFunction:l["a"],features:{}});return new r["a"](this,t)};c.prototype.init=function(t){this.layer_.setMap(t)};c.prototype.setStyle=function(t,e){a["a"].assert(e>=0);a["a"].assert(e<this.groups_.length);this.groups_[e].styleFunction=t===null?l["c"].defaultFunction:Object(l["d"])(t)};c.prototype.styleFunction_=function(t,e){var n=o["c"](t).toString();a["a"].assert(n in this.featureUidToGroupIndex_);var r=this.featureUidToGroupIndex_[n];var i=this.groups_[r];return i.styleFunction(t,e)};c.module=angular.module("ngeoFeatureOverlayMgr",[r["a"].module.name]);c.module.service("ngeoFeatureOverlayMgr",c);e["a"]=c},function(t,e,n){"use strict";var r=n(147);var i=n(224);function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var o=[4e3,3750,3500,3250,3e3,2750,2500,2250,2e3,1750,1500,1250,1e3,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,.5];var s=new i["b"]({extent:[42e4,3e4,9e5,35e4],resolutions:o,matrixIds:o.map(function(t,e){return""+e})});var u=function(e){a(t,e);function t(t){return e.call(this,{attributions:"géodonnées &copy; Etat de Vaud & &copy; contributeurs OpenStreetMap",url:"https://ows{1-4}.asitvd.ch/wmts/1.0.0/{Layer}/default/default/0/"+"21781/{TileMatrix}/{TileRow}/{TileCol}.png",projection:"EPSG:21781",requestEncoding:"REST",layer:t.layer,style:"default",matrixSet:"21781",format:"image/png",tileGrid:s})||this}return t}(r["a"]);e["a"]=u},function(t,e,n){"use strict";var j=n(1);var v=n(151);var o=n(43);var r=n(186);var i=n(219);var A=n(50);function a(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var s=function(e){a(t,e);function t(t){t.type=t.type||o["a"].DATE;return e.call(this,t)||this}return t}(A["a"]);var k=s;var I=n(98);var R=n(173);function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var l=function(e){u(t,e);function t(t){t.operator=t.operator||A["a"].OperatorType.LIKE;t.type=o["a"].TEXT;return e.call(this,t)||this}return t}(A["a"]);var d=l;var c=n(177);var D=n(64);var P=n(9);var h=n(17);var f=n(58);var p=n(121);var g=n(134);var m=n(78);var y=n(82);var _=n(124);var b=Object(y["a"])("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=f["a"].apply(null,arguments);if(this.isValid()&&t.isValid()){return t<this?this:t}else{return Object(g["a"])()}});var O=Object(y["a"])("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=f["a"].apply(null,arguments);if(this.isValid()&&t.isValid()){return t>this?this:t}else{return Object(g["a"])()}});function w(t,e){var n,r;if(e.length===1&&Object(_["a"])(e[0])){e=e[0]}if(!e.length){return Object(f["a"])()}n=e[0];for(r=1;r<e.length;++r){if(!e[r].isValid()||e[r][t](n)){n=e[r]}}return n}function S(){var t=[].slice.call(arguments,0);return w("isBefore",t)}function T(){var t=[].slice.call(arguments,0);return w("isAfter",t)}var x=function t(){return Date.now?Date.now():+new Date};var E=n(89);var C=n(83);var M=n(37);var N=n(100);var L=n(31);var $=n(85);var F=["year","quarter","month","week","day","hour","minute","second","millisecond"];function G(t){for(var e in t){if(!($["a"].call(F,e)!==-1&&(t[e]==null||!isNaN(t[e])))){return false}}var n=false;for(var r=0;r<F.length;++r){if(t[F[r]]){if(n){return false}if(parseFloat(t[F[r]])!==Object(L["a"])(t[F[r]])){n=true}}}return true}function H(){return this._isValid}function U(){return Ot(NaN)}function W(t){var e=Object(M["b"])(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=G(e);this._milliseconds=+c+l*1e3+u*6e4+s*1e3*60*60;this._days=+o+a*7;this._months=+i+r*3+n*12;this._data={};this._locale=Object(N["b"])();this._bubble()}function Y(t){return t instanceof W}var V=n(143);function q(t){if(t<0){return Math.round(-1*t)*-1}else{return Math.round(t)}}var z=n(62);var B=n(13);var K=n(148);var X=n(22);var Z=n(6);var Q=n(49);var J=n(227);var tt=n(199);var et=n(84);var nt=n(258);function rt(t,n){Object(X["a"])(t,0,0,function(){var t=this.utcOffset();var e="+";if(t<0){t=-t;e="-"}return e+Object(K["a"])(~~(t/60),2)+n+Object(K["a"])(~~t%60,2)})}rt("Z",":");rt("ZZ","");Object(Z["a"])("Z",Z["o"]);Object(Z["a"])("ZZ",Z["o"]);Object(Q["a"])(["Z","ZZ"],function(t,e,n){n._useUTC=true;n._tzm=at(Z["o"],t)});var it=/([\+\-]|\d\d)/gi;function at(t,e){var n=(e||"").match(t);if(n===null){return null}var r=n[n.length-1]||[];var i=(r+"").match(it)||["-",0,0];var a=+(i[1]*60)+Object(L["a"])(i[2]);return a===0?0:i[0]==="+"?a:-a}function ot(t,e){var n,r;if(e._isUTC){n=e.clone();r=(Object(m["c"])(t)||Object(tt["a"])(t)?t.valueOf():Object(f["a"])(t).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+r);h["a"].updateOffset(n,false);return n}else{return Object(f["a"])(t).local()}}function st(t){return-Math.round(t._d.getTimezoneOffset()/15)*15}h["a"].updateOffset=function(){};function ut(t,e,n){var r=this._offset||0,i;if(!this.isValid()){return t!=null?this:NaN}if(t!=null){if(typeof t==="string"){t=at(Z["o"],t);if(t===null){return this}}else if(Math.abs(t)<16&&!n){t=t*60}if(!this._isUTC&&e){i=st(this)}this._offset=t;this._isUTC=true;if(i!=null){this.add(i,"m")}if(r!==t){if(!e||this._changeInProgress){Et(this,Ot(t-r,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;h["a"].updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?r:st(this)}}function lt(t,e){if(t!=null){if(typeof t!=="string"){t=-t}this.utcOffset(t,e);return this}else{return-this.utcOffset()}}function ct(t){return this.utcOffset(0,t)}function ht(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=false;if(t){this.subtract(st(this),"m")}}return this}function ft(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var t=at(Z["n"],this._i);if(t!=null){this.utcOffset(t)}else{this.utcOffset(0,true)}}return this}function dt(t){if(!this.isValid()){return false}t=t?Object(f["a"])(t).utcOffset():0;return(this.utcOffset()-t)%60===0}function pt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vt(){if(!Object(et["a"])(this._isDSTShifted)){return this._isDSTShifted}var t={};Object(m["b"])(t,this);t=Object(J["b"])(t);if(t._a){var e=t._isUTC?Object(p["a"])(t._a):Object(f["a"])(t._a);this._isDSTShifted=this.isValid()&&Object(nt["a"])(t._a,e.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function gt(){return this.isValid()?!this._isUTC:false}function mt(){return this.isValid()?this._isUTC:false}function yt(){return this.isValid()?this._isUTC&&this._offset===0:false}var _t=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var bt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ot(t,e){var n=t,r=null,i,a,o;if(Y(t)){n={ms:t._milliseconds,d:t._days,M:t._months}}else if(Object(V["a"])(t)){n={};if(e){n[e]=t}else{n.milliseconds=t}}else if(!!(r=_t.exec(t))){i=r[1]==="-"?-1:1;n={y:0,d:Object(L["a"])(r[B["a"]])*i,h:Object(L["a"])(r[B["b"]])*i,m:Object(L["a"])(r[B["d"]])*i,s:Object(L["a"])(r[B["f"]])*i,ms:Object(L["a"])(q(r[B["c"]]*1e3))*i}}else if(!!(r=bt.exec(t))){i=r[1]==="-"?-1:r[1]==="+"?1:1;n={y:wt(r[2],i),M:wt(r[3],i),w:wt(r[4],i),d:wt(r[5],i),h:wt(r[6],i),m:wt(r[7],i),s:wt(r[8],i)}}else if(n==null){n={}}else if(typeof n==="object"&&("from"in n||"to"in n)){o=Tt(Object(f["a"])(n.from),Object(f["a"])(n.to));n={};n.ms=o.milliseconds;n.M=o.months}a=new W(n);if(Y(t)&&Object(z["a"])(t,"_locale")){a._locale=t._locale}return a}Ot.fn=W.prototype;Ot.invalid=U;function wt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function St(t,e){var n={milliseconds:0,months:0};n.months=e.month()-t.month()+(e.year()-t.year())*12;if(t.clone().add(n.months,"M").isAfter(e)){--n.months}n.milliseconds=+e-+t.clone().add(n.months,"M");return n}function Tt(t,e){var n;if(!(t.isValid()&&e.isValid())){return{milliseconds:0,months:0}}e=ot(e,t);if(t.isBefore(e)){n=St(t,e)}else{n=St(e,t);n.milliseconds=-n.milliseconds;n.months=-n.months}return n}function xt(i,a){return function(t,e){var n,r;if(e!==null&&!isNaN(+e)){Object(y["b"])(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");r=t;t=e;e=r}t=typeof t==="string"?+t:t;n=Ot(t,e);Et(this,n,i);return this}}function Et(t,e,n,r){var i=e._milliseconds,a=q(e._days),o=q(e._months);if(!t.isValid()){return}r=r==null?true:r;if(o){Object(C["k"])(t,Object(E["a"])(t,"Month")+o*n)}if(a){Object(E["c"])(t,"Date",Object(E["a"])(t,"Date")+a*n)}if(i){t._d.setTime(t._d.valueOf()+i*n)}if(r){h["a"].updateOffset(t,a||o)}}var Ct=xt(1,"add");var Mt=xt(-1,"subtract");var jt=n(106);function At(t,e){var n=t.diff(e,"days",true);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function kt(t,e){var n=t||Object(f["a"])(),r=ot(n,this).startOf("day"),i=h["a"].calendarFormat(this,r)||"sameElse";var a=e&&(Object(jt["a"])(e[i])?e[i].call(this,n):e[i]);return this.format(a||this.localeData().calendar(i,this,Object(f["a"])(n)))}function It(){return new m["a"](this)}function Rt(t,e){var n=Object(m["c"])(t)?t:Object(f["a"])(t);if(!(this.isValid()&&n.isValid())){return false}e=Object(M["c"])(!Object(et["a"])(e)?e:"millisecond");if(e==="millisecond"){return this.valueOf()>n.valueOf()}else{return n.valueOf()<this.clone().startOf(e).valueOf()}}function Dt(t,e){var n=Object(m["c"])(t)?t:Object(f["a"])(t);if(!(this.isValid()&&n.isValid())){return false}e=Object(M["c"])(!Object(et["a"])(e)?e:"millisecond");if(e==="millisecond"){return this.valueOf()<n.valueOf()}else{return this.clone().endOf(e).valueOf()<n.valueOf()}}function Pt(t,e,n,r){r=r||"()";return(r[0]==="("?this.isAfter(t,n):!this.isBefore(t,n))&&(r[1]===")"?this.isBefore(e,n):!this.isAfter(e,n))}function Nt(t,e){var n=Object(m["c"])(t)?t:Object(f["a"])(t),r;if(!(this.isValid()&&n.isValid())){return false}e=Object(M["c"])(e||"millisecond");if(e==="millisecond"){return this.valueOf()===n.valueOf()}else{r=n.valueOf();return this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()}}function Lt(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function $t(t,e){return this.isSame(t,e)||this.isBefore(t,e)}var Ft=n(111);function Gt(t,e,n){var r,i,a,o;if(!this.isValid()){return NaN}r=ot(t,this);if(!r.isValid()){return NaN}i=(r.utcOffset()-this.utcOffset())*6e4;e=Object(M["c"])(e);switch(e){case"year":o=Ht(this,r)/12;break;case"month":o=Ht(this,r);break;case"quarter":o=Ht(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Object(Ft["a"])(o)}function Ht(t,e){var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,a;if(e-r<0){i=t.clone().add(n-1,"months");a=(e-r)/(r-i)}else{i=t.clone().add(n+1,"months");a=(e-r)/(i-r)}return-(n+a)||0}h["a"].defaultFormat="YYYY-MM-DDTHH:mm:ssZ";h["a"].defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ut(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Wt(t){if(!this.isValid()){return null}var e=t!==true;var n=e?this.clone().utc():this;if(n.year()<0||n.year()>9999){return Object(X["c"])(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(Object(jt["a"])(Date.prototype.toISOString)){if(e){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Object(X["c"])(n,"Z"))}}return Object(X["c"])(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Yt(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var t="moment";var e="";if(!this.isLocal()){t=this.utcOffset()===0?"moment.utc":"moment.parseZone";e="Z"}var n="["+t+'("]';var r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var i="-MM-DD[T]HH:mm:ss.SSS";var a=e+'[")]';return this.format(n+r+i+a)}function Vt(t){if(!t){t=this.isUtc()?h["a"].defaultFormatUtc:h["a"].defaultFormat}var e=Object(X["c"])(this,t);return this.localeData().postformat(e)}function qt(t,e){if(this.isValid()&&(Object(m["c"])(t)&&t.isValid()||Object(f["a"])(t).isValid())){return Ot({to:this,from:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function zt(t){return this.from(Object(f["a"])(),t)}function Bt(t,e){if(this.isValid()&&(Object(m["c"])(t)&&t.isValid()||Object(f["a"])(t).isValid())){return Ot({from:this,to:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function Kt(t){return this.to(Object(f["a"])(),t)}function Xt(t){var e;if(t===undefined){return this._locale._abbr}else{e=Object(N["b"])(t);if(e!=null){this._locale=e}return this}}var Zt=Object(y["a"])("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){if(t===undefined){return this.localeData()}else{return this.locale(t)}});function Qt(){return this._locale}function Jt(t){t=Object(M["c"])(t);switch(t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(t==="week"){this.weekday(0)}if(t==="isoWeek"){this.isoWeekday(1)}if(t==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function te(t){t=Object(M["c"])(t);if(t===undefined||t==="millisecond"){return this}if(t==="date"){t="day"}return this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")}function ee(){return this._d.valueOf()-(this._offset||0)*6e4}function ne(){return Math.floor(this.valueOf()/1e3)}function re(){return new Date(this.valueOf())}function ie(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function oe(){return this.isValid()?this.toISOString():null}var se=n(136);var ue=n(40);function le(){return Object(g["b"])(this)}function ce(){return Object(se["a"])({},Object(ue["a"])(this))}function he(){return Object(ue["a"])(this).overflow}function fe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}var de=n(110);var pe=n(65);var ve=n(133);var ge=n(139);Object(X["a"])(0,["gg",2],0,function(){return this.weekYear()%100});Object(X["a"])(0,["GG",2],0,function(){return this.isoWeekYear()%100});function me(t,e){Object(X["a"])(0,[t,t.length],0,e)}me("gggg","weekYear");me("ggggg","weekYear");me("GGGG","isoWeekYear");me("GGGGG","isoWeekYear");Object(M["a"])("weekYear","gg");Object(M["a"])("isoWeekYear","GG");Object(pe["a"])("weekYear",1);Object(pe["a"])("isoWeekYear",1);Object(Z["a"])("G",Z["p"]);Object(Z["a"])("g",Z["p"]);Object(Z["a"])("GG",Z["d"],Z["h"]);Object(Z["a"])("gg",Z["d"],Z["h"]);Object(Z["a"])("GGGG",Z["f"],Z["k"]);Object(Z["a"])("gggg",Z["f"],Z["k"]);Object(Z["a"])("GGGGG",Z["g"],Z["m"]);Object(Z["a"])("ggggg",Z["g"],Z["m"]);Object(Q["c"])(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Object(L["a"])(t)});Object(Q["c"])(["gg","GG"],function(t,e,n,r){e[r]=h["a"].parseTwoDigitYear(t)});function ye(t){return we.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _e(t){return we.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function be(){return Object(ve["c"])(this.year(),1,4)}function Oe(){var t=this.localeData()._week;return Object(ve["c"])(this.year(),t.dow,t.doy)}function we(t,e,n,r,i){var a;if(t==null){return Object(ve["b"])(this,r,i).year}else{a=Object(ve["c"])(t,r,i);if(e>a){e=a}return Se.call(this,t,e,n,r,i)}}function Se(t,e,n,r,i){var a=Object(ve["a"])(t,e,n,r,i),o=Object(ge["b"])(a.year,0,a.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}Object(X["a"])("Q",0,"Qo","quarter");Object(M["a"])("quarter","Q");Object(pe["a"])("quarter",7);Object(Z["a"])("Q",Z["c"]);Object(Q["a"])("Q",function(t,e){e[B["e"]]=(Object(L["a"])(t)-1)*3});function Te(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}var xe=n(162);Object(X["a"])("D",["DD",2],"Do","date");Object(M["a"])("date","D");Object(pe["a"])("date",9);Object(Z["a"])("D",Z["d"]);Object(Z["a"])("DD",Z["d"],Z["h"]);Object(Z["a"])("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Object(Q["a"])(["D","DD"],B["a"]);Object(Q["a"])("Do",function(t,e){e[B["a"]]=Object(L["a"])(t.match(Z["d"])[0])});var Ee=Object(E["b"])("Date",true);var Ce=n(102);Object(X["a"])("DDD",["DDDD",3],"DDDo","dayOfYear");Object(M["a"])("dayOfYear","DDD");Object(pe["a"])("dayOfYear",4);Object(Z["a"])("DDD",Z["e"]);Object(Z["a"])("DDDD",Z["i"]);Object(Q["a"])(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Object(L["a"])(t)});function Me(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}var je=n(179);Object(X["a"])("m",["mm",2],0,"minute");Object(M["a"])("minute","m");Object(pe["a"])("minute",14);Object(Z["a"])("m",Z["d"]);Object(Z["a"])("mm",Z["d"],Z["h"]);Object(Q["a"])(["m","mm"],B["d"]);var Ae=Object(E["b"])("Minutes",false);Object(X["a"])("s",["ss",2],0,"second");Object(M["a"])("second","s");Object(pe["a"])("second",15);Object(Z["a"])("s",Z["d"]);Object(Z["a"])("ss",Z["d"],Z["h"]);Object(Q["a"])(["s","ss"],B["f"]);var ke=Object(E["b"])("Seconds",false);Object(X["a"])("S",0,0,function(){return~~(this.millisecond()/100)});Object(X["a"])(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Object(X["a"])(0,["SSS",3],0,"millisecond");Object(X["a"])(0,["SSSS",4],0,function(){return this.millisecond()*10});Object(X["a"])(0,["SSSSS",5],0,function(){return this.millisecond()*100});Object(X["a"])(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Object(X["a"])(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Object(X["a"])(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Object(X["a"])(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Object(M["a"])("millisecond","ms");Object(pe["a"])("millisecond",16);Object(Z["a"])("S",Z["e"],Z["c"]);Object(Z["a"])("SS",Z["e"],Z["h"]);Object(Z["a"])("SSS",Z["e"],Z["i"]);var Ie;for(Ie="SSSS";Ie.length<=9;Ie+="S"){Object(Z["a"])(Ie,Z["r"])}function Re(t,e){e[B["c"]]=Object(L["a"])(("0."+t)*1e3)}for(Ie="S";Ie.length<=9;Ie+="S"){Object(Q["a"])(Ie,Re)}var De=Object(E["b"])("Milliseconds",false);Object(X["a"])("z",0,0,"zoneAbbr");Object(X["a"])("zz",0,0,"zoneName");function Pe(){return this._isUTC?"UTC":""}function Ne(){return this._isUTC?"Coordinated Universal Time":""}var Le=m["a"].prototype;Le.add=Ct;Le.calendar=kt;Le.clone=It;Le.diff=Gt;Le.endOf=te;Le.format=Vt;Le.from=qt;Le.fromNow=zt;Le.to=Bt;Le.toNow=Kt;Le.get=E["d"];Le.invalidAt=he;Le.isAfter=Rt;Le.isBefore=Dt;Le.isBetween=Pt;Le.isSame=Nt;Le.isSameOrAfter=Lt;Le.isSameOrBefore=$t;Le.isValid=le;Le.lang=Zt;Le.locale=Xt;Le.localeData=Qt;Le.max=O;Le.min=b;Le.parsingFlags=ce;Le.set=E["e"];Le.startOf=Jt;Le.subtract=Mt;Le.toArray=ie;Le.toObject=ae;Le.toDate=re;Le.toISOString=Wt;Le.inspect=Yt;Le.toJSON=oe;Le.toString=Ut;Le.unix=ne;Le.valueOf=ee;Le.creationData=fe;Le.year=de["c"];Le.isLeapYear=de["b"];Le.weekYear=ye;Le.isoWeekYear=_e;Le.quarter=Le.quarters=Te;Le.month=C["e"];Le.daysInMonth=C["d"];Le.week=Le.weeks=xe["c"];Le.isoWeek=Le.isoWeeks=xe["b"];Le.weeksInYear=Oe;Le.isoWeeksInYear=be;Le.date=Ee;Le.day=Le.days=Ce["d"];Le.weekday=Ce["f"];Le.isoWeekday=Ce["e"];Le.dayOfYear=Me;Le.hour=Le.hours=je["b"];Le.minute=Le.minutes=Ae;Le.second=Le.seconds=ke;Le.millisecond=Le.milliseconds=De;Le.utcOffset=ut;Le.utc=ct;Le.local=ht;Le.parseZone=ft;Le.hasAlignedHourOffset=dt;Le.isDST=pt;Le.isLocal=gt;Le.isUtcOffset=mt;Le.isUtc=yt;Le.isUTC=yt;Le.zoneAbbr=Pe;Le.zoneName=Ne;Le.dates=Object(y["a"])("dates accessor is deprecated. Use date instead.",Ee);Le.months=Object(y["a"])("months accessor is deprecated. Use month instead",C["e"]);Le.years=Object(y["a"])("years accessor is deprecated. Use year instead",de["c"]);Le.zone=Object(y["a"])("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",lt);Le.isDSTShifted=Object(y["a"])("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vt);var $e=Le;function Fe(t){return Object(f["a"])(t*1e3)}function Ge(){return f["a"].apply(null,arguments).parseZone()}var He=n(241);var Ue=n(259);var We=n(260);var Ye=n(261);var Ve=n(242);function qe(t){return t}var ze=n(243);var Be=n(240);var Ke=He["a"].prototype;Ke.calendar=Ue["a"];Ke.longDateFormat=We["b"];Ke.invalidDate=Ye["b"];Ke.ordinal=Ve["c"];Ke.preparse=qe;Ke.postformat=qe;Ke.relativeTime=ze["c"];Ke.pastFuture=ze["b"];Ke.set=Be["b"];Ke.months=C["f"];Ke.monthsShort=C["h"];Ke.monthsParse=C["g"];Ke.monthsRegex=C["i"];Ke.monthsShortRegex=C["j"];Ke.week=xe["f"];Ke.firstDayOfYear=xe["e"];Ke.firstDayOfWeek=xe["d"];Ke.weekdays=Ce["g"];Ke.weekdaysMin=Ce["h"];Ke.weekdaysShort=Ce["j"];Ke.weekdaysParse=Ce["i"];Ke.weekdaysRegex=Ce["l"];Ke.weekdaysShortRegex=Ce["m"];Ke.weekdaysMinRegex=Ce["k"];Ke.isPM=je["c"];Ke.meridiem=je["d"];function Xe(t,e,n,r){var i=Object(N["b"])();var a=Object(p["a"])().set(r,e);return i[n](a,t)}function Ze(t,e,n){if(Object(V["a"])(t)){e=t;t=undefined}t=t||"";if(e!=null){return Xe(t,e,n,"month")}var r;var i=[];for(r=0;r<12;r++){i[r]=Xe(t,r,n,"month")}return i}function Qe(t,e,n,r){if(typeof t==="boolean"){if(Object(V["a"])(e)){n=e;e=undefined}e=e||""}else{e=t;n=e;t=false;if(Object(V["a"])(e)){n=e;e=undefined}e=e||""}var i=Object(N["b"])(),a=t?i._week.dow:0;if(n!=null){return Xe(e,(n+a)%7,r,"day")}var o;var s=[];for(o=0;o<7;o++){s[o]=Xe(e,(o+a)%7,r,"day")}return s}function Je(t,e){return Ze(t,e,"months")}function tn(t,e){return Ze(t,e,"monthsShort")}function en(t,e,n){return Qe(t,e,n,"weekdays")}function nn(t,e,n){return Qe(t,e,n,"weekdaysShort")}function rn(t,e,n){return Qe(t,e,n,"weekdaysMin")}Object(N["c"])("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function t(e){var n=e%10,r=Object(L["a"])(e%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return e+r}});h["a"].lang=Object(y["a"])("moment.lang is deprecated. Use moment.locale instead.",N["c"]);h["a"].langData=Object(y["a"])("moment.langData is deprecated. Use moment.localeData instead.",N["b"]);var an=Math.abs;function on(){var t=this._data;this._milliseconds=an(this._milliseconds);this._days=an(this._days);this._months=an(this._months);t.milliseconds=an(t.milliseconds);t.seconds=an(t.seconds);t.minutes=an(t.minutes);t.hours=an(t.hours);t.months=an(t.months);t.years=an(t.years);return this}function sn(t,e,n,r){var i=Ot(e,n);t._milliseconds+=r*i._milliseconds;t._days+=r*i._days;t._months+=r*i._months;return t._bubble()}function un(t,e){return sn(this,t,e,1)}function ln(t,e){return sn(this,t,e,-1)}function cn(t){if(t<0){return Math.floor(t)}else{return Math.ceil(t)}}function hn(){var t=this._milliseconds;var e=this._days;var n=this._months;var r=this._data;var i,a,o,s,u;if(!(t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0)){t+=cn(dn(n)+e)*864e5;e=0;n=0}r.milliseconds=t%1e3;i=Object(Ft["a"])(t/1e3);r.seconds=i%60;a=Object(Ft["a"])(i/60);r.minutes=a%60;o=Object(Ft["a"])(a/60);r.hours=o%24;e+=Object(Ft["a"])(o/24);u=Object(Ft["a"])(fn(e));n+=u;e-=cn(dn(u));s=Object(Ft["a"])(n/12);n%=12;r.days=e;r.months=n;r.years=s;return this}function fn(t){return t*4800/146097}function dn(t){return t*146097/4800}function pn(t){if(!this.isValid()){return NaN}var e;var n;var r=this._milliseconds;t=Object(M["c"])(t);if(t==="month"||t==="year"){e=this._days+r/864e5;n=this._months+fn(e);return t==="month"?n:n/12}else{e=this._days+Math.round(dn(this._months));switch(t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}}function vn(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+Object(L["a"])(this._months/12)*31536e6}function gn(t){return function(){return this.as(t)}}var mn=gn("ms");var yn=gn("s");var _n=gn("m");var bn=gn("h");var On=gn("d");var wn=gn("w");var Sn=gn("M");var Tn=gn("y");function xn(){return Ot(this)}function En(t){t=Object(M["c"])(t);return this.isValid()?this[t+"s"]():NaN}function Cn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Mn=Cn("milliseconds");var jn=Cn("seconds");var An=Cn("minutes");var kn=Cn("hours");var In=Cn("days");var Rn=Cn("months");var Dn=Cn("years");function Pn(){return Object(Ft["a"])(this.days()/7)}var Nn=Math.round;var Ln={ss:44,s:45,m:45,h:22,d:26,M:11};function $n(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Fn(t,e,n){var r=Ot(t).abs();var i=Nn(r.as("s"));var a=Nn(r.as("m"));var o=Nn(r.as("h"));var s=Nn(r.as("d"));var u=Nn(r.as("M"));var l=Nn(r.as("y"));var c=i<=Ln.ss&&["s",i]||i<Ln.s&&["ss",i]||a<=1&&["m"]||a<Ln.m&&["mm",a]||o<=1&&["h"]||o<Ln.h&&["hh",o]||s<=1&&["d"]||s<Ln.d&&["dd",s]||u<=1&&["M"]||u<Ln.M&&["MM",u]||l<=1&&["y"]||["yy",l];c[2]=e;c[3]=+t>0;c[4]=n;return $n.apply(null,c)}function Gn(t){if(t===undefined){return Nn}if(typeof t==="function"){Nn=t;return true}return false}function Hn(t,e){if(Ln[t]===undefined){return false}if(e===undefined){return Ln[t]}Ln[t]=e;if(t==="s"){Ln.ss=e-1}return true}function Un(t){if(!this.isValid()){return this.localeData().invalidDate()}var e=this.localeData();var n=Fn(this,!t,e);if(t){n=e.pastFuture(+this,n)}return e.postformat(n)}var Wn=Math.abs;function Yn(t){return(t>0)-(t<0)||+t}function Vn(){if(!this.isValid()){return this.localeData().invalidDate()}var t=Wn(this._milliseconds)/1e3;var e=Wn(this._days);var n=Wn(this._months);var r,i,a;r=Object(Ft["a"])(t/60);i=Object(Ft["a"])(r/60);t%=60;r%=60;a=Object(Ft["a"])(n/12);n%=12;var o=a;var s=n;var u=e;var l=i;var c=r;var h=t?t.toFixed(3).replace(/\.?0+$/,""):"";var f=this.asSeconds();if(!f){return"P0D"}var d=f<0?"-":"";var p=Yn(this._months)!==Yn(f)?"-":"";var v=Yn(this._days)!==Yn(f)?"-":"";var g=Yn(this._milliseconds)!==Yn(f)?"-":"";return d+"P"+(o?p+o+"Y":"")+(s?p+s+"M":"")+(u?v+u+"D":"")+(l||c||h?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var qn=W.prototype;qn.isValid=H;qn.abs=on;qn.add=un;qn.subtract=ln;qn.as=pn;qn.asMilliseconds=mn;qn.asSeconds=yn;qn.asMinutes=_n;qn.asHours=bn;qn.asDays=On;qn.asWeeks=wn;qn.asMonths=Sn;qn.asYears=Tn;qn.valueOf=vn;qn._bubble=hn;qn.clone=xn;qn.get=En;qn.milliseconds=Mn;qn.seconds=jn;qn.minutes=An;qn.hours=kn;qn.days=In;qn.weeks=Pn;qn.months=Rn;qn.years=Dn;qn.humanize=Un;qn.toISOString=Vn;qn.toString=Vn;qn.toJSON=Vn;qn.locale=Xt;qn.localeData=Qt;qn.toIsoString=Object(y["a"])("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn);qn.lang=Zt;Object(X["a"])("X",0,0,"unix");Object(X["a"])("x",0,0,"valueOf");Object(Z["a"])("x",Z["p"]);Object(Z["a"])("X",Z["q"]);Object(Q["a"])("X",function(t,e,n){n._d=new Date(parseFloat(t,10)*1e3)});Object(Q["a"])("x",function(t,e,n){n._d=new Date(Object(L["a"])(t))});h["a"].version="2.22.2";Object(h["b"])(f["a"]);h["a"].fn=$e;h["a"].min=S;h["a"].max=T;h["a"].now=x;h["a"].utc=p["a"];h["a"].unix=Fe;h["a"].months=Je;h["a"].isDate=tt["a"];h["a"].locale=N["c"];h["a"].invalid=g["a"];h["a"].duration=Ot;h["a"].isMoment=m["c"];h["a"].weekdays=en;h["a"].parseZone=Ge;h["a"].localeData=N["b"];h["a"].isDuration=Y;h["a"].monthsShort=tn;h["a"].weekdaysMin=rn;h["a"].defineLocale=N["a"];h["a"].updateLocale=N["e"];h["a"].locales=N["d"];h["a"].weekdaysShort=nn;h["a"].normalizeUnits=M["c"];h["a"].relativeTimeRounding=Gn;h["a"].relativeTimeThreshold=Hn;h["a"].calendarFormat=At;h["a"].prototype=$e;h["a"].HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};var zn=h["a"];var Bn=function(){t.$inject=["gettextCatalog","ngeoFeatureHelper","ngeoWMSTime"];function t(t,e,n){this.gettextCatalog_=t;this.ngeoFeatureHelper_=e;this.ngeoWMSTime_=n}var e=t.prototype;e.createRulesFromAttributes=function t(e,n){var r=[];for(var i=e,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{o=i.next();if(o.done)break;s=o.value}var u=s;r.push(this.createRuleFromAttribute(u,n))}return r};e.createRuleFromAttribute=function t(e,n){var r;var i=n===true;var a=this.gettextCatalog_.getString(e.name);switch(e.type){case o["a"].DATE:case o["a"].DATETIME:if(i){r=new k({name:a,operator:A["a"].TemporalOperatorType.EQUALS,operators:[A["a"].TemporalOperatorType.EQUALS,A["a"].TemporalOperatorType.BEGINS,A["a"].TemporalOperatorType.ENDS],propertyName:e.name,type:e.type})}else{r=new k({name:a,operator:A["a"].TemporalOperatorType.DURING,propertyName:e.name,type:e.type})}break;case o["a"].GEOMETRY:r=new I["a"]({name:a,operator:A["a"].SpatialOperatorType.WITHIN,operators:[A["a"].SpatialOperatorType.CONTAINS,A["a"].SpatialOperatorType.INTERSECTS,A["a"].SpatialOperatorType.WITHIN],propertyName:e.name,type:e.type});break;case o["a"].NUMBER:if(i){r=new A["a"]({name:a,operator:A["a"].OperatorType.EQUAL_TO,operators:[A["a"].OperatorType.EQUAL_TO,A["a"].OperatorType.GREATER_THAN,A["a"].OperatorType.GREATER_THAN_OR_EQUAL_TO,A["a"].OperatorType.LESSER_THAN,A["a"].OperatorType.LESSER_THAN_OR_EQUAL_TO,A["a"].OperatorType.NOT_EQUAL_TO],propertyName:e.name,type:o["a"].NUMBER})}else{r=new A["a"]({name:a,operator:A["a"].OperatorType.BETWEEN,propertyName:e.name,type:o["a"].NUMBER})}break;case o["a"].SELECT:r=new R["a"]({choices:j["a"].assert(e.choices),name:a,propertyName:e.name});break;default:if(i){r=new d({name:a,operator:A["a"].OperatorType.LIKE,operators:[A["a"].OperatorType.LIKE,A["a"].OperatorType.EQUAL_TO,A["a"].OperatorType.NOT_EQUAL_TO],propertyName:e.name})}else{r=new d({name:a,operator:A["a"].OperatorType.LIKE,propertyName:e.name})}break}return r};e.createRules=function t(e){var n=[];for(var r=e,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;n.push(this.createRule(s))}return n};e.createRule=function t(e){var n;switch(e.type){case o["a"].DATE:case o["a"].DATETIME:n=new k(e);break;case o["a"].GEOMETRY:n=new I["a"](e);break;case o["a"].SELECT:var r=e;j["a"].assert(r.choices);n=new R["a"](r);break;default:n=new d(e);break}return n};e.cloneRule=function t(e){var n;var r=e.getExpression();if(r===null){r=undefined}var i=e.isCustom;var a=e.lowerBoundary!==null?e.lowerBoundary:undefined;var o=e.name;var s=e.operator!==null?e.operator:undefined;var u=e.operators?e.operators.slice(0):undefined;var l=e.propertyName;var c=e.type!==null?e.type:undefined;var h=e.upperBoundary!==null?e.upperBoundary:undefined;var f={expression:r,isCustom:i,lowerBoundary:a,name:o,operator:s,operators:u,propertyName:l,type:c,upperBoundary:h};if(e instanceof k){n=new k(f)}else if(e instanceof I["a"]){n=new I["a"](f);n.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature))}else if(e instanceof R["a"]){f.choices=e.choices.slice(0);n=new R["a"](f)}else if(e instanceof d){n=new d(f)}else{n=new A["a"](f)}return n};e.extendRule=function t(e,n){if(n.getExpression()!==e.getExpression()){n.setExpression(e.getExpression())}if(n.lowerBoundary!==e.lowerBoundary){n.lowerBoundary=e.lowerBoundary}if(n.operator!==e.operator){n.operator=e.operator}if(n.upperBoundary!==e.upperBoundary){n.upperBoundary=e.upperBoundary}if(e instanceof I["a"]&&n instanceof I["a"]){this.ngeoFeatureHelper_.clearNonSpatialProperties(n.feature);n.feature.setProperties(this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature))}};e.serializeRules=function t(e){var n=this;return e.map(function(t){var e=n.serializeRule(t);return e})};e.serializeRule=function t(e){var n={name:e.name,propertyName:e.propertyName,type:e.type};if(e.expression!==null){n.expression=e.expression}if(e.lowerBoundary!==null){n.lowerBoundary=e.lowerBoundary}if(e.operator!==null){n.operator=e.operator}if(e.operators!==null){n.operators=e.operators.slice(0)}if(e.upperBoundary!==null){n.upperBoundary=e.upperBoundary}if(e instanceof I["a"]){n.featureProperties=this.ngeoFeatureHelper_.getNonSpatialProperties(e.feature)}if(e instanceof R["a"]){n.choices=e.choices}return n};e.createFilter=function t(e){var n=e.dataSource;var r=null;if(e.filter){r=e.filter}else{var i=e.filterRules||n.filterRules;var a=[];if(i&&i.length){for(var o=i,s=Array.isArray(o),u=0,o=s?o:o[Symbol.iterator]();;){var l;if(s){if(u>=o.length)break;l=o[u++]}else{u=o.next();if(u.done)break;l=u.value}var c=l;var h=this.createFilterFromRule_(c,n,e.srsName);if(h){a.push(h)}}}var f=n.filterCondition;if(a.length===1){r=a[0]}else if(a.length>=2){if(f===v["a"].AND){r=D["and"].apply(null,a)}else if(f===v["a"].OR||f===v["a"].NOT){r=D["or"].apply(null,a)}}if(r&&f===v["a"].NOT){r=D["not"](r)}}if(e.incTime){var d=this.createTimeFilterFromDataSource_(n);if(d){if(r){r=D["and"].apply(null,[r,d])}else{r=d}}}if(e.incDimensions){var p=this.createDimensionsFilterFromDataSource_(n);if(p){if(r){r=D["and"].apply(null,[r,p])}else{r=p}}}return r};e.createFilterString=function t(e){var n=null;var r=this.createFilter(e);if(r){var i=Object(c["b"])(r);var a=new XMLSerializer;n=a.serializeToString(i)}return n};e.createFilterFromRule_=function t(e,n,r){var i=null;var a=e.value;if(!a){return null}var o=a.expression;var s=a.lowerBoundary;var u=a.operator;var l=a.propertyName;var c=a.upperBoundary;var h=A["a"].OperatorType;var f=A["a"].SpatialOperatorType;var d=A["a"].TemporalOperatorType;var p=[f.CONTAINS,f.INTERSECTS,f.WITHIN];var v=[h.GREATER_THAN,h.GREATER_THAN_OR_EQUAL_TO,h.LESSER_THAN,h.LESSER_THAN_OR_EQUAL_TO];if(e instanceof k){var g;var m;if(u===d.DURING){g=zn(s).format("YYYY-MM-DD");m=zn(c).format("YYYY-MM-DD")}else if(u===d.EQUALS){g=zn(o).format("YYYY-MM-DD HH:mm:ss");m=zn(o).add(1,"days").subtract(1,"seconds").format("YYYY-MM-DD HH:mm:ss")}else if(u===d.BEGINS){g=zn(o).format("YYYY-MM-DD");m=zn(o).add(30,"years").format("YYYY-MM-DD")}else if(u===d.ENDS){g="1970-01-01";m=zn(o).format("YYYY-MM-DD")}if(g&&m){i=D["during"](l,g,m)}}else if(e instanceof R["a"]){var y=e.selectedChoices;if(y.length===1){i=D["equalTo"](l,y[0])}else if(y.length>=2){var _=[];for(var b=y,O=Array.isArray(b),w=0,b=O?b:b[Symbol.iterator]();;){var S;if(O){if(w>=b.length)break;S=b[w++]}else{w=b.next();if(w.done)break;S=w.value}var T=S;_.push(D["equalTo"](l,T))}i=D["or"].apply(null,_)}}else if(P["f"](p,u)){var x=n.geometryName;j["a"].assertInstanceof(e,I["a"]);var E=j["a"].assert(e.geometry);if(u===f.CONTAINS){i=D["contains"](x,E,r)}else if(u===f.INTERSECTS){i=D["intersects"](x,E,r)}else if(u===f.WITHIN){i=D["within"](x,E,r)}}else if(P["f"](v,u)){var C=j["a"].assertNumber(o);if(u===h.GREATER_THAN){i=D["greaterThan"](l,C)}else if(u===h.GREATER_THAN_OR_EQUAL_TO){i=D["greaterThanOrEqualTo"](l,C)}else if(u===h.LESSER_THAN){i=D["lessThan"](l,C)}else if(u===h.LESSER_THAN_OR_EQUAL_TO){i=D["lessThanOrEqualTo"](l,C)}}else if(u===h.BETWEEN){i=D["between"](l,s,c)}else if(u===h.EQUAL_TO){i=D["equalTo"](l,o)}else if(u===h.LIKE){var M=String(o).replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*");i=D["like"](l,"*"+M+"*","*",".","!",false)}else if(u===h.NOT_EQUAL_TO){i=D["notEqualTo"](l,o)}return i};e.createDimensionsFilterFromDataSource_=function t(e){var n=e.dimensionsFiltersConfig;var r=e.dimensions;var i=[];for(var a in n){var o=n[a].value;if(o===null){if(r[a]!==undefined&&r[a]!==null){o=r[a]}}if(o!==null){i.push(D["equalTo"](n[a].field,o,true))}}if(i.length===1){return i[0]}else if(i.length>=2){return D["and"].apply(null,i)}return null};e.createTimeFilterFromDataSource_=function t(e){var n=null;var r=e.timeRangeValue;var i=e.timeProperty;var a=e.timeAttributeName;if(r&&i&&a){if(r.end!==undefined){var o=this.ngeoWMSTime_.formatWMSTimeParam(i,r).split("/");n=D["during"](a,o[0],o[1])}else{var s=i.resolution||"seconds";var u=this.ngeoWMSTime_.formatWMSTimeParam(i,r);var l;switch(s){case"year":l=zn(u).add(1,"years").subtract(1,"seconds");break;case"month":l=zn(u).add(1,"months").subtract(1,"seconds");break;case"day":l=zn(u).add(1,"days").subtract(1,"seconds");break;default:}if(l){var c=zn(u).format("YYYY-MM-DD HH:mm:ss");var h=l.format("YYYY-MM-DD HH:mm:ss");n=D["during"](a,c,h)}}}return n};return t}();Bn.module=angular.module("ngeoRuleHelper",[r["a"].module.name,i["a"].module.name]);Bn.module.service("ngeoRuleHelper",Bn);var Kn=e["a"]=Bn},function(t,e,n){"use strict";var E=n(108);var s=n(5);var C=n(24);var a=n(72);var r=n(128);var h=n(11);var i=function(i){function t(t,e,n){i.call(this);var r=n?n:{};this.tileCoord=t;this.state=e;this.interimTile=null;this.key="";this.transition_=r.transition===undefined?250:r.transition;this.transitionStarts_={}}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.changed=function t(){this.dispatchEvent(h["a"].CHANGE)};t.prototype.getKey=function t(){return this.key+"/"+this.tileCoord};t.prototype.getInterimTile=function t(){if(!this.interimTile){return this}var e=this.interimTile;do{if(e.getState()==C["a"].LOADED){return e}e=e.interimTile}while(e);return this};t.prototype.refreshInterimChain=function t(){if(!this.interimTile){return}var e=this.interimTile;var n=this;do{if(e.getState()==C["a"].LOADED){e.interimTile=null;break}else if(e.getState()==C["a"].LOADING){n=e}else if(e.getState()==C["a"].IDLE){n.interimTile=e.interimTile}else{n=e}e=n.interimTile}while(e)};t.prototype.getTileCoord=function t(){return this.tileCoord};t.prototype.getState=function t(){return this.state};t.prototype.setState=function t(e){this.state=e;this.changed()};t.prototype.load=function t(){};t.prototype.getAlpha=function t(e,n){if(!this.transition_){return 1}var r=this.transitionStarts_[e];if(!r){r=n;this.transitionStarts_[e]=r}else if(r===-1){return 1}var i=n-r+1e3/60;if(i>=this.transition_){return 1}return Object(a["a"])(i/this.transition_)};t.prototype.inTransition=function t(e){if(!this.transition_){return false}return this.transitionStarts_[e]!==-1};t.prototype.endTransition=function t(e){if(this.transition_){this.transitionStarts_[e]=-1}};return t}(r["a"]);var o=i;var u=n(48);var f=n(2);var l=function(o){function t(t,e,n,r,i,a){o.call(this,t,e,a);this.crossOrigin_=r;this.src_=n;this.image_=new Image;if(r!==null){this.image_.crossOrigin=r}this.imageListenerKeys_=null;this.tileLoadFunction_=i}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){if(this.state==C["a"].LOADING){this.unlistenImage_();this.image_=c()}if(this.interimTile){this.interimTile.dispose()}this.state=C["a"].ABORT;this.changed();o.prototype.disposeInternal.call(this)};t.prototype.getImage=function t(){return this.image_};t.prototype.getKey=function t(){return this.src_};t.prototype.handleImageError_=function t(){this.state=C["a"].ERROR;this.unlistenImage_();this.image_=c();this.changed()};t.prototype.handleImageLoad_=function t(){var e=this.image_;if(e.naturalWidth&&e.naturalHeight){this.state=C["a"].LOADED}else{this.state=C["a"].EMPTY}this.unlistenImage_();this.changed()};t.prototype.load=function t(){if(this.state==C["a"].ERROR){this.state=C["a"].IDLE;this.image_=new Image;if(this.crossOrigin_!==null){this.image_.crossOrigin=this.crossOrigin_}}if(this.state==C["a"].IDLE){this.state=C["a"].LOADING;this.changed();this.imageListenerKeys_=[Object(f["b"])(this.image_,h["a"].ERROR,this.handleImageError_,this),Object(f["b"])(this.image_,h["a"].LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};t.prototype.unlistenImage_=function t(){this.imageListenerKeys_.forEach(f["e"]);this.imageListenerKeys_=null};return t}(o);function c(){var t=Object(u["a"])(1,1);t.fillStyle="rgba(0,0,0,0)";t.fillRect(0,0,1,1);return t.canvas}var d=l;var p=n(267);var g=n(8);var M=n(3);var j=n(14);var A=n(163);var k=n(262);var v=function(x){function t(t,e,n,r,i,a,o,s,u,l,c){x.call(this,i,C["a"].IDLE);this.renderEdges_=c!==undefined?c:false;this.pixelRatio_=o;this.gutter_=s;this.canvas_=null;this.sourceTileGrid_=e;this.targetTileGrid_=r;this.wrappedTileCoord_=a?a:i;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var h=r.getTileCoordExtent(this.wrappedTileCoord_);var f=this.targetTileGrid_.getExtent();var d=this.sourceTileGrid_.getExtent();var p=f?Object(M["B"])(h,f):h;if(Object(M["u"])(p)===0){this.state=C["a"].EMPTY;return}var v=t.getExtent();if(v){if(!d){d=v}else{d=Object(M["B"])(d,v)}}var g=r.getResolution(this.wrappedTileCoord_[0]);var m=Object(M["x"])(p);var y=Object(A["a"])(t,n,m,g);if(!isFinite(y)||y<=0){this.state=C["a"].EMPTY;return}var _=l!==undefined?l:E["b"];this.triangulation_=new k["a"](t,n,p,d,y*_);if(this.triangulation_.getTriangles().length===0){this.state=C["a"].EMPTY;return}this.sourceZ_=e.getZForResolution(y);var b=this.triangulation_.calculateSourceExtent();if(d){if(t.canWrapX()){b[1]=Object(j["a"])(b[1],d[1],d[3]);b[3]=Object(j["a"])(b[3],d[1],d[3])}else{b=Object(M["B"])(b,d)}}if(!Object(M["u"])(b)){this.state=C["a"].EMPTY}else{var O=e.getTileRangeForExtentAndZ(b,this.sourceZ_);for(var w=O.minX;w<=O.maxX;w++){for(var S=O.minY;S<=O.maxY;S++){var T=u(this.sourceZ_,w,S,o);if(T){this.sourceTiles_.push(T)}}}if(this.sourceTiles_.length===0){this.state=C["a"].EMPTY}}}if(x)t.__proto__=x;t.prototype=Object.create(x&&x.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){if(this.state==C["a"].LOADING){this.unlistenSources_()}x.prototype.disposeInternal.call(this)};t.prototype.getImage=function t(){return this.canvas_};t.prototype.reproject_=function t(){var r=[];this.sourceTiles_.forEach(function(t,e,n){if(t&&t.getState()==C["a"].LOADED){r.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}}.bind(this));this.sourceTiles_.length=0;if(r.length===0){this.state=C["a"].ERROR}else{var e=this.wrappedTileCoord_[0];var n=this.targetTileGrid_.getTileSize(e);var i=typeof n==="number"?n:n[0];var a=typeof n==="number"?n:n[1];var o=this.targetTileGrid_.getResolution(e);var s=this.sourceTileGrid_.getResolution(this.sourceZ_);var u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(A["b"])(i,a,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,u,this.triangulation_,r,this.gutter_,this.renderEdges_);this.state=C["a"].LOADED}this.changed()};t.prototype.load=function t(){if(this.state==C["a"].IDLE){this.state=C["a"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(n,t,e){var r=n.getState();if(r==C["a"].IDLE||r==C["a"].LOADING){a++;var i=Object(f["a"])(n,h["a"].CHANGE,function(t){var e=n.getState();if(e==C["a"].LOADED||e==C["a"].ERROR||e==C["a"].EMPTY){Object(f["e"])(i);a--;if(a===0){this.unlistenSources_();this.reproject_()}}},this);this.sourcesListenerKeys_.push(i)}}.bind(this));this.sourceTiles_.forEach(function(t,e,n){var r=t.getState();if(r==C["a"].IDLE){t.load()}});if(a===0){setTimeout(this.reproject_.bind(this),0)}}};t.prototype.unlistenSources_=function t(){this.sourcesListenerKeys_.forEach(f["e"]);this.sourcesListenerKeys_=null};return t}(o);var m=v;var y=n(174);var _=n(244);var b={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var O=n(107);var w=function(e){function t(t){e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible});this.generateTileUrlFunction_=!t.tileUrlFunction;this.tileLoadFunction=t.tileLoadFunction;this.tileUrlFunction=t.tileUrlFunction?t.tileUrlFunction.bind(this):y["d"];this.urls=null;if(t.urls){this.setUrls(t.urls)}else if(t.url){this.setUrl(t.url)}if(t.tileUrlFunction){this.setTileUrlFunction(t.tileUrlFunction,this.key_)}this.tileLoadingKeys_={}}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getTileLoadFunction=function t(){return this.tileLoadFunction};t.prototype.getTileUrlFunction=function t(){return this.tileUrlFunction};t.prototype.getUrls=function t(){return this.urls};t.prototype.handleTileChange=function t(e){var n=e.target;var r=Object(s["c"])(n);var i=n.getState();var a;if(i==C["a"].LOADING){this.tileLoadingKeys_[r]=true;a=b.TILELOADSTART}else if(r in this.tileLoadingKeys_){delete this.tileLoadingKeys_[r];a=i==C["a"].ERROR?b.TILELOADERROR:i==C["a"].LOADED||i==C["a"].ABORT?b.TILELOADEND:undefined}if(a!=undefined){this.dispatchEvent(new _["a"](a,n))}};t.prototype.setTileLoadFunction=function t(e){this.tileCache.clear();this.tileLoadFunction=e;this.changed()};t.prototype.setTileUrlFunction=function t(e,n){this.tileUrlFunction=e;this.tileCache.pruneExceptNewestZ();if(typeof n!=="undefined"){this.setKey(n)}else{this.changed()}};t.prototype.setUrl=function t(e){var n=this.urls=Object(y["c"])(e);this.setUrls(n)};t.prototype.setUrls=function t(e){this.urls=e;var n=e.join("\n");if(this.generateTileUrlFunction_){this.setTileUrlFunction(Object(y["a"])(e,this.tileGrid),n)}else{this.setKey(n)}};t.prototype.useTile=function t(e,n,r){var i=Object(O["d"])(e,n,r);if(this.tileCache.containsKey(i)){this.tileCache.get(i)}};return t}(_["b"]);var S=w;var T=n(189);var x=function(o){function t(t){o.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:I,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible});this.crossOrigin=t.crossOrigin!==undefined?t.crossOrigin:null;this.tileClass=t.tileClass!==undefined?t.tileClass:d;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold;this.renderReprojectionEdges_=false}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.canExpireCache=function t(){if(!E["a"]){return o.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return true}else{for(var e in this.tileCacheForProjection){if(this.tileCacheForProjection[e].canExpireCache()){return true}}}return false};t.prototype.expireCache=function t(e,n){if(!E["a"]){o.prototype.expireCache.call(this,e,n);return}var r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(var i in this.tileCacheForProjection){var a=this.tileCacheForProjection[i];a.expireCache(a==r?n:{})}};t.prototype.getGutterForProjection=function t(e){if(E["a"]&&this.getProjection()&&e&&!Object(g["e"])(this.getProjection(),e)){return 0}else{return this.getGutter()}};t.prototype.getGutter=function t(){return 0};t.prototype.getOpaque=function t(e){if(E["a"]&&this.getProjection()&&e&&!Object(g["e"])(this.getProjection(),e)){return false}else{return o.prototype.getOpaque.call(this,e)}};t.prototype.getTileGridForProjection=function t(e){if(!E["a"]){return o.prototype.getTileGridForProjection.call(this,e)}var n=this.getProjection();if(this.tileGrid&&(!n||Object(g["e"])(n,e))){return this.tileGrid}else{var r=Object(s["c"])(e);if(!(r in this.tileGridForProjection)){this.tileGridForProjection[r]=Object(T["c"])(e)}return this.tileGridForProjection[r]}};t.prototype.getTileCacheForProjection=function t(e){if(!E["a"]){return o.prototype.getTileCacheForProjection.call(this,e)}var n=this.getProjection();if(!n||Object(g["e"])(n,e)){return this.tileCache}else{var r=Object(s["c"])(e);if(!(r in this.tileCacheForProjection)){this.tileCacheForProjection[r]=new p["a"](this.tileCache.highWaterMark)}return this.tileCacheForProjection[r]}};t.prototype.createTile_=function t(e,n,r,i,a,o){var s=[e,n,r];var u=this.getTileCoordForTileUrlFunction(s,a);var l=u?this.tileUrlFunction(u,i,a):undefined;var c=new this.tileClass(s,l!==undefined?C["a"].IDLE:C["a"].EMPTY,l!==undefined?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);c.key=o;Object(f["a"])(c,h["a"].CHANGE,this.handleTileChange,this);return c};t.prototype.getTile=function t(e,n,r,i,a){var o=this.getProjection();if(!E["a"]||!o||!a||Object(g["e"])(o,a)){return this.getTileInternal(e,n,r,i,o||a)}else{var s=this.getTileCacheForProjection(a);var u=[e,n,r];var l;var c=Object(O["c"])(u);if(s.containsKey(c)){l=s.get(c)}var h=this.getKey();if(l&&l.key==h){return l}else{var f=this.getTileGridForProjection(o);var d=this.getTileGridForProjection(a);var p=this.getTileCoordForTileUrlFunction(u,a);var v=new m(o,f,a,d,u,p,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);v.key=h;if(l){v.interimTile=l;v.refreshInterimChain();s.replace(c,v)}else{s.set(c,v)}return v}}};t.prototype.getTileInternal=function t(e,n,r,i,a){var o=null;var s=Object(O["d"])(e,n,r);var u=this.getKey();if(!this.tileCache.containsKey(s)){o=this.createTile_(e,n,r,i,a,u);this.tileCache.set(s,o)}else{o=this.tileCache.get(s);if(o.key!=u){var l=o;o=this.createTile_(e,n,r,i,a,u);if(l.getState()==C["a"].IDLE){o.interimTile=l.interimTile}else{o.interimTile=l}o.refreshInterimChain();this.tileCache.replace(s,o)}}return o};t.prototype.setRenderReprojectionEdges=function t(e){if(!E["a"]||this.renderReprojectionEdges_==e){return}this.renderReprojectionEdges_=e;for(var n in this.tileCacheForProjection){this.tileCacheForProjection[n].clear()}this.changed()};t.prototype.setTileGridForProjection=function t(e,n){if(E["a"]){var r=Object(g["g"])(e);if(r){var i=Object(s["c"])(r);if(!(i in this.tileGridForProjection)){this.tileGridForProjection[i]=n}}}};return t}(S);function I(t,e){t.getImage().src=e}var R=e["a"]=x},function(t,e,n){"use strict";var b=n(1);var r=n(104);var i=n(214);var d=n(59);var s=n(21);var p=n(112);var u=n(169);var a=n(9);var o=n(75);var O=n(3);var c=n(15);var w=n(38);var S=n(79);var l=n(105);var T=n(27);var x=n(26);var E=n(96);var v=n(81);var h=n(71);var f=n(156);var g=n(4);var m=n(28);var y=n(7);var _=n(8);var C=n(0);var M=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];var j="http://www.topografix.com/GPX/1/1 "+"http://www.topografix.com/GPX/1/1/gpx.xsd";var A={rte:st,trk:ut,wpt:lt};var k=Object(C["q"])(M,{rte:Object(C["i"])(st),trk:Object(C["i"])(ut),wpt:Object(C["i"])(lt)});var I=Object(C["q"])(M,{text:Object(C["m"])(g["h"],"linkText"),type:Object(C["m"])(g["h"],"linkType")});var R=Object(C["q"])(M,{rte:Object(C["k"])(ft),trk:Object(C["k"])(dt),wpt:Object(C["k"])(vt)});var D=function(n){function t(t){n.call(this);var e=t?t:{};this.dataProjection=Object(_["g"])("EPSG:4326");this.readExtensions_=e.readExtensions}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.handleReadExtensions_=function t(e){if(!e){e=[]}for(var n=0,r=e.length;n<r;++n){var i=e[n];if(this.readExtensions_){var a=i.get("extensionsNode_")||null;this.readExtensions_(i,a)}i.set("extensionsNode_",undefined)}};t.prototype.readFeatureFromNode=function t(e,n){if(!Object(a["f"])(M,e.namespaceURI)){return null}var r=A[e.localName];if(!r){return null}var i=r(e,[this.getReadOptions(e,n)]);if(!i){return null}this.handleReadExtensions_([i]);return i};t.prototype.readFeaturesFromNode=function t(e,n){if(!Object(a["f"])(M,e.namespaceURI)){return[]}if(e.localName=="gpx"){var r=Object(C["t"])([],k,e,[this.getReadOptions(e,n)]);if(r){this.handleReadExtensions_(r);return r}else{return[]}}return[]};t.prototype.writeFeaturesNode=function t(e,n){n=this.adaptOptions(n);var r=Object(C["d"])("http://www.topografix.com/GPX/1/1","gpx");var i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:xsi",C["c"]);r.setAttributeNS(C["c"],"xsi:schemaLocation",j);r.setAttribute("version","1.1");r.setAttribute("creator","OpenLayers");Object(C["u"])({node:r},R,J,e,[n]);return r};return t}(f["a"]);var P=Object(C["q"])(M,{name:Object(C["m"])(g["h"]),cmt:Object(C["m"])(g["h"]),desc:Object(C["m"])(g["h"]),src:Object(C["m"])(g["h"]),link:nt,number:Object(C["m"])(g["f"]),extensions:rt,type:Object(C["m"])(g["h"]),rtept:it});var N=Object(C["q"])(M,{ele:Object(C["m"])(g["d"]),time:Object(C["m"])(g["c"])});var L=Object(C["q"])(M,{name:Object(C["m"])(g["h"]),cmt:Object(C["m"])(g["h"]),desc:Object(C["m"])(g["h"]),src:Object(C["m"])(g["h"]),link:nt,number:Object(C["m"])(g["f"]),type:Object(C["m"])(g["h"]),extensions:rt,trkseg:ot});var $=Object(C["q"])(M,{trkpt:at});var F=Object(C["q"])(M,{ele:Object(C["m"])(g["d"]),time:Object(C["m"])(g["c"])});var G=Object(C["q"])(M,{ele:Object(C["m"])(g["d"]),time:Object(C["m"])(g["c"]),magvar:Object(C["m"])(g["d"]),geoidheight:Object(C["m"])(g["d"]),name:Object(C["m"])(g["h"]),cmt:Object(C["m"])(g["h"]),desc:Object(C["m"])(g["h"]),src:Object(C["m"])(g["h"]),link:nt,sym:Object(C["m"])(g["h"]),type:Object(C["m"])(g["h"]),fix:Object(C["m"])(g["h"]),sat:Object(C["m"])(g["f"]),hdop:Object(C["m"])(g["d"]),vdop:Object(C["m"])(g["d"]),pdop:Object(C["m"])(g["d"]),ageofdgpsdata:Object(C["m"])(g["d"]),dgpsid:Object(C["m"])(g["f"]),extensions:rt});var H=["text","type"];var U=Object(C["q"])(M,{text:Object(C["k"])(g["n"]),type:Object(C["k"])(g["n"])});var W=Object(C["q"])(M,["name","cmt","desc","src","link","number","type","rtept"]);var Y=Object(C["q"])(M,{name:Object(C["k"])(g["n"]),cmt:Object(C["k"])(g["n"]),desc:Object(C["k"])(g["n"]),src:Object(C["k"])(g["n"]),link:Object(C["k"])(ct),number:Object(C["k"])(g["m"]),type:Object(C["k"])(g["n"]),rtept:Object(C["j"])(Object(C["k"])(ht))});var V=Object(C["q"])(M,["ele","time"]);var q=Object(C["q"])(M,["name","cmt","desc","src","link","number","type","trkseg"]);var z=Object(C["q"])(M,{name:Object(C["k"])(g["n"]),cmt:Object(C["k"])(g["n"]),desc:Object(C["k"])(g["n"]),src:Object(C["k"])(g["n"]),link:Object(C["k"])(ct),number:Object(C["k"])(g["m"]),type:Object(C["k"])(g["n"]),trkseg:Object(C["j"])(Object(C["k"])(pt))});var B=Object(C["p"])("trkpt");var K=Object(C["q"])(M,{trkpt:Object(C["k"])(ht)});var X=Object(C["q"])(M,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]);var Z=Object(C["q"])(M,{ele:Object(C["k"])(g["l"]),time:Object(C["k"])(g["k"]),magvar:Object(C["k"])(g["l"]),geoidheight:Object(C["k"])(g["l"]),name:Object(C["k"])(g["n"]),cmt:Object(C["k"])(g["n"]),desc:Object(C["k"])(g["n"]),src:Object(C["k"])(g["n"]),link:Object(C["k"])(ct),sym:Object(C["k"])(g["n"]),type:Object(C["k"])(g["n"]),fix:Object(C["k"])(g["n"]),sat:Object(C["k"])(g["m"]),hdop:Object(C["k"])(g["l"]),vdop:Object(C["k"])(g["l"]),pdop:Object(C["k"])(g["l"]),ageofdgpsdata:Object(C["k"])(g["l"]),dgpsid:Object(C["k"])(g["m"])});var Q={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function J(t,e,n){var r=t.getGeometry();if(r){var i=Q[r.getType()];if(i){var a=e[e.length-1].node;return Object(C["d"])(a.namespaceURI,i)}}}function tt(t,e,n,r){t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat")));if("ele"in r){t.push(r["ele"]);delete r["ele"];e.hasZ=true}else{t.push(0)}if("time"in r){t.push(r["time"]);delete r["time"];e.hasM=true}else{t.push(0)}return t}function et(t,e,n){var r=m["a"].XY;var i=2;if(t.hasZ&&t.hasM){r=m["a"].XYZM;i=4}else if(t.hasZ){r=m["a"].XYZ;i=3}else if(t.hasM){r=m["a"].XYM;i=3}if(i!==4){for(var a=0,o=e.length/4;a<o;a++){e[a*i]=e[a*4];e[a*i+1]=e[a*4+1];if(t.hasZ){e[a*i+2]=e[a*4+2]}if(t.hasM){e[a*i+2]=e[a*4+3]}}e.length=e.length/4*i;if(n){for(var s=0,u=n.length;s<u;s++){n[s]=n[s]/4*i}}}return r}function nt(t,e){var n=e[e.length-1];var r=t.getAttribute("href");if(r!==null){n["link"]=r}Object(C["s"])(I,t,e)}function rt(t,e){var n=e[e.length-1];n["extensionsNode_"]=t}function it(t,e){var n=Object(C["t"])({},N,t,e);if(n){var r=e[e.length-1];var i=r["flatCoordinates"];var a=r["layoutOptions"];tt(i,a,t,n)}}function at(t,e){var n=Object(C["t"])({},F,t,e);if(n){var r=e[e.length-1];var i=r["flatCoordinates"];var a=r["layoutOptions"];tt(i,a,t,n)}}function ot(t,e){var n=e[e.length-1];Object(C["s"])($,t,e);var r=n["flatCoordinates"];var i=n["ends"];i.push(r.length)}function st(t,e){var n=e[0];var r=Object(C["t"])({flatCoordinates:[],layoutOptions:{}},P,t,e);if(!r){return undefined}var i=r["flatCoordinates"];delete r["flatCoordinates"];var a=r["layoutOptions"];delete r["layoutOptions"];var o=et(a,i);var s=new w["a"](i,o);Object(h["b"])(s,false,n);var u=new c["a"](s);u.setProperties(r);return u}function ut(t,e){var n=e[0];var r=Object(C["t"])({flatCoordinates:[],ends:[],layoutOptions:{}},L,t,e);if(!r){return undefined}var i=r["flatCoordinates"];delete r["flatCoordinates"];var a=r["ends"];delete r["ends"];var o=r["layoutOptions"];delete r["layoutOptions"];var s=et(o,i,a);var u=new S["a"](i,s,a);Object(h["b"])(u,false,n);var l=new c["a"](u);l.setProperties(r);return l}function lt(t,e){var n=e[0];var r=Object(C["t"])({},G,t,e);if(!r){return undefined}var i={};var a=tt([],i,t,r);var o=et(i,a);var s=new T["a"](a,o);Object(h["b"])(s,false,n);var u=new c["a"](s);u.setProperties(r);return u}function ct(t,e,n){t.setAttribute("href",e);var r=n[n.length-1];var i=r["properties"];var a=[i["linkText"],i["linkType"]];Object(C["u"])({node:t},U,C["b"],a,n,H)}function ht(t,e,n){var r=n[n.length-1];var i=r.node;var a=i.namespaceURI;var o=r["properties"];t.setAttributeNS(null,"lat",String(e[1]));t.setAttributeNS(null,"lon",String(e[0]));var s=r["geometryLayout"];switch(s){case m["a"].XYZM:if(e[3]!==0){o["time"]=e[3]}case m["a"].XYZ:if(e[2]!==0){o["ele"]=e[2]}break;case m["a"].XYM:if(e[2]!==0){o["time"]=e[2]}break;default:}var u=t.nodeName=="rtept"?V[a]:X[a];var l=Object(C["o"])(o,u);Object(C["u"])({node:t,properties:o},Z,C["b"],l,n,u)}function ft(t,e,n){var r=n[0];var i=e.getProperties();var a={node:t};a["properties"]=i;var o=e.getGeometry();if(o.getType()==y["a"].LINE_STRING){var s=Object(h["b"])(o,true,r);a["geometryLayout"]=s.getLayout();i["rtept"]=s.getCoordinates()}var u=n[n.length-1].node;var l=W[u.namespaceURI];var c=Object(C["o"])(i,l);Object(C["u"])(a,Y,C["b"],c,n,l)}function dt(t,e,n){var r=n[0];var i=e.getProperties();var a={node:t};a["properties"]=i;var o=e.getGeometry();if(o.getType()==y["a"].MULTI_LINE_STRING){var s=Object(h["b"])(o,true,r);i["trkseg"]=s.getLineStrings()}var u=n[n.length-1].node;var l=q[u.namespaceURI];var c=Object(C["o"])(i,l);Object(C["u"])(a,z,C["b"],c,n,l)}function pt(t,e,n){var r={node:t};r["geometryLayout"]=e.getLayout();r["properties"]={};Object(C["u"])(r,K,B,e.getCoordinates(),n)}function vt(t,e,n){var r=n[0];var i=n[n.length-1];i["properties"]=e.getProperties();var a=e.getGeometry();if(a.getType()==y["a"].POINT){var o=Object(h["b"])(a,true,r);i["geometryLayout"]=o.getLayout();ht(t,o.getCoordinates(),n)}}var gt=D;var mt=n(256);var yt=n(73);var _t=n(33);var bt=n(215);var Ot=n(34);var wt=n(16);var St=n(120);var Tt=function t(e,n){this.$filter_=n;this.decimals_=undefined;if(e.has("ngeoMeasureDecimals")){this.decimals_=e.get("ngeoMeasureDecimals")}this.precision_=undefined;if(e.has("ngeoMeasurePrecision")){this.precision_=e.get("ngeoMeasurePrecision")}this.numberFormat_=n("number");this.unitPrefixFormat_=n("ngeoUnitPrefix");this.ngeoNumberCoordinates_=n("ngeoNumberCoordinates");this.pointFilterFn_=null;this.pointFilterArgs_=[];if(e.has("ngeoPointfilter")){var r=e.get("ngeoPointfilter").split(":");var i=r.shift();var a=this.$filter_(i);b["a"].assertFunction(a);this.pointFilterFn_=a;this.pointFilterArgs_=r}else{this.pointFilterFn_=null}this.projection_;this.download_=e.get("ngeoDownload")};Tt.$inject=["$injector","$filter"];Tt.$inject=["$injector","$filter"];Tt.prototype.setProjection=function(t){this.projection_=t};Tt.prototype.setStyle=function(t,e){var n=this.getStyle(t);if(e){if(this.supportsVertex_(t)){n.push(this.getVertexStyle())}n.unshift(this.getHaloStyle_(t))}t.setStyle(n)};Tt.prototype.getStyle=function(t){var e=this.getType(t);var n;switch(e){case s["a"].LINE_STRING:n=this.getLineStringStyle_(t);break;case s["a"].POINT:n=this.getPointStyle_(t);break;case s["a"].CIRCLE:case s["a"].POLYGON:case s["a"].RECTANGLE:n=this.getPolygonStyle_(t);break;case s["a"].TEXT:n=this.getTextStyle_(t);break;default:break}b["a"].assert(n,"Style should be thruthy");var r;if(n.constructor===Array){r=n}else{r=[n]}return r};Tt.prototype.getLineStringStyle_=function(t){var e=this.getStrokeProperty(t);var n=this.getShowLabelProperty(t);var r=this.getShowMeasureProperty(t);var i=this.getRGBAColorProperty(t);var a=[new wt["c"]({stroke:new Ot["a"]({color:i,width:e})})];var o=[];if(r){o.push(this.getMeasure(t))}if(n){o.push(this.getNameProperty(t))}if(n||r){var s=o.join("\n");a.push(new wt["c"]({text:this.createTextStyle_({text:s})}))}return a};Tt.prototype.getPointStyle_=function(t){var e=this.getSizeProperty(t);var n=this.getRGBAColorProperty(t);var r=this.getShowLabelProperty(t);var i=this.getShowMeasureProperty(t);var a=[new wt["c"]({image:new yt["a"]({radius:e,fill:new _t["a"]({color:n})})})];var o=[];if(i){o.push(this.getMeasure(t))}if(r){o.push(this.getNameProperty(t))}if(r||i){var s=o.join("\n");var u=10;var l=1.3;a.push(new wt["c"]({text:this.createTextStyle_({text:s,size:u,offsetY:-(e+u/2*o.length*l+4)})}))}return a};Tt.prototype.optNumber=function(t,e){var n=t.get(e);if(n!==undefined){if(typeof n=="string"){return+n}else{return b["a"].assertNumber(n)}}else{return undefined}};Tt.prototype.getNumber=function(t,e){var n=t.get(e);if(typeof n=="string"){return+n}else{return b["a"].assertNumber(n)}};Tt.prototype.getPolygonStyle_=function(t){var e=this.getStrokeProperty(t);var n=this.getOpacityProperty(t);var r=this.getRGBAColorProperty(t);var i=this.getShowLabelProperty(t);var a=this.getShowMeasureProperty(t);var o=r.slice();o[3]=n;var s=this.optNumber(t,d["a"].AZIMUT);var u=[new wt["c"]({fill:new _t["a"]({color:o}),stroke:new Ot["a"]({color:r,width:e})})];if(a||i){if(a&&s!==undefined){var l=this.getRadiusLine(t,s);var c=p["a"].getFormattedLength(l,this.projection_,this.precision_,this.unitPrefixFormat_);u.push(new wt["c"]({geometry:l,fill:new _t["a"]({color:o}),stroke:new Ot["a"]({color:r,width:e}),text:this.createTextStyle_({text:c,angle:(s%180+180)%180-90})}));u.push(new wt["c"]({geometry:new T["a"](l.getLastCoordinate()),text:this.createTextStyle_({text:this.numberFormat_(s,this.decimals_)+"°",size:10,offsetX:Math.cos((s-90)*Math.PI/180)*20,offsetY:Math.sin((s-90)*Math.PI/180)*20})}));if(i){u.push(new wt["c"]({text:this.createTextStyle_({text:this.getNameProperty(t),offsetY:-8,exceedLength:true})}))}}else{var h=[];if(a){h.push(this.getMeasure(t))}if(i){h.push(this.getNameProperty(t))}if(i||a){var f=h.join("\n");u.push(new wt["c"]({text:this.createTextStyle_({text:f,exceedLength:true})}))}}}return u};Tt.prototype.getTextStyle_=function(t){return new wt["c"]({text:this.createTextStyle_({text:this.getNameProperty(t),size:this.getSizeProperty(t),angle:this.getAngleProperty(t),color:this.getRGBAColorProperty(t),width:this.getStrokeProperty(t)})})};Tt.prototype.createEditingStyles=function(t){var e=[255,255,255,1];var n=[0,153,255,1];var r=3;var i=[];var a=t.getGeometry();console.assert(a);var o=a.getType();if(o==="Point"){i.push(new wt["c"]({image:new yt["a"]({radius:r*2,fill:new _t["a"]({color:n}),stroke:new Ot["a"]({color:e,width:r/2})}),zIndex:Infinity}))}else{if(o==="LineString"){i.push(new wt["c"]({stroke:new Ot["a"]({color:e,width:r+2})}));i.push(new wt["c"]({stroke:new Ot["a"]({color:n,width:r})}))}else{i.push(new wt["c"]({stroke:new Ot["a"]({color:n,width:r/2}),fill:new _t["a"]({color:[255,255,255,.5]})}))}i.push(this.getVertexStyle(true))}return i};Tt.prototype.getVertexInfoAtCoordinate=function(t,e,n){var r=null;if(this.supportsVertexRemoval_(t)){var i=n*Tt.VertexStyleRegularShapeRadius;var a=null;var o=null;var s=null;var u;var l=t.getGeometry();if(l instanceof w["a"]){a=l.getCoordinates();u=2}else if(l instanceof x["b"]){o=l.getCoordinates();u=4}else if(l instanceof S["a"]){o=l.getCoordinates();u=2}else if(l instanceof E["a"]){s=l.getCoordinates();u=4}if(a){var c=this.getCoordinateIndexThatHitsAt_(a,e,u,i);if(c!==-1){r=[c]}}else if(o){var h=o.length;for(var f=0;f<h;f++){var d=this.getCoordinateIndexThatHitsAt_(o[f],e,u,i);if(d!==-1){r=[f,d];break}}}else if(s){var p=s.length;for(var v=0;v<p;v++){var g=s[v];var m=g.length;for(var y=0;y<m;y++){var _=this.getCoordinateIndexThatHitsAt_(g[y],e,u,i);if(_!==-1){r=[v,y,_];break}}if(r){break}}}}return r};Tt.prototype.getCoordinateIndexThatHitsAt_=function(t,e,n,r){var i=-1;var a=t.length;if(a>n){for(var o=0;o<a;o++){var s=O["f"](O["c"](O["m"](t[o]),r),e);if(s){i=o;break}}}return i};Tt.prototype.getVertexStyle=function(t){var e=t!==undefined?t:true;var n={image:new bt["a"]({radius:Tt.VertexStyleRegularShapeRadius,points:4,angle:Math.PI/4,fill:new _t["a"]({color:[255,255,255,.5]}),stroke:new Ot["a"]({color:[0,0,0,1]})})};if(e){n.geometry=function(t){var e=t.getGeometry();if(e.getType()=="Point"){return}var n;var r=[];var i=[];var a,o;if(e instanceof w["a"]){i=e.getCoordinates()}else if(e instanceof S["a"]){r=e.getCoordinates()}else if(e instanceof x["b"]){i=e.getCoordinates()[0]}else if(e instanceof E["a"]){n=e.getCoordinates()}if(n){for(a=0,o=n.length;a<o;a++){r=r.concat(n[a])}}for(a=0,o=r.length;a<o;a++){i=i.concat(r[a])}if(i.length){return new l["a"](i)}else{return e}}}return new wt["c"](n)};Tt.prototype.removeVertex=function(t,e){var n=false;var r=t.getGeometry();b["a"].assertInstanceof(r,v["a"]);var i=r.getCoordinates();if(r instanceof w["a"]){var a=e[0];if(i.length>2){i.splice(a,1);n=true}}else if(r instanceof x["b"]){var o=e[0];var s=e[1];var u=i[o];if(u.length>4){u.splice(s,1);n=true;if(s===0){u.pop();u.push(u[0])}}}else if(r instanceof S["a"]){var l=e[0];var c=e[1];if(i[l].length>2){i[l].splice(c,1);n=true}}else if(r instanceof E["a"]){var h=e[0];var f=e[1];var d=e[2];var p=i[h][f];if(p.length>4){p.splice(d,1);n=true;if(d===0){p.pop();p.push(p[0])}}}if(n){r.setCoordinates(i)}};Tt.prototype.supportsVertex_=function(t){var e=[s["a"].LINE_STRING,s["a"].MULTI_LINE_STRING,s["a"].MULTI_POLYGON,s["a"].POLYGON,s["a"].RECTANGLE];var n=this.getType(t);return a["f"](e,n)};Tt.prototype.supportsVertexRemoval_=function(t){var e=[s["a"].LINE_STRING,s["a"].MULTI_LINE_STRING,s["a"].MULTI_POLYGON,s["a"].POLYGON];var n=this.getType(t);return a["f"](e,n)};Tt.prototype.getHaloStyle_=function(t){var e=this.getType(t);var n;var r=3;switch(e){case s["a"].POINT:var i=this.getSizeProperty(t);n=new wt["c"]({image:new yt["a"]({radius:i+r,fill:new _t["a"]({color:[255,255,255,1]})})});break;case s["a"].LINE_STRING:case s["a"].CIRCLE:case s["a"].POLYGON:case s["a"].RECTANGLE:var a=this.getStrokeProperty(t);n=new wt["c"]({stroke:new Ot["a"]({color:[255,255,255,1],width:a+r*2})});break;case s["a"].TEXT:n=new wt["c"]({text:this.createTextStyle_({text:this.getNameProperty(t),size:this.getSizeProperty(t),angle:this.getAngleProperty(t),width:r*3})});break;default:break}b["a"].assert(n,"Style should be thruthy");return n};Tt.getFilteredFeatureValues=function(t){var e=t.getProperties();delete e["boundedBy"];delete e[t.getGeometryName()];delete e["ngeo_feature_type_"];return e};Tt.prototype.getAngleProperty=function(t){var e=+t.get(d["a"].ANGLE);b["a"].assertNumber(e);return e};Tt.prototype.getColorProperty=function(t){var e=b["a"].assertString(t.get(d["a"].COLOR));b["a"].assertString(e);return e};Tt.prototype.getRGBAColorProperty=function(t){return o["c"](this.getColorProperty(t))};Tt.prototype.getNameProperty=function(t){var e=b["a"].assertString(t.get(d["a"].NAME));b["a"].assertString(e);return e};Tt.prototype.getOpacityProperty=function(t){return this.getNumber(t,d["a"].OPACITY)};Tt.prototype.getShowMeasureProperty=function(t){var e=t.get(d["a"].SHOW_MEASURE);if(e===undefined){e=false}else if(typeof e==="string"){e=e==="true"?true:false}return b["a"].assertBoolean(e)};Tt.prototype.getShowLabelProperty=function(t){var e=t.get(d["a"].SHOW_LABEL);if(e===undefined){e=false}else if(typeof e==="string"){e=e==="true"?true:false}return b["a"].assertBoolean(e)};Tt.prototype.getSizeProperty=function(t){return this.getNumber(t,d["a"].SIZE)};Tt.prototype.getStrokeProperty=function(t){return this.getNumber(t,d["a"].STROKE)};Tt.prototype.export=function(t,e){switch(e){case Tt.FormatType.GPX:this.exportGPX(t);break;case Tt.FormatType.KML:this.exportKML(t);break;default:break}};Tt.prototype.exportGPX=function(t){var e=new gt;var n="application/gpx+xml";var r="export.gpx";this.export_(t,e,r,n)};Tt.prototype.exportKML=function(t){var e=new mt["a"];var n="application/vnd.google-earth.kml+xml";var r="export.kml";this.export_(t,e,r,n)};Tt.prototype.export_=function(t,e,n,r){var i=this;var a=r!==undefined?r:"text/plain";var o=[];var s;t.forEach(function(t){s=new c["a"](t.getProperties());i.setStyle(s,false);o.push(s)});var u=this.projection_?{dataProjection:"EPSG:4326",featureProjection:this.projection_}:{};var l=e.writeFeatures(o,u);this.download_(l,n,a+";charset=utf-8")};Tt.prototype.createTextStyle_=function(t){if(t.angle){var e=t.angle!==undefined?t.angle:0;var n=e*Math.PI/180;t.rotation=n;delete t.angle}t.font=["normal",(t.size||10)+"pt","Arial"].join(" ");if(t.color){t.fill=new _t["a"]({color:t.color||[0,0,0,1]});delete t.color}t.stroke=new Ot["a"]({color:[255,255,255,1],width:t.width||3});delete t.width;return new St["a"](t)};Tt.prototype.getMeasure=function(t){var e=t.getGeometry();b["a"].assert(e,"Geometry should be truthy");var n="";if(e instanceof x["b"]){if(this.getType(t)===s["a"].CIRCLE){var r=this.optNumber(t,d["a"].AZIMUT);b["a"].assertNumber(r);var i=this.getRadiusLine(t,r);n=u["a"].getFormattedAzimutRadius(i,this.projection_,this.decimals_,this.precision_,this.unitPrefixFormat_,this.numberFormat_)}else{n=p["a"].getFormattedArea(e,this.projection_,this.precision_,this.unitPrefixFormat_)}}else if(e instanceof w["a"]){n=p["a"].getFormattedLength(e,this.projection_,this.precision_,this.unitPrefixFormat_)}else if(e instanceof T["a"]){if(this.pointFilterFn_===null){n=p["a"].getFormattedPoint(e,this.decimals_,this.ngeoNumberCoordinates_)}else{var a=e.getCoordinates();var o=this.pointFilterArgs_.slice(0);o.unshift(a);n=this.pointFilterFn_.apply(this,o)}}return n};Tt.prototype.getType=function(t){var e=t.getGeometry();b["a"].assert(e,"Geometry should be thruthy");var n;if(e instanceof T["a"]){if(t.get(d["a"].IS_TEXT)){n=s["a"].TEXT}else{n=s["a"].POINT}}else if(e instanceof l["a"]){n=s["a"].MULTI_POINT}else if(e instanceof x["b"]){if(t.get(d["a"].IS_CIRCLE)){n=s["a"].CIRCLE}else if(t.get(d["a"].IS_RECTANGLE)){n=s["a"].RECTANGLE}else{n=s["a"].POLYGON}}else if(e instanceof E["a"]){n=s["a"].MULTI_POLYGON}else if(e instanceof w["a"]){n=s["a"].LINE_STRING}else if(e instanceof S["a"]){n=s["a"].MULTI_LINE_STRING}b["a"].assert(n,"Type should be thruthy");return n};Tt.prototype.fitMapToFeature=function(t,e,n){var r=n!==undefined?n:250;var i=e.getSize();b["a"].assertArray(i);var a=e.getView();var o=a.calculateExtent(i);var s=t.getGeometry();var u=s.intersectsExtent(o);var l=a.getCenter();b["a"].assertArray(l);var c=s.getExtent();if(u){if(!(s instanceof T["a"])){var h=a.getResolutionForExtent(c);var f=Math.floor(a.getZoomForResolution(h));var d=a.getZoom();if(f<d){a.animate({center:l,duration:r},{center:l,duration:r,zoom:f})}}}else{var p=O["A"](c);var v=O["E"](c);var g=O["A"](o);var m=O["E"](o);var y=g>=p&&m>=v;if(y){var _;if(s instanceof w["a"]){_=s.getCoordinateAt(.5)}else if(s instanceof x["b"]){_=s.getInteriorPoint().getCoordinates()}else if(s instanceof T["a"]){_=s.getCoordinates()}else{_=O["x"](s.getExtent())}a.animate({center:l,duration:r},{center:_,duration:r})}else{a.fit(c,{duration:r,size:i})}}};Tt.prototype.getRadiusLine=function(t,e){var n=t.getGeometry();var r=n.getExtent();var i=(r[3]-r[1])/2;var a=O["x"](n.getExtent());var o=Math.cos((e-90)*Math.PI/180)*i;var s=-Math.sin((e-90)*Math.PI/180)*i;var u=[o+a[0],s+a[1]];return new w["a"]([a,u])};Tt.prototype.getNonSpatialProperties=function(t){var e=t.getGeometryName();var n={};var r=t.getProperties();for(var i in r){if(i!==e){n[i]=r[i]}}return n};Tt.prototype.clearNonSpatialProperties=function(t){var e=t.getGeometryName();var n=t.getProperties();for(var r in n){if(r!==e){t.set(r,undefined)}}};Tt.FormatType={GPX:"GPX",KML:"KML"};Tt.VertexStyleRegularShapeRadius=6;Tt.module=angular.module("ngeoFeatureHelper",[i["a"].name,r["a"].name]);Tt.module.service("ngeoFeatureHelper",Tt);var xt=e["a"]=Tt},function(t,e,n){"use strict";n.d(e,"b",function(){return a});n.d(e,"a",function(){return _});n.d(e,"c",function(){return r});var c=n(14);var p=n(7);
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */var v=6371008.8;function a(t,e,n){var r=n||v;var i=Object(c["i"])(t[1]);var a=Object(c["i"])(e[1]);var o=(a-i)/2;var s=Object(c["i"])(e[0]-t[0])/2;var u=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(a);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function g(t,e){var n=0;for(var r=0,i=t.length;r<i-1;++r){n+=a(t[r],t[r+1],e)}return n}function m(t,e){var n=e||{};var r=n.radius||v;var i=n.projection||"EPSG:3857";var a=t.getType();if(a!==p["a"].GEOMETRY_COLLECTION){t=t.clone().transform(i,"EPSG:4326")}var o=0;var s,u,l,c,h,f;switch(a){case p["a"].POINT:case p["a"].MULTI_POINT:{break}case p["a"].LINE_STRING:case p["a"].LINEAR_RING:{s=t.getCoordinates();o=g(s,r);break}case p["a"].MULTI_LINE_STRING:case p["a"].POLYGON:{s=t.getCoordinates();for(l=0,c=s.length;l<c;++l){o+=g(s[l],r)}break}case p["a"].MULTI_POLYGON:{s=t.getCoordinates();for(l=0,c=s.length;l<c;++l){u=s[l];for(h=0,f=u.length;h<f;++h){o+=g(u[h],r)}}break}case p["a"].GEOMETRY_COLLECTION:{var d=t.getGeometries();for(l=0,c=d.length;l<c;++l){o+=m(d[l],e)}break}default:{throw new Error("Unsupported geometry type: "+a)}}return o}function y(t,e){var n=0;var r=t.length;var i=t[r-1][0];var a=t[r-1][1];for(var o=0;o<r;o++){var s=t[o][0];var u=t[o][1];n+=Object(c["i"])(s-i)*(2+Math.sin(Object(c["i"])(a))+Math.sin(Object(c["i"])(u)));i=s;a=u}return n*e*e/2}function _(t,e){var n=e||{};var r=n.radius||v;var i=n.projection||"EPSG:3857";var a=t.getType();if(a!==p["a"].GEOMETRY_COLLECTION){t=t.clone().transform(i,"EPSG:4326")}var o=0;var s,u,l,c,h,f;switch(a){case p["a"].POINT:case p["a"].MULTI_POINT:case p["a"].LINE_STRING:case p["a"].MULTI_LINE_STRING:case p["a"].LINEAR_RING:{break}case p["a"].POLYGON:{s=t.getCoordinates();o=Math.abs(y(s[0],r));for(l=1,c=s.length;l<c;++l){o-=Math.abs(y(s[l],r))}break}case p["a"].MULTI_POLYGON:{s=t.getCoordinates();for(l=0,c=s.length;l<c;++l){u=s[l];o+=Math.abs(y(u[0],r));for(h=1,f=u.length;h<f;++h){o-=Math.abs(y(u[h],r))}}break}case p["a"].GEOMETRY_COLLECTION:{var d=t.getGeometries();for(l=0,c=d.length;l<c;++l){o+=_(d[l],e)}break}default:{throw new Error("Unsupported geometry type: "+a)}}return o}function r(t,e,n,r){var i=r||v;var a=Object(c["i"])(t[1]);var o=Object(c["i"])(t[0]);var s=e/i;var u=Math.asin(Math.sin(a)*Math.cos(s)+Math.cos(a)*Math.sin(s)*Math.cos(n));var l=o+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(a),Math.cos(s)-Math.sin(a)*Math.sin(u));return[Object(c["h"])(l),Object(c["h"])(u)]}},function(t,e,n){"use strict";e["a"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";n.d(e,"c",function(){return a});n.d(e,"d",function(){return u});n.d(e,"a",function(){return c});n.d(e,"b",function(){return g});var h=n(195);var f=n(92);var d=n(3);var o=n(206);var i=n(8);var r=n(67);var s=n(245);function a(t){var e=t.getDefaultTileGrid();if(!e){e=v(t);t.setDefaultTileGrid(e)}return e}function u(t,e,n){var r=e[0];var i=t.getTileCoordCenter(e);var a=g(n);if(!Object(d["f"])(a,i)){var o=Object(d["E"])(a);var s=Math.ceil((a[0]-i[0])/o);i[0]+=o*s;return t.getTileCoordForCoordAndZ(i,r)}else{return e}}function l(t,e,n,r){var i=r!==undefined?r:o["a"].TOP_LEFT;var a=p(t,e,n);return new s["a"]({extent:t,origin:Object(d["y"])(t,i),resolutions:a,tileSize:n})}function c(t){var e=t||{};var n=e.extent||Object(i["g"])("EPSG:3857").getExtent();var r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:p(n,e.maxZoom,e.tileSize)};return new s["a"](r)}function p(t,e,n){var r=e!==undefined?e:h["a"];var i=Object(d["A"])(t);var a=Object(d["E"])(t);var o=Object(f["d"])(n!==undefined?n:h["b"]);var s=Math.max(a/o[0],i/o[1]);var u=r+1;var l=new Array(u);for(var c=0;c<u;++c){l[c]=s/Math.pow(2,c)}return l}function v(t,e,n,r){var i=g(t);return l(i,e,n,r)}function g(t){t=Object(i["g"])(t);var e=t.getExtent();if(!e){var n=180*r["a"][r["b"].DEGREES]/t.getMetersPerUnit();e=Object(d["k"])(-n,-n,n,n)}return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n.d(e,"b",function(){return a});n.d(e,"d",function(){return d});var r=n(180);var i=1;var a="mouse";var c=25;function o(t){if(!this.isEventSimulatedFromTouch_(t)){if(i.toString()in this.pointerMap){this.cancel(t)}var e=d(t,this.dispatcher);this.pointerMap[i.toString()]=t;this.dispatcher.down(e,t)}}function s(t){if(!this.isEventSimulatedFromTouch_(t)){var e=d(t,this.dispatcher);this.dispatcher.move(e,t)}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[i.toString()];if(e&&e.button===t.button){var n=d(t,this.dispatcher);this.dispatcher.up(n,t);this.cleanupMouse()}}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=d(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function h(t){if(!this.isEventSimulatedFromTouch_(t)){var e=d(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var f=function(n){function t(t){var e={mousedown:o,mousemove:s,mouseup:u,mouseover:l,mouseout:h};n.call(this,t,e);this.pointerMap=t.pointerMap;this.lastTouches=[]}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.isEventSimulatedFromTouch_=function t(e){var n=this.lastTouches;var r=e.clientX;var i=e.clientY;for(var a=0,o=n.length,s=void 0;a<o&&(s=n[a]);a++){var u=Math.abs(r-s[0]);var l=Math.abs(i-s[1]);if(u<=c&&l<=c){return true}}return false};t.prototype.cancel=function t(e){var n=d(e,this.dispatcher);this.dispatcher.cancel(n,e);this.cleanupMouse()};t.prototype.cleanupMouse=function t(){delete this.pointerMap[i.toString()]};return t}(r["a"]);function d(t,e){var n=e.cloneEvent(t,t);var r=n.preventDefault;n.preventDefault=function(){t.preventDefault();r()};n.pointerId=i;n.isPrimary=true;n.pointerType=a;return n}e["c"]=f},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="1.3.0"},function(t,e,n){"use strict";function h(t,e,n,r){while(e<n-r){for(var i=0;i<r;++i){var a=t[e+i];t[e+i]=t[n-r+i];t[n-r+i]=a}e+=r;n-=r}}n.d(e,"a",function(){return s});n.d(e,"b",function(){return r});n.d(e,"c",function(){return u});n.d(e,"d",function(){return i});function f(t,e,n,r){var i=0;var a=t[n-r];var o=t[n-r+1];for(;e<n;e+=r){var s=t[e];var u=t[e+1];i+=(s-a)*(u+o);a=s;o=u}return i>0}function s(t,e,n,r,i){var a=i!==undefined?i:false;for(var o=0,s=n.length;o<s;++o){var u=n[o];var l=f(t,e,u,r);if(o===0){if(a&&l||!a&&!l){return false}}else{if(a&&!l||!a&&l){return false}}e=u}return true}function r(t,e,n,r,i){for(var a=0,o=n.length;a<o;++a){if(!s(t,e,n[a],r,i)){return false}}return true}function u(t,e,n,r,i){var a=i!==undefined?i:false;for(var o=0,s=n.length;o<s;++o){var u=n[o];var l=f(t,e,u,r);var c=o===0?a&&l||!a&&!l:a&&!l||!a&&l;if(c){h(t,e,u,r)}e=u}return e}function i(t,e,n,r,i){for(var a=0,o=n.length;a<o;++a){e=u(t,e,n[a],r,i)}return e}},function(t,e){},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function i(t,e,n){if(e)r(t.prototype,e);if(n)r(t,n);return t}var a=function(){function t(t){this.inRange_=t.inRange!==false;this.visible_=t.visible===true;this.attributes=t.attributes||null;this.id_=t.id;this.identifierAttribute_=t.identifierAttribute;this.maxResolution_=t.maxResolution;this.minResolution_=t.minResolution;this.name_=t.name}var e=t.prototype;e.getAttributes=function t(){return this.attributes};e.setAttributes=function t(e){this.attributes=e};i(t,[{key:"inRange",get:function t(){return this.inRange_},set:function t(e){this.inRange_=e}},{key:"visible",get:function t(){return this.visible_},set:function t(e){this.visible_=e}},{key:"id",get:function t(){return this.id_}},{key:"identifierAttribute",get:function t(){return this.identifierAttribute_}},{key:"maxResolution",get:function t(){return this.maxResolution_}},{key:"minResolution",get:function t(){return this.minResolution_}},{key:"name",get:function t(){return this.name_}},{key:"queryable",get:function t(){return false}},{key:"supportsDynamicInRange",get:function t(){return this.maxResolution!==null||this.minResolution!==null}}]);return t}();e["a"]=a},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});var r=42;var i=256},function(t,e,n){"use strict";var i=n(3);var s=n(71);var r=n(63);var p=n(4);var v=n(10);var g=n(8);var m=n(0);var a=r["a"]+" http://schemas.opengis.net/gml/2.1.2/feature.xsd";var o={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};var u=function(n){function t(t){var e=t?t:{};n.call(this,e);this.FEATURE_COLLECTION_PARSERS[r["a"]]["featureMember"]=Object(m["i"])(this.readFeaturesInternal);this.schemaLocation=e.schemaLocation?e.schemaLocation:a}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.readFlatCoordinates_=function t(e,n){var r=Object(m["e"])(e,false).replace(/^\s*|\s*$/g,"");var i=n[0];var a=i["srsName"];var o="enu";if(a){var s=Object(g["g"])(a);if(s){o=s.getAxisOrientation()}}var u=r.trim().split(/\s+/);var l=[];for(var c=0,h=u.length;c<h;c++){var f=u[c].split(/,+/);var d=parseFloat(f[0]);var p=parseFloat(f[1]);var v=f.length===3?parseFloat(f[2]):0;if(o.substr(0,2)==="en"){l.push(d,p,v)}else{l.push(p,d,v)}}return l};t.prototype.readBox_=function t(e,n){var r=Object(m["t"])([null],this.BOX_PARSERS_,e,n,this);return Object(i["k"])(r[1][0],r[1][1],r[1][3],r[1][4])};t.prototype.innerBoundaryIsParser_=function t(e,n){var r=Object(m["t"])(undefined,this.RING_PARSERS,e,n,this);if(r){var i=n[n.length-1];i.push(r)}};t.prototype.outerBoundaryIsParser_=function t(e,n){var r=Object(m["t"])(undefined,this.RING_PARSERS,e,n,this);if(r){var i=n[n.length-1];i[0]=r}};t.prototype.GEOMETRY_NODE_FACTORY_=function t(e,n,r){var i=n[n.length-1];var a=i["multiSurface"];var o=i["surface"];var s=i["multiCurve"];var u;if(!Array.isArray(e)){u=e.getType();if(u==="MultiPolygon"&&a===true){u="MultiSurface"}else if(u==="Polygon"&&o===true){u="Surface"}else if(u==="MultiLineString"&&s===true){u="MultiCurve"}}else{u="Envelope"}return Object(m["d"])("http://www.opengis.net/gml",u)};t.prototype.writeFeatureElement=function t(e,n,r){var i=n.getId();if(i){e.setAttribute("fid",i)}var a=r[r.length-1];var o=a["featureNS"];var s=n.getGeometryName();if(!a.serializers){a.serializers={};a.serializers[o]={}}var u=n.getProperties();var l=[];var c=[];for(var h in u){var f=u[h];if(f!==null){l.push(h);c.push(f);if(h==s||typeof f.getSimplifiedGeometry==="function"){if(!(h in a.serializers[o])){a.serializers[o][h]=Object(m["k"])(this.writeGeometryElement,this)}}else{if(!(h in a.serializers[o])){a.serializers[o][h]=Object(m["k"])(p["n"])}}}}var d=Object(v["a"])({},a);d.node=e;Object(m["u"])(d,a.serializers,Object(m["p"])(undefined,o),c,r,l)};t.prototype.writeCurveOrLineString_=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(e.nodeName!=="LineStringSegment"&&a){e.setAttribute("srsName",a)}if(e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o);this.writeCoordinates_(o,n,r)}else if(e.nodeName==="Curve"){var s=Object(m["d"])(e.namespaceURI,"segments");e.appendChild(s);this.writeCurveSegments_(s,n,r)}};t.prototype.writeLineStringOrCurveMember_=function t(e,n,r){var i=this.GEOMETRY_NODE_FACTORY_(n,r);if(i){e.appendChild(i);this.writeCurveOrLineString_(i,n,r)}};t.prototype.writeMultiCurveOrLineString_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];var s=i["curve"];if(o){e.setAttribute("srsName",o)}var u=n.getLineStrings();Object(m["u"])({node:e,hasZ:a,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,r,undefined,this)};t.prototype.writeGeometryElement=function t(e,n,r){var i=r[r.length-1];var a=Object(v["a"])({},i);a["node"]=e;var o;if(Array.isArray(n)){if(i.dataProjection){o=Object(g["n"])(n,i.featureProjection,i.dataProjection)}else{o=n}}else{o=Object(s["b"])(n,true,i)}Object(m["u"])(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],r,undefined,this)};t.prototype.createCoordinatesNode_=function t(e){var n=Object(m["d"])(e,"coordinates");n.setAttribute("decimal",".");n.setAttribute("cs",",");n.setAttribute("ts"," ");return n};t.prototype.writeCoordinates_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];var s=n.getCoordinates();var u=s.length;var l=new Array(u);for(var c=0;c<u;++c){var h=s[c];l[c]=this.getCoords_(h,o,a)}Object(p["n"])(e,l.join(" "))};t.prototype.writeCurveSegments_=function t(e,n,r){var i=Object(m["d"])(e.namespaceURI,"LineStringSegment");e.appendChild(i);this.writeCurveOrLineString_(i,n,r)};t.prototype.writeSurfaceOrPolygon_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];if(e.nodeName!=="PolygonPatch"&&o){e.setAttribute("srsName",o)}if(e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var s=n.getLinearRings();Object(m["u"])({node:e,hasZ:a,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,s,r,undefined,this)}else if(e.nodeName==="Surface"){var u=Object(m["d"])(e.namespaceURI,"patches");e.appendChild(u);this.writeSurfacePatches_(u,n,r)}};t.prototype.RING_NODE_FACTORY_=function t(e,n,r){var i=n[n.length-1];var a=i.node;var o=i["exteriorWritten"];if(o===undefined){i["exteriorWritten"]=true}return Object(m["d"])(a.namespaceURI,o!==undefined?"innerBoundaryIs":"outerBoundaryIs")};t.prototype.writeSurfacePatches_=function t(e,n,r){var i=Object(m["d"])(e.namespaceURI,"PolygonPatch");e.appendChild(i);this.writeSurfaceOrPolygon_(i,n,r)};t.prototype.writeRing_=function t(e,n,r){var i=Object(m["d"])(e.namespaceURI,"LinearRing");e.appendChild(i);this.writeLinearRing_(i,n,r)};t.prototype.getCoords_=function t(e,n,r){var i="enu";if(n){i=Object(g["g"])(n).getAxisOrientation()}var a=i.substr(0,2)==="en"?e[0]+","+e[1]:e[1]+","+e[0];if(r){var o=e[2]||0;a+=","+o}return a};t.prototype.writePoint_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];if(o){e.setAttribute("srsName",o)}var s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);var u=n.getCoordinates();var l=this.getCoords_(u,o,a);Object(p["n"])(s,l)};t.prototype.writeMultiPoint_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];if(o){e.setAttribute("srsName",o)}var s=n.getPoints();Object(m["u"])({node:e,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS_,Object(m["p"])("pointMember"),s,r,undefined,this)};t.prototype.writePointMember_=function t(e,n,r){var i=Object(m["d"])(e.namespaceURI,"Point");e.appendChild(i);this.writePoint_(i,n,r)};t.prototype.writeLinearRing_=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(a){e.setAttribute("srsName",a)}var o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o);this.writeCoordinates_(o,n,r)};t.prototype.writeMultiSurfaceOrPolygon_=function t(e,n,r){var i=r[r.length-1];var a=i["hasZ"];var o=i["srsName"];var s=i["surface"];if(o){e.setAttribute("srsName",o)}var u=n.getPolygons();Object(m["u"])({node:e,hasZ:a,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,r,undefined,this)};t.prototype.writeSurfaceOrPolygonMember_=function t(e,n,r){var i=this.GEOMETRY_NODE_FACTORY_(n,r);if(i){e.appendChild(i);this.writeSurfaceOrPolygon_(i,n,r)}};t.prototype.writeEnvelope=function t(e,n,r){var i=r[r.length-1];var a=i["srsName"];if(a){e.setAttribute("srsName",a)}var o=["lowerCorner","upperCorner"];var s=[n[0]+" "+n[1],n[2]+" "+n[3]];Object(m["u"])({node:e},this.ENVELOPE_SERIALIZERS_,m["b"],s,r,o,this)};t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function t(e,n,r){var i=n[n.length-1].node;return Object(m["d"])("http://www.opengis.net/gml",o[i.nodeName])};return t}(r["b"]);u.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Object(m["n"])(u.prototype.readFlatCoordinates_)}};u.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:u.prototype.innerBoundaryIsParser_,outerBoundaryIs:u.prototype.outerBoundaryIsParser_}};u.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(m["i"])(u.prototype.readFlatCoordinates_)}};u.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(m["n"])(r["b"].prototype.readPoint),MultiPoint:Object(m["n"])(r["b"].prototype.readMultiPoint),LineString:Object(m["n"])(r["b"].prototype.readLineString),MultiLineString:Object(m["n"])(r["b"].prototype.readMultiLineString),LinearRing:Object(m["n"])(r["b"].prototype.readLinearRing),Polygon:Object(m["n"])(r["b"].prototype.readPolygon),MultiPolygon:Object(m["n"])(r["b"].prototype.readMultiPolygon),Box:Object(m["n"])(u.prototype.readBox_)}};u.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(m["k"])(u.prototype.writeCurveOrLineString_),MultiCurve:Object(m["k"])(u.prototype.writeMultiCurveOrLineString_),Point:Object(m["k"])(u.prototype.writePoint_),MultiPoint:Object(m["k"])(u.prototype.writeMultiPoint_),LineString:Object(m["k"])(u.prototype.writeCurveOrLineString_),MultiLineString:Object(m["k"])(u.prototype.writeMultiCurveOrLineString_),LinearRing:Object(m["k"])(u.prototype.writeLinearRing_),Polygon:Object(m["k"])(u.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(m["k"])(u.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(m["k"])(u.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(m["k"])(u.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(m["k"])(u.prototype.writeEnvelope)}};u.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(m["k"])(u.prototype.writeLineStringOrCurveMember_),curveMember:Object(m["k"])(u.prototype.writeLineStringOrCurveMember_)}};u.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:Object(m["k"])(u.prototype.writeRing_),innerBoundaryIs:Object(m["k"])(u.prototype.writeRing_)}};u.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(m["k"])(u.prototype.writePointMember_)}};u.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(m["k"])(u.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(m["k"])(u.prototype.writeSurfaceOrPolygonMember_)}};u.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(m["k"])(p["n"]),upperCorner:Object(m["k"])(p["n"])}};e["a"]=u},function(t,e,n){"use strict";e["a"]={ACTIVE:"active"}},function(t,e,n){"use strict";var l=n(5);var r=n(217);var i=n.n(r);var a=n(3);var o=n(10);var s=function t(e){this.rbush_=i()(e,undefined);this.items_={}};s.prototype.insert=function t(e,n){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r);this.items_[Object(l["c"])(n)]=r};s.prototype.load=function t(e,n){var r=new Array(n.length);for(var i=0,a=n.length;i<a;i++){var o=e[i];var s=n[i];var u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};r[i]=u;this.items_[Object(l["c"])(s)]=u}this.rbush_.load(r)};s.prototype.remove=function t(e){var n=Object(l["c"])(e);var r=this.items_[n];delete this.items_[n];return this.rbush_.remove(r)!==null};s.prototype.update=function t(e,n){var r=this.items_[Object(l["c"])(n)];var i=[r.minX,r.minY,r.maxX,r.maxY];if(!Object(a["p"])(i,e)){this.remove(n);this.insert(e,n)}};s.prototype.getAll=function t(){var e=this.rbush_.all();return e.map(function(t){return t.value})};s.prototype.getInExtent=function t(e){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};var r=this.rbush_.search(n);return r.map(function(t){return t.value})};s.prototype.forEach=function t(e,n){return this.forEach_(this.getAll(),e,n)};s.prototype.forEachInExtent=function t(e,n,r){return this.forEach_(this.getInExtent(e),n,r)};s.prototype.forEach_=function t(e,n,r){var i;for(var a=0,o=e.length;a<o;a++){i=n.call(r,e[a]);if(i){return i}}return i};s.prototype.isEmpty=function t(){return Object(o["d"])(this.items_)};s.prototype.clear=function t(){this.rbush_.clear();this.items_={}};s.prototype.getExtent=function t(e){var n=this.rbush_.toJSON();return Object(a["k"])(n.minX,n.minY,n.maxX,n.maxY,e)};s.prototype.concat=function t(e){this.rbush_.load(e.rbush_.all());for(var n in e.items_){this.items_[n]=e.items_[n]}};e["a"]=s},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}},function(t,e,n){"use strict";var o=n(1);var s=n(112);var r=n(5);var u=n(26);var i=n(70);var a=function t(e,n,r){if(r===void 0){r={}}s["a"].call(this,r);this.continueMsg;if(r.continueMsg!==undefined){this.continueMsg=r.continueMsg}else{this.continueMsg=document.createElement("span");this.continueMsg.textContent=n.getString("Click to continue drawing the polygon.");var i=document.createElement("br");i.textContent=n.getString("Double-click or click starting point to finish.");this.continueMsg.appendChild(i)}this.format=e};r["d"](a,s["a"]);a.prototype.createDrawInteraction=function(t,e){return new i["a"]({type:"Polygon",source:e,style:t})};a.prototype.handleMeasure=function(t){var e=o["a"].assertInstanceof(this.sketchFeature.getGeometry(),u["b"]);var n=this.getMap().getView().getProjection();o["a"].assert(n);var r=s["a"].getFormattedArea(e,n,this.precision,this.format);var i=e.getCoordinates()[0].length;var a=null;if(i>3){a=e.getInteriorPoint().getCoordinates()}t(r,a)};e["a"]=a},function(t,e,n){"use strict";var a=n(1);var o=n(112);var r=n(5);var s=n(38);var i=n(70);var u=function t(e,n,r){if(r===void 0){r={}}o["a"].call(this,r);if(r.continueMsg!==undefined){this.continueMsg=r.continueMsg}else{this.continueMsg=document.createElement("span");this.continueMsg.textContent=n.getString("Click to continue drawing the line.");var i=document.createElement("br");i.textContent=n.getString("Double-click or click last point to finish.");this.continueMsg.appendChild(i)}this.format=e};r["d"](u,o["a"]);u.prototype.createDrawInteraction=function(t,e){return new i["a"]({type:"LineString",source:e,style:t})};u.prototype.handleMeasure=function(t){var e=a["a"].assertInstanceof(this.sketchFeature.getGeometry(),s["a"]);var n=this.getMap().getView().getProjection();a["a"].assert(n);var r=o["a"].getFormattedLength(e,n,this.precision,this.format);var i=e.getLastCoordinate();t(r,i)};e["a"]=u},function(t,e,n){"use strict";var o=n(39);var a=n(42);var s=n(2);var r=n(61);var u=n(47);var l=n(9);var i=n(54);var c=n(197);var h={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};var f=function(r){function t(t,e,n){r.call(this,t);this.features=e;this.coordinate=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(r["a"]);var d=function(i){function t(t){var e=t?t:{};i.call(this,e);this.lastCoordinate_=null;this.features_=e.features!==undefined?e.features:null;var n;if(e.layers){if(typeof e.layers==="function"){n=e.layers}else{var r=e.layers;n=function t(e){return Object(l["f"])(r,e)}}}else{n=u["b"]}this.layerFilter_=n;this.hitTolerance_=e.hitTolerance?e.hitTolerance:0;this.lastFeature_=null;Object(s["a"])(this,Object(a["b"])(c["a"].ACTIVE),this.handleActiveChanged_,this)}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.handleDownEvent=function t(e){this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate;this.handleMoveEvent(e);var n=this.features_||new o["a"]([this.lastFeature_]);this.dispatchEvent(new f(h.TRANSLATESTART,n,e.coordinate));return true}return false};t.prototype.handleUpEvent=function t(e){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(e);var n=this.features_||new o["a"]([this.lastFeature_]);this.dispatchEvent(new f(h.TRANSLATEEND,n,e.coordinate));return true}return false};t.prototype.handleDragEvent=function t(e){if(this.lastCoordinate_){var n=e.coordinate;var r=n[0]-this.lastCoordinate_[0];var i=n[1]-this.lastCoordinate_[1];var a=this.features_||new o["a"]([this.lastFeature_]);a.forEach(function(t){var e=t.getGeometry();e.translate(r,i);t.setGeometry(e)});this.lastCoordinate_=n;this.dispatchEvent(new f(h.TRANSLATING,a,n))}};t.prototype.handleMoveEvent=function t(e){var n=e.map.getViewport();if(this.featuresAtPixel_(e.pixel,e.map)){n.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing");n.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")}else{n.classList.remove("ol-grab","ol-grabbing")}};t.prototype.featuresAtPixel_=function t(e,n){return n.forEachFeatureAtPixel(e,function(t){if(!this.features_||Object(l["f"])(this.features_.getArray(),t)){return t}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};t.prototype.getHitTolerance=function t(){return this.hitTolerance_};t.prototype.setHitTolerance=function t(e){this.hitTolerance_=e};t.prototype.setMap=function t(e){var n=this.getMap();i.prototype.setMap.call(this,e);this.updateState_(n)};t.prototype.handleActiveChanged_=function t(){this.updateState_(null)};t.prototype.updateState_=function t(e){var n=this.getMap();var r=this.getActive();if(!n||!r){n=n||e;if(n){var i=n.getViewport();i.classList.remove("ol-grab","ol-grabbing")}}};return t}(i["b"]);e["a"]=d},function(t,e,n){"use strict";var r=n(2);var i=function t(e,n){this.manager_=e;this.features_=null;this.index_=n};i.prototype.addFeature=function(t){this.manager_.addFeature(t,this.index_)};i.prototype.removeFeature=function(t){this.manager_.removeFeature(t,this.index_)};i.prototype.clear=function(){this.manager_.clear(this.index_)};i.prototype.setFeatures=function(t){var e=this;if(this.features_!==null){this.features_.clear();r["c"](this.features_,"add",this.handleFeatureAdd_,this);r["c"](this.features_,"remove",this.handleFeatureRemove_,this)}if(t!==null){t.forEach(function(t){e.addFeature(t)});r["a"](t,"add",this.handleFeatureAdd_,this);r["a"](t,"remove",this.handleFeatureRemove_,this)}this.features_=t};i.prototype.setStyle=function(t){this.manager_.setStyle(t,this.index_)};i.prototype.handleFeatureAdd_=function(t){var e=t.element;this.addFeature(e)};i.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature(e)};i.module=angular.module("ngeoFeatureOverlay",[]);e["a"]=i},function(t,e,n){"use strict";var r=n(1);var i=n(303);var a=angular.module("ngeoPopup",["ngSanitize"]);a.value("ngeoPopupTemplateUrl",function(t,e){var n=e["ngeoPopupTemplateurl"];return n!==undefined?n:"ngeo/message/popupcomponent"});a.run(["$templateCache",function(t){t.put("ngeo/message/popupcomponent",n(441))}]);a.directive_=function(t){return{restrict:"A",templateUrl:t,link:function t(e,n,r){n.addClass("popover");e.close=function(t){if(t){t.stopPropagation();t.preventDefault()}n.addClass("hidden")};e.$watch("open",function(t,e){n.css("display",t?"block":"none")})}}};a.directive_.$inject=["ngeoPopupTemplateUrl"];a.directive("ngeoPopup",a.directive_);var o=a;var s=function t(e,n,r,i){var a=this;this.scope=n.$new(true);this.scope.$watch(function(){return a.scope["open"]},function(t){if(!t&&a.autoDestroy_){a.timeout_(function(){a.destroy()})}});this.sce_=r;this.timeout_=i;this.element_=angular.element("<div ngeo-popup></div>");this.autoDestroy_=false;e(this.element_)(this.scope);angular.element(document.body).append(this.element_)};s.prototype.getOpen=function(){return this.scope["open"]};s.prototype.setOpen=function(t){this.scope["open"]=t};s.prototype.destroy=function(){this.scope.$destroy();this.element_.remove()};s.prototype.setTitle=function(t){var e=this.sce_.trustAsHtml(t);this.scope["title"]=e};s.prototype.setContent=function(t,e){this.scope["content"]=e?this.sce_.trustAsHtml(t):t};s.prototype.setUrl=function(t){var e=this.sce_.trustAsHtml('<iframe src="'+t+'" width="100%" height="100%"></iframe>');this.setContent(e)};s.prototype.setWidth=function(t){this.element_.width(t)};s.prototype.setHeight=function(t){this.element_.height(t)};s.prototype.setSize=function(t,e){this.setWidth(t);this.setHeight(e)};s.prototype.setAutoDestroy=function(t){this.autoDestroy_=t};s.prototype.addClass=function(t){this.element_.addClass(t)};s.prototype.open=function(t){if(t.url){this.setUrl(t.url)}else if(t.content){this.setContent(t.content)}else{r["a"].fail('ngeo.message.Popup options requirest "url" or "content".')}if(t.autoDestroy!==undefined){this.setAutoDestroy(t.autoDestroy)}if(t.cls!==undefined){this.addClass(t.cls)}if(t.height!==undefined){this.setHeight(t.height)}if(t.title!==undefined){this.setTitle(t.title)}if(t.width!==undefined){this.setWidth(t.width)}this.setOpen(true)};s.Factory=function(t,e,n,r){return function(){return new s(t,e,n,r)}};s.Factory.$inject=["$compile","$rootScope","$sce","$timeout"];s.module=angular.module("ngeoCreatePopup",[o.name]);s.module.factory("ngeoCreatePopup",s.Factory);var u=e["a"]=s},function(t,e,n){"use strict";var h=n(5);var f=n(32);var d=n(20);var p=n(75);var r=n(2);var i=n(11);var v=n(114);var a=n(48);var o=n(128);var s=n(239);var u=function(o){function t(t,e,n,r,i,a){o.call(this);this.hitDetectionImage_=null;this.image_=!t?new Image:t;if(r!==null){this.image_.crossOrigin=r}this.canvas_=a?document.createElement("canvas"):null;this.color_=a;this.imageListenerKeys_=null;this.imageState_=i;this.size_=n;this.src_=e;this.tainted_}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.isTainted_=function t(){if(this.tainted_===undefined&&this.imageState_===f["a"].LOADED){this.tainted_=false;var e=Object(a["a"])(1,1);try{e.drawImage(this.image_,0,0);e.getImageData(0,0,1,1)}catch(t){this.tainted_=true}}return this.tainted_===true};t.prototype.dispatchChangeEvent_=function t(){this.dispatchEvent(i["a"].CHANGE)};t.prototype.handleImageError_=function t(){this.imageState_=f["a"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};t.prototype.handleImageLoad_=function t(){this.imageState_=f["a"].LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.replaceColor_();this.dispatchChangeEvent_()};t.prototype.getImage=function t(e){return this.canvas_?this.canvas_:this.image_};t.prototype.getImageState=function t(){return this.imageState_};t.prototype.getHitDetectionImage=function t(e){if(!this.hitDetectionImage_){if(this.isTainted_()){var n=this.size_[0];var r=this.size_[1];var i=Object(a["a"])(n,r);i.fillRect(0,0,n,r);this.hitDetectionImage_=i.canvas}else{this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};t.prototype.getSize=function t(){return this.size_};t.prototype.getSrc=function t(){return this.src_};t.prototype.load=function t(){if(this.imageState_==f["a"].IDLE){this.imageState_=f["a"].LOADING;this.imageListenerKeys_=[Object(r["b"])(this.image_,i["a"].ERROR,this.handleImageError_,this),Object(r["b"])(this.image_,i["a"].LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}};t.prototype.replaceColor_=function t(){if(!this.color_||this.isTainted_()){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);var n=e.getImageData(0,0,this.image_.width,this.image_.height);var r=n.data;var i=this.color_[0]/255;var a=this.color_[1]/255;var o=this.color_[2]/255;for(var s=0,u=r.length;s<u;s+=4){r[s]*=i;r[s+1]*=a;r[s+2]*=o}e.putImageData(n,0,0)};t.prototype.unlistenImage_=function t(){this.imageListenerKeys_.forEach(r["e"]);this.imageListenerKeys_=null};return t}(o["a"]);function g(t,e,n,r,i,a){var o=s["a"].get(e,r,a);if(!o){o=new u(t,e,n,r,i,a);s["a"].set(e,r,a,o)}return o}var l=u;var m=n(94);var c=n(254);var y=function(c){function e(t){var e=t||{};var n=e.opacity!==undefined?e.opacity:1;var r=e.rotation!==undefined?e.rotation:0;var i=e.scale!==undefined?e.scale:1;var a=e.rotateWithView!==undefined?e.rotateWithView:false;c.call(this,{opacity:n,rotation:r,scale:i,rotateWithView:a});this.anchor_=e.anchor!==undefined?e.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=e.anchorOrigin!==undefined?e.anchorOrigin:m["a"].TOP_LEFT;this.anchorXUnits_=e.anchorXUnits!==undefined?e.anchorXUnits:v["a"].FRACTION;this.anchorYUnits_=e.anchorYUnits!==undefined?e.anchorYUnits:v["a"].FRACTION;this.crossOrigin_=e.crossOrigin!==undefined?e.crossOrigin:null;var o=e.img!==undefined?e.img:null;var s=e.imgSize!==undefined?e.imgSize:null;var u=e.src;Object(d["a"])(!(u!==undefined&&o),4);Object(d["a"])(!o||o&&s,5);if((u===undefined||u.length===0)&&o){u=o.src||Object(h["c"])(o)}Object(d["a"])(u!==undefined&&u.length>0,6);var l=e.src!==undefined?f["a"].IDLE:f["a"].LOADED;this.color_=e.color!==undefined?Object(p["a"])(e.color):null;this.iconImage_=g(o,u,s,this.crossOrigin_,l,this.color_);this.offset_=e.offset!==undefined?e.offset:[0,0];this.offsetOrigin_=e.offsetOrigin!==undefined?e.offsetOrigin:m["a"].TOP_LEFT;this.origin_=null;this.size_=e.size!==undefined?e.size:null}if(c)e.__proto__=c;e.prototype=Object.create(c&&c.prototype);e.prototype.constructor=e;e.prototype.clone=function t(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||undefined,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():undefined,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};e.prototype.getAnchor=function t(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var e=this.anchor_;var n=this.getSize();if(this.anchorXUnits_==v["a"].FRACTION||this.anchorYUnits_==v["a"].FRACTION){if(!n){return null}e=this.anchor_.slice();if(this.anchorXUnits_==v["a"].FRACTION){e[0]*=n[0]}if(this.anchorYUnits_==v["a"].FRACTION){e[1]*=n[1]}}if(this.anchorOrigin_!=m["a"].TOP_LEFT){if(!n){return null}if(e===this.anchor_){e=this.anchor_.slice()}if(this.anchorOrigin_==m["a"].TOP_RIGHT||this.anchorOrigin_==m["a"].BOTTOM_RIGHT){e[0]=-e[0]+n[0]}if(this.anchorOrigin_==m["a"].BOTTOM_LEFT||this.anchorOrigin_==m["a"].BOTTOM_RIGHT){e[1]=-e[1]+n[1]}}this.normalizedAnchor_=e;return this.normalizedAnchor_};e.prototype.setAnchor=function t(e){this.anchor_=e;this.normalizedAnchor_=null};e.prototype.getColor=function t(){return this.color_};e.prototype.getImage=function t(e){return this.iconImage_.getImage(e)};e.prototype.getImageSize=function t(){return this.iconImage_.getSize()};e.prototype.getHitDetectionImageSize=function t(){return this.getImageSize()};e.prototype.getImageState=function t(){return this.iconImage_.getImageState()};e.prototype.getHitDetectionImage=function t(e){return this.iconImage_.getHitDetectionImage(e)};e.prototype.getOrigin=function t(){if(this.origin_){return this.origin_}var e=this.offset_;if(this.offsetOrigin_!=m["a"].TOP_LEFT){var n=this.getSize();var r=this.iconImage_.getSize();if(!n||!r){return null}e=e.slice();if(this.offsetOrigin_==m["a"].TOP_RIGHT||this.offsetOrigin_==m["a"].BOTTOM_RIGHT){e[0]=r[0]-n[0]-e[0]}if(this.offsetOrigin_==m["a"].BOTTOM_LEFT||this.offsetOrigin_==m["a"].BOTTOM_RIGHT){e[1]=r[1]-n[1]-e[1]}}this.origin_=e;return this.origin_};e.prototype.getSrc=function t(){return this.iconImage_.getSrc()};e.prototype.getSize=function t(){return!this.size_?this.iconImage_.getSize():this.size_};e.prototype.listenImageChange=function t(e,n){return Object(r["a"])(this.iconImage_,i["a"].CHANGE,e,n)};e.prototype.load=function t(){this.iconImage_.load()};e.prototype.unlistenImageChange=function t(e,n){Object(r["c"])(this.iconImage_,i["a"].CHANGE,e,n)};return e}(c["a"]);var _=e["a"]=y},function(t,e,n){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=function t(e,n,r,i){this.minX=e;this.maxX=n;this.minY=r;this.maxY=i};a.prototype.contains=function t(e){return this.containsXY(e[1],e[2])};a.prototype.containsTileRange=function t(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY};a.prototype.containsXY=function t(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY};a.prototype.equals=function t(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY};a.prototype.extend=function t(e){if(e.minX<this.minX){this.minX=e.minX}if(e.maxX>this.maxX){this.maxX=e.maxX}if(e.minY<this.minY){this.minY=e.minY}if(e.maxY>this.maxY){this.maxY=e.maxY}};a.prototype.getHeight=function t(){return this.maxY-this.minY+1};a.prototype.getSize=function t(){return[this.getWidth(),this.getHeight()]};a.prototype.getWidth=function t(){return this.maxX-this.minX+1};a.prototype.intersects=function t(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY};function r(t,e,n,r,i){if(i!==undefined){i.minX=t;i.maxX=e;i.minY=n;i.maxY=r;return i}else{return new a(t,e,n,r)}}e["b"]=a},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";var n=0,r=0,i=0,a=1e3,o,s,u=0,l=0,c=0,h=typeof performance==="object"&&performance.now?performance:Date,f=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function d(){return l||(f(e),l=h.now()+c)}function e(){l=0}function p(){this._call=this._time=this._next=null}p.prototype=v.prototype={constructor:p,restart:function t(e,n,r){if(typeof e!=="function")throw new TypeError("callback is not a function");r=(r==null?d():+r)+(n==null?0:+n);if(!this._next&&s!==this){if(s)s._next=this;else o=this;s=this}this._call=e;this._time=r;b()},stop:function t(){if(this._call){this._call=null;this._time=Infinity;b()}}};function v(t,e,n){var r=new p;r.restart(t,e,n);return r}function g(){d();++n;var t=o,e;while(t){if((e=l-t._time)>=0)t._call.call(null,e);t=t._next}--n}function m(){l=(u=h.now())+c;n=r=0;try{g()}finally{n=0;_();l=0}}function y(){var t=h.now(),e=t-u;if(e>a)c-=e,u=t}function _(){var t,e=o,n,r=Infinity;while(e){if(e._call){if(r>e._time)r=e._time;t=e,e=e._next}else{n=e._next,e._next=null;e=t?t._next=n:o=n}}s=t;b(r)}function b(t){if(n)return;if(r)r=clearTimeout(r);var e=t-l;if(e>24){if(t<Infinity)r=setTimeout(m,t-h.now()-c);if(i)i=clearInterval(i)}else{if(!i)u=h.now(),i=setInterval(y,a);n=1,f(m)}}function O(e,n,t){var r=new p;n=n==null?0:+n;r.restart(function(t){r.stop();e(t+n)},n,t);return r}function w(n,r,i){var a=new p,o=r;if(r==null)return a.restart(n,r,i),a;r=+r,i=i==null?d():+i;a.restart(function t(e){e+=o;a.restart(t,o+=r,i);n(e)},r,i);return a}t.now=d;t.timer=v;t.timerFlush=g;t.timeout=O;t.interval=w;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";var O=n(5);var i=n(39);var a=n(93);var o=n(15);var s=n(46);var u=n(9);var w=n(44);var l=n(2);var r=n(61);var c=n(11);var h=n(56);var S=n(3);var T=n(7);var f=n(27);var d=n(54);var p=n(41);var v=n(36);var g=n(153);var m=n(198);var y=n(16);var _=0;var x=1;var b={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};var E=function(r){function t(t,e,n){r.call(this,t);this.features=e;this.mapBrowserEvent=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(r["a"]);var C=function(r){function t(t){r.call(this,t);this.condition_=t.condition?t.condition:h["i"];this.defaultDeleteCondition_=function(t){return Object(h["a"])(t)&&Object(h["k"])(t)};this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_;this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:h["c"];this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=false;this.modified_=false;this.rBush_=new m["a"];this.pixelTolerance_=t.pixelTolerance!==undefined?t.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=[];this.overlay_=new p["a"]({source:new v["a"]({useSpatialIndex:false,wrapX:!!t.wrapX}),style:t.style?t.style:k(),updateWhileAnimating:true,updateWhileInteracting:true});this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_};this.source_=null;var e;if(t.source){this.source_=t.source;e=new i["a"](this.source_.getFeatures());Object(l["a"])(this.source_,g["a"].ADDFEATURE,this.handleSourceAdd_,this);Object(l["a"])(this.source_,g["a"].REMOVEFEATURE,this.handleSourceRemove_,this)}else{e=t.features}if(!e){throw new Error("The modify interaction requires features or a source")}this.features_=e;this.features_.forEach(this.addFeature_.bind(this));Object(l["a"])(this.features_,a["a"].ADD,this.handleFeatureAdd_,this);Object(l["a"])(this.features_,a["a"].REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.addFeature_=function t(e){var n=e.getGeometry();if(n&&n.getType()in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[n.getType()].call(this,e,n)}var r=this.getMap();if(r&&r.isRendered()&&this.getActive()){this.handlePointerAtPixel_(this.lastPixel_,r)}Object(l["a"])(e,c["a"].CHANGE,this.handleFeatureChange_,this)};t.prototype.willModifyFeatures_=function t(e){if(!this.modified_){this.modified_=true;this.dispatchEvent(new E(b.MODIFYSTART,this.features_,e))}};t.prototype.removeFeature_=function t(e){this.removeFeatureSegmentData_(e);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}Object(l["c"])(e,c["a"].CHANGE,this.handleFeatureChange_,this)};t.prototype.removeFeatureSegmentData_=function t(e){var n=this.rBush_;var r=[];n.forEach(function(t){if(e===t.feature){r.push(t)}});for(var i=r.length-1;i>=0;--i){n.remove(r[i])}};t.prototype.setActive=function t(e){if(this.vertexFeature_&&!e){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}r.prototype.setActive.call(this,e)};t.prototype.setMap=function t(e){this.overlay_.setMap(e);r.prototype.setMap.call(this,e)};t.prototype.getOverlay=function t(){return this.overlay_};t.prototype.handleSourceAdd_=function t(e){if(e.feature){this.features_.push(e.feature)}};t.prototype.handleSourceRemove_=function t(e){if(e.feature){this.features_.remove(e.feature)}};t.prototype.handleFeatureAdd_=function t(e){this.addFeature_(e.element)};t.prototype.handleFeatureChange_=function t(e){if(!this.changingFeature_){var n=e.target;this.removeFeature_(n);this.addFeature_(n)}};t.prototype.handleFeatureRemove_=function t(e){var n=e.element;this.removeFeature_(n)};t.prototype.writePointGeometry_=function t(e,n){var r=n.getCoordinates();var i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)};t.prototype.writeMultiPointGeometry_=function t(e,n){var r=n.getCoordinates();for(var i=0,a=r.length;i<a;++i){var o=r[i];var s={feature:e,geometry:n,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(n.getExtent(),s)}};t.prototype.writeLineStringGeometry_=function t(e,n){var r=n.getCoordinates();for(var i=0,a=r.length-1;i<a;++i){var o=r.slice(i,i+2);var s={feature:e,geometry:n,index:i,segment:o};this.rBush_.insert(Object(S["b"])(o),s)}};t.prototype.writeMultiLineStringGeometry_=function t(e,n){var r=n.getCoordinates();for(var i=0,a=r.length;i<a;++i){var o=r[i];for(var s=0,u=o.length-1;s<u;++s){var l=o.slice(s,s+2);var c={feature:e,geometry:n,depth:[i],index:s,segment:l};this.rBush_.insert(Object(S["b"])(l),c)}}};t.prototype.writePolygonGeometry_=function t(e,n){var r=n.getCoordinates();for(var i=0,a=r.length;i<a;++i){var o=r[i];for(var s=0,u=o.length-1;s<u;++s){var l=o.slice(s,s+2);var c={feature:e,geometry:n,depth:[i],index:s,segment:l};this.rBush_.insert(Object(S["b"])(l),c)}}};t.prototype.writeMultiPolygonGeometry_=function t(e,n){var r=n.getCoordinates();for(var i=0,a=r.length;i<a;++i){var o=r[i];for(var s=0,u=o.length;s<u;++s){var l=o[s];for(var c=0,h=l.length-1;c<h;++c){var f=l.slice(c,c+2);var d={feature:e,geometry:n,depth:[s,i],index:c,segment:f};this.rBush_.insert(Object(S["b"])(f),d)}}}};t.prototype.writeCircleGeometry_=function t(e,n){var r=n.getCenter();var i={feature:e,geometry:n,index:_,segment:[r,r]};var a={feature:e,geometry:n,index:x,segment:[r,r]};var o=[i,a];i.featureSegments=a.featureSegments=o;this.rBush_.insert(Object(S["m"])(r),i);this.rBush_.insert(n.getExtent(),a)};t.prototype.writeGeometryCollectionGeometry_=function t(e,n){var r=n.getGeometriesArray();for(var i=0;i<r.length;++i){this.SEGMENT_WRITERS_[r[i].getType()].call(this,e,r[i])}};t.prototype.createOrUpdateVertexFeature_=function t(e){var n=this.vertexFeature_;if(!n){n=new o["a"](new f["a"](e));this.vertexFeature_=n;this.overlay_.getSource().addFeature(n)}else{var r=n.getGeometry();r.setCoordinates(e)}return n};t.prototype.handleEvent=function t(e){if(!e.pointerEvent){return true}this.lastPointerEvent_=e;var n;if(!e.map.getView().getInteracting()&&e.type==s["a"].POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}if(this.vertexFeature_&&this.deleteCondition_(e)){if(e.type!=s["a"].SINGLECLICK||!this.ignoreNextSingleClick_){n=this.removePoint()}else{n=true}}if(e.type==s["a"].SINGLECLICK){this.ignoreNextSingleClick_=false}return r.prototype.handleEvent.call(this,e)&&!n};t.prototype.handleDragEvent=function t(e){this.ignoreNextSingleClick_=false;this.willModifyFeatures_(e);var n=e.coordinate;for(var r=0,i=this.dragSegments_.length;r<i;++r){var a=this.dragSegments_[r];var o=a[0];var s=o.depth;var u=o.geometry;var l=void 0;var c=o.segment;var h=a[1];while(n.length<u.getStride()){n.push(c[h][n.length])}switch(u.getType()){case T["a"].POINT:l=n;c[0]=c[1]=n;break;case T["a"].MULTI_POINT:l=u.getCoordinates();l[o.index]=n;c[0]=c[1]=n;break;case T["a"].LINE_STRING:l=u.getCoordinates();l[o.index+h]=n;c[h]=n;break;case T["a"].MULTI_LINE_STRING:l=u.getCoordinates();l[s[0]][o.index+h]=n;c[h]=n;break;case T["a"].POLYGON:l=u.getCoordinates();l[s[0]][o.index+h]=n;c[h]=n;break;case T["a"].MULTI_POLYGON:l=u.getCoordinates();l[s[1]][s[0]][o.index+h]=n;c[h]=n;break;case T["a"].CIRCLE:c[0]=c[1]=n;if(o.index===_){this.changingFeature_=true;u.setCenter(n);this.changingFeature_=false}else{this.changingFeature_=true;u.setRadius(Object(w["c"])(u.getCenter(),n));this.changingFeature_=false}break;default:}if(l){this.setGeometryCoordinates_(u,l)}}this.createOrUpdateVertexFeature_(n)};t.prototype.handleDownEvent=function t(e){if(!this.condition_(e)){return false}this.handlePointerAtPixel_(e.pixel,e.map);var n=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0;this.modified_=false;var r=this.vertexFeature_;if(r){var i=[];var a=r.getGeometry();var o=a.getCoordinates();var s=Object(S["b"])([o]);var u=this.rBush_.getInExtent(s);var l={};u.sort(M);for(var c=0,h=u.length;c<h;++c){var f=u[c];var d=f.segment;var p=Object(O["c"])(f.feature);var v=f.depth;if(v){p+="-"+v.join("-")}if(!l[p]){l[p]=new Array(2)}if(f.geometry.getType()===T["a"].CIRCLE&&f.index===x){var g=A(n,f);if(Object(w["d"])(g,o)&&!l[p][0]){this.dragSegments_.push([f,0]);l[p][0]=f}}else if(Object(w["d"])(d[0],o)&&!l[p][0]){this.dragSegments_.push([f,0]);l[p][0]=f}else if(Object(w["d"])(d[1],o)&&!l[p][1]){if((f.geometry.getType()===T["a"].LINE_STRING||f.geometry.getType()===T["a"].MULTI_LINE_STRING)&&l[p][0]&&l[p][0].index===0){continue}this.dragSegments_.push([f,1]);l[p][1]=f}else if(this.insertVertexCondition_(e)&&Object(O["c"])(d)in this.vertexSegments_&&!l[p][0]&&!l[p][1]){i.push([f,o])}}if(i.length){this.willModifyFeatures_(e)}for(var m=i.length-1;m>=0;--m){this.insertVertex_.apply(this,i[m])}}return!!this.vertexFeature_};t.prototype.handleUpEvent=function t(e){for(var n=this.dragSegments_.length-1;n>=0;--n){var r=this.dragSegments_[n][0];var i=r.geometry;if(i.getType()===T["a"].CIRCLE){var a=i.getCenter();var o=r.featureSegments[0];var s=r.featureSegments[1];o.segment[0]=o.segment[1]=a;s.segment[0]=s.segment[1]=a;this.rBush_.update(Object(S["m"])(a),o);this.rBush_.update(i.getExtent(),s)}else{this.rBush_.update(Object(S["b"])(r.segment),r)}}if(this.modified_){this.dispatchEvent(new E(b.MODIFYEND,this.features_,e));this.modified_=false}return false};t.prototype.handlePointerMove_=function t(e){this.lastPixel_=e.pixel;this.handlePointerAtPixel_(e.pixel,e.map)};t.prototype.handlePointerAtPixel_=function t(e,n){var r=n.getCoordinateFromPixel(e);var i=function t(e,n){return j(r,e)-j(r,n)};var a=Object(S["c"])(Object(S["m"])(r),n.getView().getResolution()*this.pixelTolerance_);var o=this.rBush_;var s=o.getInExtent(a);if(s.length>0){s.sort(i);var u=s[0];var l=u.segment;var c=A(r,u);var h=n.getPixelFromCoordinate(c);var f=Object(w["c"])(e,h);if(f<=this.pixelTolerance_){var d={};if(u.geometry.getType()===T["a"].CIRCLE&&u.index===x){this.snappedToVertex_=true;this.createOrUpdateVertexFeature_(c)}else{var p=n.getPixelFromCoordinate(l[0]);var v=n.getPixelFromCoordinate(l[1]);var g=Object(w["g"])(h,p);var m=Object(w["g"])(h,v);f=Math.sqrt(Math.min(g,m));this.snappedToVertex_=f<=this.pixelTolerance_;if(this.snappedToVertex_){c=g>m?l[1]:l[0]}this.createOrUpdateVertexFeature_(c);for(var y=1,_=s.length;y<_;++y){var b=s[y].segment;if(Object(w["d"])(l[0],b[0])&&Object(w["d"])(l[1],b[1])||Object(w["d"])(l[0],b[1])&&Object(w["d"])(l[1],b[0])){d[Object(O["c"])(b)]=true}else{break}}}d[Object(O["c"])(l)]=true;this.vertexSegments_=d;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};t.prototype.insertVertex_=function t(e,n){var r=e.segment;var i=e.feature;var a=e.geometry;var o=e.depth;var s=e.index;var u;while(n.length<a.getStride()){n.push(0)}switch(a.getType()){case T["a"].MULTI_LINE_STRING:u=a.getCoordinates();u[o[0]].splice(s+1,0,n);break;case T["a"].POLYGON:u=a.getCoordinates();u[o[0]].splice(s+1,0,n);break;case T["a"].MULTI_POLYGON:u=a.getCoordinates();u[o[1]][o[0]].splice(s+1,0,n);break;case T["a"].LINE_STRING:u=a.getCoordinates();u.splice(s+1,0,n);break;default:return}this.setGeometryCoordinates_(a,u);var l=this.rBush_;l.remove(e);this.updateSegmentIndices_(a,s,o,1);var c={segment:[r[0],n],feature:i,geometry:a,depth:o,index:s};l.insert(Object(S["b"])(c.segment),c);this.dragSegments_.push([c,1]);var h={segment:[n,r[1]],feature:i,geometry:a,depth:o,index:s+1};l.insert(Object(S["b"])(h.segment),h);this.dragSegments_.push([h,0]);this.ignoreNextSingleClick_=true};t.prototype.removePoint=function t(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s["a"].POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);this.removeVertex_();this.dispatchEvent(new E(b.MODIFYEND,this.features_,e));this.modified_=false;return true}return false};t.prototype.removeVertex_=function t(){var e=this.dragSegments_;var n={};var r=false;var i,a,o,s,u,l,c;var h,f,d,p;for(u=e.length-1;u>=0;--u){o=e[u];d=o[0];p=Object(O["c"])(d.feature);if(d.depth){p+="-"+d.depth.join("-")}if(!(p in n)){n[p]={}}if(o[1]===0){n[p].right=d;n[p].index=d.index}else if(o[1]==1){n[p].left=d;n[p].index=d.index+1}}for(p in n){f=n[p].right;c=n[p].left;l=n[p].index;h=l-1;if(c!==undefined){d=c}else{d=f}if(h<0){h=0}s=d.geometry;a=s.getCoordinates();i=a;r=false;switch(s.getType()){case T["a"].MULTI_LINE_STRING:if(a[d.depth[0]].length>2){a[d.depth[0]].splice(l,1);r=true}break;case T["a"].LINE_STRING:if(a.length>2){a.splice(l,1);r=true}break;case T["a"].MULTI_POLYGON:i=i[d.depth[1]];case T["a"].POLYGON:i=i[d.depth[0]];if(i.length>4){if(l==i.length-1){l=0}i.splice(l,1);r=true;if(l===0){i.pop();i.push(i[0]);h=i.length-1}}break;default:}if(r){this.setGeometryCoordinates_(s,a);var v=[];if(c!==undefined){this.rBush_.remove(c);v.push(c.segment[0])}if(f!==undefined){this.rBush_.remove(f);v.push(f.segment[1])}if(c!==undefined&&f!==undefined){var g={depth:d.depth,feature:d.feature,geometry:d.geometry,index:h,segment:v};this.rBush_.insert(Object(S["b"])(g.segment),g)}this.updateSegmentIndices_(s,l,d.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}e.length=0}}return r};t.prototype.setGeometryCoordinates_=function t(e,n){this.changingFeature_=true;e.setCoordinates(n);this.changingFeature_=false};t.prototype.updateSegmentIndices_=function t(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(t){if(t.geometry===e&&(r===undefined||t.depth===undefined||Object(u["b"])(t.depth,r))&&t.index>n){t.index+=i}})};return t}(d["b"]);function M(t,e){return t.index-e.index}function j(t,e){var n=e.geometry;if(n.getType()===T["a"].CIRCLE){var r=n;if(e.index===x){var i=Object(w["g"])(r.getCenter(),t);var a=Math.sqrt(i)-r.getRadius();return a*a}}return Object(w["h"])(t,e.segment)}function A(t,e){var n=e.geometry;if(n.getType()===T["a"].CIRCLE&&e.index===x){return n.getClosestPoint(t)}return Object(w["b"])(t,e.segment)}function k(){var n=Object(y["b"])();return function(t,e){return n[T["a"].POINT]}}e["a"]=C},function(t,e,n){"use strict";var r=n(61);var i=n(56);var a=n(47);var o=n(54);var s=n(212);var u=n(26);var l=function(e){function t(t){e.call(this);this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+t;this.map_=null;this.startPixel_=null;this.endPixel_=null}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){this.setMap(null)};t.prototype.render_=function t(){var e=this.startPixel_;var n=this.endPixel_;var r="px";var i=this.element_.style;i.left=Math.min(e[0],n[0])+r;i.top=Math.min(e[1],n[1])+r;i.width=Math.abs(n[0]-e[0])+r;i.height=Math.abs(n[1]-e[1])+r};t.prototype.setMap=function t(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left=n.top=n.width=n.height="inherit"}this.map_=e;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};t.prototype.setPixels=function t(e,n){this.startPixel_=e;this.endPixel_=n;this.createOrUpdateGeometry();this.render_()};t.prototype.createOrUpdateGeometry=function t(){var e=this.startPixel_;var n=this.endPixel_;var r=[e,[e[0],n[1]],n,[n[0],e[1]]];var i=r.map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice();if(!this.geometry_){this.geometry_=new u["b"]([i])}else{this.geometry_.setCoordinates([i])}};t.prototype.getGeometry=function t(){return this.geometry_};return t}(s["a"]);var c=l;var h={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};var f=function(r){function t(t,e,n){r.call(this,t);this.coordinate=e;this.mapBrowserEvent=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(r["a"]);var d=function(n){function t(t){n.call(this);var e=t?t:{};this.box_=new c(e.className||"ol-dragbox");this.minArea_=e.minArea!==undefined?e.minArea:64;this.onBoxEnd_=e.onBoxEnd?e.onBoxEnd:a["c"];this.startPixel_=null;this.condition_=e.condition?e.condition:i["c"];this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.defaultBoxEndCondition=function t(e,n,r){var i=r[0]-n[0];var a=r[1]-n[1];return i*i+a*a>=this.minArea_};t.prototype.getGeometry=function t(){return this.box_.getGeometry()};t.prototype.handleDragEvent=function t(e){if(!Object(i["f"])(e)){return}this.box_.setPixels(this.startPixel_,e.pixel);this.dispatchEvent(new f(h.BOXDRAG,e.coordinate,e))};t.prototype.handleUpEvent=function t(e){if(!Object(i["f"])(e)){return true}this.box_.setMap(null);if(this.boxEndCondition_(e,this.startPixel_,e.pixel)){this.onBoxEnd_(e);this.dispatchEvent(new f(h.BOXEND,e.coordinate,e))}return false};t.prototype.handleDownEvent=function t(e){if(!Object(i["f"])(e)){return false}if(Object(i["e"])(e)&&this.condition_(e)){this.startPixel_=e.pixel;this.box_.setMap(e.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new f(h.BOXSTART,e.coordinate,e));return true}else{return false}};return t}(o["b"]);var p=e["a"]=d},function(t,e,n){"use strict";var r=function t(){this.disposed_=false};r.prototype.dispose=function t(){if(!this.disposed_){this.disposed_=true;this.disposeInternal()}};r.prototype.disposeInternal=function t(){};e["a"]=r},function(t,e,n){"use strict";n.d(e,"a",function(){return u});n.d(e,"b",function(){return l});n.d(e,"c",function(){return r});function u(t,e,n,r){var i=0;var a=t[n-r];var o=t[n-r+1];for(;e<n;e+=r){var s=t[e];var u=t[e+1];i+=o*s-a*u;a=s;o=u}return i/2}function l(t,e,n,r){var i=0;for(var a=0,o=n.length;a<o;++a){var s=n[a];i+=u(t,e,s,r);e=s}return i}function r(t,e,n,r){var i=0;for(var a=0,o=n.length;a<o;++a){var s=n[a];i+=l(t,e,s,r);e=s[s.length-1]}return i}},function(t,e,n){"use strict";var a=n(101);var o=n(326);var r=n.n(o);var i=angular.module("ngeoDownload",[]);i.factory_=function(){function t(t,e,n){var r=n!==undefined&&!a["a"].isSafari()?n:"text/plain;charset=utf-8";var i=new Blob([t],{type:r});Object(o["saveAs"])(i,e)}return t};i.factory("ngeoDownload",i.factory_);e["a"]=i},function(t,e,n){"use strict";var c=n(75);var m=n(132);var y=n(48);var _=n(60);var i=n(32);var b=n(12);var r=n(254);var a=function(n){function r(t){var e=t.rotateWithView!==undefined?t.rotateWithView:false;n.call(this,{opacity:1,rotateWithView:e,rotation:t.rotation!==undefined?t.rotation:0,scale:1});this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=t.fill!==undefined?t.fill:null;this.origin_=[0,0];this.points_=t.points;this.radius_=t.radius!==undefined?t.radius:t.radius1;this.radius2_=t.radius2;this.angle_=t.angle!==undefined?t.angle:0;this.stroke_=t.stroke!==undefined?t.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.atlasManager_=t.atlasManager;this.render_(this.atlasManager_)}if(n)r.__proto__=n;r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.prototype.clone=function t(){var e=new r({fill:this.getFill()?this.getFill().clone():undefined,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():undefined,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};r.prototype.getAnchor=function t(){return this.anchor_};r.prototype.getAngle=function t(){return this.angle_};r.prototype.getFill=function t(){return this.fill_};r.prototype.getHitDetectionImage=function t(e){return this.hitDetectionCanvas_};r.prototype.getImage=function t(e){return this.canvas_};r.prototype.getImageSize=function t(){return this.imageSize_};r.prototype.getHitDetectionImageSize=function t(){return this.hitDetectionImageSize_};r.prototype.getImageState=function t(){return i["a"].LOADED};r.prototype.getOrigin=function t(){return this.origin_};r.prototype.getPoints=function t(){return this.points_};r.prototype.getRadius=function t(){return this.radius_};r.prototype.getRadius2=function t(){return this.radius2_};r.prototype.getSize=function t(){return this.size_};r.prototype.getStroke=function t(){return this.stroke_};r.prototype.listenImageChange=function t(e,n){return undefined};r.prototype.load=function t(){};r.prototype.unlistenImageChange=function t(e,n){};r.prototype.render_=function t(e){var n;var r="";var i="";var a=0;var o=null;var s=0;var u;var l=0;if(this.stroke_){u=this.stroke_.getColor();if(u===null){u=b["k"]}u=Object(m["a"])(u);l=this.stroke_.getWidth();if(l===undefined){l=b["h"]}o=this.stroke_.getLineDash();s=this.stroke_.getLineDashOffset();if(!_["a"]){o=null;s=0}i=this.stroke_.getLineJoin();if(i===undefined){i=b["g"]}r=this.stroke_.getLineCap();if(r===undefined){r=b["d"]}a=this.stroke_.getMiterLimit();if(a===undefined){a=b["i"]}}var c=2*(this.radius_+l)+1;var h={strokeStyle:u,strokeWidth:l,size:c,lineCap:r,lineDash:o,lineDashOffset:s,lineJoin:i,miterLimit:a};if(e===undefined){var f=Object(y["a"])(c,c);this.canvas_=f.canvas;c=this.canvas_.width;n=c;this.draw_(h,f,0,0);this.createHitDetectionCanvas_(h)}else{c=Math.round(c);var d=!this.fill_;var p;if(d){p=this.drawHitDetectionCanvas_.bind(this,h)}var v=this.getChecksum();var g=e.add(v,c,c,this.draw_.bind(this,h),p);this.canvas_=g.image;this.origin_=[g.offsetX,g.offsetY];n=g.image.width;if(d){this.hitDetectionCanvas_=g.hitImage;this.hitDetectionImageSize_=[g.hitImage.width,g.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[n,n]}}this.anchor_=[c/2,c/2];this.size_=[c,c];this.imageSize_=[n,n]};r.prototype.draw_=function t(e,n,r,i){var a,o,s;n.setTransform(1,0,0,1,0,0);n.translate(r,i);n.beginPath();var u=this.points_;if(u===Infinity){n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,true)}else{var l=this.radius2_!==undefined?this.radius2_:this.radius_;if(l!==this.radius_){u=2*u}for(a=0;a<=u;a++){o=a*2*Math.PI/u-Math.PI/2+this.angle_;s=a%2===0?this.radius_:l;n.lineTo(e.size/2+s*Math.cos(o),e.size/2+s*Math.sin(o))}}if(this.fill_){var c=this.fill_.getColor();if(c===null){c=b["b"]}n.fillStyle=Object(m["a"])(c);n.fill()}if(this.stroke_){n.strokeStyle=e.strokeStyle;n.lineWidth=e.strokeWidth;if(e.lineDash){n.setLineDash(e.lineDash);n.lineDashOffset=e.lineDashOffset}n.lineCap=e.lineCap;n.lineJoin=e.lineJoin;n.miterLimit=e.miterLimit;n.stroke()}n.closePath()};r.prototype.createHitDetectionCanvas_=function t(e){this.hitDetectionImageSize_=[e.size,e.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var n=Object(y["a"])(e.size,e.size);this.hitDetectionCanvas_=n.canvas;this.drawHitDetectionCanvas_(e,n,0,0)};r.prototype.drawHitDetectionCanvas_=function t(e,n,r,i){n.setTransform(1,0,0,1,0,0);n.translate(r,i);n.beginPath();var a=this.points_;if(a===Infinity){n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,true)}else{var o=this.radius2_!==undefined?this.radius2_:this.radius_;if(o!==this.radius_){a=2*a}var s,u,l;for(s=0;s<=a;s++){l=s*2*Math.PI/a-Math.PI/2+this.angle_;u=s%2===0?this.radius_:o;n.lineTo(e.size/2+u*Math.cos(l),e.size/2+u*Math.sin(l))}}n.fillStyle=Object(c["b"])(b["b"]);n.fill();if(this.stroke_){n.strokeStyle=e.strokeStyle;n.lineWidth=e.strokeWidth;if(e.lineDash){n.setLineDash(e.lineDash);n.lineDashOffset=e.lineDashOffset}n.stroke()}n.closePath()};r.prototype.getChecksum=function t(){var e=this.stroke_?this.stroke_.getChecksum():"-";var n=this.fill_?this.fill_.getChecksum():"-";var r=!this.checksums_||e!=this.checksums_[1]||n!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(r){var i="r"+e+n+(this.radius_!==undefined?this.radius_.toString():"-")+(this.radius2_!==undefined?this.radius2_.toString():"-")+(this.angle_!==undefined?this.angle_.toString():"-")+(this.points_!==undefined?this.points_.toString():"-");this.checksums_=[i,e,n,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};return r}(r["a"]);e["a"]=a},function(t,e,n){"use strict";var r=n(5);var i=n(42);var a=n(86);var o=n(14);var s=n(10);var u=function(n){function t(t){n.call(this);var e=Object(s["a"])({},t);e[a["a"].OPACITY]=t.opacity!==undefined?t.opacity:1;e[a["a"].VISIBLE]=t.visible!==undefined?t.visible:true;e[a["a"].Z_INDEX]=t.zIndex;e[a["a"].MAX_RESOLUTION]=t.maxResolution!==undefined?t.maxResolution:Infinity;e[a["a"].MIN_RESOLUTION]=t.minResolution!==undefined?t.minResolution:0;this.setProperties(e);this.state_=null;this.type}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.getType=function t(){return this.type};t.prototype.getLayerState=function t(){var e=this.state_||{layer:this,managed:true};e.opacity=Object(o["a"])(this.getOpacity(),0,1);e.sourceState=this.getSourceState();e.visible=this.getVisible();e.extent=this.getExtent();e.zIndex=this.getZIndex()||0;e.maxResolution=this.getMaxResolution();e.minResolution=Math.max(this.getMinResolution(),0);this.state_=e;return e};t.prototype.getLayersArray=function t(e){return Object(r["b"])()};t.prototype.getLayerStatesArray=function t(e){return Object(r["b"])()};t.prototype.getExtent=function t(){return this.get(a["a"].EXTENT)};t.prototype.getMaxResolution=function t(){return this.get(a["a"].MAX_RESOLUTION)};t.prototype.getMinResolution=function t(){return this.get(a["a"].MIN_RESOLUTION)};t.prototype.getOpacity=function t(){return this.get(a["a"].OPACITY)};t.prototype.getSourceState=function t(){return Object(r["b"])()};t.prototype.getVisible=function t(){return this.get(a["a"].VISIBLE)};t.prototype.getZIndex=function t(){return this.get(a["a"].Z_INDEX)};t.prototype.setExtent=function t(e){this.set(a["a"].EXTENT,e)};t.prototype.setMaxResolution=function t(e){this.set(a["a"].MAX_RESOLUTION,e)};t.prototype.setMinResolution=function t(e){this.set(a["a"].MIN_RESOLUTION,e)};t.prototype.setOpacity=function t(e){this.set(a["a"].OPACITY,e)};t.prototype.setVisible=function t(e){this.set(a["a"].VISIBLE,e)};t.prototype.setZIndex=function t(e){this.set(a["a"].Z_INDEX,e)};return t}(i["a"]);e["a"]=u},function(t,e,n){"use strict";t.exports=r;t.exports.default=r;var s=n(354);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));if(e){this._initFormat(e)}this.clear()}r.prototype={all:function t(){return this._all(this.data,[])},search:function t(e){var n=this.data,r=[],i=this.toBBox;if(!c(e,n))return r;var a=[],o,s,u,l;while(n){for(o=0,s=n.children.length;o<s;o++){u=n.children[o];l=n.leaf?i(u):u;if(c(e,l)){if(n.leaf)r.push(u);else if(_(e,l))this._all(u,r);else a.push(u)}}n=a.pop()}return r},collides:function t(e){var n=this.data,r=this.toBBox;if(!c(e,n))return false;var i=[],a,o,s,u;while(n){for(a=0,o=n.children.length;a<o;a++){s=n.children[a];u=n.leaf?r(s):s;if(c(e,u)){if(n.leaf||_(e,u))return true;i.push(s)}}n=i.pop()}return false},load:function t(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var n=0,r=e.length;n<r;n++){this.insert(e[n])}return this}var i=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length){this.data=i}else if(this.data.height===i.height){this._splitRoot(this.data,i)}else{if(this.data.height<i.height){var a=this.data;this.data=i;i=a}this._insert(i,this.data.height-i.height-1,true)}return this},insert:function t(e){if(e)this._insert(e,this.data.height-1);return this},clear:function t(){this.data=b([]);return this},remove:function t(e,n){if(!e)return this;var r=this.data,i=this.toBBox(e),a=[],o=[],s,u,l,c;while(r||a.length){if(!r){r=a.pop();u=a[a.length-1];s=o.pop();c=true}if(r.leaf){l=h(e,r.children,n);if(l!==-1){r.children.splice(l,1);a.push(r);this._condense(a);return this}}if(!c&&!r.leaf&&_(r,i)){a.push(r);o.push(s);s=0;u=r;r=r.children[0]}else if(u){s++;r=u.children[s];c=false}else r=null}return this},toBBox:function t(e){return e},compareMinX:u,compareMinY:l,toJSON:function t(){return this.data},fromJSON:function t(e){this.data=e;return this},_all:function t(e,n){var r=[];while(e){if(e.leaf)n.push.apply(n,e.children);else r.push.apply(r,e.children);e=r.pop()}return n},_build:function t(e,n,r,i){var a=r-n+1,o=this._maxEntries,s;if(a<=o){s=b(e.slice(n,r+1));p(s,this.toBBox);return s}if(!i){i=Math.ceil(Math.log(a)/Math.log(o));o=Math.ceil(a/Math.pow(o,i-1))}s=b([]);s.leaf=false;s.height=i;var u=Math.ceil(a/o),l=u*Math.ceil(Math.sqrt(o)),c,h,f,d;O(e,n,r,l,this.compareMinX);for(c=n;c<=r;c+=l){f=Math.min(c+l-1,r);O(e,c,f,u,this.compareMinY);for(h=c;h<=f;h+=u){d=Math.min(h+u-1,f);s.children.push(this._build(e,h,d,i-1))}}p(s,this.toBBox);return s},_chooseSubtree:function t(e,n,r,i){var a,o,s,u,l,c,h,f;while(true){i.push(n);if(n.leaf||i.length-1===r)break;h=f=Infinity;for(a=0,o=n.children.length;a<o;a++){s=n.children[a];l=v(s);c=m(e,s)-l;if(c<f){f=c;h=l<h?l:h;u=s}else if(c===f){if(l<h){h=l;u=s}}}n=u||n.children[0]}return n},_insert:function t(e,n,r){var i=this.toBBox,a=r?e:i(e),o=[];var s=this._chooseSubtree(a,this.data,n,o);s.children.push(e);d(s,a);while(n>=0){if(o[n].children.length>this._maxEntries){this._split(o,n);n--}else break}this._adjustParentBBoxes(a,o,n)},_split:function t(e,n){var r=e[n],i=r.children.length,a=this._minEntries;this._chooseSplitAxis(r,a,i);var o=this._chooseSplitIndex(r,a,i);var s=b(r.children.splice(o,r.children.length-o));s.height=r.height;s.leaf=r.leaf;p(r,this.toBBox);p(s,this.toBBox);if(n)e[n-1].children.push(s);else this._splitRoot(r,s)},_splitRoot:function t(e,n){this.data=b([e,n]);this.data.height=e.height+1;this.data.leaf=false;p(this.data,this.toBBox)},_chooseSplitIndex:function t(e,n,r){var i,a,o,s,u,l,c,h;l=c=Infinity;for(i=n;i<=r-n;i++){a=f(e,0,i,this.toBBox);o=f(e,i,r,this.toBBox);s=y(a,o);u=v(a)+v(o);if(s<l){l=s;h=i;c=u<c?u:c}else if(s===l){if(u<c){c=u;h=i}}}return h},_chooseSplitAxis:function t(e,n,r){var i=e.leaf?this.compareMinX:u,a=e.leaf?this.compareMinY:l,o=this._allDistMargin(e,n,r,i),s=this._allDistMargin(e,n,r,a);if(o<s)e.children.sort(i)},_allDistMargin:function t(e,n,r,i){e.children.sort(i);var a=this.toBBox,o=f(e,0,n,a),s=f(e,r-n,r,a),u=g(o)+g(s),l,c;for(l=n;l<r-n;l++){c=e.children[l];d(o,e.leaf?a(c):c);u+=g(o)}for(l=r-n-1;l>=n;l--){c=e.children[l];d(s,e.leaf?a(c):c);u+=g(s)}return u},_adjustParentBBoxes:function t(e,n,r){for(var i=r;i>=0;i--){d(n[i],e)}},_condense:function t(e){for(var n=e.length-1,r;n>=0;n--){if(e[n].children.length===0){if(n>0){r=e[n-1].children;r.splice(r.indexOf(e[n]),1)}else this.clear()}else p(e[n],this.toBBox)}},_initFormat:function t(e){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(e[0]));this.compareMinY=new Function("a","b",n.join(e[1]));this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function h(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++){if(n(t,e[r]))return r}return-1}function p(t,e){f(t,0,t.children.length,e,t)}function f(t,e,n,r,i){if(!i)i=b(null);i.minX=Infinity;i.minY=Infinity;i.maxX=-Infinity;i.maxY=-Infinity;for(var a=e,o;a<n;a++){o=t.children[a];d(i,t.leaf?r(o):o)}return i}function d(t,e){t.minX=Math.min(t.minX,e.minX);t.minY=Math.min(t.minY,e.minY);t.maxX=Math.max(t.maxX,e.maxX);t.maxY=Math.max(t.maxY,e.maxY);return t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function v(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function g(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function y(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),a=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function _(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function c(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function b(t){return{children:t,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function O(t,e,n,r,i){var a=[e,n],o;while(a.length){n=a.pop();e=a.pop();if(n-e<=r)continue;o=e+Math.ceil((n-e)/r/2)*r;s(t,o,e,n,i);a.push(e,o,o,n)}}},function(t,e,n){"use strict";var r=n(5);var i=n(42);var a=n(8);var o=n(138);var s=function(e){function t(t){e.call(this);this.projection_=Object(a["g"])(t.projection);this.attributions_=u(t.attributions);this.attributionsCollapsible_=t.attributionsCollapsible!==undefined?t.attributionsCollapsible:true;this.loading=false;this.state_=t.state!==undefined?t.state:o["a"].READY;this.wrapX_=t.wrapX!==undefined?t.wrapX:false}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getAttributions=function t(){return this.attributions_};t.prototype.getAttributionsCollapsible=function t(){return this.attributionsCollapsible_};t.prototype.getProjection=function t(){return this.projection_};t.prototype.getResolutions=function t(){return Object(r["b"])()};t.prototype.getState=function t(){return this.state_};t.prototype.getWrapX=function t(){return this.wrapX_};t.prototype.refresh=function t(){this.changed()};t.prototype.setAttributions=function t(e){this.attributions_=u(e);this.changed()};t.prototype.setState=function t(e){this.state_=e;this.changed()};return t}(i["a"]);function u(e){if(!e){return null}if(Array.isArray(e)){return function(t){return e}}if(typeof e==="function"){return e}return function(t){return[e]}}e["a"]=s},function(t,e,n){"use strict";var r=n(1);var i=n(161);var a=n(5);var o=function t(e,n){this.$filter_=e;this.gettextCatalog_=n;i["a"].call(this)};o.$inject=["$filter","gettextCatalog"];o.$inject=["$filter","gettextCatalog"];a["d"](o,i["a"]);o.prototype.formatTimeValue=function(t,e,n,r){var i=new Date(t);var a=r?"UTC":undefined;var o="yyyy";var s="yyyy-MM";var u="yyyy-MM-dd";if(!n){var l=this.gettextCatalog_;o=l.getString("yyyy");s=l.getString("M/yyyy");u=l.getString("M/d/yyyy")}switch(e){case"year":return this.$filter_("date")(i,o,a);case"month":return this.$filter_("date")(i,s,a);case"day":return this.$filter_("date")(i,u,a);default:return i.toISOString().replace(/\.\d{3}/,"")}};o.prototype.formatWMSTimeParam=function(t,e,n){r["a"].assert(t.resolution!==undefined);if(t.mode==="range"){r["a"].assert(e.end!==undefined);return this.formatTimeValue(e.start,t.resolution,true,n)+"/"+this.formatTimeValue(e.end,t.resolution,true,n)}else{return this.formatTimeValue(e.start,t.resolution,true,n)}};o.module=angular.module("ngeoWMSTime",[i["a"].module.name]);o.module.service("ngeoWMSTime",o);e["a"]=o},function(t,e,n){"use strict";var r=n(5);var i=n(128);var a=n(11);var o=function(i){function t(t,e,n,r){i.call(this);this.extent=t;this.pixelRatio_=n;this.resolution=e;this.state=r}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.prototype.changed=function t(){this.dispatchEvent(a["a"].CHANGE)};t.prototype.getExtent=function t(){return this.extent};t.prototype.getImage=function t(){return Object(r["b"])()};t.prototype.getPixelRatio=function t(){return this.pixelRatio_};t.prototype.getResolution=function t(){return this.resolution};t.prototype.getState=function t(){return this.state};t.prototype.load=function t(){Object(r["b"])()};return t}(i["a"]);e["a"]=o},function(t,e,n){"use strict";var r=n(2);var i=function t(){this.listenerKeys_={}};i.prototype.addListenerKey=function(t,e){if(!this.listenerKeys_[t]){this.initListenerKey_(t)}this.listenerKeys_[t].push(e)};i.prototype.clearListenerKey=function(t){this.initListenerKey_(t)};i.prototype.initListenerKey_=function(t){if(!this.listenerKeys_[t]){this.listenerKeys_[t]=[]}else{if(this.listenerKeys_[t].length){this.listenerKeys_[t].forEach(r["e"]);this.listenerKeys_[t].length=0}}};i.module=angular.module("ngeoEventHelper",[]);i.module.service("ngeoEventHelper",i);e["a"]=i},function(t,v,g){"use strict";(function(s){var e=g(1);var t=g(161);var n=g(360);var r=g.n(n);var i=g(361);var a=g(382);var o=g.n(a);var u=g(383);var l=g.n(u);var c=g(384);var h=g.n(c);var f=g(385);var d=g.n(f);var p=angular.module("ngeoDatePicker",[t["a"].module.name,"ui.date"]);p.value("ngeoDatePickerTemplateUrl",function(t,e){var n=e["ngeoDatePickerTemplateUrl"];return n!==undefined?n:"ngeo/misc/datepickerComponent"});p.run(["$templateCache",function(t){t.put("ngeo/misc/datepickerComponent",g(386))}]);p.component_=function(t,o){return{scope:{onDateSelected:"&",time:"="},bindToController:true,controller:"ngeoDatePickerController as datepickerCtrl",restrict:"AE",templateUrl:t,link:function t(e,n,r,i){i.init();var a=i.gettextCatalog_.getCurrentLanguage();s["datepicker"]["setDefaults"](s["datepicker"]["regional"][a]);i.sdateOptions=angular.extend({},i.sdateOptions,{minDate:i.initialMinDate,maxDate:i.initialMaxDate,onClose:function t(e){if(e){s(n[0]).find('input[name="edate"]').datepicker("option","minDate",e)}}});i.edateOptions=angular.extend({},i.edateOptions,{minDate:i.initialMinDate,maxDate:i.initialMaxDate,onClose:function t(e){if(e){s(n[0]).find('input[name="sdate"]').datepicker("option","maxDate",e)}}});angular.element("body").on("hidden.bs.popover",function(){var t=angular.element("#ui-datepicker-div");if(t&&t.css("display")==="block"){s(n[0]).find('input[name$="date"]').datepicker("hide")}});o(function(){angular.element("#ui-datepicker-div").on("mousedown",function(t){t.stopPropagation()})})}}};p.component_.$inject=["ngeoDatePickerTemplateUrl","$timeout"];p.directive("ngeoDatePicker",p.component_);p.Controller_=function(t,e,n,r){var i=this;this.ngeoTime_=n;this.time;this.gettextCatalog_=r;this.isModeRange;this.onDateSelected;this.initialMinDate;this.initialMaxDate;this.edateOptions={changeMonth:true,changeYear:true};this.sdateOptions={changeMonth:true,changeYear:true};this.sdate;this.edate;t.$watchGroup(["datepickerCtrl.sdate","datepickerCtrl.edate"],function(t,e){var n=t[0];var r=t[1];if(angular.isDate(n)&&(!i.isModeRange||angular.isDate(r))){i.onDateSelected({time:{start:i.ngeoTime_.getTime(n),end:i.ngeoTime_.getTime(r)}})}})};p.Controller_.$inject=["$scope","$injector","ngeoTime","gettextCatalog"];p.Controller_.prototype.init=function(){var t=this.ngeoTime_.getOptions(this.time);this.initialMinDate=this.ngeoTime_.createDate(t.minDate);this.initialMaxDate=this.ngeoTime_.createDate(t.maxDate);this.isModeRange=this.time.mode==="range";if(this.isModeRange){e["a"].assertArray(t.values);this.sdate=this.ngeoTime_.createDate(t.values[0]);this.edate=this.ngeoTime_.createDate(t.values[1])}else{e["a"].assertNumber(t.values);this.sdate=this.ngeoTime_.createDate(t.values)}};p.controller("ngeoDatePickerController",p.Controller_);v["a"]=p}).call(this,g(35))},function(t,e,n){"use strict";var s=n(1);var p=n(9);var r=n(299);var o=n(97);var f=n(77);var a=n(18);var v=n(10);var d=n(74);var i=n(131);var g=n(147);var m=n(144);var u=function t(e,n,r){this.$q_=e;this.$http_=n;this.tilesPreloadingLimit_=r};u.$inject=["$q","$http","ngeoTilesPreloadingLimit"];u.$inject=["$q","$http","ngeoTilesPreloadingLimit"];u.GROUP_KEY="groupName";u.REFRESH_PARAM="random";u.prototype.createBasicWMSLayer=function(t,e,n,r,i,a,o,s){var u={FORMAT:n,LAYERS:e};var l;if(i){u["TIME"]=i}if(r){u["SERVERTYPE"]=r;l=r.replace("qgisserver","qgis")}var c=Object.assign({},s,{url:t,params:u,serverType:l,crossOrigin:o});var h=new d["a"](c);if(a){h.updateParams(a)}return new f["a"]({source:h})};u.prototype.createBasicWMSLayerFromDataSource=function(t,e){var n=t.wmsUrl;s["a"].assert(n);var r=t.getOGCLayerNames().join(",");var i=t.ogcServerType;var a=t.ogcImageType;var o=this.createBasicWMSLayer(n,r,a,i,undefined,undefined,e);o.setVisible(t.visible);o.set("querySourceIds",[t.id]);return o};u.prototype.createWMTSLayerFromCapabilitites=function(o,s,u,l,c){var h=new r["a"];var f=new a["a"]({preload:this.tilesPreloadingLimit_});var d=this.$q_;return this.$http_.get(o,{cache:true}).then(function(t){var e;if(t.data){e=h.read(t.data)}if(e){var n=Object.assign({},c,Object(g["b"])(e,{matrixSet:u,crossOrigin:"anonymous",layer:s}));var r=new g["a"](n);if(l&&!v["d"](l)){r.updateDimensions(l)}f.setSource(r);var i=e["Contents"]["Layer"];var a=p["d"](i,function(t,e,n){return t["Identifier"]==s});f.set("capabilitiesStyles",a["Style"]);return d.resolve(f)}return d.reject("Failed to get WMTS capabilities from "+o)})};u.prototype.createWMTSLayerFromCapabilititesObj=function(t,e,n){var r=Object(g["b"])(t,{crossOrigin:"anonymous",layer:e["Identifier"]});s["a"].assert(r);var i=new g["a"](r);if(n&&!v["d"](n)){i.updateDimensions(n)}return new a["a"]({capabilitiesStyles:e["Style"],preload:Infinity,source:i})};u.prototype.createBasicGroup=function(t){var e=new o["a"];if(t){e.setLayers(t)}return e};u.prototype.getGroupFromMap=function(t,e){var n=t.getLayerGroup().getLayers();var r;n.getArray().some(function(t){if(t.get(u.GROUP_KEY)===e){r=t;return true}else{return false}});if(!r){r=this.createBasicGroup();r.set(u.GROUP_KEY,e);t.addLayer(r)}return r};u.prototype.getFlatLayers=function(t){if(t instanceof o["a"]){var e=t.getLayers().getArray();var n=e.some(function(t){return t instanceof o["a"]});if(!n){return e.slice()}}return this.getFlatLayers_(t,[],undefined)};u.prototype.getFlatLayers_=function(t,e,n){var r=this;var i=t.getOpacity();if(n!==undefined){n*=i}else{n=i}if(t instanceof o["a"]){var a=t.getLayers();a.forEach(function(t){r.getFlatLayers_(t,e,n)})}else{if(e.indexOf(t)<0){t.set("inheritedOpacity",n,true);e.push(t)}}return e};u.prototype.getLayerByName=function(n,t){var r=this;var i=null;t.some(function(t){if(t instanceof o["a"]){var e=t.getLayers().getArray();i=r.getLayerByName(n,e)}else if(t.get("layerNodeName")===n){i=t}return!!i});return i};u.prototype.getWMTSLegendURL=function(t){var e;var n=t.get("capabilitiesStyles");if(n!==undefined){var r=n[0]["legendURL"];if(r!==undefined){e=r[0]["href"]}}return e};u.prototype.getWMSLegendURL=function(t,e,n,r,i,a,o,s,u,l,c){if(!t){return undefined}var h={FORMAT:"image/png",TRANSPARENT:true,SERVICE:"WMS",VERSION:"1.1.1",REQUEST:"GetLegendGraphic",LAYER:e};if(n!==undefined){h["SCALE"]=n}if(r!==undefined){h["RULE"]=r;if(i!==undefined){h["WIDTH"]=i}if(a!==undefined){h["HEIGHT"]=a}}if(o=="qgis"){if(s!=undefined){h["DPI"]=s}if(u!=undefined&&l!=undefined&&n!=undefined&&s!=undefined&&r==undefined){h["BBOX"]=u.join(",");h["SRS"]=l;h["WIDTH"]=Math.round((u[2]-u[0])/n*39.37*s);h["HEIGHT"]=Math.round((u[3]-u[1])/n*39.37*s)}}if(c){Object.assign(h,c)}return m["a"](t,h)};u.prototype.isLayerVisible=function(t,e){if(!t.getVisible()){return false}var n=e.getView().getResolution();return n>t.getMinResolution()&&n<t.getMaxResolution()};u.prototype.refreshWMSLayer=function(t){var e=t.getSource();s["a"].assert(e instanceof d["a"]||e instanceof i["a"]);var n=e;var r=n.getParams();r[u.REFRESH_PARAM]=Math.random();n.updateParams(r)};u.prototype.setZIndexToFirstLevelChildren=function(t,e){if(!(t instanceof o["a"])){return}var n=t.getLayers();n.forEach(function(t){return t.setZIndex(e)})};u.prototype.updateWMSLayerState=function(t,e,n){if(e.length<=0){t.setVisible(false)}else{t.setVisible(true);var r=t.getSource();if(n){r.updateParams({LAYERS:e,TIME:n})}else{r.updateParams({LAYERS:e})}}};u.prototype.getQuerySourceIds=function(t){return t.get("querySourceIds")};u.module=angular.module("ngeoLayerHelper",[]).service("ngeoLayerHelper",u).value("ngeoTilesPreloadingLimit",Infinity);e["a"]=u},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var b=n(9);var O=n(8);var r=n(245);var w=function(e){function t(t){e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes});this.matrixIds_=t.matrixIds}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getMatrixId=function t(e){return this.matrixIds_[e]};t.prototype.getMatrixIds=function t(){return this.matrixIds_};return t}(r["a"]);e["b"]=w;function i(a,t,e){var o=[];var s=[];var u=[];var l=[];var c=[];var h=e!==undefined?e:[];var n="SupportedCRS";var f="TileMatrix";var d="Identifier";var p="ScaleDenominator";var v="TopLeftCorner";var g="TileWidth";var m="TileHeight";var r=a[n];var i=Object(O["g"])(r.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(O["g"])(r);var y=i.getMetersPerUnit();var _=i.getAxisOrientation().substr(0,2)=="ne";a[f].sort(function(t,e){return e[p]-t[p]});a[f].forEach(function(e){var t;if(h.length>0){t=Object(b["d"])(h,function(t){if(e[d]==t[f]){return true}if(e[d].indexOf(":")===-1){return a[d]+":"+e[d]===t[f]}return false})}else{t=true}if(t){s.push(e[d]);var n=e[p]*28e-5/y;var r=e[g];var i=e[m];if(_){u.push([e[v][1],e[v][0]])}else{u.push(e[v])}o.push(n);l.push(r==i?r:[r,i]);c.push([e["MatrixWidth"],-e["MatrixHeight"]])}});return new w({extent:t,origins:u,resolutions:o,matrixIds:s,tileSizes:l,sizes:c})}},function(t,e,n){"use strict";var r=n(1);var i=n(101);var a=function t(e,n){this.history_=n;this.schema_=e.protocol.substring(0,e.protocol.length-1);this.domain_=e.hostname;this.port_=e.port?parseInt(e.port,10):undefined;this.path_=e.pathname;this.queryData_=i["a"].decodeQueryString(e.search);this.fragment_=i["a"].decodeQueryString(e.hash)};a.replaceState=function(t,e){try{t.replaceState(null,"",e)}catch(t){}};a.prototype.getPath=function(){return this.path_};a.prototype.getUriString=function(){var t=[];if(this.schema_){t.push(this.schema_,":")}if(this.domain_||this.schema_==="file"){t.push("//");t.push(this.domain_);if(this.port_!==undefined){t.push(":",String(this.port_))}}if(this.path_){if(this.domain_&&this.path_.charAt(0)!=="/"){t.push("/")}t.push(this.path_)}var e=i["a"].encodeQueryString(this.queryData_);if(e.length>0){t.push("?",e)}var n=i["a"].encodeQueryString(this.fragment_);if(n.length>0){t.push("#",n)}return t.join("")};a.prototype.hasParam=function(t){return t in this.queryData_};a.prototype.hasFragmentParam=function(t){return t in this.fragment_};a.prototype.getParam=function(t){return this.queryData_[t]};a.prototype.getFragmentParam=function(t){return this.fragment_[t]};a.prototype.getParamAsInt=function(t){var e=this.getParam(t);if(e===undefined){return undefined}r["a"].assertString(e);var n=parseInt(e,10);return isNaN(n)?undefined:n};a.prototype.getParamAsFloat=function(t){var e=this.getParam(t);if(e===undefined){return undefined}r["a"].assertString(e);var n=parseFloat(e);return isNaN(n)?undefined:n};a.prototype.getFragmentParamAsInt=function(t){var e=this.getFragmentParam(t);if(e===undefined){return undefined}r["a"].assertString(e);var n=parseInt(e,10);return isNaN(n)?undefined:n};a.prototype.getParamKeys=function(){var t=[];for(var e in this.queryData_){t.push(e)}return t};a.prototype.getFragmentParamKeys=function(){var t=[];for(var e in this.fragment_){t.push(e)}return t};a.prototype.getParamKeysWithPrefix=function(t){var e=[];for(var n in this.queryData_){if(n.indexOf(t)==0){e.push(n)}}return e};a.prototype.getFragmentParamKeysWithPrefix=function(t){var e=[];for(var n in this.fragment_){if(n.indexOf(t)==0){e.push(n)}}return e};a.prototype.updateParams=function(t){for(var e in t){this.queryData_[e]=t[e]}};a.prototype.updateFragmentParams=function(t){for(var e in t){this.fragment_[e]=t[e]}};a.prototype.deleteParam=function(t){delete this.queryData_[t]};a.prototype.deleteFragmentParam=function(t){delete this.fragment_[t]};a.prototype.refresh=function(){a.replaceState(this.history_,this.getUriString())};a.prototype.setPath=function(t){this.path_=t};a.LocationFactory=function(e,t){var n=t.history;var r=new a(t.location,t.history);var i=r.getUriString();e.$watch(function(){var t=r.getUriString();if(i!==t){e.$evalAsync(function(){i=t;if(n!==undefined&&n.replaceState!==undefined){a.replaceState(n,t)}e.$broadcast("ngeoLocationChange")})}});return r};a.LocationFactory.$inject=["$rootScope","$window"];a.MockProvider=function(t){t["$get"]=function(){var t={absUrl:function t(){return""},hash:function t(e){return e!==undefined?this:""},host:function t(){return""},path:function t(e){return e!==undefined?this:""},port:function t(){return 0},protocol:function t(){return""},replace:function t(){},search:function t(e,n){return e!==undefined?this:{}},url:function t(e){return""}};return t}};a.MockProvider.$inject=["$locationProvider"];a.module=angular.module("ngeoLocation",[]);a.module.factory("ngeoLocation",a.LocationFactory);e["a"]=a},function(t,e,n){"use strict";var r=n(323);var l=n(1);var c=n(68);var h=n(5);var f=function t(e){c["a"].call(this);this.timeout_=e;var n=angular.element('<div class="ngeo-notification"></div>');angular.element(document.body).append(n);this.container_=n;this.cache_={}};f.$inject=["$timeout"];f.$inject=["$timeout"];h["d"](f,c["a"]);f.DEFAULT_DELAY_=7e3;f.prototype.notify=function(t){this.show(t)};f.prototype.clear=function(){for(var t in this.cache_){this.clearMessageByCacheItem_(this.cache_[parseInt(t,10)])}};f.prototype.showMessage=function(t){var e=this;var n=t.type;l["a"].assertString(n,"Type should be set.");var r=["alert","fade","show"];switch(n){case c["a"].Type.ERROR:r.push("alert-danger");break;case c["a"].Type.INFORMATION:r.push("alert-info");break;case c["a"].Type.SUCCESS:r.push("alert-success");break;case c["a"].Type.WARNING:r.push("alert-warning");break;default:break}var i=angular.element('<div class="'+r.join(" ")+'"></div>');var a;if(t.target){a=angular.element(t.target)}else{a=this.container_}a.append(i);i.html(t.msg).addClass("show");var o=t.delay!==undefined?t.delay:f.DEFAULT_DELAY_;var s={el:i};var u=h["c"](i);s.promise=this.timeout_(function(){i.alert("close");delete e.cache_[u]},o);this.cache_[u]=s};f.prototype.clearMessageByCacheItem_=function(t){var e=t.el;var n=t.promise;var r=h["c"](e);e.alert("close");this.timeout_.cancel(n);delete this.cache_[r]};f.CacheItem;f.module=angular.module("ngeoNotification",[]);f.module.service("ngeoNotification",f);e["a"]=f},function(t,e,n){"use strict";var o=n(124);var s=n(207);function u(t){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(t).length===0}else{var e;for(e in t){if(t.hasOwnProperty(e)){return false}}return true}}var r=n(84);var i=n(143);var a=n(199);function l(t,e){var n=[],r;for(r=0;r<t.length;++r){n.push(e(t[r],r))}return n}var c=n(134);var h=n(78);var f=n(100);var d=n(17);var p=n(83);var v=n(13);var g=n(40);function m(t){var e;var n=t._a;if(n&&Object(g["a"])(t).overflow===-2){e=n[v["e"]]<0||n[v["e"]]>11?v["e"]:n[v["a"]]<1||n[v["a"]]>Object(p["a"])(n[v["i"]],n[v["e"]])?v["a"]:n[v["b"]]<0||n[v["b"]]>24||n[v["b"]]===24&&(n[v["d"]]!==0||n[v["f"]]!==0||n[v["c"]]!==0)?v["b"]:n[v["d"]]<0||n[v["d"]]>59?v["d"]:n[v["f"]]<0||n[v["f"]]>59?v["f"]:n[v["c"]]<0||n[v["c"]]>999?v["c"]:-1;if(Object(g["a"])(t)._overflowDayOfYear&&(e<v["i"]||e>v["a"])){e=v["a"]}if(Object(g["a"])(t)._overflowWeeks&&e===-1){e=v["g"]}if(Object(g["a"])(t)._overflowWeekday&&e===-1){e=v["h"]}Object(g["a"])(t).overflow=e}return t}var y=n(139);var _=n(110);var b=n(133);var O=n(58);function w(t,e,n){if(t!=null){return t}if(e!=null){return e}return n}function S(t){var e=new Date(d["a"].now());if(t._useUTC){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]}return[e.getFullYear(),e.getMonth(),e.getDate()]}function T(t){var e,n,r=[],i,a,o;if(t._d){return}i=S(t);if(t._w&&t._a[v["a"]]==null&&t._a[v["e"]]==null){x(t)}if(t._dayOfYear!=null){o=w(t._a[v["i"]],i[v["i"]]);if(t._dayOfYear>Object(_["a"])(o)||t._dayOfYear===0){Object(g["a"])(t)._overflowDayOfYear=true}n=Object(y["b"])(o,0,t._dayOfYear);t._a[v["e"]]=n.getUTCMonth();t._a[v["a"]]=n.getUTCDate()}for(e=0;e<3&&t._a[e]==null;++e){t._a[e]=r[e]=i[e]}for(;e<7;e++){t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e]}if(t._a[v["b"]]===24&&t._a[v["d"]]===0&&t._a[v["f"]]===0&&t._a[v["c"]]===0){t._nextDay=true;t._a[v["b"]]=0}t._d=(t._useUTC?y["b"]:y["a"]).apply(null,r);a=t._useUTC?t._d.getUTCDay():t._d.getDay();if(t._tzm!=null){t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm)}if(t._nextDay){t._a[v["b"]]=24}if(t._w&&typeof t._w.d!=="undefined"&&t._w.d!==a){Object(g["a"])(t).weekdayMismatch=true}}function x(t){var e,n,r,i,a,o,s,u;e=t._w;if(e.GG!=null||e.W!=null||e.E!=null){a=1;o=4;n=w(e.GG,t._a[v["i"]],Object(b["b"])(Object(O["a"])(),1,4).year);r=w(e.W,1);i=w(e.E,1);if(i<1||i>7){u=true}}else{a=t._locale._week.dow;o=t._locale._week.doy;var l=Object(b["b"])(Object(O["a"])(),a,o);n=w(e.gg,t._a[v["i"]],l.year);r=w(e.w,l.week);if(e.d!=null){i=e.d;if(i<0||i>6){u=true}}else if(e.e!=null){i=e.e+a;if(e.e<0||e.e>6){u=true}}else{i=a}}if(r<1||r>Object(b["c"])(n,a,o)){Object(g["a"])(t)._overflowWeeks=true}else if(u!=null){Object(g["a"])(t)._overflowWeekday=true}else{s=Object(b["a"])(n,r,i,a,o);t._a[v["i"]]=s.year;t._dayOfYear=s.dayOfYear}}var E=n(82);var C=n(102);var M=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var j=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var A=/Z|[+-]\d\d(?::?\d\d)?/;var k=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var I=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var R=/^\/?Date\((\-?\d+)/i;function D(t){var e,n,r=t._i,i=M.exec(r)||j.exec(r),a,o,s,u;if(i){Object(g["a"])(t).iso=true;for(e=0,n=k.length;e<n;e++){if(k[e][1].exec(i[1])){o=k[e][0];a=k[e][2]!==false;break}}if(o==null){t._isValid=false;return}if(i[3]){for(e=0,n=I.length;e<n;e++){if(I[e][1].exec(i[3])){s=(i[2]||" ")+I[e][0];break}}if(s==null){t._isValid=false;return}}if(!a&&s!=null){t._isValid=false;return}if(i[4]){if(A.exec(i[4])){u="Z"}else{t._isValid=false;return}}t._f=o+(s||"")+(u||"");z(t)}else{t._isValid=false}}var P=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function N(t,e,n,r,i,a){var o=[L(t),p["c"].indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];if(a){o.push(parseInt(a,10))}return o}function L(t){var e=parseInt(t,10);if(e<=49){return 2e3+e}else if(e<=999){return 1900+e}return e}function $(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function F(t,e,n){if(t){var r=C["c"].indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i){Object(g["a"])(n).weekdayMismatch=true;n._isValid=false;return false}}return true}var G={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function H(t,e,n){if(t){return G[t]}else if(e){return 0}else{var r=parseInt(n,10);var i=r%100,a=(r-i)/100;return a*60+i}}function U(t){var e=P.exec($(t._i));if(e){var n=N(e[4],e[3],e[2],e[5],e[6],e[7]);if(!F(e[1],n,t)){return}t._a=n;t._tzm=H(e[8],e[9],e[10]);t._d=y["b"].apply(null,t._a);t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm);Object(g["a"])(t).rfc2822=true}else{t._isValid=false}}function W(t){var e=R.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}D(t);if(t._isValid===false){delete t._isValid}else{return}U(t);if(t._isValid===false){delete t._isValid}else{return}d["a"].createFromInputFallback(t)}d["a"].createFromInputFallback=Object(E["a"])("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});var Y=n(6);var V=n(49);var q=n(22);d["a"].ISO_8601=function(){};d["a"].RFC_2822=function(){};function z(t){if(t._f===d["a"].ISO_8601){D(t);return}if(t._f===d["a"].RFC_2822){U(t);return}t._a=[];Object(g["a"])(t).empty=true;var e=""+t._i,n,r,i,a,o,s=e.length,u=0;i=Object(q["b"])(t._f,t._locale).match(q["e"])||[];for(n=0;n<i.length;n++){a=i[n];r=(e.match(Object(Y["b"])(a,t))||[])[0];if(r){o=e.substr(0,e.indexOf(r));if(o.length>0){Object(g["a"])(t).unusedInput.push(o)}e=e.slice(e.indexOf(r)+r.length);u+=r.length}if(q["d"][a]){if(r){Object(g["a"])(t).empty=false}else{Object(g["a"])(t).unusedTokens.push(a)}Object(V["b"])(a,r,t)}else if(t._strict&&!r){Object(g["a"])(t).unusedTokens.push(a)}}Object(g["a"])(t).charsLeftOver=s-u;if(e.length>0){Object(g["a"])(t).unusedInput.push(e)}if(t._a[v["b"]]<=12&&Object(g["a"])(t).bigHour===true&&t._a[v["b"]]>0){Object(g["a"])(t).bigHour=undefined}Object(g["a"])(t).parsedDateParts=t._a.slice(0);Object(g["a"])(t).meridiem=t._meridiem;t._a[v["b"]]=B(t._locale,t._a[v["b"]],t._meridiem);T(t);m(t)}function B(t,e,n){var r;if(n==null){return e}if(t.meridiemHour!=null){return t.meridiemHour(e,n)}else if(t.isPM!=null){r=t.isPM(n);if(r&&e<12){e+=12}if(!r&&e===12){e=0}return e}else{return e}}var K=n(136);function X(t){var e,n,r,i,a;if(t._f.length===0){Object(g["a"])(t).invalidFormat=true;t._d=new Date(NaN);return}for(i=0;i<t._f.length;i++){a=0;e=Object(h["b"])({},t);if(t._useUTC!=null){e._useUTC=t._useUTC}e._f=t._f[i];z(e);if(!Object(c["b"])(e)){continue}a+=Object(g["a"])(e).charsLeftOver;a+=Object(g["a"])(e).unusedTokens.length*10;Object(g["a"])(e).score=a;if(r==null||a<r){r=a;n=e}}Object(K["a"])(t,n||e)}var Z=n(37);function Q(t){if(t._d){return}var e=Object(Z["b"])(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)});T(t)}n.d(e,"b",function(){return tt});n.d(e,"a",function(){return nt});function J(t){var e=new h["a"](m(tt(t)));if(e._nextDay){e.add(1,"d");e._nextDay=undefined}return e}function tt(t){var e=t._i,n=t._f;t._locale=t._locale||Object(f["b"])(t._l);if(e===null||n===undefined&&e===""){return Object(c["a"])({nullInput:true})}if(typeof e==="string"){t._i=e=t._locale.preparse(e)}if(Object(h["c"])(e)){return new h["a"](m(e))}else if(Object(a["a"])(e)){t._d=e}else if(Object(o["a"])(n)){X(t)}else if(n){z(t)}else{et(t)}if(!Object(c["b"])(t)){t._d=null}return t}function et(t){var e=t._i;if(Object(r["a"])(e)){t._d=new Date(d["a"].now())}else if(Object(a["a"])(e)){t._d=new Date(e.valueOf())}else if(typeof e==="string"){W(t)}else if(Object(o["a"])(e)){t._a=l(e.slice(0),function(t){return parseInt(t,10)});T(t)}else if(Object(s["a"])(e)){Q(t)}else if(Object(i["a"])(e)){t._d=new Date(e)}else{d["a"].createFromInputFallback(t)}}function nt(t,e,n,r,i){var a={};if(n===true||n===false){r=n;n=undefined}if(Object(s["a"])(t)&&u(t)||Object(o["a"])(t)&&t.length===0){t=undefined}a._isAMomentObject=true;a._useUTC=a._isUTC=i;a._l=n;a._i=t;a._f=e;a._strict=r;return J(a)}},function(t,e,n){"use strict";var r=n(285);var h=n(159);var f=n(10);var i=n(317);var a=function t(e,r,i,a,n,o){var s=new h["a"];var u={remote:{url:e,prepare:function t(e,n){n.url=n.url.replace("%QUERY",e);return n},transform:function t(e){var n=e;if(r!==undefined){n={type:"FeatureCollection",features:n.features.filter(r)}}return s.readFeatures(n,{featureProjection:i,dataProjection:a})}},datumTokenizer:function t(){},queryTokenizer:Bloodhound.tokenizers.whitespace};var l=f["a"]({},n||{});var c=f["a"]({},o||{});if(l.remote){f["a"](c,l.remote);delete l.remote}f["a"](u,l);f["a"](u.remote,c);return new Bloodhound(u)};a.module=angular.module("ngeoSearchCreategeojsonbloodhound",[]);a.module.value("ngeoSearchCreateGeoJSONBloodhound",a);a.Function;var o=a;var d=n(8);var p=n(88);var v=n(27);var g=n(15);var s=function t(e){var r=e||{};var o=d["g"](p["a"]);var s=r.targetProjection;var u=function t(e){var n=/BOX\((.*?) (.*?),(.*?) (.*?)\)/g;var r=n.exec(e);if(r!==null){return[parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]),parseFloat(r[4])]}else{return null}};var l=function t(e){return e.replace(/<\/?[ib]>/g,"")};var c=function t(e){var n=/<b>(.*?)<\/b>/g;var r=n.exec(e);if(r!==null){return r[1]}else{return e}};var n={remote:{url:"https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&searchText=%QUERY",prepare:function t(e,n){n.url=n.url.replace("%QUERY",e);if(r.limit!==undefined){n.url+="&limit="+r.limit}if(r.origins!==undefined){n.url+="&origins="+r.origins}return r.prepare!==undefined?r.prepare(e,n):n},transform:function t(e){var n=e.results.map(function(t){var e=t.attrs;var n=new v["a"]([e.y,e.x]);var r=u(e.geom_st_box2d);if(s!==undefined){n.transform(o,s);if(r!==null){r=d["n"](r,o,s)}}e["geometry"]=n;e["bbox"]=r;var i=e.label;e["label_no_html"]=l(i);e["label_simple"]=c(i);var a=new g["a"](e);a.setId(e.featureId);return a});return n}},datumTokenizer:function t(){},queryTokenizer:Bloodhound.tokenizers.whitespace};var i=f["a"]({},r.options||{});var a=f["a"]({},r.remoteOptions||{});if(i.remote){f["a"](a,i.remote);delete i.remote}f["a"](n,i);f["a"](n.remote,a);return new Bloodhound(n)};s.module=angular.module("ngeoCreateLocationSearchBloodhound",[]);s.module.value("ngeoCreateLocationSearchBloodhound",s);s.Function;var u=s;var l=angular.module("ngeoSearchModule",[r["a"].module.name,o.module.name,u.module.name]);var c=e["a"]=l},function(t,e,n){"use strict";var N=n(1);var v=n(166);var r=n(184);var i=n(219);var c=n(177);var a=n(5);var o=n(135);var f=n(0);var s=function t(){o["a"].call(this)};a["d"](s,o["a"]);s.prototype.read;s.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};s.prototype.readFromNode=function(t){var e={};e=f["t"](e,s.PARSERS_,t,[]);return e};s.readElement_=function(t,e){var n={};for(var r=0,i=t.attributes.length;r<i;r++){var a=t.attributes.item(r);n[a.name]=a.value}if(e.length===1){n["type"]=n["type"].split(":").pop()}return n};s.readComplexType_=function(t,e){var n=t.getAttribute("name");var r=f["t"]({name:n},s.COMPLEX_TYPE_PARSERS_,t,e);r["complexContent"]=r["complexContent"]["extension"]["sequence"]["element"];return r};s.readComplexContent_=function(t,e){return f["t"]({},s.COMPLEX_CONTENT_PARSERS_,t,e)};s.readExtension_=function(t,e){return f["t"]({},s.EXTENSION_PARSERS_,t,e)};s.readSequence_=function(t,e){return f["t"]({},s.SEQUENCE_PARSERS_,t,e)};s.NAMESPACE_URIS_=[null,"http://www.w3.org/2001/XMLSchema"];s.PARSERS_=N["a"].assert(f["q"](s.NAMESPACE_URIS_,{element:f["l"](s.readElement_),complexType:f["l"](s.readComplexType_)}));s.COMPLEX_TYPE_PARSERS_=N["a"].assert(f["q"](s.NAMESPACE_URIS_,{complexContent:f["m"](s.readComplexContent_)}));s.COMPLEX_CONTENT_PARSERS_=N["a"].assert(f["q"](s.NAMESPACE_URIS_,{extension:f["m"](s.readExtension_)}));s.EXTENSION_PARSERS_=N["a"].assert(f["q"](s.NAMESPACE_URIS_,{sequence:f["m"](s.readSequence_)}));s.SEQUENCE_PARSERS_=N["a"].assert(f["q"](s.NAMESPACE_URIS_,{element:f["l"](s.readElement_)}));var u=s;var l=n(172);var d=n(4);var h=[null,"http://www.opengis.net/wms"];var p=Object(f["q"])(h,{Service:Object(f["m"])($),Capability:Object(f["m"])(L)});var g=Object(f["q"])(h,{Request:Object(f["m"])(z),Exception:Object(f["m"])(U),Layer:Object(f["m"])(W)});var m=function(t){function e(){t.call(this);this.version=undefined}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.readFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){return this.readFromNode(n)}}return null};e.prototype.readFromNode=function t(e){this.version=e.getAttribute("version").trim();var n=Object(f["t"])({version:this.version},p,e,[]);return n?n:null};return e}(o["a"]);var y=Object(f["q"])(h,{Name:Object(f["m"])(d["h"]),Title:Object(f["m"])(d["h"]),Abstract:Object(f["m"])(d["h"]),KeywordList:Object(f["m"])(et),OnlineResource:Object(f["m"])(l["a"]),ContactInformation:Object(f["m"])(F),Fees:Object(f["m"])(d["h"]),AccessConstraints:Object(f["m"])(d["h"]),LayerLimit:Object(f["m"])(d["f"]),MaxWidth:Object(f["m"])(d["f"]),MaxHeight:Object(f["m"])(d["f"])});var _=Object(f["q"])(h,{ContactPersonPrimary:Object(f["m"])(G),ContactPosition:Object(f["m"])(d["h"]),ContactAddress:Object(f["m"])(H),ContactVoiceTelephone:Object(f["m"])(d["h"]),ContactFacsimileTelephone:Object(f["m"])(d["h"]),ContactElectronicMailAddress:Object(f["m"])(d["h"])});var b=Object(f["q"])(h,{ContactPerson:Object(f["m"])(d["h"]),ContactOrganization:Object(f["m"])(d["h"])});var O=Object(f["q"])(h,{AddressType:Object(f["m"])(d["h"]),Address:Object(f["m"])(d["h"]),City:Object(f["m"])(d["h"]),StateOrProvince:Object(f["m"])(d["h"]),PostCode:Object(f["m"])(d["h"]),Country:Object(f["m"])(d["h"])});var w=Object(f["q"])(h,{Format:Object(f["i"])(d["h"])});var S=Object(f["q"])(h,{Name:Object(f["m"])(d["h"]),Title:Object(f["m"])(d["h"]),Abstract:Object(f["m"])(d["h"]),KeywordList:Object(f["m"])(et),CRS:Object(f["l"])(d["h"]),EX_GeographicBoundingBox:Object(f["m"])(P),BoundingBox:Object(f["l"])(D),Dimension:Object(f["l"])(V),Attribution:Object(f["m"])(R),AuthorityURL:Object(f["l"])(Q),Identifier:Object(f["l"])(d["h"]),MetadataURL:Object(f["l"])(J),DataURL:Object(f["l"])(q),FeatureListURL:Object(f["l"])(q),Style:Object(f["l"])(tt),MinScaleDenominator:Object(f["m"])(d["d"]),MaxScaleDenominator:Object(f["m"])(d["d"]),Layer:Object(f["l"])(Y)});var T=Object(f["q"])(h,{Title:Object(f["m"])(d["h"]),OnlineResource:Object(f["m"])(l["a"]),LogoURL:Object(f["m"])(Z)});var x=Object(f["q"])(h,{westBoundLongitude:Object(f["m"])(d["d"]),eastBoundLongitude:Object(f["m"])(d["d"]),southBoundLatitude:Object(f["m"])(d["d"]),northBoundLatitude:Object(f["m"])(d["d"])});var E=Object(f["q"])(h,{GetCapabilities:Object(f["m"])(X),GetMap:Object(f["m"])(X),GetFeatureInfo:Object(f["m"])(X)});var C=Object(f["q"])(h,{Format:Object(f["l"])(d["h"]),DCPType:Object(f["l"])(B)});var M=Object(f["q"])(h,{HTTP:Object(f["m"])(K)});var j=Object(f["q"])(h,{Get:Object(f["m"])(q),Post:Object(f["m"])(q)});var A=Object(f["q"])(h,{Name:Object(f["m"])(d["h"]),Title:Object(f["m"])(d["h"]),Abstract:Object(f["m"])(d["h"]),LegendURL:Object(f["l"])(Z),StyleSheetURL:Object(f["m"])(q),StyleURL:Object(f["m"])(q)});var k=Object(f["q"])(h,{Format:Object(f["m"])(d["h"]),OnlineResource:Object(f["m"])(l["a"])});var I=Object(f["q"])(h,{Keyword:Object(f["i"])(d["h"])});function R(t,e){return Object(f["t"])({},T,t,e)}function D(t,e){var n=[Object(d["e"])(t.getAttribute("minx")),Object(d["e"])(t.getAttribute("miny")),Object(d["e"])(t.getAttribute("maxx")),Object(d["e"])(t.getAttribute("maxy"))];var r=[Object(d["e"])(t.getAttribute("resx")),Object(d["e"])(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:n,res:r}}function P(t,e){var n=Object(f["t"])({},x,t,e);if(!n){return undefined}var r=n["westBoundLongitude"];var i=n["southBoundLatitude"];var a=n["eastBoundLongitude"];var o=n["northBoundLatitude"];if(r===undefined||i===undefined||a===undefined||o===undefined){return undefined}return[r,i,a,o]}function L(t,e){return Object(f["t"])({},g,t,e)}function $(t,e){return Object(f["t"])({},y,t,e)}function F(t,e){return Object(f["t"])({},_,t,e)}function G(t,e){return Object(f["t"])({},b,t,e)}function H(t,e){return Object(f["t"])({},O,t,e)}function U(t,e){return Object(f["t"])([],w,t,e)}function W(t,e){return Object(f["t"])({},S,t,e)}function Y(t,e){var n=e[e.length-1];var r=Object(f["t"])({},S,t,e);if(!r){return undefined}var i=Object(d["b"])(t.getAttribute("queryable"));if(i===undefined){i=n["queryable"]}r["queryable"]=i!==undefined?i:false;var a=Object(d["g"])(t.getAttribute("cascaded"));if(a===undefined){a=n["cascaded"]}r["cascaded"]=a;var o=Object(d["b"])(t.getAttribute("opaque"));if(o===undefined){o=n["opaque"]}r["opaque"]=o!==undefined?o:false;var s=Object(d["b"])(t.getAttribute("noSubsets"));if(s===undefined){s=n["noSubsets"]}r["noSubsets"]=s!==undefined?s:false;var u=Object(d["e"])(t.getAttribute("fixedWidth"));if(!u){u=n["fixedWidth"]}r["fixedWidth"]=u;var l=Object(d["e"])(t.getAttribute("fixedHeight"));if(!l){l=n["fixedHeight"]}r["fixedHeight"]=l;var c=["Style","CRS","AuthorityURL"];c.forEach(function(t){if(t in n){var e=r[t]||[];r[t]=e.concat(n[t])}});var h=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];h.forEach(function(t){if(!(t in r)){var e=n[t];r[t]=e}});return r}function V(t,e){var n={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Object(d["b"])(t.getAttribute("multipleValues")),nearestValue:Object(d["b"])(t.getAttribute("nearestValue")),current:Object(d["b"])(t.getAttribute("current")),values:Object(d["h"])(t)};return n}function q(t,e){return Object(f["t"])({},k,t,e)}function z(t,e){return Object(f["t"])({},E,t,e)}function B(t,e){return Object(f["t"])({},M,t,e)}function K(t,e){return Object(f["t"])({},j,t,e)}function X(t,e){return Object(f["t"])({},C,t,e)}function Z(t,e){var n=q(t,e);if(n){var r=[Object(d["g"])(t.getAttribute("width")),Object(d["g"])(t.getAttribute("height"))];n["size"]=r;return n}return undefined}function Q(t,e){var n=q(t,e);if(n){n["name"]=t.getAttribute("name");return n}return undefined}function J(t,e){var n=q(t,e);if(n){n["type"]=t.getAttribute("type");return n}return undefined}function tt(t,e){return Object(f["t"])({},A,t,e)}function et(t,e){return Object(f["t"])([],I,t,e)}var nt=m;var rt=n(299);var it=n(10);var at=n(144);var ot=n(3);var st=n(74);var ut=function(){t.$inject=["$http","$q","ngeoRuleHelper","ngeoWMSTime"];function t(t,e,n,r){this.http_=t;this.q_=e;this.ngeoRuleHelper_=n;this.ngeoWMSTime_=r;this.requestCancelers_=[];this.wmsGetCapabilitiesPromises_={};this.wmtsGetCapabilitiesPromises_={}}var e=t.prototype;e.issue=function t(e){var n=[];var r=e.map;this.cancelStillRunningRequests_();var i;if(e.queryableDataSources){i=e.queryableDataSources}else{var a=e.dataSources;N["a"].assert(a,"DataSources should be set");i=this.getQueryableDataSources(a,r)}var o=this.getCombinableWFSDataSources_(i.wfs);n.push(this.issueCombinedWFS_(o,e));var s=e.coordinate;if(s){var u=this.getCombinableWMSDataSources_(i.wms);n.push(this.issueCombinedWMS_(u,e))}return this.q_.all(n).then(this.handleCombinedQueryResult_.bind(this))};e.getQueryableDataSources=function t(e,n){var r={wfs:[],wms:[]};var i=N["a"].assertNumber(n.getView().getResolution());for(var a=e,o=Array.isArray(a),s=0,a=o?a:a[Symbol.iterator]();;){var u;if(o){if(s>=a.length)break;u=a[s++]}else{s=a.next();if(s.done)break;u=s.value}var l=u;if(!this.isDataSourceQueryable_(l,i)){continue}if(l instanceof v["a"]){if(l.supportsWFS){r.wfs.push(l)}else{r.wms.push(l)}}}return r};e.wfsDescribeFeatureType=function t(e){N["a"].assert(e.supportsAttributes,"The data source must support WFS, have a single OGCLayer that\n      is queryable in order to issue WFS DescribeFeatureType requests");var n=e.getOGCLayerNames();var r=at["a"](N["a"].assertString(e.wfsUrl),{REQUEST:"DescribeFeatureType",SERVICE:"WFS",VERSION:"2.0.0",TYPENAME:n});return this.http_.get(r).then(function(t){var e=new u;return e.read(t.data)})};e.wmsFindLayerCapability=function t(e,n){var r=null;for(var i=e,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{o=i.next();if(o.done)break;s=o.value}var u=s;if(u["Name"]===n){r=u;break}else if(u["Layer"]){r=this.wmsFindLayerCapability(u["Layer"],n);if(r){break}}}return r};e.wmsGetCapabilities=function t(e,n){var r=n!==false;var i={REQUEST:"GetCapabilities",SERVICE:"WMS",VERSION:"1.3.0"};var a=at["a"](e,i);var o;if(!r||!this.wmsGetCapabilitiesPromises_[e]){o=this.http_.get(a).then(function(t){var e=new nt;return e.read(t.data)})}else if(r&&this.wmsGetCapabilitiesPromises_[e]){o=this.wmsGetCapabilitiesPromises_[e]}N["a"].assert(o);if(r&&!this.wmsGetCapabilitiesPromises_[e]){this.wmsGetCapabilitiesPromises_[e]=o}return o};e.wmtsFindLayerCapability=function t(e,n){var r=null;for(var i=e,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{o=i.next();if(o.done)break;s=o.value}var u=s;if(u["Identifier"]===n){r=u;break}}return r};e.wmtsGetCapabilities=function t(e,n){var r=n!==false;var i;if(!r||!this.wmtsGetCapabilitiesPromises_[e]){i=this.http_.get(e).then(function(t){var e=new rt["a"];return e.read(t.data)})}else if(r&&this.wmtsGetCapabilitiesPromises_[e]){i=this.wmtsGetCapabilitiesPromises_[e]}N["a"].assert(i);if(r&&!this.wmtsGetCapabilitiesPromises_[e]){this.wmtsGetCapabilitiesPromises_[e]=i}return i};e.handleCombinedQueryResult_=function t(e){var n={};for(var r=e,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;for(var u in s){var l=Number(u);n[l]=s[l]}}return n};e.handleQueryResult_=function t(e,n,r,i){var a={};for(var o=e,s=Array.isArray(o),u=0,o=s?o:o[Symbol.iterator]();;){var l;if(s){if(u>=o.length)break;l=o[u++]}else{u=o.next();if(u.done)break;l=u.value}var c=l;var h=void 0;var f=void 0;var d=void 0;if(typeof i==="number"){h=[];f=true;d=i}else{if(c instanceof v["a"]){h=this.readAndTypeFeatures_(c,i.data,r)}else{h=[]}}var p=c.id;this.setUniqueIds_(h,c.id);a[p]={features:h,limit:n,tooManyFeatures:f,totalFeatureCount:d}}return a};e.readAndTypeFeatures_=function t(n,r,i){var a=this;var o=[];var s;var e=this.getSetOlFormatTypes_(n,i).slice();e.forEach(function(e){a.getSetOlFormatTypes_(n,i,[e]);if(i){s=n.wfsFormat.readFeatures(r)}else{s=n.wmsFormat.readFeatures(r)}if(s.length>0){s.forEach(function(t){t.set("ngeo_feature_type_",e);o.push(t)})}});this.getSetOlFormatTypes_(n,i,e);return o};e.getSetOlFormatTypes_=function t(e,n,r){var i;if(n){if(r){e.wfsFormat.setFeatureType(r)}i=e.wfsFormat.getFeatureType()}else{if(r){e.wmsFormat.setLayers(r)}i=e.wmsFormat.getLayers()}if(!i){return[]}return Array.isArray(i)?i:[i]};e.issueCombinedWFS_=function t(e,w){var S=this;var T=[];var x=N["a"].assertNumber(w.limit);var n=w.map;var r=n.getView();var E=N["a"].assertNumber(r.getResolution());var i=r.getProjection();var C=i.getCode();var M=w.wfsCount===true;var j;var a=w.coordinate;if(a){var o=w.tolerancePx;N["a"].assert(o);var s=o*E;j=ot["c"](ot["m"](a),s)}else{j=w.extent}var A=new c["a"];var k=new XMLSerializer;var u=function t(){if(R){if(D>=I.length)return"break";P=I[D++]}else{D=I.next();if(D.done)return"break";P=D.value}var n=P;var a=void 0;var e=void 0;var r=[];var o=void 0;var s={};for(var i=n,u=Array.isArray(i),l=0,i=u?i:i[Symbol.iterator]();;){var c;if(u){if(l>=i.length)break;c=i[l++]}else{l=i.next();if(l.done)break;c=l.value}var h=c;if(!a){e=h.wfsFeatureNS;var f=h.wfsFeaturePrefix;var d=h.geometryName;var p=h.wfsOutputFormat;a={bbox:j,featureNS:e,featurePrefix:f,geometryName:d,outputFormat:p,srsName:C};o=h.wfsUrl;it["a"](s,h.activeDimensions)}r=r.concat(h.getInRangeOGCLayerNames(E,true));var v=void 0;if(w.filter){v=S.ngeoRuleHelper_.createFilter({dataSource:h,filter:w.filter,incDimensions:true,incTime:true})}else if(h.filterRules&&h.filterRules.length||h.timeRangeValue||h.dimensionsFiltersConfig&&Object.keys(h.dimensionsFiltersConfig).length>0){N["a"].assert(n.length===1,"A data source having filterRules or timeRangeValue should issue\n            a single query, alone.");v=S.ngeoRuleHelper_.createFilter({dataSource:h,incDimensions:true,incTime:true,srsName:C})}if(v){a["filter"]=v}}N["a"].assert(a);a.featureTypes=r;N["a"].assert(o);var g=S.q_.defer();T.push(g.promise.then(S.handleQueryResult_.bind(S,n,x,true)));var m=void 0;if(M){var y=it["a"]({resultType:"hits"},a);var _=A.writeGetFeature(y);var b=k.serializeToString(_);var O=S.registerCanceler_();m=S.http_.post(o,b,{params:s,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:O.promise}).then(function(t){var e=n[0].wfsFormat.readFeatureCollectionMetadata(t.data);return e["numberOfFeatures"]}.bind(S))}else{m=S.q_.resolve()}m.then(function(t){if(t===undefined||t<x){var e=it["a"]({maxFeatures:x},a);var n=A.writeGetFeature(e);var r=k.serializeToString(n);N["a"].assertString(o);var i=S.registerCanceler_();S.http_.post(o,r,{params:s,headers:{"Content-Type":"text/xml; charset=UTF-8"},timeout:i.promise}).then(function(t){g.resolve(t)})}else{g.resolve(t)}})};for(var I=e,R=Array.isArray(I),D=0,I=R?I:I[Symbol.iterator]();;){var P;var l=u();if(l==="break")break}return this.q_.all(T).then(this.handleCombinedQueryResult_.bind(this))};e.issueCombinedWMS_=function t(e,n){var r=[];var i=N["a"].assertNumber(n.limit);var a=n.map;var o=a.getView();var s=N["a"].assertNumber(o.getResolution());var u=o.getProjection();var l=u.getCode();var c=n.coordinate;N["a"].assert(c);for(var h=e,f=Array.isArray(h),d=0,h=f?h:h[Symbol.iterator]();;){var p;if(f){if(d>=h.length)break;p=h[d++]}else{d=h.next();if(d.done)break;p=d.value}var v=p;var g=void 0;var m=[];var y=void 0;var _=false;var b={};var O=null;var w=null;for(var S=v,T=Array.isArray(S),x=0,S=T?S:S[Symbol.iterator]();;){var E;if(T){if(x>=S.length)break;E=S[x++]}else{x=S.next();if(x.done)break;E=x.value}var C=E;if(!y){y=C.wmsInfoFormat;g=C.wmsUrl}m=m.concat(C.getInRangeOGCLayerNames(s,true));if(!_){it["a"](b,C.activeDimensions);_=true}if(C.filterRules&&C.filterRules.length){N["a"].assert(v.length===1);w=C.getFiltrableOGCLayerName();O=this.ngeoRuleHelper_.createFilterString({dataSource:C,srsName:l})}if(C.timeRangeValue!==null&&C.timeProperty){N["a"].assert(v.length===1);b["TIME"]=this.ngeoWMSTime_.formatWMSTimeParam(C.timeProperty,C.timeRangeValue)}}b["LAYERS"]=m;b["QUERY_LAYERS"]=m;if(O&&w){var M=null;if(m.length===1){M=O}else{var j=[];for(var A=0,k=m.length;A<k;A++){if(m[A]===w){j.push("("+O+")")}else{j.push("()")}}M=j.join("")}b["FILTER"]=M}N["a"].assert(g);var I=new st["a"]({params:b,url:g});var R=N["a"].assertString(I.getGetFeatureInfoUrl(c,s,l,{FEATURE_COUNT:i,INFO_FORMAT:y}));var D=this.registerCanceler_();r.push(this.http_.get(R,{timeout:D.promise}).then(this.handleQueryResult_.bind(this,v,i,false)))}return this.q_.all(r).then(this.handleCombinedQueryResult_.bind(this))};e.getCombinableWFSDataSources_=function t(e){var n=[];var r=[];for(var i=e,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{o=i.next();if(o.done)break;s=o.value}var u=s;if(u.combinableForWFS){var l=false;for(var c=0;c<n.length;c++){var h=n[c];if(u.combinableWithDataSourceForWFS(h[0])){h.push(u);l=true}}if(!l){n.push([u])}}else{r.push([u])}}return n.concat(r)};e.getCombinableWMSDataSources_=function t(e){var n=[];var r=[];for(var i=e,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{o=i.next();if(o.done)break;s=o.value}var u=s;if(u.combinableForWMS){var l=false;for(var c=0;c<n.length;c++){var h=n[c];if(u.combinableWithDataSourceForWMS(h[0])){h.push(u);l=true}}if(!l){n.push([u])}}else{r.push([u])}}return n.concat(r)};e.isDataSourceQueryable_=function t(e,n){var r=e.visible&&e.inRange&&e.queryable;if(r&&e instanceof v["a"]){var i=e;r=i.isAnyOGCLayerInRange(n,true)}return r};e.setUniqueIds_=function t(e,n){e.forEach(function(t){if(t.getId()!==undefined){var e=n+"_"+t.getId();t.setId(e)}})};e.registerCanceler_=function t(){var e=this.q_.defer();this.requestCancelers_.push(e);return e};e.cancelStillRunningRequests_=function t(){for(var e=this.requestCancelers_,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{r=e.next();if(r.done)break;i=r.value}var a=i;a.resolve()}this.requestCancelers_.length=0};return t}();ut.CombinedDataSources;ut.module=angular.module("ngeoQuerent",[r["a"].module.name,i["a"].module.name]);ut.module.service("ngeoQuerent",ut);var lt=e["a"]=ut},function(t,e,n){"use strict";var r=n(229);var i=n(181);var a=n(284);var u=n(211);var l=n(56);var o=angular.module("ngeoBboxQuery",[i["a"].module.name]);o.directive_=function(s){return{restrict:"A",scope:false,link:function t(r,e,i){var a=r.$eval(i["ngeoBboxQueryMap"]);var o=new u["a"]({condition:l["h"]});var n=function t(e){var n=o.getGeometry().getExtent();s.issue({limit:r.$eval(i["ngeoBboxQueryLimit"]),extent:n,map:a})};o.on("boxend",n);r.$watch(i["ngeoBboxQueryActive"],function(t,e){if(t){a.addInteraction(o)}else{a.removeInteraction(o);if(r.$eval(i["ngeoBboxQueryAutoclear"])!==false){s.clear()}}})}}};o.directive_.$inject=["ngeoMapQuerent"];o.directive("ngeoBboxQuery",o.directive_);var s=o;var c=angular.module("ngeoQueryModule",[r["a"].module.name,i["a"].module.name,a["a"].name,s.name]);var h=e["a"]=c},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return h});n.d(e,"c",function(){return i});var b=n(9);var O=n(14);function r(t,e,n,r,i,a){var o=NaN;var s=NaN;var u=(n-e)/r;if(u===1){o=t[e];s=t[e+1]}else if(u==2){o=(1-i)*t[e]+i*t[e+r];s=(1-i)*t[e+1]+i*t[e+r+1]}else if(u!==0){var l=t[e];var c=t[e+1];var h=0;var f=[0];for(var d=e+r;d<n;d+=r){var p=t[d];var v=t[d+1];h+=Math.sqrt((p-l)*(p-l)+(v-c)*(v-c));f.push(h);l=p;c=v}var g=i*h;var m=Object(b["a"])(f,g);if(m<0){var y=(g-f[-m-2])/(f[-m-1]-f[-m-2]);var _=e+(-m-2)*r;o=Object(O["c"])(t[_],t[_+r],y);s=Object(O["c"])(t[_+1],t[_+r+1],y)}else{o=t[e+m*r];s=t[e+m*r+1]}}if(a){a[0]=o;a[1]=s;return a}else{return[o,s]}}function h(t,e,n,r,i,a){if(n==e){return null}var o;if(i<t[e+r-1]){if(a){o=t.slice(e,e+r);o[r-1]=i;return o}else{return null}}else if(t[n-1]<i){if(a){o=t.slice(n-r,n);o[r-1]=i;return o}else{return null}}if(i==t[e+r-1]){return t.slice(e,e+r)}var s=e/r;var u=n/r;while(s<u){var l=s+u>>1;if(i<t[(l+1)*r-1]){u=l}else{s=l+1}}var c=t[s*r-1];if(i==c){return t.slice((s-1)*r,(s-1)*r+r)}var h=t[(s+1)*r-1];var f=(i-c)/(h-c);o=[];for(var d=0;d<r-1;++d){o.push(Object(O["c"])(t[(s-1)*r+d],t[s*r+d],f))}o.push(i);return o}function i(t,e,n,r,i,a,o){if(o){return h(t,e,n[n.length-1],r,i,a)}var s;if(i<t[r-1]){if(a){s=t.slice(0,r);s[r-1]=i;return s}else{return null}}if(t[t.length-1]<i){if(a){s=t.slice(t.length-r);s[r-1]=i;return s}else{return null}}for(var u=0,l=n.length;u<l;++u){var c=n[u];if(e==c){continue}if(i<t[e+r-1]){return null}else if(i<=t[c-1]){return h(t,e,c,r,i,false)}e=c}return null}},function(t,e,n){"use strict";var r=n(61);var i=function(r){function t(t,e,n){r.call(this,t);this.map=e;this.frameState=n!==undefined?n:null}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var r=n(5);var i=function t(e,n){this.data=e;this.columnDefs=n;this.selectedRows={}};i.getRowUid=function(t){return""+r["c"](t)};i.prototype.isRowSelected=function(t){return!!this.selectedRows[i.getRowUid(t)]};i.prototype.getSelectedCount=function(){return Object.keys(this.selectedRows).length};i.prototype.getSelectedRows=function(){var e=this;return this.data.filter(function(t){return e.isRowSelected(t)})};i.prototype.selectRow=function(t){var e=i.getRowUid(t);this.selectedRows[e]=t};i.prototype.toggleRow=function(t){var e=i.getRowUid(t);var n=this.isRowSelected(t);if(n){delete this.selectedRows[e]}else{this.selectedRows[e]=t}};i.prototype.selectAll=function(){var e=this;this.data.forEach(function(t){e.selectRow(t)})};i.prototype.unselectAll=function(){for(var t in this.selectedRows){delete this.selectedRows[t]}};i.prototype.invertSelection=function(){var e=this;this.data.forEach(function(t){e.toggleRow(t)})};i.module=angular.module("ngeoGridConfig",[]);e["a"]=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(t){if(typeof window==="object")n=window}t.exports=n},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109),r(311)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(T){T.extend(T.ui,{datepicker:{version:"1.12.1"}});var s;function l(t){var e,n;while(t.length&&t[0]!==document){e=t.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){n=parseInt(t.css("zIndex"),10);if(!isNaN(n)&&n!==0){return n}}t=t.parent()}return 0}function t(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};T.extend(this._defaults,this.regional[""]);this.regional.en=T.extend(true,{},this.regional[""]);this.regional["en-US"]=T.extend(true,{},this.regional.en);this.dpDiv=i(T("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}T.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function t(){return this.dpDiv},setDefaults:function t(e){f(this._defaults,e||{});return this},_attachDatepicker:function t(e,n){var r,i,a;r=e.nodeName.toLowerCase();i=r==="div"||r==="span";if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}a=this._newInst(T(e),i);a.settings=T.extend({},n||{});if(r==="input"){this._connectDatepicker(e,a)}else if(i){this._inlineDatepicker(e,a)}},_newInst:function t(e,n){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:!n?this.dpDiv:i(T("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function t(e,n){var r=T(e);n.append=T([]);n.trigger=T([]);if(r.hasClass(this.markerClassName)){return}this._attachments(r,n);r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(n);T.data(e,"datepicker",n);if(n.settings.disabled){this._disableDatepicker(e)}},_attachments:function t(e,n){var r,i,a,o=this._get(n,"appendText"),s=this._get(n,"isRTL");if(n.append){n.append.remove()}if(o){n.append=T("<span class='"+this._appendClass+"'>"+o+"</span>");e[s?"before":"after"](n.append)}e.off("focus",this._showDatepicker);if(n.trigger){n.trigger.remove()}r=this._get(n,"showOn");if(r==="focus"||r==="both"){e.on("focus",this._showDatepicker)}if(r==="button"||r==="both"){i=this._get(n,"buttonText");a=this._get(n,"buttonImage");n.trigger=T(this._get(n,"buttonImageOnly")?T("<img/>").addClass(this._triggerClass).attr({src:a,alt:i,title:i}):T("<button type='button'></button>").addClass(this._triggerClass).html(!a?i:T("<img/>").attr({src:a,alt:i,title:i})));e[s?"before":"after"](n.trigger);n.trigger.on("click",function(){if(T.datepicker._datepickerShowing&&T.datepicker._lastInput===e[0]){T.datepicker._hideDatepicker()}else if(T.datepicker._datepickerShowing&&T.datepicker._lastInput!==e[0]){T.datepicker._hideDatepicker();T.datepicker._showDatepicker(e[0])}else{T.datepicker._showDatepicker(e[0])}return false})}},_autoSize:function t(e){if(this._get(e,"autoSize")&&!e.inline){var n,r,i,a,o=new Date(2009,12-1,20),s=this._get(e,"dateFormat");if(s.match(/[DM]/)){n=function t(e){r=0;i=0;for(a=0;a<e.length;a++){if(e[a].length>r){r=e[a].length;i=a}}return i};o.setMonth(n(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort")));o.setDate(n(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())}e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function t(e,n){var r=T(e);if(r.hasClass(this.markerClassName)){return}r.addClass(this.markerClassName).append(n.dpDiv);T.data(e,"datepicker",n);this._setDate(n,this._getDefaultDate(n),true);this._updateDatepicker(n);this._updateAlternate(n);if(n.settings.disabled){this._disableDatepicker(e)}n.dpDiv.css("display","block")},_dialogDatepicker:function t(e,n,r,i,a){var o,s,u,l,c,h=this._dialogInst;if(!h){this.uuid+=1;o="dp"+this.uuid;this._dialogInput=T("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);T("body").append(this._dialogInput);h=this._dialogInst=this._newInst(this._dialogInput,false);h.settings={};T.data(this._dialogInput[0],"datepicker",h)}f(h.settings,i||{});n=n&&n.constructor===Date?this._formatDate(h,n):n;this._dialogInput.val(n);this._pos=a?a.length?a:[a.pageX,a.pageY]:null;if(!this._pos){s=document.documentElement.clientWidth;u=document.documentElement.clientHeight;l=document.documentElement.scrollLeft||document.body.scrollLeft;c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+l,u/2-150+c]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");h.settings.onSelect=r;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(T.blockUI){T.blockUI(this.dpDiv)}T.data(this._dialogInput[0],"datepicker",h);return this},_destroyDatepicker:function t(e){var n,r=T(e),i=T.data(e,"datepicker");if(!r.hasClass(this.markerClassName)){return}n=e.nodeName.toLowerCase();T.removeData(e,"datepicker");if(n==="input"){i.append.remove();i.trigger.remove();r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else if(n==="div"||n==="span"){r.removeClass(this.markerClassName).empty()}if(s===i){s=null}},_enableDatepicker:function t(e){var n,r,i=T(e),a=T.data(e,"datepicker");if(!i.hasClass(this.markerClassName)){return}n=e.nodeName.toLowerCase();if(n==="input"){e.disabled=false;a.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(n==="div"||n==="span"){r=i.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled");r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=T.map(this._disabledInputs,function(t){return t===e?null:t})},_disableDatepicker:function t(e){var n,r,i=T(e),a=T.data(e,"datepicker");if(!i.hasClass(this.markerClassName)){return}n=e.nodeName.toLowerCase();if(n==="input"){e.disabled=true;a.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(n==="div"||n==="span"){r=i.children("."+this._inlineClass);r.children().addClass("ui-state-disabled");r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=T.map(this._disabledInputs,function(t){return t===e?null:t});this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function t(e){if(!e){return false}for(var n=0;n<this._disabledInputs.length;n++){if(this._disabledInputs[n]===e){return true}}return false},_getInst:function t(e){try{return T.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function t(e,n,r){var i,a,o,s,u=this._getInst(e);if(arguments.length===2&&typeof n==="string"){return n==="defaults"?T.extend({},T.datepicker._defaults):u?n==="all"?T.extend({},u.settings):this._get(u,n):null}i=n||{};if(typeof n==="string"){i={};i[n]=r}if(u){if(this._curInst===u){this._hideDatepicker()}a=this._getDateDatepicker(e,true);o=this._getMinMaxDate(u,"min");s=this._getMinMaxDate(u,"max");f(u.settings,i);if(o!==null&&i.dateFormat!==undefined&&i.minDate===undefined){u.settings.minDate=this._formatDate(u,o)}if(s!==null&&i.dateFormat!==undefined&&i.maxDate===undefined){u.settings.maxDate=this._formatDate(u,s)}if("disabled"in i){if(i.disabled){this._disableDatepicker(e)}else{this._enableDatepicker(e)}}this._attachments(T(e),u);this._autoSize(u);this._setDate(u,a);this._updateAlternate(u);this._updateDatepicker(u)}},_changeDatepicker:function t(e,n,r){this._optionDatepicker(e,n,r)},_refreshDatepicker:function t(e){var n=this._getInst(e);if(n){this._updateDatepicker(n)}},_setDateDatepicker:function t(e,n){var r=this._getInst(e);if(r){this._setDate(r,n);this._updateDatepicker(r);this._updateAlternate(r)}},_getDateDatepicker:function t(e,n){var r=this._getInst(e);if(r&&!r.inline){this._setDateFromField(r,n)}return r?this._getDate(r):null},_doKeyDown:function t(e){var n,r,i,a=T.datepicker._getInst(e.target),o=true,s=a.dpDiv.is(".ui-datepicker-rtl");a._keyEvent=true;if(T.datepicker._datepickerShowing){switch(e.keyCode){case 9:T.datepicker._hideDatepicker();o=false;break;case 13:i=T("td."+T.datepicker._dayOverClass+":not(."+T.datepicker._currentClass+")",a.dpDiv);if(i[0]){T.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,i[0])}n=T.datepicker._get(a,"onSelect");if(n){r=T.datepicker._formatDate(a);n.apply(a.input?a.input[0]:null,[r,a])}else{T.datepicker._hideDatepicker()}return false;case 27:T.datepicker._hideDatepicker();break;case 33:T.datepicker._adjustDate(e.target,e.ctrlKey?-T.datepicker._get(a,"stepBigMonths"):-T.datepicker._get(a,"stepMonths"),"M");break;case 34:T.datepicker._adjustDate(e.target,e.ctrlKey?+T.datepicker._get(a,"stepBigMonths"):+T.datepicker._get(a,"stepMonths"),"M");break;case 35:if(e.ctrlKey||e.metaKey){T.datepicker._clearDate(e.target)}o=e.ctrlKey||e.metaKey;break;case 36:if(e.ctrlKey||e.metaKey){T.datepicker._gotoToday(e.target)}o=e.ctrlKey||e.metaKey;break;case 37:if(e.ctrlKey||e.metaKey){T.datepicker._adjustDate(e.target,s?+1:-1,"D")}o=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){T.datepicker._adjustDate(e.target,e.ctrlKey?-T.datepicker._get(a,"stepBigMonths"):-T.datepicker._get(a,"stepMonths"),"M")}break;case 38:if(e.ctrlKey||e.metaKey){T.datepicker._adjustDate(e.target,-7,"D")}o=e.ctrlKey||e.metaKey;break;case 39:if(e.ctrlKey||e.metaKey){T.datepicker._adjustDate(e.target,s?-1:+1,"D")}o=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){T.datepicker._adjustDate(e.target,e.ctrlKey?+T.datepicker._get(a,"stepBigMonths"):+T.datepicker._get(a,"stepMonths"),"M")}break;case 40:if(e.ctrlKey||e.metaKey){T.datepicker._adjustDate(e.target,+7,"D")}o=e.ctrlKey||e.metaKey;break;default:o=false}}else if(e.keyCode===36&&e.ctrlKey){T.datepicker._showDatepicker(this)}else{o=false}if(o){e.preventDefault();e.stopPropagation()}},_doKeyPress:function t(e){var n,r,i=T.datepicker._getInst(e.target);if(T.datepicker._get(i,"constrainInput")){n=T.datepicker._possibleChars(T.datepicker._get(i,"dateFormat"));r=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function t(e){var n,r=T.datepicker._getInst(e.target);if(r.input.val()!==r.lastVal){try{n=T.datepicker.parseDate(T.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,T.datepicker._getFormatConfig(r));if(n){T.datepicker._setDateFromField(r);T.datepicker._updateAlternate(r);T.datepicker._updateDatepicker(r)}}catch(t){}}return true},_showDatepicker:function t(e){e=e.target||e;if(e.nodeName.toLowerCase()!=="input"){e=T("input",e.parentNode)[0]}if(T.datepicker._isDisabledDatepicker(e)||T.datepicker._lastInput===e){return}var n,r,i,a,o,s,u;n=T.datepicker._getInst(e);if(T.datepicker._curInst&&T.datepicker._curInst!==n){T.datepicker._curInst.dpDiv.stop(true,true);if(n&&T.datepicker._datepickerShowing){T.datepicker._hideDatepicker(T.datepicker._curInst.input[0])}}r=T.datepicker._get(n,"beforeShow");i=r?r.apply(e,[e,n]):{};if(i===false){return}f(n.settings,i);n.lastVal=null;T.datepicker._lastInput=e;T.datepicker._setDateFromField(n);if(T.datepicker._inDialog){e.value=""}if(!T.datepicker._pos){T.datepicker._pos=T.datepicker._findPos(e);T.datepicker._pos[1]+=e.offsetHeight}a=false;T(e).parents().each(function(){a|=T(this).css("position")==="fixed";return!a});o={left:T.datepicker._pos[0],top:T.datepicker._pos[1]};T.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});T.datepicker._updateDatepicker(n);o=T.datepicker._checkOffset(n,o,a);n.dpDiv.css({position:T.datepicker._inDialog&&T.blockUI?"static":a?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"});if(!n.inline){s=T.datepicker._get(n,"showAnim");u=T.datepicker._get(n,"duration");n.dpDiv.css("z-index",l(T(e))+1);T.datepicker._datepickerShowing=true;if(T.effects&&T.effects.effect[s]){n.dpDiv.show(s,T.datepicker._get(n,"showOptions"),u)}else{n.dpDiv[s||"show"](s?u:null)}if(T.datepicker._shouldFocusInput(n)){n.input.trigger("focus")}T.datepicker._curInst=n}},_updateDatepicker:function t(e){this.maxRows=4;s=e;e.dpDiv.empty().append(this._generateHTML(e));this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),i=r[1],a=17,o=e.dpDiv.find("."+this._dayOverClass+" a");if(o.length>0){u.apply(o.get(0))}e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(i>1){e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",a*i+"em")}e.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(e===T.datepicker._curInst&&T.datepicker._datepickerShowing&&T.datepicker._shouldFocusInput(e)){e.input.trigger("focus")}if(e.yearshtml){n=e.yearshtml;setTimeout(function(){if(n===e.yearshtml&&e.yearshtml){e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml)}n=e.yearshtml=null},0)}},_shouldFocusInput:function t(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function t(e,n,r){var i=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(r?0:T(document).scrollLeft()),l=document.documentElement.clientHeight+(r?0:T(document).scrollTop());n.left-=this._get(e,"isRTL")?i-o:0;n.left-=r&&n.left===e.input.offset().left?T(document).scrollLeft():0;n.top-=r&&n.top===e.input.offset().top+s?T(document).scrollTop():0;n.left-=Math.min(n.left,n.left+i>u&&u>i?Math.abs(n.left+i-u):0);n.top-=Math.min(n.top,n.top+a>l&&l>a?Math.abs(a+s):0);return n},_findPos:function t(e){var n,r=this._getInst(e),i=this._get(r,"isRTL");while(e&&(e.type==="hidden"||e.nodeType!==1||T.expr.filters.hidden(e))){e=e[i?"previousSibling":"nextSibling"]}n=T(e).offset();return[n.left,n.top]},_hideDatepicker:function t(e){var n,r,i,a,o=this._curInst;if(!o||e&&o!==T.data(e,"datepicker")){return}if(this._datepickerShowing){n=this._get(o,"showAnim");r=this._get(o,"duration");i=function t(){T.datepicker._tidyDialog(o)};if(T.effects&&(T.effects.effect[n]||T.effects[n])){o.dpDiv.hide(n,T.datepicker._get(o,"showOptions"),r,i)}else{o.dpDiv[n==="slideDown"?"slideUp":n==="fadeIn"?"fadeOut":"hide"](n?r:null,i)}if(!n){i()}this._datepickerShowing=false;a=this._get(o,"onClose");if(a){a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(T.blockUI){T.unblockUI();T("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function t(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function t(e){if(!T.datepicker._curInst){return}var n=T(e.target),r=T.datepicker._getInst(n[0]);if(n[0].id!==T.datepicker._mainDivId&&n.parents("#"+T.datepicker._mainDivId).length===0&&!n.hasClass(T.datepicker.markerClassName)&&!n.closest("."+T.datepicker._triggerClass).length&&T.datepicker._datepickerShowing&&!(T.datepicker._inDialog&&T.blockUI)||n.hasClass(T.datepicker.markerClassName)&&T.datepicker._curInst!==r){T.datepicker._hideDatepicker()}},_adjustDate:function t(e,n,r){var i=T(e),a=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0])){return}this._adjustInstDate(a,n+(r==="M"?this._get(a,"showCurrentAtPos"):0),r);this._updateDatepicker(a)},_gotoToday:function t(e){var n,r=T(e),i=this._getInst(r[0]);if(this._get(i,"gotoCurrent")&&i.currentDay){i.selectedDay=i.currentDay;i.drawMonth=i.selectedMonth=i.currentMonth;i.drawYear=i.selectedYear=i.currentYear}else{n=new Date;i.selectedDay=n.getDate();i.drawMonth=i.selectedMonth=n.getMonth();i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i);this._adjustDate(r)},_selectMonthYear:function t(e,n,r){var i=T(e),a=this._getInst(i[0]);a["selected"+(r==="M"?"Month":"Year")]=a["draw"+(r==="M"?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10);this._notifyChange(a);this._adjustDate(i)},_selectDay:function t(e,n,r,i){var a,o=T(e);if(T(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])){return}a=this._getInst(o[0]);a.selectedDay=a.currentDay=T("a",i).html();a.selectedMonth=a.currentMonth=n;a.selectedYear=a.currentYear=r;this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))},_clearDate:function t(e){var n=T(e);this._selectDate(n,"")},_selectDate:function t(e,n){var r,i=T(e),a=this._getInst(i[0]);n=n!=null?n:this._formatDate(a);if(a.input){a.input.val(n)}this._updateAlternate(a);r=this._get(a,"onSelect");if(r){r.apply(a.input?a.input[0]:null,[n,a])}else if(a.input){a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];if(typeof a.input[0]!=="object"){a.input.trigger("focus")}this._lastInput=null}},_updateAlternate:function t(e){var n,r,i,a=this._get(e,"altField");if(a){n=this._get(e,"altFormat")||this._get(e,"dateFormat");r=this._getDate(e);i=this.formatDate(n,r,this._getFormatConfig(e));T(a).val(i)}},noWeekends:function t(e){var n=e.getDay();return[n>0&&n<6,""]},iso8601Week:function t(e){var n,r=new Date(e.getTime());r.setDate(r.getDate()+4-(r.getDay()||7));n=r.getTime();r.setMonth(0);r.setDate(1);return Math.floor(Math.round((n-r)/864e5)/7)+1},parseDate:function t(r,s,e){if(r==null||s==null){throw"Invalid arguments"}s=typeof s==="object"?s.toString():s+"";if(s===""){return null}var i,n,a,u=0,o=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=typeof o!=="string"?o:(new Date).getFullYear()%100+parseInt(o,10),c=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,h=(e?e.dayNames:null)||this._defaults.dayNames,f=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,d=(e?e.monthNames:null)||this._defaults.monthNames,p=-1,v=-1,g=-1,m=-1,y=false,_,b=function t(e){var n=i+1<r.length&&r.charAt(i+1)===e;if(n){i++}return n},O=function t(e){var n=b(e),r=e==="@"?14:e==="!"?20:e==="y"&&n?4:e==="o"?3:2,i=e==="y"?r:1,a=new RegExp("^\\d{"+i+","+r+"}"),o=s.substring(u).match(a);if(!o){throw"Missing number at position "+u}u+=o[0].length;return parseInt(o[0],10)},w=function t(e,n,r){var i=-1,a=T.map(b(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});T.each(a,function(t,e){var n=e[1];if(s.substr(u,n.length).toLowerCase()===n.toLowerCase()){i=e[0];u+=n.length;return false}});if(i!==-1){return i+1}else{throw"Unknown name at position "+u}},S=function t(){if(s.charAt(u)!==r.charAt(i)){throw"Unexpected literal at position "+u}u++};for(i=0;i<r.length;i++){if(y){if(r.charAt(i)==="'"&&!b("'")){y=false}else{S()}}else{switch(r.charAt(i)){case"d":g=O("d");break;case"D":w("D",c,h);break;case"o":m=O("o");break;case"m":v=O("m");break;case"M":v=w("M",f,d);break;case"y":p=O("y");break;case"@":_=new Date(O("@"));p=_.getFullYear();v=_.getMonth()+1;g=_.getDate();break;case"!":_=new Date((O("!")-this._ticksTo1970)/1e4);p=_.getFullYear();v=_.getMonth()+1;g=_.getDate();break;case"'":if(b("'")){S()}else{y=true}break;default:S()}}}if(u<s.length){a=s.substr(u);if(!/^\s+/.test(a)){throw"Extra/unparsed characters found in date: "+a}}if(p===-1){p=(new Date).getFullYear()}else if(p<100){p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=l?0:-100)}if(m>-1){v=1;g=m;do{n=this._getDaysInMonth(p,v-1);if(g<=n){break}v++;g-=n}while(true)}_=this._daylightSavingAdjust(new Date(p,v-1,g));if(_.getFullYear()!==p||_.getMonth()+1!==v||_.getDate()!==g){throw"Invalid date"}return _},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function t(r,e,n){if(!e){return""}var i,a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,l=function t(e){var n=i+1<r.length&&r.charAt(i+1)===e;if(n){i++}return n},c=function t(e,n,r){var i=""+n;if(l(e)){while(i.length<r){i="0"+i}}return i},h=function t(e,n,r,i){return l(e)?i[n]:r[n]},f="",d=false;if(e){for(i=0;i<r.length;i++){if(d){if(r.charAt(i)==="'"&&!l("'")){d=false}else{f+=r.charAt(i)}}else{switch(r.charAt(i)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=h("D",e.getDay(),a,o);break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=h("M",e.getMonth(),s,u);break;case"y":f+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=e.getTime()*1e4+this._ticksTo1970;break;case"'":if(l("'")){f+="'"}else{d=true}break;default:f+=r.charAt(i)}}}}return f},_possibleChars:function t(r){var i,e="",n=false,a=function t(e){var n=i+1<r.length&&r.charAt(i+1)===e;if(n){i++}return n};for(i=0;i<r.length;i++){if(n){if(r.charAt(i)==="'"&&!a("'")){n=false}else{e+=r.charAt(i)}}else{switch(r.charAt(i)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":if(a("'")){e+="'"}else{n=true}break;default:e+=r.charAt(i)}}}return e},_get:function t(e,n){return e.settings[n]!==undefined?e.settings[n]:this._defaults[n]},_setDateFromField:function t(e,n){if(e.input.val()===e.lastVal){return}var r=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),o=a,s=this._getFormatConfig(e);try{o=this.parseDate(r,i,s)||a}catch(t){i=n?"":i}e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear();e.currentDay=i?o.getDate():0;e.currentMonth=i?o.getMonth():0;e.currentYear=i?o.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function t(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function t(u,e,n){var r=function t(e){var n=new Date;n.setDate(n.getDate()+e);return n},i=function t(e){try{return T.datepicker.parseDate(T.datepicker._get(u,"dateFormat"),e,T.datepicker._getFormatConfig(u))}catch(t){}var n=(e.toLowerCase().match(/^c/)?T.datepicker._getDate(u):null)||new Date,r=n.getFullYear(),i=n.getMonth(),a=n.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(e);while(s){switch(s[2]||"d"){case"d":case"D":a+=parseInt(s[1],10);break;case"w":case"W":a+=parseInt(s[1],10)*7;break;case"m":case"M":i+=parseInt(s[1],10);a=Math.min(a,T.datepicker._getDaysInMonth(r,i));break;case"y":case"Y":r+=parseInt(s[1],10);a=Math.min(a,T.datepicker._getDaysInMonth(r,i));break}s=o.exec(e)}return new Date(r,i,a)},a=e==null||e===""?n:typeof e==="string"?i(e):typeof e==="number"?isNaN(e)?n:r(e):new Date(e.getTime());a=a&&a.toString()==="Invalid Date"?n:a;if(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}return this._daylightSavingAdjust(a)},_daylightSavingAdjust:function t(e){if(!e){return null}e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function t(e,n,r){var i=!n,a=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,n,new Date));e.selectedDay=e.currentDay=s.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth();e.drawYear=e.selectedYear=e.currentYear=s.getFullYear();if((a!==e.selectedMonth||o!==e.selectedYear)&&!r){this._notifyChange(e)}this._adjustInstDate(e);if(e.input){e.input.val(i?"":this._formatDate(e))}},_getDate:function t(e){var n=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return n},_attachHandlers:function t(e){var n=this._get(e,"stepMonths"),r="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var t={prev:function t(){T.datepicker._adjustDate(r,-n,"M")},next:function t(){T.datepicker._adjustDate(r,+n,"M")},hide:function t(){T.datepicker._hideDatepicker()},today:function t(){T.datepicker._gotoToday(r)},selectDay:function t(){T.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function t(){T.datepicker._selectMonthYear(r,this,"M");return false},selectYear:function t(){T.datepicker._selectMonthYear(r,this,"Y");return false}};T(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function t(e){var n,r,i,a,o,s,u,l,c,h,f,d,p,v,g,m,y,_,b,O,w,S,T,x,E,C,M,j,A,k,I,R,D,P,N,L,$,F,G,H=new Date,U=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),W=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),z=this._getNumberOfMonths(e),B=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),X=z[0]!==1||z[1]!==1,Z=this._daylightSavingAdjust(!e.currentDay?new Date(9999,9,9):new Date(e.currentYear,e.currentMonth,e.currentDay)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),tt=e.drawMonth-B,et=e.drawYear;if(tt<0){tt+=12;et--}if(J){n=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-z[0]*z[1]+1,J.getDate()));n=Q&&n<Q?Q:n;while(this._daylightSavingAdjust(new Date(et,tt,1))>n){tt--;if(tt<0){tt=11;et--}}}e.drawMonth=tt;e.drawYear=et;r=this._get(e,"prevText");r=!q?r:this.formatDate(r,this._daylightSavingAdjust(new Date(et,tt-K,1)),this._getFormatConfig(e));i=this._canAdjustMonth(e,-1,et,tt)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+r+"</span></a>";a=this._get(e,"nextText");a=!q?a:this.formatDate(a,this._daylightSavingAdjust(new Date(et,tt+K,1)),this._getFormatConfig(e));o=this._canAdjustMonth(e,+1,et,tt)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+a+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+a+"</span></a>";s=this._get(e,"currentText");u=this._get(e,"gotoCurrent")&&e.currentDay?Z:U;s=!q?s:this.formatDate(s,u,this._getFormatConfig(e));l=!e.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>":"";c=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+s+"</button>":"")+(W?"":l)+"</div>":"";h=parseInt(this._get(e,"firstDay"),10);h=isNaN(h)?0:h;f=this._get(e,"showWeek");d=this._get(e,"dayNames");p=this._get(e,"dayNamesMin");v=this._get(e,"monthNames");g=this._get(e,"monthNamesShort");m=this._get(e,"beforeShowDay");y=this._get(e,"showOtherMonths");_=this._get(e,"selectOtherMonths");b=this._getDefaultDate(e);O="";for(S=0;S<z[0];S++){T="";this.maxRows=4;for(x=0;x<z[1];x++){E=this._daylightSavingAdjust(new Date(et,tt,e.selectedDay));C=" ui-corner-all";M="";if(X){M+="<div class='ui-datepicker-group";if(z[1]>1){switch(x){case 0:M+=" ui-datepicker-group-first";C=" ui-corner-"+(W?"right":"left");break;case z[1]-1:M+=" ui-datepicker-group-last";C=" ui-corner-"+(W?"left":"right");break;default:M+=" ui-datepicker-group-middle";C="";break}}M+="'>"}M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&S===0?W?o:i:"")+(/all|right/.test(C)&&S===0?W?i:o:"")+this._generateMonthYearHeader(e,tt,et,Q,J,S>0||x>0,v,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";j=f?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(w=0;w<7;w++){A=(w+h)%7;j+="<th scope='col'"+((w+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[A]+"'>"+p[A]+"</span></th>"}M+=j+"</tr></thead><tbody>";k=this._getDaysInMonth(et,tt);if(et===e.selectedYear&&tt===e.selectedMonth){e.selectedDay=Math.min(e.selectedDay,k)}I=(this._getFirstDayOfMonth(et,tt)-h+7)%7;R=Math.ceil((I+k)/7);D=X?this.maxRows>R?this.maxRows:R:R;this.maxRows=D;P=this._daylightSavingAdjust(new Date(et,tt,1-I));for(N=0;N<D;N++){M+="<tr>";L=!f?"":"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>";for(w=0;w<7;w++){$=m?m.apply(e.input?e.input[0]:null,[P]):[true,""];F=P.getMonth()!==tt;G=F&&!_||!$[0]||Q&&P<Q||J&&P>J;L+="<td class='"+((w+h+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===E.getTime()&&tt===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===E.getTime()?" "+this._dayOverClass:"")+(G?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!y?"":" "+$[1]+(P.getTime()===Z.getTime()?" "+this._currentClass:"")+(P.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+((!F||y)&&$[2]?" title='"+$[2].replace(/'/g,"&#39;")+"'":"")+(G?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!y?"&#xa0;":G?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===U.getTime()?" ui-state-highlight":"")+(P.getTime()===Z.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}M+=L+"</tr>"}tt++;if(tt>11){tt=0;et++}M+="</tbody></table>"+(X?"</div>"+(z[0]>0&&x===z[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");T+=M}O+=T}O+=c;e._keyEvent=false;return O},_generateMonthYearHeader:function t(e,n,r,i,a,o,s,u){var l,c,h,f,d,p,v,g,m=this._get(e,"changeMonth"),y=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",O="";if(o||!m){O+="<span class='ui-datepicker-month'>"+s[n]+"</span>"}else{l=i&&i.getFullYear()===r;c=a&&a.getFullYear()===r;O+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(h=0;h<12;h++){if((!l||h>=i.getMonth())&&(!c||h<=a.getMonth())){O+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+u[h]+"</option>"}}O+="</select>"}if(!_){b+=O+(o||!(m&&y)?"&#xa0;":"")}if(!e.yearshtml){e.yearshtml="";if(o||!y){b+="<span class='ui-datepicker-year'>"+r+"</span>"}else{f=this._get(e,"yearRange").split(":");d=(new Date).getFullYear();p=function t(e){var n=e.match(/c[+\-].*/)?r+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(n)?d:n};v=p(f[0]);g=Math.max(v,p(f[1]||""));v=i?Math.max(v,i.getFullYear()):v;g=a?Math.min(g,a.getFullYear()):g;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;v<=g;v++){e.yearshtml+="<option value='"+v+"'"+(v===r?" selected='selected'":"")+">"+v+"</option>"}e.yearshtml+="</select>";b+=e.yearshtml;e.yearshtml=null}}b+=this._get(e,"yearSuffix");if(_){b+=(o||!(m&&y)?"&#xa0;":"")+O}b+="</div>";return b},_adjustInstDate:function t(e,n,r){var i=e.selectedYear+(r==="Y"?n:0),a=e.selectedMonth+(r==="M"?n:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,a))+(r==="D"?n:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,a,o)));e.selectedDay=s.getDate();e.drawMonth=e.selectedMonth=s.getMonth();e.drawYear=e.selectedYear=s.getFullYear();if(r==="M"||r==="Y"){this._notifyChange(e)}},_restrictMinMax:function t(e,n){var r=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=r&&n<r?r:n;return i&&a>i?i:a},_notifyChange:function t(e){var n=this._get(e,"onChangeMonthYear");if(n){n.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])}},_getNumberOfMonths:function t(e){var n=this._get(e,"numberOfMonths");return n==null?[1,1]:typeof n==="number"?[1,n]:n},_getMinMaxDate:function t(e,n){return this._determineDate(e,this._get(e,n+"Date"),null)},_getDaysInMonth:function t(e,n){return 32-this._daylightSavingAdjust(new Date(e,n,32)).getDate()},_getFirstDayOfMonth:function t(e,n){return new Date(e,n,1).getDay()},_canAdjustMonth:function t(e,n,r,i){var a=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(r,i+(n<0?n:a[0]*a[1]),1));if(n<0){o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth()))}return this._isInRange(e,o)},_isInRange:function t(e,n){var r,i,a=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,u=null,l=this._get(e,"yearRange");if(l){r=l.split(":");i=(new Date).getFullYear();s=parseInt(r[0],10);u=parseInt(r[1],10);if(r[0].match(/[+\-].*/)){s+=i}if(r[1].match(/[+\-].*/)){u+=i}}return(!a||n.getTime()>=a.getTime())&&(!o||n.getTime()<=o.getTime())&&(!s||n.getFullYear()>=s)&&(!u||n.getFullYear()<=u)},_getFormatConfig:function t(e){var n=this._get(e,"shortYearCutoff");n=typeof n!=="string"?n:(new Date).getFullYear()%100+parseInt(n,10);return{shortYearCutoff:n,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function t(e,n,r,i){if(!n){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var a=n?typeof n==="object"?n:this._daylightSavingAdjust(new Date(i,r,n)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}});function i(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){T(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){T(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){T(this).removeClass("ui-datepicker-next-hover")}}).on("mouseover",e,u)}function u(){if(!T.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])){T(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");T(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){T(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){T(this).addClass("ui-datepicker-next-hover")}}}function f(t,e){T.extend(t,e);for(var n in e){if(e[n]==null){t[n]=e[n]}}return t}T.fn.datepicker=function(t){if(!this.length){return this}if(!T.datepicker.initialized){T(document).on("mousedown",T.datepicker._checkExternalClick);T.datepicker.initialized=true}if(T("#"+T.datepicker._mainDivId).length===0){T("body").append(T.datepicker.dpDiv)}var e=Array.prototype.slice.call(arguments,1);if(typeof t==="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")){return T.datepicker["_"+t+"Datepicker"].apply(T.datepicker,[this[0]].concat(e))}if(t==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return T.datepicker["_"+t+"Datepicker"].apply(T.datepicker,[this[0]].concat(e))}return this.each(function(){typeof t==="string"?T.datepicker["_"+t+"Datepicker"].apply(T.datepicker,[this].concat(e)):T.datepicker._attachDatepicker(this,t)})};T.datepicker=new t;T.datepicker.initialized=false;T.datepicker.uuid=(new Date).getTime();T.datepicker.version="1.12.1";return T.datepicker})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(c){var r=0;var s=Array.prototype.slice;c.cleanData=function(i){return function(t){var e,n,r;for(r=0;(n=t[r])!=null;r++){try{e=c._data(n,"events");if(e&&e.remove){c(n).triggerHandler("remove")}}catch(t){}}i(t)}}(c.cleanData);c.widget=function(t,n,e){var r,i,a;var o={};var s=t.split(".")[0];t=t.split(".")[1];var u=s+"-"+t;if(!e){e=n;n=c.Widget}if(c.isArray(e)){e=c.extend.apply(null,[{}].concat(e))}c.expr[":"][u.toLowerCase()]=function(t){return!!c.data(t,u)};c[s]=c[s]||{};r=c[s][t];i=c[s][t]=function(t,e){if(!this._createWidget){return new i(t,e)}if(arguments.length){this._createWidget(t,e)}};c.extend(i,r,{version:e.version,_proto:c.extend({},e),_childConstructors:[]});a=new n;a.options=c.widget.extend({},a.options);c.each(e,function(e,a){if(!c.isFunction(a)){o[e]=a;return}o[e]=function(){function r(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var t=this._super;var e=this._superApply;var n;this._super=r;this._superApply=i;n=a.apply(this,arguments);this._super=t;this._superApply=e;return n}}()});i.prototype=c.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},o,{constructor:i,namespace:s,widgetName:t,widgetFullName:u});if(r){c.each(r._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,i,e._proto)});delete r._childConstructors}else{n._childConstructors.push(i)}c.widget.bridge(t,i);return i};c.widget.extend=function(t){var e=s.call(arguments,1);var n=0;var r=e.length;var i;var a;for(;n<r;n++){for(i in e[n]){a=e[n][i];if(e[n].hasOwnProperty(i)&&a!==undefined){if(c.isPlainObject(a)){t[i]=c.isPlainObject(t[i])?c.widget.extend({},t[i],a):c.widget.extend({},a)}else{t[i]=a}}}}return t};c.widget.bridge=function(a,e){var o=e.prototype.widgetFullName||a;c.fn[a]=function(n){var t=typeof n==="string";var r=s.call(arguments,1);var i=this;if(t){if(!this.length&&n==="instance"){i=undefined}else{this.each(function(){var t;var e=c.data(this,o);if(n==="instance"){i=e;return false}if(!e){return c.error("cannot call methods on "+a+" prior to initialization; "+"attempted to call method '"+n+"'")}if(!c.isFunction(e[n])||n.charAt(0)==="_"){return c.error("no such method '"+n+"' for "+a+" widget instance")}t=e[n].apply(e,r);if(t!==e&&t!==undefined){i=t&&t.jquery?i.pushStack(t.get()):t;return false}})}}else{if(r.length){n=c.widget.extend.apply(null,[n].concat(r))}this.each(function(){var t=c.data(this,o);if(t){t.option(n||{});if(t._init){t._init()}}else{c.data(this,o,new e(n,this))}})}return i}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function t(e,n){n=c(n||this.defaultElement||this)[0];this.element=c(n);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();this.classesElementLookup={};if(n!==this){c.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function t(e){if(e.target===n){this.destroy()}}});this.document=c(n.style?n.ownerDocument:n.document||n);this.window=c(this.document[0].defaultView||this.document[0].parentWindow)}this.options=c.widget.extend({},this.options,this._getCreateOptions(),e);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function t(){return{}},_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function t(){var n=this;this._destroy();c.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:c.noop,widget:function t(){return this.element},option:function t(e,n){var r=e;var i;var a;var o;if(arguments.length===0){return c.widget.extend({},this.options)}if(typeof e==="string"){r={};i=e.split(".");e=i.shift();if(i.length){a=r[e]=c.widget.extend({},this.options[e]);for(o=0;o<i.length-1;o++){a[i[o]]=a[i[o]]||{};a=a[i[o]]}e=i.pop();if(arguments.length===1){return a[e]===undefined?null:a[e]}a[e]=n}else{if(arguments.length===1){return this.options[e]===undefined?null:this.options[e]}r[e]=n}}this._setOptions(r);return this},_setOptions:function t(e){var n;for(n in e){this._setOption(n,e[n])}return this},_setOption:function t(e,n){if(e==="classes"){this._setOptionClasses(n)}this.options[e]=n;if(e==="disabled"){this._setOptionDisabled(n)}return this},_setOptionClasses:function t(e){var n,r,i;for(n in e){i=this.classesElementLookup[n];if(e[n]===this.options.classes[n]||!i||!i.length){continue}r=c(i.get());this._removeClass(i,n);r.addClass(this._classes({element:r,keys:n,classes:e,add:true}))}},_setOptionDisabled:function t(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e);if(e){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function t(){return this._setOptions({disabled:false})},disable:function t(){return this._setOptions({disabled:true})},_classes:function t(i){var a=[];var o=this;i=c.extend({element:this.element,classes:this.options.classes||{}},i);function e(t,e){var n,r;for(r=0;r<t.length;r++){n=o.classesElementLookup[t[r]]||c();if(i.add){n=c(c.unique(n.get().concat(i.element.get())))}else{n=c(n.not(i.element).get())}o.classesElementLookup[t[r]]=n;a.push(t[r]);if(e&&i.classes[t[r]]){a.push(i.classes[t[r]])}}}this._on(i.element,{remove:"_untrackClassesElement"});if(i.keys){e(i.keys.match(/\S+/g)||[],true)}if(i.extra){e(i.extra.match(/\S+/g)||[])}return a.join(" ")},_untrackClassesElement:function t(n){var r=this;c.each(r.classesElementLookup,function(t,e){if(c.inArray(n.target,e)!==-1){r.classesElementLookup[t]=c(e.not(n.target).get())}})},_removeClass:function t(e,n,r){return this._toggleClass(e,n,r,false)},_addClass:function t(e,n,r){return this._toggleClass(e,n,r,true)},_toggleClass:function t(e,n,r,i){i=typeof i==="boolean"?i:r;var a=typeof e==="string"||e===null,o={extra:a?n:r,keys:a?e:n,element:a?this.element:e,add:i};o.element.toggleClass(this._classes(o),i);return this},_on:function t(o,s,e){var u;var l=this;if(typeof o!=="boolean"){e=s;s=o;o=false}if(!e){e=s;s=this.element;u=this.widget()}else{s=u=c(s);this.bindings=this.bindings.add(s)}c.each(e,function(t,e){function n(){if(!o&&(l.options.disabled===true||c(this).hasClass("ui-state-disabled"))){return}return(typeof e==="string"?l[e]:e).apply(l,arguments)}if(typeof e!=="string"){n.guid=e.guid=e.guid||n.guid||c.guid++}var r=t.match(/^([\w:-]*)\s*(.*)$/);var i=r[1]+l.eventNamespace;var a=r[2];if(a){u.on(i,a,n)}else{s.on(i,n)}})},_off:function t(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.off(n).off(n);this.bindings=c(this.bindings.not(e).get());this.focusable=c(this.focusable.not(e).get());this.hoverable=c(this.hoverable.not(e).get())},_delay:function t(e,n){function r(){return(typeof e==="string"?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(r,n||0)},_hoverable:function t(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function t(e){this._addClass(c(e.currentTarget),null,"ui-state-hover")},mouseleave:function t(e){this._removeClass(c(e.currentTarget),null,"ui-state-hover")}})},_focusable:function t(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function t(e){this._addClass(c(e.currentTarget),null,"ui-state-focus")},focusout:function t(e){this._removeClass(c(e.currentTarget),null,"ui-state-focus")}})},_trigger:function t(e,n,r){var i,a;var o=this.options[e];r=r||{};n=c.Event(n);n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();n.target=this.element[0];a=n.originalEvent;if(a){for(i in a){if(!(i in n)){n[i]=a[i]}}}this.element.trigger(n,r);return!(c.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===false||n.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,o){c.Widget.prototype["_"+a]=function(e,t,n){if(typeof t==="string"){t={effect:t}}var r;var i=!t?a:t===true||typeof t==="number"?o:t.effect||o;t=t||{};if(typeof t==="number"){t={duration:t}}r=!c.isEmptyObject(t);t.complete=n;if(t.delay){e.delay(t.delay)}if(r&&c.effects&&c.effects.effect[i]){e[a](t)}else if(i!==a&&e[i]){e[i](t.duration,t.easing,n)}else{e.queue(function(t){c(this)[a]();if(n){n.call(e[0])}t()})}}});return c.widget})},function(t,e,n){"use strict";var a=n(3);var i=n(28);var o=n(7);var r=n(81);var s=n(213);var u=n(126);var l=n(115);var c=n(117);var h=n(137);var f=function(n){function r(t,e){n.call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;if(e!==undefined&&!Array.isArray(t[0])){this.setFlatCoordinates(e,t)}else{this.setCoordinates(t,e)}}if(n)r.__proto__=n;r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.prototype.clone=function t(){return new r(this.flatCoordinates.slice(),this.layout)};r.prototype.closestPointXY=function t(e,n,r,i){if(i<Object(a["e"])(this.getExtent(),e,n)){return i}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(Object(u["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return Object(u["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,true,e,n,r,i)};r.prototype.getArea=function t(){return Object(s["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};r.prototype.getCoordinates=function t(){return Object(c["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};r.prototype.getSimplifiedGeometryInternal=function t(e){var n=[];n.length=Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0);return new r(n,i["a"].XY)};r.prototype.getType=function t(){return o["a"].LINEAR_RING};r.prototype.intersectsExtent=function t(e){return false};r.prototype.setCoordinates=function t(e,n){this.setLayout(n,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=Object(l["b"])(this.flatCoordinates,0,e,this.stride);this.changed()};return r}(r["a"]);e["a"]=f},function(t,e,n){"use strict";var p=n(1);var v=n(251);var g=n(43);var r=n(5);var i=n(135);var a=function t(){i["a"].call(this)};r["d"](a,i["a"]);a.prototype.read=function(t){return i["a"].prototype.read.call(this,t)};a.prototype.readFromDocument=function(t){p["a"].assert(t.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var e=t.firstChild;e;e=e.nextSibling){if(e.nodeType==Node.ELEMENT_NODE){return this.readFromNode(e)}}return null};a.prototype.readFromNode=function(t){p["a"].assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");p["a"].assert(t.localName=="schema","localName should be schema");var e=t.getElementsByTagName("element");if(!e.length){e=t.getElementsByTagName("xsd:element")}var n=[];var r;for(var i=0,a=e.length;i<a;i++){r=this.readFromElementNode_(e[i]);if(r){n.push(r)}}return n};a.prototype.readFromElementNode_=function(t){var e=t.getAttribute("name");p["a"].assertString(e,"name should be defined in element node.");var n=t.getAttribute("alias");var r=t.getAttribute("nillable");var i=!(r===true||r==="true");var a={name:e,alias:n,required:i};var o=t.getAttribute("type");if(o){if(!v["a"].setGeometryType(a,o)){this.setAttributeByXsdType_(a,o)}}else{var s=t.getElementsByTagName("enumeration");if(!s.length){s=t.getElementsByTagName("xsd:enumeration")}if(s.length){a.type=g["a"].SELECT;var u=[];for(var l=0,c=s.length;l<c;l++){u.push(s[l].getAttribute("value"))}a.choices=u}else{var h=t.getElementsByTagName("restriction");if(!h.length){h=t.getElementsByTagName("xsd:restriction")}if(h.length&&h[0]){var f=h[0];this.setAttributeByXsdType_(a,f.getAttribute("base"));var d=t.getElementsByTagName("maxLength");if(!d.length){d=t.getElementsByTagName("xsd:maxLength")}if(d.length&&d[0]){a.maxLength=Number(d[0].getAttribute("value"))}}}}if(!a.type){return null}p["a"].assert(a.type);return a};a.prototype.setAttributeByXsdType_=function(t,e){if(e==="xsd:boolean"){t.type=g["a"].BOOLEAN}else if(e==="xsd:date"){t.type=g["a"].DATE}else if(e==="xsd:dateTime"){t.type=g["a"].DATETIME}else if(e==="xsd:time"){t.type=g["a"].TIME}else if(e==="xsd:decimal"||e==="xsd:double"){t.type=g["a"].NUMBER;t.numType=a.NumberType.FLOAT}else if(e==="xsd:integer"){t.type=g["a"].NUMBER;t.numType=a.NumberType.INTEGER}else if(e==="xsd:string"){t.type=g["a"].TEXT}};a.getGeometryAttribute=function(t){var e=null;for(var n=0,r=t.length;n<r;n++){if(t[n].type===g["a"].GEOMETRY){e=t[n];break}}return e};a.NumberType={FLOAT:"float",INTEGER:"integer"};e["a"]=a},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(75);var r=function t(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};r.prototype.clear=function t(){this.cache_={};this.cacheSize_=0};r.prototype.expire=function t(){if(this.cacheSize_>this.maxCacheSize_){var e=0;for(var n in this.cache_){var r=this.cache_[n];if((e++&3)===0&&!r.hasListener()){delete this.cache_[n];--this.cacheSize_}}}};r.prototype.get=function t(e,n,r){var i=o(e,n,r);return i in this.cache_?this.cache_[i]:null};r.prototype.set=function t(e,n,r,i){var a=o(e,n,r);this.cache_[a]=i;++this.cacheSize_};r.prototype.setSize=function t(e){this.maxCacheSize_=e;this.expire()};function o(t,e,n){var r=n?Object(i["b"])(n):"null";return e+":"+t+":"+r}var a=r;var s=new r},function(t,e,n){"use strict";n.d(e,"b",function(){return s});n.d(e,"a",function(){return u});var r=n(106);var i=n(136);var a=n(207);var o=n(62);function s(t){var e,n;for(n in t){e=t[n];if(Object(r["a"])(e)){this[n]=e}else{this["_"+n]=e}}this._config=t;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function u(t,e){var n=Object(i["a"])({},t),r;for(r in e){if(Object(o["a"])(e,r)){if(Object(a["a"])(t[r])&&Object(a["a"])(e[r])){n[r]={};Object(i["a"])(n[r],t[r]);Object(i["a"])(n[r],e[r])}else if(e[r]!=null){n[r]=e[r]}else{delete n[r]}}}for(r in t){if(Object(o["a"])(t,r)&&!Object(o["a"])(e,r)&&Object(a["a"])(t[r])){n[r]=Object(i["a"])({},n[r])}}return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t){if(t!=null){this.set(t)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"a",function(){return i});n.d(e,"c",function(){return a});var r="%d";var i=/\d{1,2}/;function a(t){return this._ordinal.replace("%d",t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"c",function(){return i});n.d(e,"b",function(){return o});var a=n(106);var r={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(t,e,n,r){var i=this._relativeTime[n];return Object(a["a"])(i)?i(t,e,n,r):i.replace(/%d/i,t)}function o(t,e){var n=this._relativeTime[t>0?"future":"past"];return Object(a["a"])(n)?n(e):n.replace(/%s/i,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var o=n(5);var r=n(267);var f=n(24);var i=n(61);var a=n(8);var s=n(92);var u=n(218);var d=n(107);var l=n(189);var c=function(e){function t(t){e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX});this.opaque_=t.opaque!==undefined?t.opaque:false;this.tilePixelRatio_=t.tilePixelRatio!==undefined?t.tilePixelRatio:1;this.tileGrid=t.tileGrid!==undefined?t.tileGrid:null;this.tileCache=new r["a"](t.cacheSize);this.tmpSize=[0,0];this.key_=t.key||"";this.tileOptions={transition:t.transition}}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.canExpireCache=function t(){return this.tileCache.canExpireCache()};t.prototype.expireCache=function t(e,n){var r=this.getTileCacheForProjection(e);if(r){r.expireCache(n)}};t.prototype.forEachLoadedTile=function t(e,n,r,i){var a=this.getTileCacheForProjection(e);if(!a){return false}var o=true;var s,u,l;for(var c=r.minX;c<=r.maxX;++c){for(var h=r.minY;h<=r.maxY;++h){u=Object(d["d"])(n,c,h);l=false;if(a.containsKey(u)){s=a.get(u);l=s.getState()===f["a"].LOADED;if(l){l=i(s)!==false}}if(!l){o=false}}}return o};t.prototype.getGutterForProjection=function t(e){return 0};t.prototype.getKey=function t(){return this.key_};t.prototype.setKey=function t(e){if(this.key_!==e){this.key_=e;this.changed()}};t.prototype.getOpaque=function t(e){return this.opaque_};t.prototype.getResolutions=function t(){return this.tileGrid.getResolutions()};t.prototype.getTile=function t(e,n,r,i,a){return Object(o["b"])()};t.prototype.getTileGrid=function t(){return this.tileGrid};t.prototype.getTileGridForProjection=function t(e){if(!this.tileGrid){return Object(l["c"])(e)}else{return this.tileGrid}};t.prototype.getTileCacheForProjection=function t(e){var n=this.getProjection();if(n&&!Object(a["e"])(n,e)){return null}else{return this.tileCache}};t.prototype.getTilePixelRatio=function t(e){return this.tilePixelRatio_};t.prototype.getTilePixelSize=function t(e,n,r){var i=this.getTileGridForProjection(r);var a=this.getTilePixelRatio(n);var o=Object(s["d"])(i.getTileSize(e),this.tmpSize);if(a==1){return o}else{return Object(s["c"])(o,a,this.tmpSize)}};t.prototype.getTileCoordForTileUrlFunction=function t(e,n){var r=n!==undefined?n:this.getProjection();var i=this.getTileGridForProjection(r);if(this.getWrapX()&&r.isGlobal()){e=Object(l["d"])(i,e,r)}return Object(d["f"])(e,i)?e:null};t.prototype.refresh=function t(){this.tileCache.clear();this.changed()};t.prototype.useTile=function t(e,n,r,i){};return t}(u["a"]);var h=function(n){function t(t,e){n.call(this,t);this.tile=e}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;return t}(i["a"]);e["b"]=c},function(t,e,n){"use strict";var o=n(195);var s=n(20);var h=n(208);var u=n(9);var f=n(3);var i=n(14);var g=n(92);var m=n(107);var l=[0,0,0];var r=function t(e){this.minZoom=e.minZoom!==undefined?e.minZoom:0;this.resolutions_=e.resolutions;Object(s["a"])(Object(u["g"])(this.resolutions_,function(t,e){return e-t},true),17);var n;if(!e.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r){if(!n){n=this.resolutions_[r]/this.resolutions_[r+1]}else{if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=undefined;break}}}}this.zoomFactor_=n;this.maxZoom=this.resolutions_.length-1;this.origin_=e.origin!==undefined?e.origin:null;this.origins_=null;if(e.origins!==undefined){this.origins_=e.origins;Object(s["a"])(this.origins_.length==this.resolutions_.length,20)}var a=e.extent;if(a!==undefined&&!this.origin_&&!this.origins_){this.origin_=Object(f["C"])(a)}Object(s["a"])(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(e.tileSizes!==undefined){this.tileSizes_=e.tileSizes;Object(s["a"])(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=e.tileSize!==undefined?e.tileSize:!this.tileSizes_?o["b"]:null;Object(s["a"])(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=a!==undefined?a:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(e.sizes!==undefined){this.fullTileRanges_=e.sizes.map(function(t,e){var n=new h["b"](Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));return n},this)}else if(a){this.calculateTileRanges_(a)}};r.prototype.forEachTileCoord=function t(e,n,r){var i=this.getTileRangeForExtentAndZ(e,n);for(var a=i.minX,o=i.maxX;a<=o;++a){for(var s=i.minY,u=i.maxY;s<=u;++s){r([n,a,s])}}};r.prototype.forEachTileCoordParentTileRange=function t(e,n,r,i,a){var o,s,u;var l=null;var c=e[0]-1;if(this.zoomFactor_===2){s=e[1];u=e[2]}else{l=this.getTileCoordExtent(e,a)}while(c>=this.minZoom){if(this.zoomFactor_===2){s=Math.floor(s/2);u=Math.floor(u/2);o=Object(h["a"])(s,s,u,u,i)}else{o=this.getTileRangeForExtentAndZ(l,c,i)}if(n.call(r,c,o)){return true}--c}return false};r.prototype.getExtent=function t(){return this.extent_};r.prototype.getMaxZoom=function t(){return this.maxZoom};r.prototype.getMinZoom=function t(){return this.minZoom};r.prototype.getOrigin=function t(e){if(this.origin_){return this.origin_}else{return this.origins_[e]}};r.prototype.getResolution=function t(e){return this.resolutions_[e]};r.prototype.getResolutions=function t(){return this.resolutions_};r.prototype.getTileCoordChildTileRange=function t(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var i=e[1]*2;var a=e[2]*2;return Object(h["a"])(i,i+1,a,a+1,n)}var o=this.getTileCoordExtent(e,r);return this.getTileRangeForExtentAndZ(o,e[0]+1,n)}return null};r.prototype.getTileRangeExtent=function t(e,n,r){var i=this.getOrigin(e);var a=this.getResolution(e);var o=Object(g["d"])(this.getTileSize(e),this.tmpSize_);var s=i[0]+n.minX*o[0]*a;var u=i[0]+(n.maxX+1)*o[0]*a;var l=i[1]+n.minY*o[1]*a;var c=i[1]+(n.maxY+1)*o[1]*a;return Object(f["k"])(s,l,u,c,r)};r.prototype.getTileRangeForExtentAndZ=function t(e,n,r){var i=l;this.getTileCoordForXYAndZ_(e[0],e[1],n,false,i);var a=i[1];var o=i[2];this.getTileCoordForXYAndZ_(e[2],e[3],n,true,i);return Object(h["a"])(a,i[1],o,i[2],r)};r.prototype.getTileCoordCenter=function t(e){var n=this.getOrigin(e[0]);var r=this.getResolution(e[0]);var i=Object(g["d"])(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]+(e[2]+.5)*i[1]*r]};r.prototype.getTileCoordExtent=function t(e,n){var r=this.getOrigin(e[0]);var i=this.getResolution(e[0]);var a=Object(g["d"])(this.getTileSize(e[0]),this.tmpSize_);var o=r[0]+e[1]*a[0]*i;var s=r[1]+e[2]*a[1]*i;var u=o+a[0]*i;var l=s+a[1]*i;return Object(f["k"])(o,s,u,l,n)};r.prototype.getTileCoordForCoordAndResolution=function t(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,false,r)};r.prototype.getTileCoordForXYAndResolution_=function t(e,n,r,i,a){var o=this.getZForResolution(r);var s=r/this.getResolution(o);var u=this.getOrigin(o);var l=Object(g["d"])(this.getTileSize(o),this.tmpSize_);var c=i?.5:0;var h=i?0:.5;var f=Math.floor((e-u[0])/r+c);var d=Math.floor((n-u[1])/r+h);var p=s*f/l[0];var v=s*d/l[1];if(i){p=Math.ceil(p)-1;v=Math.ceil(v)-1}else{p=Math.floor(p);v=Math.floor(v)}return Object(m["a"])(o,p,v,a)};r.prototype.getTileCoordForXYAndZ_=function t(e,n,r,i,a){var o=this.getOrigin(r);var s=this.getResolution(r);var u=Object(g["d"])(this.getTileSize(r),this.tmpSize_);var l=i?.5:0;var c=i?0:.5;var h=Math.floor((e-o[0])/s+l);var f=Math.floor((n-o[1])/s+c);var d=h/u[0];var p=f/u[1];if(i){d=Math.ceil(d)-1;p=Math.ceil(p)-1}else{d=Math.floor(d);p=Math.floor(p)}return Object(m["a"])(r,d,p,a)};r.prototype.getTileCoordForCoordAndZ=function t(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,false,r)};r.prototype.getTileCoordResolution=function t(e){return this.resolutions_[e[0]]};r.prototype.getTileSize=function t(e){if(this.tileSize_){return this.tileSize_}else{return this.tileSizes_[e]}};r.prototype.getFullTileRange=function t(e){if(!this.fullTileRanges_){return null}else{return this.fullTileRanges_[e]}};r.prototype.getZForResolution=function t(e,n){var r=Object(u["h"])(this.resolutions_,e,n||0);return Object(i["a"])(r,this.minZoom,this.maxZoom)};r.prototype.calculateTileRanges_=function t(e){var n=this.resolutions_.length;var r=new Array(n);for(var i=this.minZoom;i<n;++i){r[i]=this.getTileRangeForExtentAndZ(e,i)}this.fullTileRanges_=r};e["a"]=r},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";var n=6;var c="AJSAJS";var h="AFAFAF";var f=65;var d=73;var p=79;var v=86;var g=90;var e={forward:r,inverse:i,toPoint:a};function r(t,e){e=e||5;return s(o({lat:t[1],lon:t[0]}),e)}function i(t){var e=E(m(t.toUpperCase()));if(e.lat&&e.lon){return[e.lon,e.lat,e.lon,e.lat]}return[e.left,e.bottom,e.right,e.top]}function a(t){var e=E(m(t.toUpperCase()));if(e.lat&&e.lon){return[e.lon,e.lat]}return[(e.left+e.right)/2,(e.top+e.bottom)/2]}function _(t){return t*(Math.PI/180)}function x(t){return 180*(t/Math.PI)}function o(t){var e=t.lat;var n=t.lon;var r=6378137;var i=.00669438;var a=.9996;var o;var s;var u,l,c,h,f;var d=_(e);var p=_(n);var v;var g;g=Math.floor((n+180)/6)+1;if(n===180){g=60}if(e>=56&&e<64&&n>=3&&n<12){g=32}if(e>=72&&e<84){if(n>=0&&n<9){g=31}else if(n>=9&&n<21){g=33}else if(n>=21&&n<33){g=35}else if(n>=33&&n<42){g=37}}o=(g-1)*6-180+3;v=_(o);s=i/(1-i);u=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d));l=Math.tan(d)*Math.tan(d);c=s*Math.cos(d)*Math.cos(d);h=Math.cos(d)*(p-v);f=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var m=a*u*(h+(1-l+c)*h*h*h/6+(5-18*l+l*l+72*c-58*s)*h*h*h*h*h/120)+5e5;var y=a*(f+u*Math.tan(d)*(h*h/2+(5-l+9*c+4*c*c)*h*h*h*h/24+(61-58*l+l*l+600*c-330*s)*h*h*h*h*h*h/720));if(e<0){y+=1e7}return{northing:Math.round(y),easting:Math.round(m),zoneNumber:g,zoneLetter:b(e)}}function E(t){var e=t.northing;var n=t.easting;var r=t.zoneLetter;var i=t.zoneNumber;if(i<0||i>60){return null}var a=.9996;var o=6378137;var s=.00669438;var u;var l=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s));var c,h,f,d,p,v;var g;var m,y;var _=n-5e5;var b=e;if(r<"N"){b-=1e7}g=(i-1)*6-180+3;u=s/(1-s);v=b/a;m=v/(o*(1-s/4-3*s*s/64-5*s*s*s/256));y=m+(3*l/2-27*l*l*l/32)*Math.sin(2*m)+(21*l*l/16-55*l*l*l*l/32)*Math.sin(4*m)+151*l*l*l/96*Math.sin(6*m);c=o/Math.sqrt(1-s*Math.sin(y)*Math.sin(y));h=Math.tan(y)*Math.tan(y);f=u*Math.cos(y)*Math.cos(y);d=o*(1-s)/Math.pow(1-s*Math.sin(y)*Math.sin(y),1.5);p=_/(c*a);var O=y-c*Math.tan(y)/d*(p*p/2-(5+3*h+10*f-4*f*f-9*u)*p*p*p*p/24+(61+90*h+298*f+45*h*h-252*u-3*f*f)*p*p*p*p*p*p/720);O=x(O);var w=(p-(1+2*h+f)*p*p*p/6+(5-2*f+28*h-3*f*f+8*u+24*h*h)*p*p*p*p*p/120)/Math.cos(y);w=g+x(w);var S;if(t.accuracy){var T=E({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:T.lat,right:T.lon,bottom:O,left:w}}else{S={lat:O,lon:w}}return S}function b(t){var e="Z";if(84>=t&&t>=72){e="X"}else if(72>t&&t>=64){e="W"}else if(64>t&&t>=56){e="V"}else if(56>t&&t>=48){e="U"}else if(48>t&&t>=40){e="T"}else if(40>t&&t>=32){e="S"}else if(32>t&&t>=24){e="R"}else if(24>t&&t>=16){e="Q"}else if(16>t&&t>=8){e="P"}else if(8>t&&t>=0){e="N"}else if(0>t&&t>=-8){e="M"}else if(-8>t&&t>=-16){e="L"}else if(-16>t&&t>=-24){e="K"}else if(-24>t&&t>=-32){e="J"}else if(-32>t&&t>=-40){e="H"}else if(-40>t&&t>=-48){e="G"}else if(-48>t&&t>=-56){e="F"}else if(-56>t&&t>=-64){e="E"}else if(-64>t&&t>=-72){e="D"}else if(-72>t&&t>=-80){e="C"}return e}function s(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+u(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function u(t,e,n){var r=O(n);var i=Math.floor(t/1e5);var a=Math.floor(e/1e5)%20;return l(i,a,r)}function O(t){var e=t%n;if(e===0){e=n}return e}function l(t,e,n){var r=n-1;var i=c.charCodeAt(r);var a=h.charCodeAt(r);var o=i+t-1;var s=a+e;var u=false;if(o>g){o=o-g+f-1;u=true}if(o===d||i<d&&o>d||(o>d||i<d)&&u){o++}if(o===p||i<p&&o>p||(o>p||i<p)&&u){o++;if(o===d){o++}}if(o>g){o=o-g+f-1}if(s>v){s=s-v+f-1;u=true}else{u=false}if(s===d||a<d&&s>d||(s>d||a<d)&&u){s++}if(s===p||a<p&&s>p||(s>p||a<p)&&u){s++;if(s===d){s++}}if(s>v){s=s-v+f-1}var l=String.fromCharCode(o)+String.fromCharCode(s);return l}function m(t){if(t&&t.length===0){throw"MGRSPoint coverting from nothing"}var e=t.length;var n=null;var r="";var i;var a=0;while(!/[A-Z]/.test(i=t.charAt(a))){if(a>=2){throw"MGRSPoint bad conversion from: "+t}r+=i;a++}var o=parseInt(r,10);if(a===0||a+3>e){throw"MGRSPoint bad conversion from: "+t}var s=t.charAt(a++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O"){throw"MGRSPoint zone letter "+s+" not handled: "+t}n=t.substring(a,a+=2);var u=O(o);var l=w(n.charAt(0),u);var c=S(n.charAt(1),u);while(c<T(s)){c+=2e6}var h=e-a;if(h%2!==0){throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t}var f=h/2;var d=0;var p=0;var v,g,m,y,_;if(f>0){v=1e5/Math.pow(10,f);g=t.substring(a,a+f);d=parseFloat(g)*v;m=t.substring(a+f);p=parseFloat(m)*v}y=d+l;_=p+c;return{easting:y,northing:_,zoneLetter:s,zoneNumber:o,accuracy:v}}function w(t,e){var n=c.charCodeAt(e-1);var r=1e5;var i=false;while(n!==t.charCodeAt(0)){n++;if(n===d){n++}if(n===p){n++}if(n>g){if(i){throw"Bad character: "+t}n=f;i=true}r+=1e5}return r}function S(t,e){if(t>"V"){throw"MGRSPoint given invalid Northing "+t}var n=h.charCodeAt(e-1);var r=0;var i=false;while(n!==t.charCodeAt(0)){n++;if(n===d){n++}if(n===p){n++}if(n>v){if(i){throw"Bad character: "+t}n=f;i=true}r+=1e5}return r}function T(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0){return e}else{throw"Invalid zone letter: "+t}}t["default"]=e;t.forward=r;t.inverse=i;t.toPoint=a;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";var r=n(35);var i=n.n(r);var a=n(170);var m=n.n(a);var y=n(57);function _(){_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};return _.apply(this,arguments)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function b(t,e,n){if(e)o(t.prototype,e);if(n)o(t,n);return t}var s=function(h){var n="tooltip";var e="4.1.3";var i="bs.tooltip";var a="."+i;var t=h.fn[n];var o="bs-tooltip";var s=new RegExp("(^|\\s)"+o+"\\S+","g");var u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"};var l={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};var c={animation:true,template:'<div class="tooltip" role="tooltip">'+'<div class="arrow"></div>'+'<div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,selector:false,placement:"top",offset:0,container:false,fallbackPlacement:"flip",boundary:"scrollParent"};var f={SHOW:"show",OUT:"out"};var d={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a};var p={FADE:"fade",SHOW:"show"};var v={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"};var g={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"};var r=function(){function r(t,e){if(typeof m.a==="undefined"){throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)")}this._isEnabled=true;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=t;this.config=this._getConfig(e);this.tip=null;this._setListeners()}var t=r.prototype;t.enable=function t(){this._isEnabled=true};t.disable=function t(){this._isEnabled=false};t.toggleEnabled=function t(){this._isEnabled=!this._isEnabled};t.toggle=function t(e){if(!this._isEnabled){return}if(e){var n=this.constructor.DATA_KEY;var r=h(e.currentTarget).data(n);if(!r){r=new this.constructor(e.currentTarget,this._getDelegateConfig());h(e.currentTarget).data(n,r)}r._activeTrigger.click=!r._activeTrigger.click;if(r._isWithActiveTrigger()){r._enter(null,r)}else{r._leave(null,r)}}else{if(h(this.getTipElement()).hasClass(p.SHOW)){this._leave(null,this);return}this._enter(null,this)}};t.dispose=function t(){clearTimeout(this._timeout);h.removeData(this.element,this.constructor.DATA_KEY);h(this.element).off(this.constructor.EVENT_KEY);h(this.element).closest(".modal").off("hide.bs.modal");if(this.tip){h(this.tip).remove()}this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper!==null){this._popper.destroy()}this._popper=null;this.element=null;this.config=null;this.tip=null};t.show=function t(){var n=this;if(h(this.element).css("display")==="none"){throw new Error("Please use show on visible elements")}var e=h.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){h(this.element).trigger(e);var r=h.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!r){return}var i=this.getTipElement();var a=y["a"].getUID(this.constructor.NAME);i.setAttribute("id",a);this.element.setAttribute("aria-describedby",a);this.setContent();if(this.config.animation){h(i).addClass(p.FADE)}var o=typeof this.config.placement==="function"?this.config.placement.call(this,i,this.element):this.config.placement;var s=this._getAttachment(o);this.addAttachmentClass(s);var u=this.config.container===false?document.body:h(document).find(this.config.container);h(i).data(this.constructor.DATA_KEY,this);if(!h.contains(this.element.ownerDocument.documentElement,this.tip)){h(i).appendTo(u)}h(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new m.a(this.element,i,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:v.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function t(e){if(e.originalPlacement!==e.placement){n._handlePopperPlacementChange(e)}},onUpdate:function t(e){n._handlePopperPlacementChange(e)}});h(i).addClass(p.SHOW);if("ontouchstart"in document.documentElement){h(document.body).children().on("mouseover",null,h.noop)}var l=function t(){if(n.config.animation){n._fixTransition()}var e=n._hoverState;n._hoverState=null;h(n.element).trigger(n.constructor.Event.SHOWN);if(e===f.OUT){n._leave(null,n)}};if(h(this.tip).hasClass(p.FADE)){var c=y["a"].getTransitionDurationFromElement(this.tip);h(this.tip).one(y["a"].TRANSITION_END,l).emulateTransitionEnd(c)}else{l()}}};t.hide=function t(e){var n=this;var r=this.getTipElement();var i=h.Event(this.constructor.Event.HIDE);var a=function t(){if(n._hoverState!==f.SHOW&&r.parentNode){r.parentNode.removeChild(r)}n._cleanTipClass();n.element.removeAttribute("aria-describedby");h(n.element).trigger(n.constructor.Event.HIDDEN);if(n._popper!==null){n._popper.destroy()}if(e){e()}};h(this.element).trigger(i);if(i.isDefaultPrevented()){return}h(r).removeClass(p.SHOW);if("ontouchstart"in document.documentElement){h(document.body).children().off("mouseover",null,h.noop)}this._activeTrigger[g.CLICK]=false;this._activeTrigger[g.FOCUS]=false;this._activeTrigger[g.HOVER]=false;if(h(this.tip).hasClass(p.FADE)){var o=y["a"].getTransitionDurationFromElement(r);h(r).one(y["a"].TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}this._hoverState=""};t.update=function t(){if(this._popper!==null){this._popper.scheduleUpdate()}};t.isWithContent=function t(){return Boolean(this.getTitle())};t.addAttachmentClass=function t(e){h(this.getTipElement()).addClass(o+"-"+e)};t.getTipElement=function t(){this.tip=this.tip||h(this.config.template)[0];return this.tip};t.setContent=function t(){var e=this.getTipElement();this.setElementContent(h(e.querySelectorAll(v.TOOLTIP_INNER)),this.getTitle());h(e).removeClass(p.FADE+" "+p.SHOW)};t.setElementContent=function t(e,n){var r=this.config.html;if(typeof n==="object"&&(n.nodeType||n.jquery)){if(r){if(!h(n).parent().is(e)){e.empty().append(n)}}else{e.text(h(n).text())}}else{e[r?"html":"text"](n)}};t.getTitle=function t(){var e=this.element.getAttribute("data-original-title");if(!e){e=typeof this.config.title==="function"?this.config.title.call(this.element):this.config.title}return e};t._getAttachment=function t(e){return l[e.toUpperCase()]};t._setListeners=function t(){var r=this;var e=this.config.trigger.split(" ");e.forEach(function(t){if(t==="click"){h(r.element).on(r.constructor.Event.CLICK,r.config.selector,function(t){return r.toggle(t)})}else if(t!==g.MANUAL){var e=t===g.HOVER?r.constructor.Event.MOUSEENTER:r.constructor.Event.FOCUSIN;var n=t===g.HOVER?r.constructor.Event.MOUSELEAVE:r.constructor.Event.FOCUSOUT;h(r.element).on(e,r.config.selector,function(t){return r._enter(t)}).on(n,r.config.selector,function(t){return r._leave(t)})}h(r.element).closest(".modal").on("hide.bs.modal",function(){return r.hide()})});if(this.config.selector){this.config=_({},this.config,{trigger:"manual",selector:""})}else{this._fixTitle()}};t._fixTitle=function t(){var e=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||e!=="string"){this.element.setAttribute("data-original-title",this.element.getAttribute("title")||"");this.element.setAttribute("title","")}};t._enter=function t(e,n){var r=this.constructor.DATA_KEY;n=n||h(e.currentTarget).data(r);if(!n){n=new this.constructor(e.currentTarget,this._getDelegateConfig());h(e.currentTarget).data(r,n)}if(e){n._activeTrigger[e.type==="focusin"?g.FOCUS:g.HOVER]=true}if(h(n.getTipElement()).hasClass(p.SHOW)||n._hoverState===f.SHOW){n._hoverState=f.SHOW;return}clearTimeout(n._timeout);n._hoverState=f.SHOW;if(!n.config.delay||!n.config.delay.show){n.show();return}n._timeout=setTimeout(function(){if(n._hoverState===f.SHOW){n.show()}},n.config.delay.show)};t._leave=function t(e,n){var r=this.constructor.DATA_KEY;n=n||h(e.currentTarget).data(r);if(!n){n=new this.constructor(e.currentTarget,this._getDelegateConfig());h(e.currentTarget).data(r,n)}if(e){n._activeTrigger[e.type==="focusout"?g.FOCUS:g.HOVER]=false}if(n._isWithActiveTrigger()){return}clearTimeout(n._timeout);n._hoverState=f.OUT;if(!n.config.delay||!n.config.delay.hide){n.hide();return}n._timeout=setTimeout(function(){if(n._hoverState===f.OUT){n.hide()}},n.config.delay.hide)};t._isWithActiveTrigger=function t(){for(var e in this._activeTrigger){if(this._activeTrigger[e]){return true}}return false};t._getConfig=function t(e){e=_({},this.constructor.Default,h(this.element).data(),typeof e==="object"&&e?e:{});if(typeof e.delay==="number"){e.delay={show:e.delay,hide:e.delay}}if(typeof e.title==="number"){e.title=e.title.toString()}if(typeof e.content==="number"){e.content=e.content.toString()}y["a"].typeCheckConfig(n,e,this.constructor.DefaultType);return e};t._getDelegateConfig=function t(){var e={};if(this.config){for(var n in this.config){if(this.constructor.Default[n]!==this.config[n]){e[n]=this.config[n]}}}return e};t._cleanTipClass=function t(){var e=h(this.getTipElement());var n=e.attr("class").match(s);if(n!==null&&n.length){e.removeClass(n.join(""))}};t._handlePopperPlacementChange=function t(e){var n=e.instance;this.tip=n.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(e.placement))};t._fixTransition=function t(){var e=this.getTipElement();var n=this.config.animation;if(e.getAttribute("x-placement")!==null){return}h(e).removeClass(p.FADE);this.config.animation=false;this.hide();this.show();this.config.animation=n};r._jQueryInterface=function t(n){return this.each(function(){var t=h(this).data(i);var e=typeof n==="object"&&n;if(!t&&/dispose|hide/.test(n)){return}if(!t){t=new r(this,e);h(this).data(i,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};b(r,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return c}},{key:"NAME",get:function t(){return n}},{key:"DATA_KEY",get:function t(){return i}},{key:"Event",get:function t(){return d}},{key:"EVENT_KEY",get:function t(){return a}},{key:"DefaultType",get:function t(){return u}}]);return r}();h.fn[n]=r._jQueryInterface;h.fn[n].Constructor=r;h.fn[n].noConflict=function(){h.fn[n]=t;return r._jQueryInterface};return r}(i.a,m.a);e["a"]=s},function(t,e,n){"use strict";var i=n(5);var r=function(r){function t(t){var e=i["a"]==="latest"?i["a"]:"v"+i["a"].split("-")[0];var n="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.";r.call(this,n);this.code=t;this.name="AssertionError";this.message=n}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;return t}(Error);e["a"]=r},function(t,e,n){"use strict";n.d(e,"a",function(){return l});n.d(e,"b",function(){return r});var w=n(9);var S=n(145);function l(t,e,n,r,i,a,o){var s,u,l,c,h,f,d;var p=i[a+1];var v=[];for(var g=0,m=n.length;g<m;++g){var y=n[g];c=t[y-r];f=t[y-r+1];for(s=e;s<y;s+=r){h=t[s];d=t[s+1];if(p<=f&&d<=p||f<=p&&p<=d){l=(p-f)/(d-f)*(h-c)+c;v.push(l)}c=h;f=d}}var _=NaN;var b=-Infinity;v.sort(w["i"]);c=v[0];for(s=1,u=v.length;s<u;++s){h=v[s];var O=Math.abs(h-c);if(O>b){l=(c+h)/2;if(Object(S["c"])(t,e,n,r,l,p)){_=l;b=O}}c=h}if(isNaN(_)){_=i[a]}if(o){o.push(_,p,b);return o}else{return[_,p,b]}}function r(t,e,n,r,i){var a=[];for(var o=0,s=n.length;o<s;++o){var u=n[o];a=l(t,e,u,r,i,2*o,a);e=u[u.length-1]}return a}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t,e,n,r,i,a){var o=[t[e],t[e+1]];var s=[];var u;for(;e+r<n;e+=r){s[0]=t[e+r];s[1]=t[e+r+1];u=i.call(a,o,s);if(u){return u}o[0]=s[0];o[1]=s[1]}return false}},function(t,e,n){"use strict";var r=n(43);var i={};i.setGeometryType=function(t,e){var n=/gml:((Multi)?(Point|Line|Polygon|Curve|Surface|Geometry)).*/;if(n.exec(e)){t.type=r["a"].GEOMETRY;if(/^gml:Point/.exec(e)){t.geomType="Point"}else if(/^gml:LineString|^gml:Curve/.exec(e)){t.geomType="LineString"}else if(/^gml:Polygon|^gml:Surface/.exec(e)){t.geomType="Polygon"}else if(/^gml:MultiPoint/.exec(e)){t.geomType="MultiPoint"}else if(/^gml:MultiLineString|^gml:MultiCurve/.exec(e)){t.geomType="MultiLineString"}else if(/^gml:MultiPolygon|^gml:MultiSurface/.exec(e)){t.geomType="MultiPolygon"}}return!!t.type&&!!t.geomType};e["a"]=i},function(t,e,n){"use strict";n.d(e,"a",function(){return s});function s(t,e,n,r){var i=t[e];var a=t[e+1];var o=0;for(var s=e+r;s<n;s+=r){var u=t[s];var l=t[s+1];o+=Math.sqrt((u-i)*(u-i)+(l-a)*(l-a));i=u;a=l}return o}function r(t,e,n,r){var i=s(t,e,n,r);var a=t[n-r]-t[e];var o=t[n-r+1]-t[e+1];i+=Math.sqrt(a*a+o*o);return i}},function(t,e,n){"use strict";var i=n(20);var r=n(128);var a=n(11);var o=function(e){function t(t){e.call(this);this.highWaterMark=t!==undefined?t:2048;this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.canExpireCache=function t(){return this.getCount()>this.highWaterMark};t.prototype.clear=function t(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null;this.dispatchEvent(a["a"].CLEAR)};t.prototype.containsKey=function t(e){return this.entries_.hasOwnProperty(e)};t.prototype.forEach=function t(e,n){var r=this.oldest_;while(r){e.call(n,r.value_,r.key_,this);r=r.newer}};t.prototype.get=function t(e){var n=this.entries_[e];Object(i["a"])(n!==undefined,15);if(n===this.newest_){return n.value_}else if(n===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else{n.newer.older=n.older;n.older.newer=n.newer}n.newer=null;n.older=this.newest_;this.newest_.newer=n;this.newest_=n;return n.value_};t.prototype.remove=function t(e){var n=this.entries_[e];Object(i["a"])(n!==undefined,15);if(n===this.newest_){this.newest_=n.older;if(this.newest_){this.newest_.newer=null}}else if(n===this.oldest_){this.oldest_=n.newer;if(this.oldest_){this.oldest_.older=null}}else{n.newer.older=n.older;n.older.newer=n.newer}delete this.entries_[e];--this.count_;return n.value_};t.prototype.getCount=function t(){return this.count_};t.prototype.getKeys=function t(){var e=new Array(this.count_);var n=0;var r;for(r=this.newest_;r;r=r.older){e[n++]=r.key_}return e};t.prototype.getValues=function t(){var e=new Array(this.count_);var n=0;var r;for(r=this.newest_;r;r=r.older){e[n++]=r.value_}return e};t.prototype.peekLast=function t(){return this.oldest_.value_};t.prototype.peekLastKey=function t(){return this.oldest_.key_};t.prototype.peekFirstKey=function t(){return this.newest_.key_};t.prototype.pop=function t(){var e=this.oldest_;delete this.entries_[e.key_];if(e.newer){e.newer.older=null}this.oldest_=e.newer;if(!this.oldest_){this.newest_=null}--this.count_;return e.value_};t.prototype.replace=function t(e,n){this.get(e);this.entries_[e].value_=n};t.prototype.set=function t(e,n){Object(i["a"])(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:n};if(!this.newest_){this.oldest_=r}else{this.newest_.newer=r}this.newest_=r;this.entries_[e]=r;++this.count_};t.prototype.setSize=function t(e){this.highWaterMark=e};t.prototype.prune=function t(){while(this.canExpireCache()){this.pop()}};return t}(r["a"]);e["a"]=o},function(t,e,n){"use strict";var r=n(5);var i=function t(e){this.opacity_=e.opacity;this.rotateWithView_=e.rotateWithView;this.rotation_=e.rotation;this.scale_=e.scale};i.prototype.clone=function t(){return new i({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};i.prototype.getOpacity=function t(){return this.opacity_};i.prototype.getRotateWithView=function t(){return this.rotateWithView_};i.prototype.getRotation=function t(){return this.rotation_};i.prototype.getScale=function t(){return this.scale_};i.prototype.getSnapToPixel=function t(){return false};i.prototype.getAnchor=function t(){return Object(r["b"])()};i.prototype.getImage=function t(e){return Object(r["b"])()};i.prototype.getHitDetectionImage=function t(e){return Object(r["b"])()};i.prototype.getImageState=function t(){return Object(r["b"])()};i.prototype.getImageSize=function t(){return Object(r["b"])()};i.prototype.getHitDetectionImageSize=function t(){return Object(r["b"])()};i.prototype.getOrigin=function t(){return Object(r["b"])()};i.prototype.getSize=function t(){return Object(r["b"])()};i.prototype.setOpacity=function t(e){this.opacity_=e};i.prototype.setRotateWithView=function t(e){this.rotateWithView_=e};i.prototype.setRotation=function t(e){this.rotation_=e};i.prototype.setScale=function t(e){this.scale_=e};i.prototype.setSnapToPixel=function t(e){};i.prototype.listenImageChange=function t(e,n){return Object(r["b"])()};i.prototype.load=function t(){Object(r["b"])()};i.prototype.unlistenImageChange=function t(e,n){Object(r["b"])()};e["a"]=i},function(t,e,n){"use strict";e["a"]={IMAGE:"image",VECTOR:"vector"}},function(t,e,n){"use strict";var h=n(15);var p=n(9);var v=n(20);var s=n(75);var y=n(71);var r=n(156);var f=n(4);var g=n(150);var d=n(28);var m=n(7);var u=n(38);var _=n(79);var b=n(105);var O=n(96);var a=n(27);var l=n(26);var S=n(14);var i=n(8);var c=n(33);var T=n(205);var x=n(114);var E=n(94);var o=n(34);var w=n(16);var C=n(120);var M=n(0);var j=["http://www.google.com/kml/ext/2.2"];var A=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"];var k="http://www.opengis.net/kml/2.2 "+"https://developers.google.com/kml/schema/kml22gx.xsd";var I={fraction:x["a"].FRACTION,pixels:x["a"].PIXELS,insetPixels:x["a"].PIXELS};var R=Object(M["q"])(A,{ExtendedData:Zt,Region:Qt,MultiGeometry:Object(M["m"])(Ht,"geometry"),LineString:Object(M["m"])($t,"geometry"),LinearRing:Object(M["m"])(Ft,"geometry"),Point:Object(M["m"])(Ut,"geometry"),Polygon:Object(M["m"])(Yt,"geometry"),Style:Object(M["m"])(qt),StyleMap:ee,address:Object(M["m"])(f["h"]),description:Object(M["m"])(f["h"]),name:Object(M["m"])(f["h"]),open:Object(M["m"])(f["a"]),phoneNumber:Object(M["m"])(f["h"]),styleUrl:Object(M["m"])(dt),visibility:Object(M["m"])(f["a"])},Object(M["q"])(j,{MultiTrack:Object(M["m"])(At,"geometry"),Track:Object(M["m"])(It,"geometry")}));var D=Object(M["q"])(A,{ExtendedData:Zt,Region:Qt,Link:de,address:Object(M["m"])(f["h"]),description:Object(M["m"])(f["h"]),name:Object(M["m"])(f["h"]),open:Object(M["m"])(f["a"]),phoneNumber:Object(M["m"])(f["h"]),visibility:Object(M["m"])(f["a"])});var P=Object(M["q"])(A,{href:Object(M["m"])(dt)});var N=Object(M["q"])(A,{LatLonAltBox:oe,Lod:ue});var L=Object(M["q"])(A,["Document","Placemark"]);var $=Object(M["q"])(A,{Document:Object(M["k"])(Se),Placemark:Object(M["k"])(Qe)});var F;var G=null;function H(){return G}var U;var W;var Y;var V;var q;var z;var B=null;function K(){return B}var X;var Z=null;function Q(){return Z}var J;var tt=null;function et(){return tt}var nt=null;function rt(){return nt}var it=null;function at(){return it}function ot(){F=[255,255,255,1];G=new c["a"]({color:F});U=[20,2];W=x["a"].PIXELS;Y=x["a"].PIXELS;V=[64,64];q="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";z=.5;B=new T["a"]({anchor:U,anchorOrigin:E["a"].BOTTOM_LEFT,anchorXUnits:W,anchorYUnits:Y,crossOrigin:"anonymous",rotation:0,scale:z,size:V,src:q});X="NO_IMAGE";Z=new o["a"]({color:F,width:1});J=new o["a"]({color:[51,51,51,1],width:2});tt=new C["a"]({font:"bold 16px Helvetica",fill:G,stroke:J,scale:.8});nt=new w["c"]({fill:G,image:B,text:tt,stroke:Z,zIndex:0});it=[nt]}var st=function(n){function t(t){n.call(this);var e=t?t:{};if(!it){ot()}this.dataProjection=Object(i["g"])("EPSG:4326");this.defaultStyle_=e.defaultStyle?e.defaultStyle:it;this.extractStyles_=e.extractStyles!==undefined?e.extractStyles:true;this.writeStyles_=e.writeStyles!==undefined?e.writeStyles:true;this.sharedStyles_={};this.showPointNames_=e.showPointNames!==undefined?e.showPointNames:true}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.readDocumentOrFolder_=function t(e,n){var r=Object(M["q"])(A,{Document:Object(M["h"])(this.readDocumentOrFolder_,this),Folder:Object(M["h"])(this.readDocumentOrFolder_,this),Placemark:Object(M["i"])(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});var i=Object(M["t"])([],r,e,n,this);if(i){return i}else{return undefined}};t.prototype.readPlacemark_=function t(e,n){var r=Object(M["t"])({geometry:null},R,e,n);if(!r){return undefined}var i=new h["a"];var a=e.getAttribute("id");if(a!==null){i.setId(a)}var o=n[0];var s=r["geometry"];if(s){Object(y["b"])(s,false,o)}i.setGeometry(s);delete r["geometry"];if(this.extractStyles_){var u=r["Style"];var l=r["styleUrl"];var c=lt(u,l,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(c)}delete r["Style"];i.setProperties(r);return i};t.prototype.readSharedStyle_=function t(e,n){var r=e.getAttribute("id");if(r!==null){var i=qt(e,n);if(i){var a;var o=e.baseURI;if(!o||o=="about:blank"){o=window.location.href}if(o){var s=new URL("#"+r,o);a=s.href}else{a="#"+r}this.sharedStyles_[a]=i}}};t.prototype.readSharedStyleMap_=function t(e,n){var r=e.getAttribute("id");if(r===null){return}var i=mt(e,n);if(!i){return}var a;var o=e.baseURI;if(!o||o=="about:blank"){o=window.location.href}if(o){var s=new URL("#"+r,o);a=s.href}else{a="#"+r}this.sharedStyles_[a]=i};t.prototype.readFeatureFromNode=function t(e,n){if(!Object(p["f"])(A,e.namespaceURI)){return null}var r=this.readPlacemark_(e,[this.getReadOptions(e,n)]);if(r){return r}else{return null}};t.prototype.readFeaturesFromNode=function t(e,n){if(!Object(p["f"])(A,e.namespaceURI)){return[]}var r;var i=e.localName;if(i=="Document"||i=="Folder"){r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,n)]);if(r){return r}else{return[]}}else if(i=="Placemark"){var a=this.readPlacemark_(e,[this.getReadOptions(e,n)]);if(a){return[a]}else{return[]}}else if(i=="kml"){r=[];for(var o=e.firstElementChild;o;o=o.nextElementSibling){var s=this.readFeaturesFromNode(o,n);if(s){Object(p["c"])(r,s)}}return r}else{return[]}};t.prototype.readName=function t(e){if(!e){return undefined}else if(typeof e==="string"){var n=Object(M["r"])(e);return this.readNameFromDocument(n)}else if(Object(M["g"])(e)){return this.readNameFromDocument(e)}else{return this.readNameFromNode(e)}};t.prototype.readNameFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(n);if(r){return r}}}return undefined};t.prototype.readNameFromNode=function t(e){for(var n=e.firstElementChild;n;n=n.nextElementSibling){if(Object(p["f"])(A,n.namespaceURI)&&n.localName=="name"){return Object(f["h"])(n)}}for(var r=e.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;if(Object(p["f"])(A,r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="Placemark"||i=="kml")){var a=this.readNameFromNode(r);if(a){return a}}}return undefined};t.prototype.readNetworkLinks=function t(e){var n=[];if(typeof e==="string"){var r=Object(M["r"])(e);Object(p["c"])(n,this.readNetworkLinksFromDocument(r))}else if(Object(M["g"])(e)){Object(p["c"])(n,this.readNetworkLinksFromDocument(e))}else{Object(p["c"])(n,this.readNetworkLinksFromNode(e))}return n};t.prototype.readNetworkLinksFromDocument=function t(e){var n=[];for(var r=e.firstChild;r;r=r.nextSibling){if(r.nodeType==Node.ELEMENT_NODE){Object(p["c"])(n,this.readNetworkLinksFromNode(r))}}return n};t.prototype.readNetworkLinksFromNode=function t(e){var n=[];for(var r=e.firstElementChild;r;r=r.nextElementSibling){if(Object(p["f"])(A,r.namespaceURI)&&r.localName=="NetworkLink"){var i=Object(M["t"])({},D,r,[]);n.push(i)}}for(var a=e.firstElementChild;a;a=a.nextElementSibling){var o=a.localName;if(Object(p["f"])(A,a.namespaceURI)&&(o=="Document"||o=="Folder"||o=="kml")){Object(p["c"])(n,this.readNetworkLinksFromNode(a))}}return n};t.prototype.readRegion=function t(e){var n=[];if(typeof e==="string"){var r=Object(M["r"])(e);Object(p["c"])(n,this.readRegionFromDocument(r))}else if(Object(M["g"])(e)){Object(p["c"])(n,this.readRegionFromDocument(e))}else{Object(p["c"])(n,this.readRegionFromNode(e))}return n};t.prototype.readRegionFromDocument=function t(e){var n=[];for(var r=e.firstChild;r;r=r.nextSibling){if(r.nodeType==Node.ELEMENT_NODE){Object(p["c"])(n,this.readRegionFromNode(r))}}return n};t.prototype.readRegionFromNode=function t(e){var n=[];for(var r=e.firstElementChild;r;r=r.nextElementSibling){if(Object(p["f"])(A,r.namespaceURI)&&r.localName=="Region"){var i=Object(M["t"])({},N,r,[]);n.push(i)}}for(var a=e.firstElementChild;a;a=a.nextElementSibling){var o=a.localName;if(Object(p["f"])(A,a.namespaceURI)&&(o=="Document"||o=="Folder"||o=="kml")){Object(p["c"])(n,this.readRegionFromNode(a))}}return n};t.prototype.writeFeaturesNode=function t(e,n){n=this.adaptOptions(n);var r=Object(M["d"])(A[4],"kml");var i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",j[0]);r.setAttributeNS(i,"xmlns:xsi",M["c"]);r.setAttributeNS(M["c"],"xsi:schemaLocation",k);var a={node:r};var o={};if(e.length>1){o["Document"]=e}else if(e.length==1){o["Placemark"]=e[0]}var s=L[r.namespaceURI];var u=Object(M["o"])(o,s);Object(M["u"])(a,$,M["b"],u,[n],s,this);return r};return t}(r["a"]);function ut(t,e){var n=null;var r=[0,0];var i="start";if(t.getImage()){var a=t.getImage().getImageSize();if(a===null){a=V}if(a.length==2){var o=t.getImage().getScale();r[0]=o*a[0]/2;r[1]=-o*a[1]/2;i="left"}}if(t.getText()!==null){var s=t.getText();n=s.clone();n.setFont(s.getFont()||tt.getFont());n.setScale(s.getScale()||tt.getScale());n.setFill(s.getFill()||tt.getFill());n.setStroke(s.getStroke()||J)}else{n=tt.clone()}n.setText(e);n.setOffsetX(r[0]);n.setOffsetY(r[1]);n.setTextAlign(i);var u=new w["c"]({text:n});return u}function lt(s,u,l,c,h){return function(t,e){var n=h;var r;var i="";if(n){var a=t.getGeometry();if(a){n=a.getType()===m["a"].POINT}}if(n){i=t.get("name");n=n&&!!i}if(s){if(n){r=ut(s[0],i);return s.concat(r)}return s}if(u){var o=ct(u,l,c);if(n){r=ut(o[0],i);return o.concat(r)}return o}if(n){r=ut(l[0],i);return l.concat(r)}return l}}function ct(t,e,n){if(Array.isArray(t)){return t}else if(typeof t==="string"){if(!(t in n)&&"#"+t in n){t="#"+t}return ct(n[t],e,n)}else{return e}}function ht(t){var e=Object(M["e"])(t,false);var n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){var r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}else{return undefined}}function ft(t){var e=Object(M["e"])(t,false);var n=[];var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;var i;while(i=r.exec(e)){var a=parseFloat(i[1]);var o=parseFloat(i[2]);var s=i[3]?parseFloat(i[3]):0;n.push(a,o,s);e=e.substr(i[0].length)}if(e!==""){return undefined}return n}function dt(t){var e=Object(M["e"])(t,false).trim();var n=t.baseURI;if(!n||n=="about:blank"){n=window.location.href}if(n){var r=new URL(e,n);return r.href}else{return e}}function pt(t){var e=t.getAttribute("xunits");var n=t.getAttribute("yunits");var r;if(e!=="insetPixels"){if(n!=="insetPixels"){r=E["a"].BOTTOM_LEFT}else{r=E["a"].TOP_LEFT}}else{if(n!=="insetPixels"){r=E["a"].BOTTOM_RIGHT}else{r=E["a"].TOP_RIGHT}}return{x:parseFloat(t.getAttribute("x")),xunits:I[e],y:parseFloat(t.getAttribute("y")),yunits:I[n],origin:r}}function vt(t){return Object(f["d"])(t)}var gt=Object(M["q"])(A,{Pair:te});function mt(t,e){return Object(M["t"])(undefined,gt,t,e)}var yt=Object(M["q"])(A,{Icon:Object(M["m"])(Dt),heading:Object(M["m"])(f["d"]),hotSpot:Object(M["m"])(pt),scale:Object(M["m"])(vt)});function _t(t,e){var n=Object(M["t"])({},yt,t,e);if(!n){return}var r=e[e.length-1];var i="Icon"in n?n["Icon"]:{};var a=!("Icon"in n)||Object.keys(i).length>0;var o;var s=i["href"];if(s){o=s}else if(a){o=q}var u,l,c;var h=E["a"].BOTTOM_LEFT;var f=n["hotSpot"];if(f){u=[f.x,f.y];l=f.xunits;c=f.yunits;h=f.origin}else if(o===q){u=U;l=W;c=Y}else if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(o)){u=[.5,0];l=x["a"].FRACTION;c=x["a"].FRACTION}var d;var p=i["x"];var v=i["y"];if(p!==undefined&&v!==undefined){d=[p,v]}var g;var m=i["w"];var y=i["h"];if(m!==undefined&&y!==undefined){g=[m,y]}var _;var b=n["heading"];if(b!==undefined){_=Object(S["i"])(b)}var O=n["scale"];if(a){if(o==q){g=V;if(O===undefined){O=z}}var w=new T["a"]({anchor:u,anchorOrigin:h,anchorXUnits:l,anchorYUnits:c,crossOrigin:"anonymous",offset:d,offsetOrigin:E["a"].BOTTOM_LEFT,rotation:_,scale:O,size:g,src:o});r["imageStyle"]=w}else{r["imageStyle"]=X}}var bt=Object(M["q"])(A,{color:Object(M["m"])(ht),scale:Object(M["m"])(vt)});function Ot(t,e){var n=Object(M["t"])({},bt,t,e);if(!n){return}var r=e[e.length-1];var i=new C["a"]({fill:new c["a"]({color:"color"in n?n["color"]:F}),scale:n["scale"]});r["textStyle"]=i}var wt=Object(M["q"])(A,{color:Object(M["m"])(ht),width:Object(M["m"])(f["d"])});function St(t,e){var n=Object(M["t"])({},wt,t,e);if(!n){return}var r=e[e.length-1];var i=new o["a"]({color:"color"in n?n["color"]:F,width:"width"in n?n["width"]:1});r["strokeStyle"]=i}var Tt=Object(M["q"])(A,{color:Object(M["m"])(ht),fill:Object(M["m"])(f["a"]),outline:Object(M["m"])(f["a"])});function xt(t,e){var n=Object(M["t"])({},Tt,t,e);if(!n){return}var r=e[e.length-1];var i=new c["a"]({color:"color"in n?n["color"]:F});r["fillStyle"]=i;var a=n["fill"];if(a!==undefined){r["fill"]=a}var o=n["outline"];if(o!==undefined){r["outline"]=o}}var Et=Object(M["q"])(A,{coordinates:Object(M["n"])(ft)});function Ct(t,e){return Object(M["t"])(null,Et,t,e)}function Mt(t,e){var n=e[e.length-1];var r=n.flatCoordinates;var i=Object(M["e"])(t,false);var a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i;var o=a.exec(i);if(o){var s=parseFloat(o[1]);var u=parseFloat(o[2]);var l=parseFloat(o[3]);r.push(s,u,l,0)}else{r.push(0,0,0,0)}}var jt=Object(M["q"])(j,{Track:Object(M["i"])(It)});function At(t,e){var n=Object(M["t"])([],jt,t,e);if(!n){return undefined}return new _["a"](n)}var kt=Object(M["q"])(A,{when:pe},Object(M["q"])(j,{coord:Mt}));function It(t,e){var n=Object(M["t"])({flatCoordinates:[],whens:[]},kt,t,e);if(!n){return undefined}var r=n.flatCoordinates;var i=n.whens;for(var a=0,o=Math.min(r.length,i.length);a<o;++a){r[4*a+3]=i[a]}return new u["a"](r,d["a"].XYZM)}var Rt=Object(M["q"])(A,{href:Object(M["m"])(dt)},Object(M["q"])(j,{x:Object(M["m"])(f["d"]),y:Object(M["m"])(f["d"]),w:Object(M["m"])(f["d"]),h:Object(M["m"])(f["d"])}));function Dt(t,e){var n=Object(M["t"])({},Rt,t,e);if(n){return n}else{return null}}var Pt=Object(M["q"])(A,{coordinates:Object(M["n"])(ft)});function Nt(t,e){return Object(M["t"])(null,Pt,t,e)}var Lt=Object(M["q"])(A,{extrude:Object(M["m"])(f["a"]),tessellate:Object(M["m"])(f["a"]),altitudeMode:Object(M["m"])(f["h"])});function $t(t,e){var n=Object(M["t"])({},Lt,t,e);var r=Nt(t,e);if(r){var i=new u["a"](r,d["a"].XYZ);i.setProperties(n);return i}else{return undefined}}function Ft(t,e){var n=Object(M["t"])({},Lt,t,e);var r=Nt(t,e);if(r){var i=new l["b"](r,d["a"].XYZ,[r.length]);i.setProperties(n);return i}else{return undefined}}var Gt=Object(M["q"])(A,{LineString:Object(M["i"])($t),LinearRing:Object(M["i"])(Ft),MultiGeometry:Object(M["i"])(Ht),Point:Object(M["i"])(Ut),Polygon:Object(M["i"])(Yt)});function Ht(t,e){var n=Object(M["t"])([],Gt,t,e);if(!n){return null}if(n.length===0){return new g["a"](n)}var r;var i=true;var a=n[0].getType();var o;for(var s=1,u=n.length;s<u;++s){o=n[s];if(o.getType()!=a){i=false;break}}if(i){var l;var c;if(a==m["a"].POINT){var h=n[0];l=h.getLayout();c=h.getFlatCoordinates();for(var f=1,d=n.length;f<d;++f){o=n[f];Object(p["c"])(c,o.getFlatCoordinates())}r=new b["a"](c,l);zt(r,n)}else if(a==m["a"].LINE_STRING){r=new _["a"](n);zt(r,n)}else if(a==m["a"].POLYGON){r=new O["a"](n);zt(r,n)}else if(a==m["a"].GEOMETRY_COLLECTION){r=new g["a"](n)}else{Object(v["a"])(false,37)}}else{r=new g["a"](n)}return r}function Ut(t,e){var n=Object(M["t"])({},Lt,t,e);var r=Nt(t,e);if(r){var i=new a["a"](r,d["a"].XYZ);i.setProperties(n);return i}else{return undefined}}var Wt=Object(M["q"])(A,{innerBoundaryIs:ce,outerBoundaryIs:fe});function Yt(t,e){var n=Object(M["t"])({},Lt,t,e);var r=Object(M["t"])([null],Wt,t,e);if(r&&r[0]){var i=r[0];var a=[i.length];for(var o=1,s=r.length;o<s;++o){Object(p["c"])(i,r[o]);a.push(i.length)}var u=new l["b"](i,d["a"].XYZ,a);u.setProperties(n);return u}else{return undefined}}var Vt=Object(M["q"])(A,{IconStyle:_t,LabelStyle:Ot,LineStyle:St,PolyStyle:xt});function qt(t,e){var n=Object(M["t"])({},Vt,t,e);if(!n){return null}var r="fillStyle"in n?n["fillStyle"]:G;var i=n["fill"];if(i!==undefined&&!i){r=null}var a;if("imageStyle"in n){if(n["imageStyle"]!=X){a=n["imageStyle"]}}else{a=B}var o="textStyle"in n?n["textStyle"]:tt;var s="strokeStyle"in n?n["strokeStyle"]:Z;var u=n["outline"];if(u!==undefined&&!u){s=null}return[new w["c"]({fill:r,image:a,stroke:s,text:o,zIndex:undefined})]}function zt(t,e){var n=e.length;var r=new Array(e.length);var i=new Array(e.length);var a=new Array(e.length);var o,s,u;o=s=u=false;for(var l=0;l<n;++l){var c=e[l];r[l]=c.get("extrude");i[l]=c.get("tessellate");a[l]=c.get("altitudeMode");o=o||r[l]!==undefined;s=s||i[l]!==undefined;u=u||a[l]}if(o){t.set("extrude",r)}if(s){t.set("tessellate",i)}if(u){t.set("altitudeMode",a)}}var Bt=Object(M["q"])(A,{displayName:Object(M["m"])(f["h"]),value:Object(M["m"])(f["h"])});function Kt(t,e){var n=t.getAttribute("name");Object(M["s"])(Bt,t,e);var r=e[e.length-1];if(n!==null){r[n]=r.value}else if(r.displayName!==null){r[r.displayName]=r.value}delete r["value"]}var Xt=Object(M["q"])(A,{Data:Kt,SchemaData:re});function Zt(t,e){Object(M["s"])(Xt,t,e)}function Qt(t,e){Object(M["s"])(N,t,e)}var Jt=Object(M["q"])(A,{Style:Object(M["m"])(qt),key:Object(M["m"])(f["h"]),styleUrl:Object(M["m"])(dt)});function te(t,e){var n=Object(M["t"])({},Jt,t,e);if(!n){return}var r=n["key"];if(r&&r=="normal"){var i=n["styleUrl"];if(i){e[e.length-1]=i}var a=n["Style"];if(a){e[e.length-1]=a}}}function ee(t,e){var n=mt(t,e);if(!n){return}var r=e[e.length-1];if(Array.isArray(n)){r["Style"]=n}else if(typeof n==="string"){r["styleUrl"]=n}else{Object(v["a"])(false,38)}}var ne=Object(M["q"])(A,{SimpleData:ie});function re(t,e){Object(M["s"])(ne,t,e)}function ie(t,e){var n=t.getAttribute("name");if(n!==null){var r=Object(f["h"])(t);var i=e[e.length-1];i[n]=r}}var ae=Object(M["q"])(A,{altitudeMode:Object(M["m"])(f["h"]),minAltitude:Object(M["m"])(f["d"]),maxAltitude:Object(M["m"])(f["d"]),north:Object(M["m"])(f["d"]),south:Object(M["m"])(f["d"]),east:Object(M["m"])(f["d"]),west:Object(M["m"])(f["d"])});function oe(t,e){var n=Object(M["t"])({},ae,t,e);if(!n){return}var r=e[e.length-1];var i=[parseFloat(n["west"]),parseFloat(n["south"]),parseFloat(n["east"]),parseFloat(n["north"])];r["extent"]=i;r["altitudeMode"]=n["altitudeMode"];r["minAltitude"]=parseFloat(n["minAltitude"]);r["maxAltitude"]=parseFloat(n["maxAltitude"])}var se=Object(M["q"])(A,{minLodPixels:Object(M["m"])(f["d"]),maxLodPixels:Object(M["m"])(f["d"]),minFadeExtent:Object(M["m"])(f["d"]),maxFadeExtent:Object(M["m"])(f["d"])});function ue(t,e){var n=Object(M["t"])({},se,t,e);if(!n){return}var r=e[e.length-1];r["minLodPixels"]=parseFloat(n["minLodPixels"]);r["maxLodPixels"]=parseFloat(n["maxLodPixels"]);r["minFadeExtent"]=parseFloat(n["minFadeExtent"]);r["maxFadeExtent"]=parseFloat(n["maxFadeExtent"])}var le=Object(M["q"])(A,{LinearRing:Object(M["n"])(Ct)});function ce(t,e){var n=Object(M["t"])(undefined,le,t,e);if(n){var r=e[e.length-1];r.push(n)}}var he=Object(M["q"])(A,{LinearRing:Object(M["n"])(Ct)});function fe(t,e){var n=Object(M["t"])(undefined,he,t,e);if(n){var r=e[e.length-1];r[0]=n}}function de(t,e){Object(M["s"])(P,t,e)}function pe(t,e){var n=e[e.length-1];var r=n.whens;var i=Object(M["e"])(t,false);var a=Date.parse(i);r.push(isNaN(a)?0:a)}function ve(t,e){var n=Object(s["a"])(e);var r=n.length==4?n[3]:1;var i=[r*255,n[2],n[1],n[0]];for(var a=0;a<4;++a){var o=Math.floor(i[a]).toString(16);i[a]=o.length==1?"0"+o:o}Object(f["n"])(t,i.join(""))}function ge(t,e,n){var r=n[n.length-1];var i=r["layout"];var a=r["stride"];var o;if(i==d["a"].XY||i==d["a"].XYM){o=2}else if(i==d["a"].XYZ||i==d["a"].XYZM){o=3}else{Object(v["a"])(false,34)}var s=e.length;var u="";if(s>0){u+=e[0];for(var l=1;l<o;++l){u+=","+e[l]}for(var c=a;c<s;c+=a){u+=" "+e[c];for(var h=1;h<o;++h){u+=","+e[c+h]}}}Object(f["n"])(t,u)}var me=Object(M["q"])(A,{Data:Object(M["k"])(ye),value:Object(M["k"])(be),displayName:Object(M["k"])(_e)});function ye(t,e,n){t.setAttribute("name",e.name);var r={node:t};var i=e.value;if(typeof i=="object"){if(i!==null&&i.displayName){Object(M["u"])(r,me,M["b"],[i.displayName],n,["displayName"])}if(i!==null&&i.value){Object(M["u"])(r,me,M["b"],[i.value],n,["value"])}}else{Object(M["u"])(r,me,M["b"],[i],n,["value"])}}function _e(t,e){Object(f["j"])(t,e)}function be(t,e){Object(f["n"])(t,e)}var Oe=Object(M["q"])(A,{Placemark:Object(M["k"])(Qe)});var we=function t(e,n,r){var i=n[n.length-1].node;return Object(M["d"])(i.namespaceURI,"Placemark")};function Se(t,e,n){var r={node:t};Object(M["u"])(r,Oe,we,e,n,undefined,this)}var Te=Object(M["p"])("Data");function xe(t,e,n){var r={node:t};var i=e.names;var a=e.values;var o=i.length;for(var s=0;s<o;s++){Object(M["u"])(r,me,Te,[{name:i[s],value:a[s]}],n)}}var Ee=Object(M["q"])(A,["href"],Object(M["q"])(j,["x","y","w","h"]));var Ce=Object(M["q"])(A,{href:Object(M["k"])(f["n"])},Object(M["q"])(j,{x:Object(M["k"])(f["l"]),y:Object(M["k"])(f["l"]),w:Object(M["k"])(f["l"]),h:Object(M["k"])(f["l"])}));var Me=function t(e,n,r){return Object(M["d"])(j[0],"gx:"+r)};function je(t,e,n){var r={node:t};var i=n[n.length-1].node;var a=Ee[i.namespaceURI];var o=Object(M["o"])(e,a);Object(M["u"])(r,Ce,M["b"],o,n,a);a=Ee[j[0]];o=Object(M["o"])(e,a);Object(M["u"])(r,Ce,Me,o,n,a)}var Ae=Object(M["q"])(A,["scale","heading","Icon","hotSpot"]);var ke=Object(M["q"])(A,{Icon:Object(M["k"])(je),heading:Object(M["k"])(f["l"]),hotSpot:Object(M["k"])(pn),scale:Object(M["k"])(cn)});function Ie(t,e,n){var r={node:t};var i={};var a=e.getSrc();var o=e.getSize();var s=e.getImageSize();var u={href:a};if(o){u["w"]=o[0];u["h"]=o[1];var l=e.getAnchor();var c=e.getOrigin();if(c&&s&&c[0]!==0&&c[1]!==o[1]){u["x"]=c[0];u["y"]=s[1]-(c[1]+o[1])}if(l&&(l[0]!==o[0]/2||l[1]!==o[1]/2)){var h={x:l[0],xunits:x["a"].PIXELS,y:o[1]-l[1],yunits:x["a"].PIXELS};i["hotSpot"]=h}}i["Icon"]=u;var f=e.getScale();if(f!==1){i["scale"]=f}var d=e.getRotation();if(d!==0){i["heading"]=d}var p=n[n.length-1].node;var v=Ae[p.namespaceURI];var g=Object(M["o"])(i,v);Object(M["u"])(r,ke,M["b"],g,n,v)}var Re=Object(M["q"])(A,["color","scale"]);var De=Object(M["q"])(A,{color:Object(M["k"])(ve),scale:Object(M["k"])(cn)});function Pe(t,e,n){var r={node:t};var i={};var a=e.getFill();if(a){i["color"]=a.getColor()}var o=e.getScale();if(o&&o!==1){i["scale"]=o}var s=n[n.length-1].node;var u=Re[s.namespaceURI];var l=Object(M["o"])(i,u);Object(M["u"])(r,De,M["b"],l,n,u)}var Ne=Object(M["q"])(A,["color","width"]);var Le=Object(M["q"])(A,{color:Object(M["k"])(ve),width:Object(M["k"])(f["l"])});function $e(t,e,n){var r={node:t};var i={color:e.getColor(),width:e.getWidth()};var a=n[n.length-1].node;var o=Ne[a.namespaceURI];var s=Object(M["o"])(i,o);Object(M["u"])(r,Le,M["b"],s,n,o)}var Fe={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"};var Ge=function t(e,n,r){if(e){var i=n[n.length-1].node;return Object(M["d"])(i.namespaceURI,Fe[e.getType()])}};var He=Object(M["p"])("Point");var Ue=Object(M["p"])("LineString");var We=Object(M["p"])("LinearRing");var Ye=Object(M["p"])("Polygon");var Ve=Object(M["q"])(A,{LineString:Object(M["k"])(en),Point:Object(M["k"])(en),Polygon:Object(M["k"])(on),GeometryCollection:Object(M["k"])(qe)});function qe(t,e,n){var r={node:t};var i=e.getType();var a;var o;if(i==m["a"].GEOMETRY_COLLECTION){a=e.getGeometries();o=Ge}else if(i==m["a"].MULTI_POINT){a=e.getPoints();o=He}else if(i==m["a"].MULTI_LINE_STRING){a=e.getLineStrings();o=Ue}else if(i==m["a"].MULTI_POLYGON){a=e.getPolygons();o=Ye}else{Object(v["a"])(false,39)}Object(M["u"])(r,Ve,o,a,n)}var ze=Object(M["q"])(A,{LinearRing:Object(M["k"])(en)});function Be(t,e,n){var r={node:t};Object(M["u"])(r,ze,We,[e],n)}var Ke=Object(M["q"])(A,{ExtendedData:Object(M["k"])(xe),MultiGeometry:Object(M["k"])(qe),LineString:Object(M["k"])(en),LinearRing:Object(M["k"])(en),Point:Object(M["k"])(en),Polygon:Object(M["k"])(on),Style:Object(M["k"])(dn),address:Object(M["k"])(f["n"]),description:Object(M["k"])(f["n"]),name:Object(M["k"])(f["n"]),open:Object(M["k"])(f["i"]),phoneNumber:Object(M["k"])(f["n"]),styleUrl:Object(M["k"])(f["n"]),visibility:Object(M["k"])(f["i"])});var Xe=Object(M["q"])(A,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]);var Ze=Object(M["p"])("ExtendedData");function Qe(t,e,n){var r={node:t};if(e.getId()){t.setAttribute("id",e.getId())}var i=e.getProperties();var a={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};a[e.getGeometryName()]=1;var o=Object.keys(i||{}).sort().filter(function(t){return!a[t]});if(o.length>0){var s=Object(M["o"])(i,o);var u={names:o,values:s};Object(M["u"])(r,Ke,Ze,[u],n)}var l=e.getStyleFunction();if(l){var c=l(e,0);if(c){var h=Array.isArray(c)?c[0]:c;if(this.writeStyles_){i["Style"]=h}var f=h.getText();if(f){i["name"]=f.getText()}}}var d=n[n.length-1].node;var p=Xe[d.namespaceURI];var v=Object(M["o"])(i,p);Object(M["u"])(r,Ke,M["b"],v,n,p);var g=n[0];var m=e.getGeometry();if(m){m=Object(y["b"])(m,true,g)}Object(M["u"])(r,Ke,Ge,[m],n)}var Je=Object(M["q"])(A,["extrude","tessellate","altitudeMode","coordinates"]);var tn=Object(M["q"])(A,{extrude:Object(M["k"])(f["i"]),tessellate:Object(M["k"])(f["i"]),altitudeMode:Object(M["k"])(f["n"]),coordinates:Object(M["k"])(ge)});function en(t,e,n){var r=e.getFlatCoordinates();var i={node:t};i["layout"]=e.getLayout();i["stride"]=e.getStride();var a=e.getProperties();a.coordinates=r;var o=n[n.length-1].node;var s=Je[o.namespaceURI];var u=Object(M["o"])(a,s);Object(M["u"])(i,tn,M["b"],u,n,s)}var nn=Object(M["q"])(A,{outerBoundaryIs:Object(M["k"])(Be),innerBoundaryIs:Object(M["k"])(Be)});var rn=Object(M["p"])("innerBoundaryIs");var an=Object(M["p"])("outerBoundaryIs");function on(t,e,n){var r=e.getLinearRings();var i=r.shift();var a={node:t};Object(M["u"])(a,nn,rn,r,n);Object(M["u"])(a,nn,an,[i],n)}var sn=Object(M["q"])(A,{color:Object(M["k"])(ve)});var un=Object(M["p"])("color");function ln(t,e,n){var r={node:t};Object(M["u"])(r,sn,un,[e.getColor()],n)}function cn(t,e){Object(f["l"])(t,Math.round(e*1e6)/1e6)}var hn=Object(M["q"])(A,["IconStyle","LabelStyle","LineStyle","PolyStyle"]);var fn=Object(M["q"])(A,{IconStyle:Object(M["k"])(Ie),LabelStyle:Object(M["k"])(Pe),LineStyle:Object(M["k"])($e),PolyStyle:Object(M["k"])(ln)});function dn(t,e,n){var r={node:t};var i={};var a=e.getFill();var o=e.getStroke();var s=e.getImage();var u=e.getText();if(s&&typeof s.getSrc==="function"){i["IconStyle"]=s}if(u){i["LabelStyle"]=u}if(o){i["LineStyle"]=o}if(a){i["PolyStyle"]=a}var l=n[n.length-1].node;var c=hn[l.namespaceURI];var h=Object(M["o"])(i,c);Object(M["u"])(r,fn,M["b"],h,n,c)}function pn(t,e){t.setAttribute("x",String(e.x));t.setAttribute("y",String(e.y));t.setAttribute("xunits",e.xunits);t.setAttribute("yunits",e.yunits)}e["a"]=st},function(t,e,n){"use strict";e["a"]={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var s=n(31);function r(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,o;for(o=0;o<r;o++){if(n&&t[o]!==e[o]||!n&&Object(s["a"])(t[o])!==Object(s["a"])(e[o])){a++}}return a+i}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});n.d(e,"a",function(){return a});var i=n(106);var r={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function a(t,e,n){var r=this._calendar[t]||this._calendar["sameElse"];return Object(i["a"])(r)?r.call(e,n):r}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function i(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];if(e||!n){return e}this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)});return this._longDateFormat[t]}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});var r="Invalid date";function i(){return this._invalidDate}},function(t,e,n){"use strict";var k=n(3);var I=n(14);var m=n(8);var y=10;var R=.25;var r=function t(e,n,r,i,a){this.sourceProj_=e;this.targetProj_=n;var o={};var s=Object(m["i"])(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];if(!o[e]){o[e]=s(t)}return o[e]};this.maxSourceExtent_=i;this.errorThresholdSquared_=a*a;this.triangles_=[];this.wrapsXInSource_=false;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(k["E"])(i)==Object(k["E"])(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(k["E"])(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?Object(k["E"])(this.targetProj_.getExtent()):null;var u=Object(k["C"])(r);var l=Object(k["D"])(r);var c=Object(k["w"])(r);var h=Object(k["v"])(r);var f=this.transformInv_(u);var d=this.transformInv_(l);var p=this.transformInv_(c);var v=this.transformInv_(h);this.addQuad_(u,l,c,h,f,d,p,v,y);if(this.wrapsXInSource_){var g=Infinity;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])});this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];if(e[0][0]-g>this.sourceWorldWidth_/2){e[0][0]-=this.sourceWorldWidth_}if(e[1][0]-g>this.sourceWorldWidth_/2){e[1][0]-=this.sourceWorldWidth_}if(e[2][0]-g>this.sourceWorldWidth_/2){e[2][0]-=this.sourceWorldWidth_}var n=Math.min(e[0][0],e[1][0],e[2][0]);var r=Math.max(e[0][0],e[1][0],e[2][0]);if(r-n<this.sourceWorldWidth_/2){t.source=e}}}.bind(this))}o={}};r.prototype.addTriangle_=function t(e,n,r,i,a,o){this.triangles_.push({source:[i,a,o],target:[e,n,r]})};r.prototype.addQuad_=function t(e,n,r,i,a,o,s,u,l){var c=Object(k["b"])([a,o,s,u]);var h=this.sourceWorldWidth_?Object(k["E"])(c)/this.sourceWorldWidth_:null;var f=this.sourceWorldWidth_;var d=this.sourceProj_.canWrapX()&&h>.5&&h<1;var p=false;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=Object(k["b"])([e,n,r,i]);var g=Object(k["E"])(v)/this.targetWorldWidth_;p=g>R||p}if(!d&&this.sourceProj_.isGlobal()&&h){p=h>R||p}}if(!p&&this.maxSourceExtent_){if(!Object(k["F"])(c,this.maxSourceExtent_)){return}}if(!p){if(!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(u[0])||!isFinite(u[1])){if(l>0){p=true}else{return}}}if(l>0){if(!p){var m=[(e[0]+r[0])/2,(e[1]+r[1])/2];var y=this.transformInv_(m);var _;if(d){var b=(Object(I["d"])(a[0],f)+Object(I["d"])(s[0],f))/2;_=b-Object(I["d"])(y[0],f)}else{_=(a[0]+s[0])/2-y[0]}var O=(a[1]+s[1])/2-y[1];var w=_*_+O*O;p=w>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var S=[(n[0]+r[0])/2,(n[1]+r[1])/2];var T=this.transformInv_(S);var x=[(i[0]+e[0])/2,(i[1]+e[1])/2];var E=this.transformInv_(x);this.addQuad_(e,n,S,x,a,o,T,E,l-1);this.addQuad_(x,S,r,i,E,T,s,u,l-1)}else{var C=[(e[0]+n[0])/2,(e[1]+n[1])/2];var M=this.transformInv_(C);var j=[(r[0]+i[0])/2,(r[1]+i[1])/2];var A=this.transformInv_(j);this.addQuad_(e,C,j,i,a,M,A,u,l-1);this.addQuad_(C,n,r,j,M,o,s,A,l-1)}return}}if(d){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=true}this.addTriangle_(e,r,i,a,s,u);this.addTriangle_(e,n,r,a,o,s)};r.prototype.calculateSourceExtent=function t(){var i=Object(k["j"])();this.triangles_.forEach(function(t,e,n){var r=t.source;Object(k["r"])(i,r[0]);Object(k["r"])(i,r[1]);Object(k["r"])(i,r[2])});return i};r.prototype.getTriangles=function t(){return this.triangles_};e["a"]=r},function(t,e,n){"use strict";var r=n(220);var s=n(32);var i=n(2);var a=n(11);var u=n(3);var o=function(o){function t(t,e,n,r,i,a){o.call(this,t,e,n,s["a"].IDLE);this.src_=r;this.image_=new Image;if(i!==null){this.image_.crossOrigin=i}this.imageListenerKeys_=null;this.state=s["a"].IDLE;this.imageLoadFunction_=a}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;t.prototype.getImage=function t(){return this.image_};t.prototype.handleImageError_=function t(){this.state=s["a"].ERROR;this.unlistenImage_();this.changed()};t.prototype.handleImageLoad_=function t(){if(this.resolution===undefined){this.resolution=Object(u["A"])(this.extent)/this.image_.height}this.state=s["a"].LOADED;this.unlistenImage_();this.changed()};t.prototype.load=function t(){if(this.state==s["a"].IDLE||this.state==s["a"].ERROR){this.state=s["a"].LOADING;this.changed();this.imageListenerKeys_=[Object(i["b"])(this.image_,a["a"].ERROR,this.handleImageError_,this),Object(i["b"])(this.image_,a["a"].LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};t.prototype.setImage=function t(e){this.image_=e};t.prototype.unlistenImage_=function t(){this.imageListenerKeys_.forEach(i["e"]);this.imageListenerKeys_=null};return t}(r["a"]);e["a"]=o},function(t,e,n){"use strict";var r=n(265);var i=n(157);var a=n(266);var o=n(268);var s=n(270);var u=n(271);var l=angular.module("ngeoDrawModule",[i["a"].module.name,r["a"].name,a["a"].name,o["a"].name,s["a"].name,u["a"].name]);e["a"]=l},function(t,e,n){"use strict";var r=n(157);var i=n(268);var a=n(270);var o=n(271);var s=n(272);var u=n(273);var l=n(274);var c=angular.module("ngeoDrawfeature",[r["a"].module.name,i["a"].name,a["a"].name,o["a"].name,s["a"].name,u["a"].name,l["a"].name]);c.directive_=function(){return{controller:"ngeoDrawfeatureController as dfCtrl",scope:true,bindToController:{active:"=ngeoDrawfeatureActive",features:"=?ngeoDrawfeatureFeatures",map:"=ngeoDrawfeatureMap",showMeasure:"=?ngeoDrawfeatureShowmeasure"}}};c.directive("ngeoDrawfeature",c.directive_);e["a"]=c},function(t,e,n){"use strict";var r=n(39);var i=angular.module("ngeoFeatures",[]);i.value("ngeoFeatures",new r["a"]);e["a"]=i},function(t,e,n){"use strict";var r=n(253);var i=n(107);var a=function(e){function t(t){e.call(this,t)}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.expireCache=function t(e){while(this.canExpireCache()){var n=this.peekLast();var r=n.tileCoord[0].toString();if(r in e&&e[r].contains(n.tileCoord)){break}else{this.pop().dispose()}}};t.prototype.pruneExceptNewestZ=function t(){if(this.getCount()===0){return}var e=this.peekFirstKey();var n=Object(i["b"])(e);var r=n[0];this.forEach(function(t){if(t.tileCoord[0]!==r){this.remove(Object(i["c"])(t.tileCoord));t.dispose()}},this)};return t}(r["a"]);e["a"]=a},function(t,e,n){"use strict";var o=n(21);var s=n(2);var u=n(70);var r=angular.module("ngeoDrawpoint",[]);r.directive_=function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,n,r,i){var a=new u["a"]({type:"Point"});i.registerInteraction(a);i.drawPoint=a;s["a"](a,"drawend",i.handleDrawEnd.bind(i,o["a"].POINT),i);s["a"](a,"change:active",i.handleActiveChange,i)}}};r.directive("ngeoDrawpoint",r.directive_);e["a"]=r},function(t,e,n){"use strict";var r=n(232);var i=function(a){function t(t,e,n,r,i){a.call(this,t,e,i);this.originalEvent=n;this.pixel=e.getEventPixel(n);this.coordinate=e.getCoordinateFromPixel(this.pixel);this.dragging=r!==undefined?r:false}if(a)t.__proto__=a;t.prototype=Object.create(a&&a.prototype);t.prototype.constructor=t;t.prototype.preventDefault=function t(){a.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};t.prototype.stopPropagation=function t(){a.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return t}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var o=n(21);var s=n(2);var u=n(70);var l=n(26);var r=angular.module("ngeoDrawrectangle",[]);r.directive_=function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,n,r,i){var a=new u["a"]({type:"LineString",geometryFunction:function t(e,n){if(!n){n=new l["b"]([])}var r=e[0];var i=e[1];n.setCoordinates([[r,[r[0],i[1]],i,[i[0],r[1]],r]]);return n},maxPoints:2});i.registerInteraction(a);i.drawRectangle=a;s["a"](a,"drawend",i.handleDrawEnd.bind(i,o["a"].RECTANGLE),i);s["a"](a,"change:active",i.handleActiveChange,i)}}};r.directive("ngeoDrawrectangle",r.directive_);e["a"]=r},function(t,e,n){"use strict";var o=n(21);var s=n(2);var u=n(70);var r=angular.module("ngeoDrawtext",[]);r.directive_=function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,n,r,i){var a=new u["a"]({type:"Point"});i.registerInteraction(a);i.drawText=a;s["a"](a,"drawend",i.handleDrawEnd.bind(i,o["a"].TEXT),i);s["a"](a,"change:active",i.handleActiveChange,i)}}};r.directive("ngeoDrawtext",r.directive_);e["a"]=r},function(t,e,n){"use strict";var r=n(157);var f=n(21);var d=n(200);var p=n(2);var v=n(16);var i=angular.module("ngeoMeasurearea",[r["a"].module.name]);i.directive_=function(u,l,c,h){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,n,r,i){var a=l.getString("Click to start drawing polygon");var o=l.getString("Click to continue drawing<br>"+"Double-click or click starting point to finish");var s=new d["a"](c("ngeoUnitPrefix"),l,{style:new v["c"],startMsg:u("<div translate>"+a+"</div>")(e)[0],continueMsg:u("<div translate>"+o+"</div>")(e)[0],precision:h.has("ngeoMeasurePrecision")?h.get("ngeoMeasurePrecision"):undefined});i.registerInteraction(s);i.measureArea=s;p["a"](s,"measureend",i.handleDrawEnd.bind(i,f["a"].POLYGON),i);p["a"](s,"change:active",i.handleActiveChange,i)}}};i.directive_.$inject=["$compile","gettextCatalog","$filter","$injector"];i.directive("ngeoMeasurearea",i.directive_);e["a"]=i},function(t,e,n){"use strict";var r=n(157);var i=n(104);var f=n(21);var d=n(169);var p=n(2);var v=n(15);var g=n(26);var m=n(16);var a=angular.module("ngeoMeasureazimut",[r["a"].module.name,i["a"].name]);a.directive_=function(u,l,c,h){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,n,r,a){var i=l.getString("Click to start drawing circle");var o=l.getString("Click to finish");var s=new d["a"](c("ngeoUnitPrefix"),c("number"),{style:new m["c"],startMsg:u("<div translate>"+i+"</div>")(e)[0],continueMsg:u("<div translate>"+o+"</div>")(e)[0],precision:h.has("ngeoMeasurePrecision")?h.get("ngeoMeasurePrecision"):undefined,decimals:h.has("ngeoMeasureDecimals")?h.get("ngeoMeasureDecimals"):undefined});a.registerInteraction(s);a.measureAzimut=s;p["a"](s,"measureend",function(t){var e=t.detail.feature.getGeometry();var n=e.getGeometries()[1];var r=Object(g["c"])(n,64);t.detail.feature=new v["a"](r);var i=d["a"].getAzimut(e.getGeometries()[0]);t.detail.feature.set("azimut",i);a.handleDrawEnd(f["a"].CIRCLE,t)},a);p["a"](s,"change:active",a.handleActiveChange,a)}}};a.directive_.$inject=["$compile","gettextCatalog","$filter","$injector"];a.directive("ngeoMeasureazimut",a.directive_);e["a"]=a},function(t,e,n){"use strict";var r=n(157);var i=n(104);var f=n(21);var d=n(201);var p=n(2);var v=n(16);var a=angular.module("ngeoMeasurelength",[r["a"].module.name,i["a"].name]);a.directive_=function(u,l,c,h){return{restrict:"A",require:"^^ngeoDrawfeature",link:function t(e,n,r,i){var a=l.getString("Click to start drawing line");var o=l.getString("Click to continue drawing<br>"+"Double-click or click last point to finish");var s=new d["a"](c("ngeoUnitPrefix"),l,{style:new v["c"],startMsg:u("<div translate>"+a+"</div>")(e)[0],continueMsg:u("<div translate>"+o+"</div>")(e)[0],precision:h.has("ngeoMeasurePrecision")?h.get("ngeoMeasurePrecision"):undefined});i.registerInteraction(s);i.measureLength=s;p["a"](s,"measureend",i.handleDrawEnd.bind(i,f["a"].LINE_STRING),i);p["a"](s,"change:active",i.handleActiveChange,i)}}};a.directive_.$inject=["$compile","gettextCatalog","$filter","$injector"];a.directive("ngeoMeasurelength",a.directive_);e["a"]=a},function(t,e,n){"use strict";var r=n(5);var i=n(2);var a=n(221);var o=n(276);var s=angular.module("ngeoAttributes",[o["a"].name,a["a"].module.name]);s.run(["$templateCache",function(t){t.put("ngeo/editing/attributescomponent",n(359))}]);s.value("ngeoAttributesTemplateUrl",function(t){var e=t["ngeoAttributesTemplateUrl"];return e!==undefined?e:"ngeo/editing/attributescomponent"});u.$inject=["$attrs","ngeoAttributesTemplateUrl"];function u(t,e){return e(t)}s.component_={controller:"ngeoAttributesController as attrCtrl",bindings:{attributes:"=ngeoAttributesAttributes",disabled:"<ngeoAttributesDisabled",feature:"=ngeoAttributesFeature"},require:{form:"^"},templateUrl:u};s.component("ngeoAttributes",s.component_);s.Controller_=function(t,e){this.attributes;this.disabled=false;this.feature;this.properties;this.scope_=t;this.ngeoEventHelper_=e;this.updating_=false};s.Controller_.$inject=["$scope","ngeoEventHelper"];s.Controller_.prototype.$onInit=function(){this.properties=this.feature.getProperties();var t=r["c"](this);this.ngeoEventHelper_.addListenerKey(t,i["a"](this.feature,"propertychange",this.handleFeaturePropertyChange_,this))};s.Controller_.prototype.handleInputChange=function(t){this.updating_=true;var e=this.properties[t];this.feature.set(t,e);this.updating_=false};s.Controller_.prototype.$onDestroy=function(){var t=r["c"](this);this.ngeoEventHelper_.clearListenerKey(t)};s.Controller_.prototype.handleFeaturePropertyChange_=function(t){if(this.updating_){return}this.properties[t.key]=t.target.get(t.key);this.scope_.$apply()};s.controller("ngeoAttributesController",s.Controller_);e["a"]=s},function(t,s,u){"use strict";(function(e){var n=u(328);var t=u(356);var r=u.n(t);var i=u(358);var a=u.n(i);var o=angular.module("ngeoDateTimePicker",["gettext"]);o.component_=function(){return{restrict:"A",controller:o.Controller_,bindToController:true,scope:{options:"<ngeoDatetimepickerOptions"}}};o.directive("ngeoDatetimepicker",o.component_);o.Controller_=function(t,e){this.element_=t;this.gettextCatalog_=e;this.options};o.Controller_.$inject=["$element","gettextCatalog"];o.Controller_.prototype.$onInit=function(){var t=this.gettextCatalog_.getCurrentLanguage();e.datetimepicker.setLocale(t);e.datetimepicker.setDateFormatter(new n["a"]);if(typeof this.options==="string"){this.options=angular.fromJson(this.options)}this.element_.datetimepicker(this.options)};o.controller("ngeoDateTimePickerController",o.Controller_);s["a"]=o}).call(this,u(35))},function(t,e,n){"use strict";var s=n(1);var r=n(104);var u=n(21);var l=n(200);var c=n(201);var i=n(221);var a=n(101);var h=n(5);var o=n(39);var f=n(2);var d=n(15);var p=n(70);var v=n(16);var g=angular.module("ngeoCreatefeature",[i["a"].module.name,r["a"].name]);g.directive_=function(){return{controller:"ngeoCreatefeatureController",bindToController:true,scope:{active:"=ngeoCreatefeatureActive",features:"=ngeoCreatefeatureFeatures",geomType:"=ngeoCreatefeatureGeomType",map:"=ngeoCreatefeatureMap"}}};g.directive("ngeoCreatefeature",g.directive_);g.Controller_=function(t,e,n,r,i,a){var o=this;this.active;this.features;this.geomType;this.map;this.gettextCatalog_=t;this.compile_=e;this.filter_=n;this.scope_=r;this.timeout_=i;this.ngeoEventHelper_=a;this.interaction_;r.$watch(function(){return o.active},function(t){o.interaction_.setActive(t)})};g.Controller_.$inject=["gettextCatalog","$compile","$filter","$scope","$timeout","ngeoEventHelper"];g.Controller_.prototype.$onInit=function(){this.active=this.active===true;var t=this.gettextCatalog_;var e;if(this.geomType===u["a"].POINT||this.geomType===u["a"].MULTI_POINT){e=new p["a"]({type:"Point"})}else if(this.geomType===u["a"].LINE_STRING||this.geomType===u["a"].MULTI_LINE_STRING){var n=t.getString("Click to start drawing length");var r=t.getString("Click to continue drawing<br/>"+"Double-click or click last point to finish");e=new c["a"](this.filter_("ngeoUnitPrefix"),t,{style:new v["c"],startMsg:this.compile_("<div translate>"+n+"</div>")(this.scope_)[0],continueMsg:this.compile_("<div translate>"+r+"</div>")(this.scope_)[0]})}else if(this.geomType===u["a"].POLYGON||this.geomType===u["a"].MULTI_POLYGON){var i=t.getString("Click to start drawing area");var a=t.getString("Click to continue drawing<br/>"+"Double-click or click starting point to finish");e=new l["a"](this.filter_("ngeoUnitPrefix"),t,{style:new v["c"],startMsg:this.compile_("<div translate>"+i+"</div>")(this.scope_)[0],continueMsg:this.compile_("<div translate>"+a+"</div>")(this.scope_)[0]})}s["a"].assert(e);e.setActive(this.active);this.interaction_=e;this.map.addInteraction(e);var o=h["c"](this);if(e instanceof p["a"]){this.ngeoEventHelper_.addListenerKey(o,f["a"](e,"drawend",this.handleDrawEnd_,this))}else if(e instanceof c["a"]||e instanceof l["a"]){this.ngeoEventHelper_.addListenerKey(o,f["a"](e,"measureend",this.handleDrawEnd_,this))}};g.Controller_.prototype.handleDrawEnd_=function(t){var e;if(t.feature){e=t.feature}else{e=t.detail.feature}s["a"].assert(e);var n=e.getGeometry();var r=n.getType();if(this.geomType.indexOf("Multi")!=r.indexOf("Multi")){n=a["a"].toMulti(n)}var i=new d["a"](n);if(this.features instanceof o["a"]){this.features.push(i)}else{this.features.addFeature(i)}};g.Controller_.prototype.$onDestroy=function(){var e=this;this.timeout_(function(){var t=h["c"](e);e.ngeoEventHelper_.clearListenerKey(t);e.interaction_.setActive(false);e.map.removeInteraction(e.interaction_)},0)};g.controller("ngeoCreatefeatureController",g.Controller_);e["a"]=g},function(t,e,n){"use strict";var r=n(1);var i=n(95);var u=n(59);var a=n(178);var l=n(169);var w=n(5);var o=n(15);var s=n(149);var S=n(44);var c=n(2);var T=n(3);var h=n(142);var f=n(38);var d=n(27);var p=n(26);var v=n(54);var g=n(41);var m=n(36);var y=n(198);var _=function t(e){var n=this;r["a"].assert(e.features);v["b"].call(this,{handleDownEvent:t.handleDownEvent_,handleDragEvent:t.handleDragEvent_,handleEvent:t.handleEvent,handleUpEvent:t.handleUpEvent_});this.vertexFeature_=null;this.lastPixel_=[0,0];this.modified_=false;this.rBush_=new y["a"];this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=null;this.overlay_=new g["a"]({source:new m["a"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style||a["a"].getDefaultModifyStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.features_=e.features;this.features_.forEach(function(t){return n.addFeature_(t)});c["a"](this.features_,"add",this.handleFeatureAdd_,this);c["a"](this.features_,"remove",this.handleFeatureRemove_,this)};w["d"](_,v["b"]);_.prototype.addFeature_=function(t){if(t.getGeometry().getType()==="Polygon"&&!!t.get(u["a"].IS_CIRCLE)){var e=t.getGeometry();this.writeCircleGeometry_(t,e);var n=this.getMap();if(n){this.handlePointerAtPixel_(this.lastPixel_,n)}}};_.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;var e=new i["a"]("modifystart",{features:this.features_});this.dispatchEvent(e)}};_.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};_.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_;var n=[];t.forEach(function(t){if(e===t.feature){n.push(t)}});for(var r=n.length-1;r>=0;--r){t.remove(n[r])}};_.prototype.setMap=function(t){this.overlay_.setMap(t);v["b"].prototype.setMap.call(this,t)};_.prototype.handleFeatureAdd_=function(t){var e=t.element;r["a"].assertInstanceof(e,o["a"],"feature should be an ol.Feature");this.addFeature_(e)};_.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};_.prototype.writeCircleGeometry_=function(t,e){var n=e.getCoordinates();var r,i,a,o,s,u,l;for(o=0,s=n.length;o<s;++o){r=n[o];for(i=0,a=r.length-1;i<a;++i){u=r.slice(i,i+2);l={feature:t,geometry:e,depth:[o],index:i,segment:u};this.rBush_.insert(T["b"](u),l)}}};_.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;if(!e){e=new o["a"](new d["a"](t));this.vertexFeature_=e;this.overlay_.getSource().addFeature(e)}else{var n=e.getGeometry();n.setCoordinates(t)}return e};_.compareIndexes_=function(t,e){return t.index-e.index};_.handleDownEvent_=function(t){this.handlePointerAtPixel_(t.pixel,t.map);this.dragSegments_=[];this.modified_=false;var e=this.vertexFeature_;if(e){var n=e.getGeometry();var r=n.getCoordinates();var i=T["b"]([r]);var a=this.rBush_.getInExtent(i);var o={};a.sort(_.compareIndexes_);for(var s=0,u=a.length;s<u;++s){var l=a[s];var c=l.segment;var h=w["c"](l.feature);var f=l.depth;if(f){h+="-"+f.join("-")}if(!o[h]){o[h]=new Array(2)}if(S["d"](c[0],r)&&!o[h][0]){this.dragSegments_.push([l,0]);o[h][0]=l}else if(S["d"](c[1],r)&&!o[h][1]){this.dragSegments_.push([l,1]);o[h][1]=l}}}return!!this.vertexFeature_};_.handleDragEvent_=function(t){this.willModifyFeatures_(t);var e=t.coordinate;var n=this.dragSegments_[0][0].geometry;var r=T["x"](n.getExtent());var i=new f["a"]([r,e]);var a=new h["a"](r,i.getLength());var o=Object(p["c"])(a,64).getCoordinates();this.setGeometryCoordinates_(n,o);var s=l["a"].getAzimut(i);this.features_.getArray()[0].set(u["a"].AZIMUT,s);this.createOrUpdateVertexFeature_(e)};_.handleUpEvent_=function(t){this.rBush_.clear();this.writeCircleGeometry_(this.dragSegments_[0][0].feature,this.dragSegments_[0][0].geometry);if(this.modified_){var e=new i["a"]("modifyend",{features:this.features_});this.dispatchEvent(e);this.modified_=false}return false};_.handleEvent=function(t){if(!(t instanceof s["a"])){return true}var e;if(!t.map.getView().getInteracting()&&t.type=="pointermove"&&!this.handlingDownUpSequence){this.handlePointerMove_(t)}return v["b"].prototype.handleEvent.call(this,t)&&!e};_.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel;this.handlePointerAtPixel_(t.pixel,t.map)};_.prototype.handlePointerAtPixel_=function(t,e){var r=e.getCoordinateFromPixel(t);var n=function t(e,n){return S["h"](r,e.segment)-S["h"](r,n.segment)};var i=e.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]);var a=e.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]);var o=T["b"]([i,a]);var s=this.rBush_;var u=s.getInExtent(o);if(u.length>0){u.sort(n);var l=u[0];var c=l.segment;var h=S["b"](r,c);var f=e.getPixelFromCoordinate(h);if(Math.sqrt(S["g"](t,f))<=this.pixelTolerance_){var d=e.getPixelFromCoordinate(c[0]);var p=e.getPixelFromCoordinate(c[1]);var v=S["g"](f,d);var g=S["g"](f,p);var m=Math.sqrt(Math.min(v,g));this.snappedToVertex_=m<=this.pixelTolerance_;if(this.snappedToVertex_){h=v>g?c[1]:c[0];this.createOrUpdateVertexFeature_(h);var y={};y[w["c"](c)]=true;var _;for(var b=1,O=u.length;b<O;++b){_=u[b].segment;if(S["d"](c[0],_[0])&&S["d"](c[1],_[1])||S["d"](c[0],_[1])&&S["d"](c[1],_[0])){y[w["c"](_)]=true}else{break}}return}}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};_.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=true;t.setCoordinates(e);this.changingFeature_=false};e["a"]=_},function(t,e,n){"use strict";var m=n(1);var r=n(178);var i=n(95);var h=n(5);var y=n(15);var a=n(2);var _=n(27);var g=n(26);var o=n(54);var s=n(41);var u=n(36);var l=function t(e){var n=this;m["a"].assert(e.features);o["b"].call(this,{handleDownEvent:this.handleDown_,handleDragEvent:this.handleDrag_,handleUpEvent:this.handleUp_});this.modified_=false;this.vectorPoints_=new s["a"]({source:new u["a"]({wrapX:!!e.wrapX}),visible:this.getActive(),style:e.style||r["a"].getDefaultModifyStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.features_=e.features;this.feature_=null;this.cache_={};this.params_=null;a["a"](this.features_,"add",this.handleFeatureAdd_,this);a["a"](this.features_,"remove",this.handleFeatureRemove_,this);this.features_.forEach(function(t){n.addFeature_(t)})};h["d"](l,o["b"]);l.prototype.setActive=function(t){o["b"].prototype.setActive.call(this,t);if(this.vectorPoints_){this.vectorPoints_.setVisible(t)}};l.prototype.addFeature_=function(e){var t=e.getGeometry();if(t instanceof g["b"]){var n=h["c"](e);var r=this.cache_[n];if(r){return}var i=this.vectorPoints_.getSource();var a=t.getCoordinates()[0];while(a.length>4){if(a[0][0]<a[1][0]&&a[0][1]<=a[1][1]){a.pop()}else{a.shift()}}var o=[];var s;var u;a.forEach(function(t){s=new _["a"](t);u=new y["a"]({corner:true,geometry:s,siblingX:null,siblingY:null,boxFeature:e});o.push(u)},this);r={corners:o};this.cache_[n]=r;var l;var c;o.forEach(function(t,e){l=o[e-1];if(!l){l=o[o.length-1]}c=o[e+1];if(!c){c=o[0]}if(e%2===0){t.set("siblingX",c);t.set("siblingY",l)}else{t.set("siblingX",l);t.set("siblingY",c)}},this);i.addFeatures(o)}};l.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;var e=new i["a"]("modifystart",{features:this.features_});this.dispatchEvent(e);this.params_=this.initializeParams_()}};l.prototype.initializeParams_=function(){var t=this.feature_;var e=t.get("siblingX");m["a"].assertInstanceof(e,y["a"]);var n=e.get("siblingY");m["a"].assertInstanceof(n,y["a"]);var r=n.getGeometry();m["a"].assertInstanceof(r,_["a"]);var i=r.getCoordinates();var a=this.getMap().getPixelFromCoordinate(i);var o=n.get("siblingX");m["a"].assertInstanceof(o,y["a"]);var s=o.getGeometry();m["a"].assertInstanceof(s,_["a"]);var u=s.getCoordinates();var l=this.getMap().getPixelFromCoordinate(u);var c=[l[0]-a[0],l[1]-a[1]];var h=Math.sqrt(c[0]*c[0]+c[1]*c[1]);c[0]/=h;c[1]/=h;var f=e.getGeometry();m["a"].assertInstanceof(f,_["a"]);var d=f.getCoordinates();var p=this.getMap().getPixelFromCoordinate(d);var v=[p[0]-a[0],p[1]-a[1]];var g=Math.sqrt(v[0]*v[0]+v[1]*v[1]);v[0]/=g;v[1]/=g;if(isNaN(c[0])&&isNaN(v[0])){c=[0,1];v=[1,0]}else if(isNaN(c[0])){c=[v[1],-v[0]]}else if(isNaN(v[0])){v=[c[1],-c[0]]}return{originCoordinate:i,originPixel:a,siblingXPoint:s,siblingYPoint:f,vectorX:c,vectorY:v}};l.prototype.removeFeature_=function(t){var e=h["c"](t);var n=this.cache_[e];var r=n.corners;for(var i=0;i<r.length;i++){this.vectorPoints_.getSource().removeFeature(r[i])}this.feature_=null;r.length=0;delete this.cache_[e]};l.prototype.setMap=function(t){this.vectorPoints_.setMap(t);o["b"].prototype.setMap.call(this,t)};l.prototype.handleFeatureAdd_=function(t){var e=t.element;m["a"].assertInstanceof(e,y["a"],"feature should be an ol.Feature");this.addFeature_(e)};l.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};l.prototype.handleDown_=function(t){var e=t.map;var n=e.forEachFeatureAtPixel(t.pixel,function(t){return t.get("siblingX")&&t.get("siblingY")?t:undefined});if(n){this.feature_=n;return true}return false};l.prototype.handleDrag_=function(t){this.willModifyFeatures_(t);var e=this.feature_;var n=e.getGeometry();if(n instanceof _["a"]){n.setCoordinates(t.coordinate);var r=t.pixel;var i=this.params_.originPixel;var a=this.params_.siblingXPoint;var o=this.params_.siblingYPoint;var s=this.params_.vectorX;var u=this.params_.vectorY;var l=this.params_.originCoordinate;var c=this.calculateNewPixel_(i,r,s);var h=this.getMap().getCoordinateFromPixel(c);a.setCoordinates(h);var f=this.calculateNewPixel_(i,r,u);var d=this.getMap().getCoordinateFromPixel(f);o.setCoordinates(d);var p=e.get("boxFeature");var v=p.getGeometry();m["a"].assertInstanceof(v,g["b"]);v.setCoordinates([[t.coordinate,h,l,d,t.coordinate]])}};l.prototype.calculateNewPixel_=function(t,e,n){var r=[e[0]-t[0],e[1]-t[1]];var i=r[0]*n[0]+r[1]*n[1];var a=[n[0]*i,n[1]*i];return[a[0]+t[0],a[1]+t[1]]};l.prototype.handleUp_=function(t){if(this.modified_){var e=new i["a"]("modifyend",{features:this.features_});this.dispatchEvent(e);this.params_=null;this.modified_=false}return false};l.CacheItem;l.ModifyParams;e["a"]=l},function(t,e,n){"use strict";var a=n(1);var r=n(178);var i=n(95);var o=n(5);var s=n(3);var u=n(15);var l=n(2);var c=n(54);var h=n(118);var f=n(27);var d=n(38);var p=n(26);var v=n(41);var g=n(36);var m=function t(e){a["a"].assert(e.features);this.listenerKeys_=[];this.modified_=false;this.keyPressListenerKey_=null;this.changingFeature_=false;this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.features_=e.features;this.feature_=null;this.coordinate_=null;this.centerCoordinate_=null;this.overlay_=new v["a"]({source:new g["a"]({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style||r["a"].getDefaultModifyStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.centerFeatures_={};c["b"].call(this,{handleDownEvent:this.handleDown_,handleDragEvent:this.handleDrag_,handleUpEvent:this.handleUp_})};o["d"](m,c["b"]);m.prototype.setActive=function(t){var e=this;if(this.keyPressListenerKey_){l["e"](this.keyPressListenerKey_);this.keyPressListenerKey_=null}c["b"].prototype.setActive.call(this,t);if(t){this.keyPressListenerKey_=l["a"](document,"keyup",this.handleKeyUp_,this);this.features_.forEach(function(t){return e.addFeature_(t)});this.listenerKeys_.push(l["a"](this.features_,"add",this.handleFeatureAdd_,this),l["a"](this.features_,"remove",this.handleFeatureRemove_,this))}else{this.listenerKeys_.forEach(l["e"]);this.listenerKeys_.length=0;this.features_.forEach(function(t){return e.removeFeature_(t)})}};m.prototype.addFeature_=function(t){var e=t.getGeometry();a["a"].assertInstanceof(e,h["a"]);t.set("angle",0);var n=o["c"](t);var r=new f["a"](this.getCenterCoordinate_(e));var i=new u["a"](r);this.centerFeatures_[n]=i;this.overlay_.getSource().addFeature(i)};m.prototype.willModifyFeatures_=function(t){if(!this.modified_){this.modified_=true;var e=new i["a"]("modifystart",{features:this.features_});this.dispatchEvent(e)}};m.prototype.removeFeature_=function(t){this.feature_=null;if(t){var e=o["c"](t);if(this.centerFeatures_[e]){this.overlay_.getSource().removeFeature(this.centerFeatures_[e]);delete this.centerFeatures_[e]}}};m.prototype.setMap=function(t){this.overlay_.setMap(t);c["b"].prototype.setMap.call(this,t)};m.prototype.handleFeatureAdd_=function(t){var e=t.element;a["a"].assertInstanceof(e,u["a"],"feature should be an ol.Feature");this.addFeature_(e)};m.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)};m.prototype.handleDown_=function(t){var e=t.map;var n=e.forEachFeatureAtPixel(t.pixel,function(t,e){return t},undefined);if(n){var r=false;this.features_.forEach(function(t){if(o["c"](t)==o["c"](n)){r=true}});if(!r){n=null}}if(n){this.coordinate_=t.coordinate;this.feature_=n;var i=this.feature_.getGeometry();if(i!==undefined){this.centerCoordinate_=this.getCenterCoordinate_(i)}return true}return false};m.prototype.getCenterCoordinate_=function(t){var e;if(t instanceof d["a"]){e=t.getFlatMidpoint()}else if(t instanceof p["b"]){e=t.getFlatInteriorPoint()}else{var n=t.getExtent();e=s["x"](n)}return e};m.prototype.handleDrag_=function(t){this.willModifyFeatures_(t);var e=this.feature_.getGeometry();var n=this.coordinate_[0];var r=this.coordinate_[1];var i=this.centerCoordinate_[0];var a=this.centerCoordinate_[1];var o=n-i;var s=r-a;var u=t.coordinate[0]-i;var l=t.coordinate[1]-a;this.coordinate_[0]=t.coordinate[0];this.coordinate_[1]=t.coordinate[1];var c=Math.atan2(l,u);var h=Math.atan2(s,o);var f=h-c;e.rotate(-f,[i,a])};m.prototype.handleUp_=function(t){if(this.modified_){var e=new i["a"]("rotateend",{feature:this.feature_});this.dispatchEvent(e);this.modified_=false;this.setActive(false)}return false};m.prototype.handleKeyUp_=function(t){if(t.keyCode===27){this.setActive(false)}};e["a"]=m},function(t,e,n){"use strict";var b=n(60);var O=n(14);var w=function t(){this.extentHalfHorizontalDistance_;this.extentHalfVerticalDistance_};w.INCHES_PER_METER_=39.37;w.DOTS_PER_INCH_=72;w.prototype.createPrintMaskPostcompose=function(g,m,y){var _=this;return function(t){var e=t.context;var n=t.frameState;var r=n.viewState.resolution;var i=n.size[0]*n.pixelRatio;var a=n.size[1]*n.pixelRatio;var o=[i/2,a/2];var s=g();var u=s[1]*b["b"];var l=s[0]*b["b"];var c=m(n);var h=w.DOTS_PER_INCH_;var f=w.INCHES_PER_METER_;var d=l/h/f*c/r/2;_.extentHalfHorizontalDistance_=s[0]/h/f*c/2;var p=u/h/f*c/r/2;_.extentHalfVerticalDistance_=s[1]/h/f*c/2;e.beginPath();e.moveTo(0,0);e.lineTo(i,0);e.lineTo(i,a);e.lineTo(0,a);e.lineTo(0,0);e.closePath();if(!y){_.drawPrintZone_(e,o,d,p)}else{var v=O["i"](y());_.drawPrintZoneWithRotation_(e,o,d,p,v)}e.fillStyle="rgba(0, 5, 25, 0.5)";e.fill()}};w.prototype.drawPrintZone_=function(t,e,n,r){var i=e[0]-n;var a=e[1]-r;var o=e[0]+n;var s=e[1]+r;t.moveTo(i,a);t.lineTo(i,s);t.lineTo(o,s);t.lineTo(o,a);t.lineTo(i,a);t.closePath()};w.prototype.drawPrintZoneWithRotation_=function(t,e,n,r,i){var a=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));var o=Math.atan(r/n)-i;var s=Math.atan(n/r)-i;var u=e[0]-Math.cos(o)*a;var l=e[1]+Math.sin(o)*a;var c=e[0]+Math.sin(s)*a;var h=e[1]+Math.cos(s)*a;var f=e[0]+Math.cos(o)*a;var d=e[1]-Math.sin(o)*a;var p=e[0]-Math.sin(s)*a;var v=e[1]-Math.cos(s)*a;t.moveTo(u,l);t.lineTo(c,h);t.lineTo(f,d);t.lineTo(p,v);t.lineTo(u,l);t.closePath()};w.prototype.getOptimalScale=function(t,e,n,r){var i=t[0]*e;var a=t[1]*e;var o=i*w.INCHES_PER_METER_*w.DOTS_PER_INCH_/n[0];var s=a*w.INCHES_PER_METER_*w.DOTS_PER_INCH_/n[1];var u=Math.min(o,s);var l=-1;for(var c=0,h=r.length;c<h;++c){if(u>r[c]){l=r[c]}}return l};w.prototype.getOptimalResolution=function(t,e,n){var r=w.DOTS_PER_INCH_*w.INCHES_PER_METER_;var i=e[0]*n/(r*t[0]);var a=e[1]*n/(r*t[1]);var o=Math.max(i,a);return o};w.prototype.getBottomLeftCorner=function(t){return[t[0]-this.extentHalfHorizontalDistance_,t[1]-this.extentHalfVerticalDistance_]};w.prototype.getBottomRightCorner=function(t){return[t[0]+this.extentHalfHorizontalDistance_,t[1]-this.extentHalfVerticalDistance_]};w.prototype.getUpLeftCorner=function(t){return[t[0]-this.extentHalfHorizontalDistance_,t[1]+this.extentHalfVerticalDistance_]};w.prototype.getUpRightCorner=function(t){return[t[0]+this.extentHalfHorizontalDistance_,t[1]+this.extentHalfVerticalDistance_]};w.module=angular.module("ngeoPrintUtils",[]);w.module.service("ngeoPrintUtils",w);e["a"]=w},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n;n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e){n[r]=e[r]}return n}function l(){}var r=.7;var i=1/r;var a="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,c=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,o]+"\\)$"),v=new RegExp("^hsl\\("+[o,s,s]+"\\)$"),g=new RegExp("^hsla\\("+[o,s,s,o]+"\\)$");var m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(l,y,{displayable:function t(){return this.rgb().displayable()},hex:function t(){return this.rgb().hex()},toString:function t(){return this.rgb()+""}});function y(t){var e;t=(t+"").trim().toLowerCase();return(e=u.exec(t))?(e=parseInt(e[1],16),new S(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1)):(e=c.exec(t))?_(parseInt(e[1],16)):(e=h.exec(t))?new S(e[1],e[2],e[3],1):(e=f.exec(t))?new S(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=d.exec(t))?b(e[1],e[2],e[3],e[4]):(e=p.exec(t))?b(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=v.exec(t))?x(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?x(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?_(m[t]):t==="transparent"?new S(NaN,NaN,NaN,0):null}function _(t){return new S(t>>16&255,t>>8&255,t&255,1)}function b(t,e,n,r){if(r<=0)t=e=n=NaN;return new S(t,e,n,r)}function O(t){if(!(t instanceof l))t=y(t);if(!t)return new S;t=t.rgb();return new S(t.r,t.g,t.b,t.opacity)}function w(t,e,n,r){return arguments.length===1?O(t):new S(t,e,n,r==null?1:r)}function S(t,e,n,r){this.r=+t;this.g=+e;this.b=+n;this.opacity=+r}e(S,w,n(l,{brighter:function t(e){e=e==null?i:Math.pow(i,e);return new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function t(e){e=e==null?r:Math.pow(r,e);return new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function t(){return this},displayable:function t(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function t(){return"#"+T(this.r)+T(this.g)+T(this.b)},toString:function t(){var e=this.opacity;e=isNaN(e)?1:Math.max(0,Math.min(1,e));return(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}}));function T(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(t<16?"0":"")+t.toString(16)}function x(t,e,n,r){if(r<=0)t=e=n=NaN;else if(n<=0||n>=1)t=e=NaN;else if(e<=0)t=NaN;return new M(t,e,n,r)}function E(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(!(t instanceof l))t=y(t);if(!t)return new M;if(t instanceof M)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;if(s){if(e===a)o=(n-r)/s+(n<r)*6;else if(n===a)o=(r-e)/s+2;else o=(e-n)/s+4;s/=u<.5?a+i:2-a-i;o*=60}else{s=u>0&&u<1?0:o}return new M(o,s,u,t.opacity)}function C(t,e,n,r){return arguments.length===1?E(t):new M(t,e,n,r==null?1:r)}function M(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}e(M,C,n(l,{brighter:function t(e){e=e==null?i:Math.pow(i,e);return new M(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){e=e==null?r:Math.pow(r,e);return new M(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new S(j(e>=240?e-240:e+120,a,i),j(e,a,i),j(e<120?e+240:e-120,a,i),this.opacity)},displayable:function t(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));function j(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var A=Math.PI/180;var k=180/Math.PI;var I=18,R=.96422,D=1,P=.82521,N=4/29,L=6/29,$=3*L*L,F=L*L*L;function G(t){if(t instanceof W)return new W(t.l,t.a,t.b,t.opacity);if(t instanceof Z){if(isNaN(t.h))return new W(t.l,0,0,t.opacity);var e=t.h*A;return new W(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}if(!(t instanceof S))t=O(t);var n=z(t.r),r=z(t.g),i=z(t.b),a=Y((.2225045*n+.7168786*r+.0606169*i)/D),o,s;if(n===r&&r===i)o=s=a;else{o=Y((.4360747*n+.3850649*r+.1430804*i)/R);s=Y((.0139322*n+.0971045*r+.7141733*i)/P)}return new W(116*a-16,500*(o-a),200*(a-s),t.opacity)}function H(t,e){return new W(t,0,0,e==null?1:e)}function U(t,e,n,r){return arguments.length===1?G(t):new W(t,e,n,r==null?1:r)}function W(t,e,n,r){this.l=+t;this.a=+e;this.b=+n;this.opacity=+r}e(W,U,n(l,{brighter:function t(e){return new W(this.l+I*(e==null?1:e),this.a,this.b,this.opacity)},darker:function t(e){return new W(this.l-I*(e==null?1:e),this.a,this.b,this.opacity)},rgb:function t(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;n=R*V(n);e=D*V(e);r=P*V(r);return new S(q(3.1338561*n-1.6168667*e-.4906146*r),q(-.9787684*n+1.9161415*e+.033454*r),q(.0719453*n-.2289914*e+1.4052427*r),this.opacity)}}));function Y(t){return t>F?Math.pow(t,1/3):t/$+N}function V(t){return t>L?t*t*t:$*(t-N)}function q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function z(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function B(t){if(t instanceof Z)return new Z(t.h,t.c,t.l,t.opacity);if(!(t instanceof W))t=G(t);if(t.a===0&&t.b===0)return new Z(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*k;return new Z(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function K(t,e,n,r){return arguments.length===1?B(t):new Z(n,e,t,r==null?1:r)}function X(t,e,n,r){return arguments.length===1?B(t):new Z(t,e,n,r==null?1:r)}function Z(t,e,n,r){this.h=+t;this.c=+e;this.l=+n;this.opacity=+r}e(Z,X,n(l,{brighter:function t(e){return new Z(this.h,this.c,this.l+I*(e==null?1:e),this.opacity)},darker:function t(e){return new Z(this.h,this.c,this.l-I*(e==null?1:e),this.opacity)},rgb:function t(){return G(this).rgb()}}));var Q=-.14861,J=+1.78277,tt=-.29227,et=-.90649,nt=+1.97294,rt=nt*et,it=nt*J,at=J*tt-et*Q;function ot(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);if(!(t instanceof S))t=O(t);var e=t.r/255,n=t.g/255,r=t.b/255,i=(at*r+rt*e-it*n)/(at+rt-it),a=r-i,o=(nt*(n-i)-tt*a)/et,s=Math.sqrt(o*o+a*a)/(nt*i*(1-i)),u=s?Math.atan2(o,a)*k-120:NaN;return new ut(u<0?u+360:u,s,i,t.opacity)}function st(t,e,n,r){return arguments.length===1?ot(t):new ut(t,e,n,r==null?1:r)}function ut(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}e(ut,st,n(l,{brighter:function t(e){e=e==null?i:Math.pow(i,e);return new ut(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){e=e==null?r:Math.pow(r,e);return new ut(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=isNaN(this.h)?0:(this.h+120)*A,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(e),a=Math.sin(e);return new S(255*(n+r*(Q*i+J*a)),255*(n+r*(tt*i+et*a)),255*(n+r*(nt*i)),this.opacity)}}));t.color=y;t.rgb=w;t.hsl=C;t.lab=U;t.hcl=X;t.lch=K;t.gray=H;t.cubehelix=st;Object.defineProperty(t,"__esModule",{value:true})})},function(t,n,r){(function(t,e){true?e(n,r(103)):undefined})(this,function(e,W){"use strict";function Y(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);e.setFullYear(t.y);return e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function V(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));e.setUTCFullYear(t.y);return e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function q(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function n(t){var r=t.dateTime,i=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,u=t.shortMonths;var l=B(e),c=K(e),h=B(n),f=K(n),d=B(o),p=K(o),v=B(s),g=K(s),m=B(u),y=K(u);var _={a:R,A:D,b:P,B:N,c:null,d:vt,e:vt,f:bt,H:gt,I:mt,j:yt,L:_t,m:Ot,M:wt,p:L,Q:Xt,s:Zt,S:St,u:Tt,U:xt,V:Et,w:Ct,W:Mt,x:null,X:null,y:jt,Y:At,Z:kt,"%":Kt};var b={a:$,A:F,b:G,B:H,c:null,d:It,e:It,f:Lt,H:Rt,I:Dt,j:Pt,L:Nt,m:$t,M:Ft,p:U,Q:Xt,s:Zt,S:Gt,u:Ht,U:Ut,V:Wt,w:Yt,W:Vt,x:null,X:null,y:qt,Y:zt,Z:Bt,"%":Kt};var O={a:E,A:C,b:M,B:j,c:A,d:at,e:at,f:ht,H:st,I:st,j:ot,L:ct,m:it,M:ut,p:x,Q:dt,s:pt,S:lt,u:Z,U:Q,V:J,w:X,W:tt,x:k,X:I,y:nt,Y:et,Z:rt,"%":ft};_.x=w(i,_);_.X=w(a,_);_.c=w(r,_);b.x=w(i,b);b.X=w(a,b);b.c=w(r,b);function w(u,l){return function(t){var e=[],n=-1,r=0,i=u.length,a,o,s;if(!(t instanceof Date))t=new Date(+t);while(++n<i){if(u.charCodeAt(n)===37){e.push(u.slice(r,n));if((o=z[a=u.charAt(++n)])!=null)a=u.charAt(++n);else o=a==="e"?" ":"0";if(s=l[a])a=s(t,o);e.push(a);r=n+1}}e.push(u.slice(r,n));return e.join("")}}function S(a,o){return function(t){var e=q(1900),n=T(e,a,t+="",0),r,i;if(n!=t.length)return null;if("Q"in e)return new Date(e.Q);if("p"in e)e.H=e.H%12+e.p*12;if("V"in e){if(e.V<1||e.V>53)return null;if(!("w"in e))e.w=1;if("Z"in e){r=V(q(e.y)),i=r.getUTCDay();r=i>4||i===0?W.utcMonday.ceil(r):W.utcMonday(r);r=W.utcDay.offset(r,(e.V-1)*7);e.y=r.getUTCFullYear();e.m=r.getUTCMonth();e.d=r.getUTCDate()+(e.w+6)%7}else{r=o(q(e.y)),i=r.getDay();r=i>4||i===0?W.timeMonday.ceil(r):W.timeMonday(r);r=W.timeDay.offset(r,(e.V-1)*7);e.y=r.getFullYear();e.m=r.getMonth();e.d=r.getDate()+(e.w+6)%7}}else if("W"in e||"U"in e){if(!("w"in e))e.w="u"in e?e.u%7:"W"in e?1:0;i="Z"in e?V(q(e.y)).getUTCDay():o(q(e.y)).getDay();e.m=0;e.d="W"in e?(e.w+6)%7+e.W*7-(i+5)%7:e.w+e.U*7-(i+6)%7}if("Z"in e){e.H+=e.Z/100|0;e.M+=e.Z%100;return V(e)}return o(e)}}function T(t,e,n,r){var i=0,a=e.length,o=n.length,s,u;while(i<a){if(r>=o)return-1;s=e.charCodeAt(i++);if(s===37){s=e.charAt(i++);u=O[s in z?e.charAt(i++):s];if(!u||(r=u(t,n,r))<0)return-1}else if(s!=n.charCodeAt(r++)){return-1}}return r}function x(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1}function M(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function j(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1}function A(t,e,n){return T(t,r,e,n)}function k(t,e,n){return T(t,i,e,n)}function I(t,e,n){return T(t,a,e,n)}function R(t){return o[t.getDay()]}function D(t){return n[t.getDay()]}function P(t){return u[t.getMonth()]}function N(t){return s[t.getMonth()]}function L(t){return e[+(t.getHours()>=12)]}function $(t){return o[t.getUTCDay()]}function F(t){return n[t.getUTCDay()]}function G(t){return u[t.getUTCMonth()]}function H(t){return s[t.getUTCMonth()]}function U(t){return e[+(t.getUTCHours()>=12)]}return{format:function t(e){var n=w(e+="",_);n.toString=function(){return e};return n},parse:function t(e){var n=S(e+="",Y);n.toString=function(){return e};return n},utcFormat:function t(e){var n=w(e+="",b);n.toString=function(){return e};return n},utcParse:function t(e){var n=S(e,V);n.toString=function(){return e};return n}}}var z={"-":"",_:" ",0:"0"},i=/^\s*\d+/,a=/^%/,r=/[\\^$*+?|[\]().{}]/g;function o(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function s(t){return t.replace(r,"\\$&")}function B(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function K(t){var e={},n=-1,r=t.length;while(++n<r){e[t[n].toLowerCase()]=n}return e}function X(t,e,n){var r=i.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Z(t,e,n){var r=i.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Q(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function J(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tt(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function et(t,e,n){var r=i.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nt(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function it(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function at(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ot(t,e,n){var r=i.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function st(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ut(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lt(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ct(t,e,n){var r=i.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ht(t,e,n){var r=i.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ft(t,e,n){var r=a.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dt(t,e,n){var r=i.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pt(t,e,n){var r=i.exec(e.slice(n));return r?(t.Q=+r[0]*1e3,n+r[0].length):-1}function vt(t,e){return o(t.getDate(),e,2)}function gt(t,e){return o(t.getHours(),e,2)}function mt(t,e){return o(t.getHours()%12||12,e,2)}function yt(t,e){return o(1+W.timeDay.count(W.timeYear(t),t),e,3)}function _t(t,e){return o(t.getMilliseconds(),e,3)}function bt(t,e){return _t(t,e)+"000"}function Ot(t,e){return o(t.getMonth()+1,e,2)}function wt(t,e){return o(t.getMinutes(),e,2)}function St(t,e){return o(t.getSeconds(),e,2)}function Tt(t){var e=t.getDay();return e===0?7:e}function xt(t,e){return o(W.timeSunday.count(W.timeYear(t),t),e,2)}function Et(t,e){var n=t.getDay();t=n>=4||n===0?W.timeThursday(t):W.timeThursday.ceil(t);return o(W.timeThursday.count(W.timeYear(t),t)+(W.timeYear(t).getDay()===4),e,2)}function Ct(t){return t.getDay()}function Mt(t,e){return o(W.timeMonday.count(W.timeYear(t),t),e,2)}function jt(t,e){return o(t.getFullYear()%100,e,2)}function At(t,e){return o(t.getFullYear()%1e4,e,4)}function kt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+o(e/60|0,"0",2)+o(e%60,"0",2)}function It(t,e){return o(t.getUTCDate(),e,2)}function Rt(t,e){return o(t.getUTCHours(),e,2)}function Dt(t,e){return o(t.getUTCHours()%12||12,e,2)}function Pt(t,e){return o(1+W.utcDay.count(W.utcYear(t),t),e,3)}function Nt(t,e){return o(t.getUTCMilliseconds(),e,3)}function Lt(t,e){return Nt(t,e)+"000"}function $t(t,e){return o(t.getUTCMonth()+1,e,2)}function Ft(t,e){return o(t.getUTCMinutes(),e,2)}function Gt(t,e){return o(t.getUTCSeconds(),e,2)}function Ht(t){var e=t.getUTCDay();return e===0?7:e}function Ut(t,e){return o(W.utcSunday.count(W.utcYear(t),t),e,2)}function Wt(t,e){var n=t.getUTCDay();t=n>=4||n===0?W.utcThursday(t):W.utcThursday.ceil(t);return o(W.utcThursday.count(W.utcYear(t),t)+(W.utcYear(t).getUTCDay()===4),e,2)}function Yt(t){return t.getUTCDay()}function Vt(t,e){return o(W.utcMonday.count(W.utcYear(t),t),e,2)}function qt(t,e){return o(t.getUTCFullYear()%100,e,2)}function zt(t,e){return o(t.getUTCFullYear()%1e4,e,4)}function Bt(){return"+0000"}function Kt(){return"%"}function Xt(t){return+t}function Zt(t){return Math.floor(+t/1e3)}var u;t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t(t){u=n(t);e.timeFormat=u.format;e.timeParse=u.parse;e.utcFormat=u.utcFormat;e.utcParse=u.utcParse;return u}var l="%Y-%m-%dT%H:%M:%S.%LZ";function c(t){return t.toISOString()}var h=Date.prototype.toISOString?c:e.utcFormat(l);function f(t){var e=new Date(t);return isNaN(e)?null:e}var d=+new Date("2000-01-01T00:00:00.000Z")?f:e.utcParse(l);e.timeFormatDefaultLocale=t;e.timeFormatLocale=n;e.isoFormat=h;e.isoParse=d;Object.defineProperty(e,"__esModule",{value:true})})},function(t,e,n){"use strict";var r=n(181);var d=n(2);var i=angular.module("ngeoMapQuery",[r["a"].module.name]);i.directive_=function(h,f){return{restrict:"A",scope:false,link:function t(e,n,r){var a=e.$eval(r["ngeoMapQueryMap"]);var i=null;var o=null;var s=function t(e){var n=e.coordinate;h.issue({coordinate:n,map:a})};var u=function t(e){if(!e.dragging){var n=a.getEventPixel(e.originalEvent);var r=function t(e){var n=e.get("visible");var r=e.get("querySourceIds");return n&&!!r};var i=a.forEachLayerAtPixel(n,function(){return true},undefined,r);a.getTargetElement().style.cursor=i?"pointer":""}};var l=function t(){i=d["a"](a,"singleclick",s);var e=f.has("ngeoQueryOptions")?f.get("ngeoQueryOptions"):{};if(e.cursorHover){o=d["a"](a,"pointermove",u)}};var c=function t(){if(i!==null){d["e"](i);i=null}if(o!==null){d["e"](o);o=null}if(e.$eval(r["ngeoMapQueryAutoclear"])!==false){h.clear()}};e.$watch(r["ngeoMapQueryActive"],function(t,e){if(t){l()}else{c()}})}}};i.directive_.$inject=["ngeoMapQuerent","$injector"];i.directive("ngeoMapQuery",i.directive_);e["a"]=i},function(t,e,n){"use strict";var r=function f(){return{restrict:"A",link:function t(r,i,e){var n=e["ngeoSearch"];var a=r.$eval(n);var o=e["ngeoSearchDatasets"];var s=r.$eval(o);var u=s.slice();u.unshift(a);i.typeahead.apply(i,u);var l=e["ngeoSearchListeners"];var c=r.$eval(l);var h=f.adaptListeners_(c);i.on("typeahead:open",function(){r.$apply(function(){h.open()})});i.on("typeahead:close",function(){r.$apply(function(){h.close()})});i.on("typeahead:cursorchange",function(t,e,n){r.$apply(function(){h.cursorchange(t,e,n)})});i.on("typeahead:select",function(t,e,n){r.$apply(function(){h.select(t,e,n)})});i.on("typeahead:autocomplete",function(t,e,n){r.$apply(function(){h.autocomplete(t,e,n)})});i.on("typeahead:asyncreceive",function(e,t,n){r.$apply(function(){var t=i.data("tt-typeahead")["menu"]["_allDatasetsEmpty"]();h.datasetsempty(e,n,t)})})}}};r.adaptListeners_=function(t){var e;if(t===undefined){e={open:function t(){},close:function t(){},cursorchange:function t(){},datasetsempty:function t(){},select:function t(){},autocomplete:function t(){}}}else{e={open:t.open!==undefined?t.open:function(){},close:t.close!==undefined?t.close:function(){},cursorchange:t.cursorchange!==undefined?t.cursorchange:function(){},datasetsempty:t.datasetsempty!==undefined?t.datasetsempty:function(){},select:t.select!==undefined?t.select:function(){},autocomplete:t.autocomplete!==undefined?t.autocomplete:function(){}}}return e};r.module=angular.module("ngeoSearchDirective",[]);r.module.directive("ngeoSearch",r);e["a"]=r},function(t,e,n){"use strict";var r=1;var i=2;var a=3;var o=4;var s=5;var u=-1;var l=/\s/;var c=/[A-Za-z]/;var h=/[A-Za-z84]/;var f=/[,\]]/;var d=/[\d\.E\-\+]/;function p(t){if(typeof t!=="string"){throw new Error("not a string")}this.text=t.trim();this.level=0;this.place=0;this.root=null;this.stack=[];this.currentObject=null;this.state=r}p.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==o){while(l.test(t)){if(this.place>=this.text.length){return}t=this.text[this.place++]}}switch(this.state){case r:return this.neutral(t);case i:return this.keyword(t);case o:return this.quoted(t);case s:return this.afterquote(t);case a:return this.number(t);case u:return}};p.prototype.afterquote=function(t){if(t==='"'){this.word+='"';this.state=o;return}if(f.test(t)){this.word=this.word.trim();this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)};p.prototype.afterItem=function(t){if(t===","){if(this.word!==null){this.currentObject.push(this.word)}this.word=null;this.state=r;return}if(t==="]"){this.level--;if(this.word!==null){this.currentObject.push(this.word);this.word=null}this.state=r;this.currentObject=this.stack.pop();if(!this.currentObject){this.state=u}return}};p.prototype.number=function(t){if(d.test(t)){this.word+=t;return}if(f.test(t)){this.word=parseFloat(this.word);this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)};p.prototype.quoted=function(t){if(t==='"'){this.state=s;return}this.word+=t;return};p.prototype.keyword=function(t){if(h.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word);this.level++;if(this.root===null){this.root=e}else{this.currentObject.push(e)}this.stack.push(this.currentObject);this.currentObject=e;this.state=r;return}if(f.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place)};p.prototype.neutral=function(t){if(c.test(t)){this.word=t;this.state=i;return}if(t==='"'){this.word="";this.state=o;return}if(d.test(t)){this.word=t;this.state=a;return}if(f.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place)};p.prototype.output=function(){while(this.place<this.text.length){this.readCharicter()}if(this.state===u){return this.root}throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function v(t){var e=new p(t);return e.output()}function g(t,e,n){if(Array.isArray(e)){n.unshift(e);e=null}var r=e?{}:t;var i=n.reduce(function(t,e){m(e,t);return t},r);if(e){t[e]=i}}function m(t,e){if(!Array.isArray(t)){e[t]=true;return}var n=t.shift();if(n==="PARAMETER"){n=t.shift()}if(t.length===1){if(Array.isArray(t[0])){e[n]={};m(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=true;return}if(n==="TOWGS84"){e[n]=t;return}if(!Array.isArray(n)){e[n]={}}var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]};if(t.length===3){m(t[2],e[n])}return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]};if(t.length===4){m(t[3],e[n])}return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]];g(e,n,t);return;default:r=-1;while(++r<t.length){if(!Array.isArray(t[r])){return m(t,e[n])}}return g(e,n,t)}}var y=.017453292519943295;function _(t,e){var n=e[0];var r=e[1];if(!(n in t)&&r in t){t[n]=t[r];if(e.length===3){t[n]=e[2](t[n])}}}function b(t){return t*y}function O(n){if(n.type==="GEOGCS"){n.projName="longlat"}else if(n.type==="LOCAL_CS"){n.projName="identity";n.local=true}else{if(typeof n.PROJECTION==="object"){n.projName=Object.keys(n.PROJECTION)[0]}else{n.projName=n.PROJECTION}}if(n.UNIT){n.units=n.UNIT.name.toLowerCase();if(n.units==="metre"){n.units="meter"}if(n.UNIT.convert){if(n.type==="GEOGCS"){if(n.DATUM&&n.DATUM.SPHEROID){n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a}}else{n.to_meter=n.UNIT.convert}}}var t=n.GEOGCS;if(n.type==="GEOGCS"){t=n}if(t){if(t.DATUM){n.datumCode=t.DATUM.name.toLowerCase()}else{n.datumCode=t.name.toLowerCase()}if(n.datumCode.slice(0,2)==="d_"){n.datumCode=n.datumCode.slice(2)}if(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949"){n.datumCode="nzgd49"}if(n.datumCode==="wgs_1984"){if(n.PROJECTION==="Mercator_Auxiliary_Sphere"){n.sphere=true}n.datumCode="wgs84"}if(n.datumCode.slice(-6)==="_ferro"){n.datumCode=n.datumCode.slice(0,-6)}if(n.datumCode.slice(-8)==="_jakarta"){n.datumCode=n.datumCode.slice(0,-8)}if(~n.datumCode.indexOf("belge")){n.datumCode="rnb72"}if(t.DATUM&&t.DATUM.SPHEROID){n.ellps=t.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk");if(n.ellps.toLowerCase().slice(0,13)==="international"){n.ellps="intl"}n.a=t.DATUM.SPHEROID.a;n.rf=parseFloat(t.DATUM.SPHEROID.rf,10)}if(t.DATUM&&t.DATUM.TOWGS84){n.datum_params=t.DATUM.TOWGS84}if(~n.datumCode.indexOf("osgb_1936")){n.datumCode="osgb36"}if(~n.datumCode.indexOf("osni_1952")){n.datumCode="osni52"}if(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965")){n.datumCode="ire65"}if(n.datumCode==="ch1903+"){n.datumCode="ch1903"}if(~n.datumCode.indexOf("israel")){n.datumCode="isr93"}}if(n.b&&!isFinite(n.b)){n.b=n.a}function e(t){var e=n.to_meter||1;return t*e}var r=function t(e){return _(n,e)};var i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",b],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",b],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",b],["lat0","latitude_of_origin",b],["lat0","standard_parallel_1",b],["lat1","standard_parallel_1",b],["lat2","standard_parallel_2",b],["azimuth","Azimuth"],["alpha","azimuth",b],["srsCode","name"]];i.forEach(r);if(!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")){n.long0=n.longc}if(!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")){n.lat0=b(n.lat1>0?90:-90);n.lat_ts=n.lat1}}var w=function t(e){var n=v(e);var r=n.shift();var i=n.shift();n.unshift(["name",i]);n.unshift(["type",r]);var a={};m(n,a);O(a);return a};t.exports=w},function(t,e,n){"use strict";var r=n(225);var i=n(288);var a=angular.module("ngeoStatemanagerModule",[r["a"].module.name,i["a"].module.name]);e["a"]=a},function(t,e,n){"use strict";var s=n(1);var r=n(225);var i=function t(e,n){var r=this;this.initialState={};this.ngeoLocation=e;this.usedKeyRegexp=n;this.useLocalStorage_;this.setUseLocalStorage(false);var i=e.getParamKeys().filter(function(t){return t!="debug"&&t!="no_redirect"});if(i.length===0){if(this.useLocalStorage_){var a=function t(n){s["a"].assert(n);r.usedKeyRegexp.some(function(t){if(n.match(t)){var e=window.localStorage[n];if(e!==undefined||e!==null){r.initialState[n]=e}else{r.initialState[n]=""}return true}})};for(var o in window.localStorage){a(o)}}}else{i.forEach(function(n){r.usedKeyRegexp.some(function(t){if(n.match(t)){var e=r.ngeoLocation.getParam(n);if(e!==undefined){r.initialState[n]=e;return true}}})})}};i.$inject=["ngeoLocation","ngeoUsedKeyRegexp"];i.$inject=["ngeoLocation","ngeoUsedKeyRegexp"];i.prototype.setUseLocalStorage=function(t){this.useLocalStorage_=t;if(this.useLocalStorage_){try{if("localStorage"in window){window.localStorage["test"]="";delete window.localStorage["test"]}else{this.useLocalStorage_=false}}catch(t){console.error(t);this.useLocalStorage_=false}}return this.useLocalStorage_};i.prototype.getInitialValue=function(t){return this.initialState[t]};i.prototype.getInitialStringValue=function(t){var e=this.initialState[t];if(e===undefined){return undefined}return e};i.prototype.getInitialNumberValue=function(t){var e=this.initialState[t];if(e===undefined){return undefined}return parseFloat(e)};i.prototype.getInitialBooleanValue=function(t){var e=this.initialState[t];if(e===undefined){return undefined}return e==="true"};i.prototype.updateState=function(t){this.ngeoLocation.updateParams(t);if(this.useLocalStorage_){for(var e in t){s["a"].assert(e);var n=t[e];s["a"].assert(n!==undefined);window.localStorage[e]=n}}};i.prototype.deleteParam=function(t){this.ngeoLocation.deleteParam(t);if(this.useLocalStorage_){delete window.localStorage[t]}};i.module=angular.module("ngeoStateManager",[r["a"].module.name]);i.module.service("ngeoStateManager",i);i.module.value("ngeoUsedKeyRegexp",[new RegExp(".*")]);e["a"]=i},function(t,e,n){"use strict";var o=n(1);var s=n(19);var u=n(140);var r=angular.module("ngeoControl",[]);r.component_=function(){return{restrict:"A",link:function t(e,n,r){var i=e.$eval(r["ngeoControl"]);o["a"].assertInstanceof(i,u["a"]);var a=e.$eval(r["ngeoControlMap"]);o["a"].assertInstanceof(a,s["a"]);i.setTarget(n[0]);a.addControl(i)}}};r.directive("ngeoControl",r.component_);e["a"]=r},function(t,e,n){"use strict";var r=angular.module("ngeoFilereader",[]);r.component_=function(a){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:function t(n,e,r){var i="FileReader"in a;n["supported"]=i;if(!i){return}e.on("change",function(t){var e=new a.FileReader;e.onload=function(t){n.$apply(function(){n["fileContent"]=t.target.result})};e.readAsText(t.target.files[0])})}}};r.component_.$inject=["$window"];r.directive("ngeoFilereader",r.component_);e["a"]=r},function(t,r,i){"use strict";(function(f){var t=i(399);var e=i.n(t);var d=i(1);var n=angular.module("ngeoSortable",[]);n.component_=function(h){return{restrict:"A",link:function t(i,a,e){var o=i.$eval(e["ngeoSortable"])||[];d["a"].assert(Array.isArray(o));i.$watchCollection(function(){return o},function(){o.length&&h(r,0)});var n=i.$eval(e["ngeoSortableOptions"]);var s=c(n);var u=i.$eval(e["ngeoSortableCallback"]);var l=i.$eval(e["ngeoSortableCallbackCtx"]);function r(){var t=a.children();for(var e=0;e<t.length;++e){angular.element(t[e]).data("idx",e)}var n=f(a);if(n.data("ui-sortable")){n.off("sortupdate");n.sortable("destroy")}var r={axis:"y",classes:{"ui-sortable-helper":s["draggerClassName"]}};if(s["handleClassName"]){r["handle"]="."+s["handleClassName"]}if(s["placeholderClassName"]){r["placeholder"]=s["placeholderClassName"];r["forcePlaceholderSize"]=true}n.sortable(r);n.on("sortupdate",function(t,e){var n=f(e.item[0]).data("idx");var r=e.item.index();f(e.item[0]).data("idx",r);i.$apply(function(){o.splice(r,0,o.splice(n,1)[0])});if(u instanceof Function){u.apply(l,[a,o])}})}function c(t){var e;var n="ngeo-sortable-handle";if(t===undefined){e={handleClassName:n}}else{if(t["handleClassName"]===undefined){t["handleClassName"]=n}e=t}return e}}}};n.component_.$inject=["$timeout"];n.directive("ngeoSortable",n.component_);r["a"]=n}).call(this,i(35))},function(t,e,n){"use strict";var r=n(185);var a=n(189);var i=function(i){function t(t){var e=t||{};var n=e.projection!==undefined?e.projection:"EPSG:3857";var r=e.tileGrid!==undefined?e.tileGrid:Object(a["a"])({extent:Object(a["b"])(n),maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});i.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==undefined?e.wrapX:true,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible})}if(i)t.__proto__=i;t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;return t}(r["a"]);e["a"]=i},function(t,e,n){"use strict";var r=n(42);var i=n(2);var a=n(61);var o=n(11);var s=n(26);var u=n(60);var l=n(14);var c=n(8);var h={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};var f=function(e){function t(t){e.call(this,o["a"].ERROR);this.code=t.code;this.message=t.message}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;return t}(a["a"]);var d=function(n){function t(t){n.call(this);var e=t||{};this.position_=null;this.transform_=c["k"];this.watchId_=undefined;Object(i["a"])(this,Object(r["b"])(h.PROJECTION),this.handleProjectionChanged_,this);Object(i["a"])(this,Object(r["b"])(h.TRACKING),this.handleTrackingChanged_,this);if(e.projection!==undefined){this.setProjection(e.projection)}if(e.trackingOptions!==undefined){this.setTrackingOptions(e.trackingOptions)}this.setTracking(e.tracking!==undefined?e.tracking:false)}if(n)t.__proto__=n;t.prototype=Object.create(n&&n.prototype);t.prototype.constructor=t;t.prototype.disposeInternal=function t(){this.setTracking(false);n.prototype.disposeInternal.call(this)};t.prototype.handleProjectionChanged_=function t(){var e=this.getProjection();if(e){this.transform_=Object(c["j"])(Object(c["g"])("EPSG:4326"),e);if(this.position_){this.set(h.POSITION,this.transform_(this.position_))}}};t.prototype.handleTrackingChanged_=function t(){if(u["d"]){var e=this.getTracking();if(e&&this.watchId_===undefined){this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else if(!e&&this.watchId_!==undefined){navigator.geolocation.clearWatch(this.watchId_);this.watchId_=undefined}}};t.prototype.positionChange_=function t(e){var n=e.coords;this.set(h.ACCURACY,n.accuracy);this.set(h.ALTITUDE,n.altitude===null?undefined:n.altitude);this.set(h.ALTITUDE_ACCURACY,n.altitudeAccuracy===null?undefined:n.altitudeAccuracy);this.set(h.HEADING,n.heading===null?undefined:Object(l["i"])(n.heading));if(!this.position_){this.position_=[n.longitude,n.latitude]}else{this.position_[0]=n.longitude;this.position_[1]=n.latitude}var r=this.transform_(this.position_);this.set(h.POSITION,r);this.set(h.SPEED,n.speed===null?undefined:n.speed);var i=Object(s["a"])(this.position_,n.accuracy);i.applyTransform(this.transform_);this.set(h.ACCURACY_GEOMETRY,i);this.changed()};t.prototype.positionError_=function t(e){this.setTracking(false);this.dispatchEvent(new f(e))};t.prototype.getAccuracy=function t(){return this.get(h.ACCURACY)};t.prototype.getAccuracyGeometry=function t(){return this.get(h.ACCURACY_GEOMETRY)||null};t.prototype.getAltitude=function t(){return this.get(h.ALTITUDE)};t.prototype.getAltitudeAccuracy=function t(){return this.get(h.ALTITUDE_ACCURACY)};t.prototype.getHeading=function t(){return this.get(h.HEADING)};t.prototype.getPosition=function t(){return this.get(h.POSITION)};t.prototype.getProjection=function t(){return this.get(h.PROJECTION)};t.prototype.getSpeed=function t(){return this.get(h.SPEED)};t.prototype.getTracking=function t(){return this.get(h.TRACKING)};t.prototype.getTrackingOptions=function t(){return this.get(h.TRACKING_OPTIONS)};t.prototype.setProjection=function t(e){this.set(h.PROJECTION,Object(c["g"])(e))};t.prototype.setTracking=function t(e){this.set(h.TRACKING,e)};t.prototype.setTrackingOptions=function t(e){this.set(h.TRACKING_OPTIONS,e)};return t}(r["a"]);e["a"]=d},function(t,e,n){"use strict";var h=n(1);var f=n(2);var N=n(10);var r=n(141);var i="http://www.w3.org/1999/xhtml";var a={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var o=function(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return a.hasOwnProperty(e)?{space:a[e],local:t}:t};function s(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===i&&t.documentElement.namespaceURI===i?t.createElement(n):t.createElementNS(e,n)}}function u(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var l=function(t){var e=o(t);return(e.local?u:s)(e)};function c(){}var d=function(t){return t==null?c:function(){return this.querySelector(t)}};var p=function(t){if(typeof t!=="function")t=d(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new Zt(r,this._parents)};function v(){return[]}var m=function(t){return t==null?v:function(){return this.querySelectorAll(t)}};var g=function(t){if(typeof t!=="function")t=m(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new Zt(r,i)};var y=function t(e){return function(){return this.matches(e)}};if(typeof document!=="undefined"){var _=document.documentElement;if(!_.matches){var b=_.webkitMatchesSelector||_.msMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector;y=function t(e){return function(){return b.call(this,e)}}}}var O=y;var w=function(t){if(typeof t!=="function")t=O(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Zt(r,this._parents)};var S=function(t){return new Array(t.length)};var T=function(){return new Zt(this._enter||this._groups.map(S),this._parents)};function x(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}x.prototype={constructor:x,appendChild:function t(e){return this._parent.insertBefore(e,this._next)},insertBefore:function t(e,n){return this._parent.insertBefore(e,n)},querySelector:function t(e){return this._parent.querySelector(e)},querySelectorAll:function t(e){return this._parent.querySelectorAll(e)}};var E=function(t){return function(){return t}};var C="$";function M(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new x(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function j(t,e,n,r,i,a,o){var s,u,l={},c=e.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){f[s]=d=C+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<h;++s){d=C+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new x(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[f[s]]===u){i[s]=u}}}var A=function(t,e){if(!t){d=new Array(this.size()),l=-1;this.each(function(t){d[++l]=t});return d}var n=e?j:M,r=this._parents,i=this._groups;if(typeof t!=="function")t=E(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),g=o[l]=new Array(p),m=u[l]=new Array(f);n(c,h,v,g,m,d,e);for(var y=0,_=0,b,O;y<p;++y){if(b=v[y]){if(y>=_)_=y+1;while(!(O=g[_])&&++_<p){}b._next=O||null}}}o=new Zt(o,r);o._enter=s;o._exit=u;return o};var k=function(){return new Zt(this._exit||this._groups.map(S),this._parents)};var I=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,d=0;d<c;++d){if(f=u[d]||l[d]){h[d]=f}}}for(;s<r;++s){o[s]=e[s]}return new Zt(o,this._parents)};var R=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&a!==o.nextSibling)a.parentNode.insertBefore(o,a);a=o}}}return this};var D=function(n){if(!n)n=P;function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(t)}return new Zt(i,this._parents).order()};function P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var L=function(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this};var $=function(){var t=new Array(this.size()),e=-1;this.each(function(){t[++e]=this});return t};var F=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null};var G=function(){var t=0;this.each(function(){++t});return t};var H=function(){return!this.node()};var U=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this};function W(t){return function(){this.removeAttribute(t)}}function Y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V(t,e){return function(){this.setAttribute(t,e)}}function q(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z(e,n){return function(){var t=n.apply(this,arguments);if(t==null)this.removeAttribute(e);else this.setAttribute(e,t)}}function B(e,n){return function(){var t=n.apply(this,arguments);if(t==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,t)}}var K=function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Y:W:typeof e==="function"?n.local?B:z:n.local?q:V)(n,e))};var X=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Z(t){return function(){this.style.removeProperty(t)}}function Q(t,e,n){return function(){this.style.setProperty(t,e,n)}}function J(e,n,r){return function(){var t=n.apply(this,arguments);if(t==null)this.style.removeProperty(e);else this.style.setProperty(e,t,r)}}var tt=function(t,e,n){return arguments.length>1?this.each((e==null?Z:typeof e==="function"?J:Q)(t,e,n==null?"":n)):et(this.node(),t)};function et(t,e){return t.style.getPropertyValue(e)||X(t).getComputedStyle(t,null).getPropertyValue(e)}function nt(t){return function(){delete this[t]}}function rt(t,e){return function(){this[t]=e}}function it(e,n){return function(){var t=n.apply(this,arguments);if(t==null)delete this[e];else this[e]=t}}var at=function(t,e){return arguments.length>1?this.each((e==null?nt:typeof e==="function"?it:rt)(t,e)):this.node()[t]};function ot(t){return t.trim().split(/^|\s+/)}function st(t){return t.classList||new ut(t)}function ut(t){this._node=t;this._names=ot(t.getAttribute("class")||"")}ut.prototype={add:function t(e){var n=this._names.indexOf(e);if(n<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function t(e){var n=this._names.indexOf(e);if(n>=0){this._names.splice(n,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function t(e){return this._names.indexOf(e)>=0}};function lt(t,e){var n=st(t),r=-1,i=e.length;while(++r<i){n.add(e[r])}}function ct(t,e){var n=st(t),r=-1,i=e.length;while(++r<i){n.remove(e[r])}}function ht(t){return function(){lt(this,t)}}function ft(t){return function(){ct(this,t)}}function dt(t,e){return function(){(e.apply(this,arguments)?lt:ct)(this,t)}}var pt=function(t,e){var n=ot(t+"");if(arguments.length<2){var r=st(this.node()),i=-1,a=n.length;while(++i<a){if(!r.contains(n[i]))return false}return true}return this.each((typeof e==="function"?dt:e?ht:ft)(n,e))};function vt(){this.textContent=""}function gt(t){return function(){this.textContent=t}}function mt(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}var yt=function(t){return arguments.length?this.each(t==null?vt:(typeof t==="function"?mt:gt)(t)):this.node().textContent};function _t(){this.innerHTML=""}function bt(t){return function(){this.innerHTML=t}}function Ot(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}var wt=function(t){return arguments.length?this.each(t==null?_t:(typeof t==="function"?Ot:bt)(t)):this.node().innerHTML};function St(){if(this.nextSibling)this.parentNode.appendChild(this)}var Tt=function(){return this.each(St)};function xt(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Et=function(){return this.each(xt)};var Ct=function(t){var e=typeof t==="function"?t:l(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function Mt(){return null}var jt=function(t,e){var n=typeof t==="function"?t:l(t),r=e==null?Mt:typeof e==="function"?e:d(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})};function At(){var t=this.parentNode;if(t)t.removeChild(this)}var kt=function(){return this.each(At)};function It(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function Rt(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}var Dt=function(t){return this.select(t?Rt:It)};var Pt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};var Nt={};var Lt=null;if(typeof document!=="undefined"){var $t=document.documentElement;if(!("onmouseenter"in $t)){Nt={mouseenter:"mouseover",mouseleave:"mouseout"}}}function Ft(n,t,e){n=Gt(n,t,e);return function(t){var e=t.relatedTarget;if(!e||e!==this&&!(e.compareDocumentPosition(this)&8)){n.call(this,t)}}}function Gt(n,r,i){return function(t){var e=Lt;Lt=t;try{n.call(this,this.__data__,r,i)}finally{Lt=e}}}function Ht(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}})}function Ut(a){return function(){var t=this.__on;if(!t)return;for(var e=0,n=-1,r=t.length,i;e<r;++e){if(i=t[e],(!a.type||i.type===a.type)&&i.name===a.name){this.removeEventListener(i.type,i.listener,i.capture)}else{t[++n]=i}}if(++n)t.length=n;else delete this.__on}}function Wt(u,l,c){var h=Nt.hasOwnProperty(u.type)?Ft:Gt;return function(t,e,n){var r=this.__on,i,a=h(l,e,n);if(r)for(var o=0,s=r.length;o<s;++o){if((i=r[o]).type===u.type&&i.name===u.name){this.removeEventListener(i.type,i.listener,i.capture);this.addEventListener(i.type,i.listener=a,i.capture=c);i.value=l;return}}this.addEventListener(u.type,a,c);i={type:u.type,name:u.name,value:l,listener:a,capture:c};if(!r)this.__on=[i];else r.push(i)}}var Yt=function(t,e,n){var r=Ht(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?Wt:Ut;if(n==null)n=false;for(i=0;i<a;++i){this.each(s(r[i],e,n))}return this};function Vt(t,e,n,r){var i=Lt;t.sourceEvent=Lt;Lt=t;try{return e.apply(n,r)}finally{Lt=i}}function qt(t,e,n){var r=X(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function zt(t,e){return function(){return qt(this,t,e)}}function Bt(t,e){return function(){return qt(this,t,e.apply(this,arguments))}}var Kt=function(t,e){return this.each((typeof e==="function"?Bt:zt)(t,e))};var Xt=[null];function Zt(t,e){this._groups=t;this._parents=e}function Qt(){return new Zt([[document.documentElement]],Xt)}Zt.prototype=Qt.prototype={constructor:Zt,select:p,selectAll:g,filter:w,data:A,enter:T,exit:k,merge:I,order:R,sort:D,call:L,nodes:$,node:F,size:G,empty:H,each:U,attr:K,style:tt,property:at,classed:pt,text:yt,html:wt,raise:Tt,lower:Et,append:Ct,insert:jt,remove:kt,clone:Dt,datum:Pt,on:Yt,dispatch:Kt};var Jt=Qt;var te=function(t){return typeof t==="string"?new Zt([[document.querySelector(t)]],[document.documentElement]):new Zt([[t]],Xt)};var ee=function(t){return te(l(t).call(document.documentElement))};var ne=0;function re(){return new ie}function ie(){this._="@"+(++ne).toString(36)}ie.prototype=re.prototype={constructor:ie,get:function t(e){var n=this._;while(!(n in e)){if(!(e=e.parentNode))return}return e[n]},set:function t(e,n){return e[this._]=n},remove:function t(e){return this._ in e&&delete e[this._]},toString:function t(){return this._}};var ae=function(){var t=Lt,e;while(e=t.sourceEvent){t=e}return t};var oe=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]};var se=function(t){var e=ae();if(e.changedTouches)e=e.changedTouches[0];return oe(t,e)};var ue=function(t){return typeof t==="string"?new Zt([document.querySelectorAll(t)],[document.documentElement]):new Zt([t==null?[]:t],Xt)};var le=function(t,e,n){if(arguments.length<3)n=e,e=ae().changedTouches;for(var r=0,i=e?e.length:0,a;r<i;++r){if((a=e[r]).identifier===n){return oe(t,a)}}return null};var ce=function(t,e){if(e==null)e=ae().touches;for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n){i[n]=oe(t,e[n])}return i};var he=n(331);var fe=n(209);var de=Object(he["dispatch"])("start","end","interrupt");var pe=[];var ve=0;var ge=1;var me=2;var ye=3;var _e=4;var be=5;var Oe=6;var we=function(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Ee(t,n,{name:e,index:r,group:i,on:de,tween:pe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ve})};function Se(t,e){var n=xe(t,e);if(n.state>ve)throw new Error("too late; already scheduled");return n}function Te(t,e){var n=xe(t,e);if(n.state>me)throw new Error("too late; already started");return n}function xe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ee(a,o,s){var u=a.__transition,l;u[o]=s;s.timer=Object(fe["timer"])(t,0,s.time);function t(t){s.state=ge;s.timer.restart(c,s.delay,s.time);if(s.delay<=t)c(t-s.delay)}function c(t){var e,n,r,i;if(s.state!==ge)return f();for(e in u){i=u[e];if(i.name!==s.name)continue;if(i.state===ye)return Object(fe["timeout"])(c);if(i.state===_e){i.state=Oe;i.timer.stop();i.on.call("interrupt",a,a.__data__,i.index,i.group);delete u[e]}else if(+e<o){i.state=Oe;i.timer.stop();delete u[e]}}Object(fe["timeout"])(function(){if(s.state===ye){s.state=_e;s.timer.restart(h,s.delay,s.time);h(t)}});s.state=me;s.on.call("start",a,a.__data__,s.index,s.group);if(s.state!==me)return;s.state=ye;l=new Array(r=s.tween.length);for(e=0,n=-1;e<r;++e){if(i=s.tween[e].value.call(a,a.__data__,s.index,s.group)){l[++n]=i}}l.length=n+1}function h(t){var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(f),s.state=be,1),n=-1,r=l.length;while(++n<r){l[n].call(null,e)}if(s.state===be){s.on.call("end",a,a.__data__,s.index,s.group);f()}}function f(){s.state=Oe;s.timer.stop();delete u[o];for(var t in u){return}delete a.__transition}}var Ce=function(t,e){var n=t.__transition,r,i,a=true,o;if(!n)return;e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=false;continue}i=r.state>me&&r.state<be;r.state=Oe;r.timer.stop();if(i)r.on.call("interrupt",t,t.__data__,r.index,r.group);delete n[o]}if(a)delete t.__transition};var Me=function(t){return this.each(function(){Ce(this,t)})};var je=n(122);function Ae(i,a){var o,s;return function(){var t=Te(this,i),e=t.tween;if(e!==o){s=o=e;for(var n=0,r=s.length;n<r;++n){if(s[n].name===a){s=s.slice();s.splice(n,1);break}}}t.tween=s}}function ke(a,o,s){var u,l;if(typeof s!=="function")throw new Error;return function(){var t=Te(this,a),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:o,value:s},r=0,i=l.length;r<i;++r){if(l[r].name===o){l[r]=n;break}}if(r===i)l.push(n)}t.tween=l}}var Ie=function(t,e){var n=this._id;t+="";if(arguments.length<2){var r=xe(this.node(),n).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((e==null?Ae:ke)(n,t,e))};function Re(t,e,n){var r=t._id;t.each(function(){var t=Te(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)});return function(t){return xe(t,r).value[e]}}var De=n(282);var Pe=function(t,e){var n;return(typeof e==="number"?je["interpolateNumber"]:e instanceof De["color"]?je["interpolateRgb"]:(n=Object(De["color"])(e))?(e=n,je["interpolateRgb"]):je["interpolateString"])(t,e)};function Ne(t){return function(){this.removeAttribute(t)}}function Le(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $e(e,n,r){var i,a;return function(){var t=this.getAttribute(e);return t===r?null:t===i?a:a=n(i=t,r)}}function Fe(e,n,r){var i,a;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===i?a:a=n(i=t,r)}}function Ge(n,r,i){var a,o,s;return function(){var t,e=i(this);if(e==null)return void this.removeAttribute(n);t=this.getAttribute(n);return t===e?null:t===a&&e===o?s:s=r(a=t,o=e)}}function He(n,r,i){var a,o,s;return function(){var t,e=i(this);if(e==null)return void this.removeAttributeNS(n.space,n.local);t=this.getAttributeNS(n.space,n.local);return t===e?null:t===a&&e===o?s:s=r(a=t,o=e)}}var Ue=function(t,e){var n=o(t),r=n==="transform"?je["interpolateTransformSvg"]:Pe;return this.attrTween(t,typeof e==="function"?(n.local?He:Ge)(n,r,Re(this,"attr."+t,e)):e==null?(n.local?Le:Ne)(n):(n.local?Fe:$e)(n,r,e+""))};function We(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}e._value=t;return e}function Ye(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}e._value=t;return e}var Ve=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;var r=o(t);return this.tween(n,(r.local?We:Ye)(r,e))};function qe(t,e){return function(){Se(this,t).delay=+e.apply(this,arguments)}}function ze(t,e){return e=+e,function(){Se(this,t).delay=e}}var Be=function(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?qe:ze)(e,t)):xe(this.node(),e).delay};function Ke(t,e){return function(){Te(this,t).duration=+e.apply(this,arguments)}}function Xe(t,e){return e=+e,function(){Te(this,t).duration=e}}var Ze=function(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?Ke:Xe)(e,t)):xe(this.node(),e).duration};function Qe(t,e){if(typeof e!=="function")throw new Error;return function(){Te(this,t).ease=e}}var Je=function(t){var e=this._id;return arguments.length?this.each(Qe(e,t)):xe(this.node(),e).ease};var tn=function(t){if(typeof t!=="function")t=O(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Tn(r,this._parents,this._name,this._id)};var en=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,d=0;d<c;++d){if(f=u[d]||l[d]){h[d]=f}}}for(;s<r;++s){o[s]=e[s]}return new Tn(o,this._parents,this._name,this._id)};function nn(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"})}function rn(n,r,i){var a,o,s=nn(r)?Se:Te;return function(){var t=s(this,n),e=t.on;if(e!==a)(o=(a=e).copy()).on(r,i);t.on=o}}var an=function(t,e){var n=this._id;return arguments.length<2?xe(this.node(),n).on.on(t):this.each(rn(n,t,e))};function on(n){return function(){var t=this.parentNode;for(var e in this.__transition){if(+e!==n)return}if(t)t.removeChild(this)}}var sn=function(){return this.on("end.remove",on(this._id))};var un=function(t){var e=this._name,n=this._id;if(typeof t!=="function")t=d(t);for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,f=0;f<u;++f){if((c=s[f])&&(h=t.call(c,c.__data__,f,s))){if("__data__"in c)h.__data__=c.__data__;l[f]=h;we(l[f],e,n,f,l,xe(c,n))}}}return new Tn(a,this._parents,e,n)};var ln=function(t){var e=this._name,n=this._id;if(typeof t!=="function")t=m(t);for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s){for(var u=r[s],l=u.length,c,h=0;h<l;++h){if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),d,p=xe(c,n),v=0,g=f.length;v<g;++v){if(d=f[v]){we(d,e,n,v,f,p)}}a.push(f);o.push(c)}}}return new Tn(a,o,e,n)};var cn=Jt.prototype.constructor;var hn=function(){return new cn(this._groups,this._parents)};function fn(n,r){var i,a,o;return function(){var t=et(this,n),e=(this.style.removeProperty(n),et(this,n));return t===e?null:t===i&&e===a?o:o=r(i=t,a=e)}}function dn(t){return function(){this.style.removeProperty(t)}}function pn(e,n,r){var i,a;return function(){var t=et(this,e);return t===r?null:t===i?a:a=n(i=t,r)}}function vn(n,r,i){var a,o,s;return function(){var t=et(this,n),e=i(this);if(e==null)e=(this.style.removeProperty(n),et(this,n));return t===e?null:t===a&&e===o?s:s=r(a=t,o=e)}}var gn=function(t,e,n){var r=(t+="")==="transform"?je["interpolateTransformCss"]:Pe;return e==null?this.styleTween(t,fn(t,r)).on("end.style."+t,dn(t)):this.styleTween(t,typeof e==="function"?vn(t,r,Re(this,"style."+t,e)):pn(t,r,e+""),n)};function mn(r,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),i)}}e._value=t;return e}var yn=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;return this.tween(r,mn(t,e,n==null?"":n))};function _n(t){return function(){this.textContent=t}}function bn(e){return function(){var t=e(this);this.textContent=t==null?"":t}}var On=function(t){return this.tween("text",typeof t==="function"?bn(Re(this,"text",t)):_n(t==null?"":t+""))};var wn=function(){var t=this._name,e=this._id,n=En();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=xe(u,e);we(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Tn(r,this._parents,t,n)};var Sn=0;function Tn(t,e,n,r){this._groups=t;this._parents=e;this._name=n;this._id=r}function xn(t){return Jt().transition(t)}function En(){return++Sn}var Cn=Jt.prototype;Tn.prototype=xn.prototype={constructor:Tn,select:un,selectAll:ln,filter:tn,merge:en,selection:hn,transition:wn,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:an,attr:Ue,attrTween:Ve,style:gn,styleTween:yn,text:On,remove:sn,tween:Ie,delay:Be,duration:Ze,ease:Je};var Mn=n(332);var jn={time:null,delay:0,duration:250,ease:Mn["easeCubicInOut"]};function An(t,e){var n;while(!(n=t.__transition)||!(n=n[e])){if(!(t=t.parentNode)){return jn.time=Object(fe["now"])(),jn}}return n}var kn=function(t){var e,n;if(t instanceof Tn){e=t._id,t=t._name}else{e=En(),(n=jn).time=Object(fe["now"])(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){we(u,t,e,l,o,n||An(u,e))}}}return new Tn(r,this._parents,t,e)};Jt.prototype.interrupt=Me;Jt.prototype.transition=kn;var In=[null];var Rn=function(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n){if((r=n[i]).state>ge&&r.name===e){return new Tn([[t]],In,e,+i)}}}return null};var Dn=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var Pn=function(o){if(o.length===1)o=Nn(o);return{left:function t(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(o(e[a],n)<0)r=a+1;else i=a}return r},right:function t(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(o(e[a],n)>0)i=a;else r=a+1}return r}}};function Nn(n){return function(t,e){return Dn(n(t),e)}}var Ln=Pn(Dn);var $n=Ln.right;var Fn=Ln.left;var Gn=$n;var Hn=function(t,e){if(e==null)e=Un;var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);while(n<r){a[n]=e(i,i=t[++n])}return a};function Un(t,e){return[t,e]}var Wn=function(t,e,n){var r=t.length,i=e.length,a=new Array(r*i),o,s,u,l;if(n==null)n=Un;for(o=u=0;o<r;++o){for(l=t[o],s=0;s<i;++s,++u){a[u]=n(l,e[s])}}return a};var Yn=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN};var Vn=function(t){return t===null?NaN:+t};var qn=function(t,e){var n=t.length,r=0,i=-1,a=0,o,s,u=0;if(e==null){while(++i<n){if(!isNaN(o=Vn(t[i]))){s=o-a;a+=s/++r;u+=s*(o-a)}}}else{while(++i<n){if(!isNaN(o=Vn(e(t[i],i,t)))){s=o-a;a+=s/++r;u+=s*(o-a)}}}if(r>1)return u/(r-1)};var zn=function(t,e){var n=qn(t,e);return n?Math.sqrt(n):n};var Bn=function(t,e){var n=t.length,r=-1,i,a,o;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=o=i;while(++r<n){if((i=t[r])!=null){if(a>i)a=i;if(o<i)o=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=o=i;while(++r<n){if((i=e(t[r],r,t))!=null){if(a>i)a=i;if(o<i)o=i}}}}}return[a,o]};var Kn=Array.prototype;var Xn=Kn.slice;var Zn=Kn.map;var Qn=function(t){return function(){return t}};var Jn=function(t){return t};var tr=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);while(++r<i){a[r]=t+r*n}return a};var er=Math.sqrt(50),nr=Math.sqrt(10),rr=Math.sqrt(2);var ir=function(t,e,n){var r,i=-1,a,o,s;e=+e,t=+t,n=+n;if(t===e&&n>0)return[t];if(r=e<t)a=t,t=e,e=a;if((s=ar(t,e,n))===0||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s);e=Math.floor(e/s);o=new Array(a=Math.ceil(e-t+1));while(++i<a){o[i]=(t+i)*s}}else{t=Math.floor(t*s);e=Math.ceil(e*s);o=new Array(a=Math.ceil(t-e+1));while(++i<a){o[i]=(t-i)/s}}if(r)o.reverse();return o};function ar(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=er?10:a>=nr?5:a>=rr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=er?10:a>=nr?5:a>=rr?2:1)}function or(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;if(a>=er)i*=10;else if(a>=nr)i*=5;else if(a>=rr)i*=2;return e<t?-i:i}var sr=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1};var ur=function(){var f=Jn,d=Bn,p=sr;function e(t){var e,n=t.length,r,i=new Array(n);for(e=0;e<n;++e){i[e]=f(t[e],e,t)}var a=d(i),o=a[0],s=a[1],u=p(i,o,s);if(!Array.isArray(u)){u=or(o,s,u);u=tr(Math.ceil(o/u)*u,s,u)}var l=u.length;while(u[0]<=o){u.shift(),--l}while(u[l-1]>s){u.pop(),--l}var c=new Array(l+1),h;for(e=0;e<=l;++e){h=c[e]=[];h.x0=e>0?u[e-1]:o;h.x1=e<l?u[e]:s}for(e=0;e<n;++e){r=i[e];if(o<=r&&r<=s){c[Gn(u,r,0,l)].push(t[e])}}return c}e.value=function(t){return arguments.length?(f=typeof t==="function"?t:Qn(t),e):f};e.domain=function(t){return arguments.length?(d=typeof t==="function"?t:Qn([t[0],t[1]]),e):d};e.thresholds=function(t){return arguments.length?(p=typeof t==="function"?t:Array.isArray(t)?Qn(Xn.call(t)):Qn(t),e):p};return e};var lr=function(t,e,n){if(n==null)n=Vn;if(!(r=t.length))return;if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)};var cr=function(t,e,n){t=Zn.call(t,Vn).sort(Dn);return Math.ceil((n-e)/(2*(lr(t,.75)-lr(t,.25))*Math.pow(t.length,-1/3)))};var hr=function(t,e,n){return Math.ceil((n-e)/(3.5*zn(t)*Math.pow(t.length,-1/3)))};var fr=function(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&i>a){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&i>a){a=i}}}}}return a};var dr=function(t,e){var n=t.length,r=n,i=-1,a,o=0;if(e==null){while(++i<n){if(!isNaN(a=Vn(t[i])))o+=a;else--r}}else{while(++i<n){if(!isNaN(a=Vn(e(t[i],i,t))))o+=a;else--r}}if(r)return o/r};var pr=function(t,e){var n=t.length,r=-1,i,a=[];if(e==null){while(++r<n){if(!isNaN(i=Vn(t[r]))){a.push(i)}}}else{while(++r<n){if(!isNaN(i=Vn(e(t[r],r,t)))){a.push(i)}}}return lr(a.sort(Dn),.5)};var vr=function(t){var e=t.length,n,r=-1,i=0,a,o;while(++r<e){i+=t[r].length}a=new Array(i);while(--e>=0){o=t[e];n=o.length;while(--n>=0){a[--i]=o[n]}}return a};var gr=function(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&a>i){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&a>i){a=i}}}}}return a};var mr=function(t,e){var n=e.length,r=new Array(n);while(n--){r[n]=t[e[n]]}return r};var yr=function(t,e){if(!(n=t.length))return;var n,r=0,i=0,a,o=t[i];if(e==null)e=Dn;while(++r<n){if(e(a=t[r],o)<0||e(o,o)!==0){o=a,i=r}}if(e(o,o)===0)return i};var _r=function(t,e,n){var r=(n==null?t.length:n)-(e=e==null?0:+e),i,a;while(r){a=Math.random()*r--|0;i=t[r+e];t[r+e]=t[a+e];t[a+e]=i}return t};var br=function(t,e){var n=t.length,r=-1,i,a=0;if(e==null){while(++r<n){if(i=+t[r])a+=i}}else{while(++r<n){if(i=+e(t[r],r,t))a+=i}}return a};var Or=function(t){if(!(a=t.length))return[];for(var e=-1,n=gr(t,wr),r=new Array(n);++e<n;){for(var i=-1,a,o=r[e]=new Array(a);++i<a;){o[i]=t[i][e]}}return r};function wr(t){return t.length}var Sr=function(){return Or(arguments)};var Tr=Array.prototype.slice;var xr=function(t){return t};var Er=1,Cr=2,Mr=3,jr=4,Ar=1e-6;function kr(t){return"translate("+(t+.5)+",0)"}function Ir(t){return"translate(0,"+(t+.5)+")"}function Rr(e){return function(t){return+e(t)}}function Dr(e){var n=Math.max(0,e.bandwidth()-1)/2;if(e.round())n=Math.round(n);return function(t){return+e(t)+n}}function Pr(){return!this.__axis}function Nr(v,g){var m=[],y=null,_=null,b=6,O=6,w=3,S=v===Er||v===jr?-1:1,T=v===jr||v===Cr?"x":"y",x=v===Er||v===Mr?kr:Ir;function e(t){var e=y==null?g.ticks?g.ticks.apply(g,m):g.domain():y,n=_==null?g.tickFormat?g.tickFormat.apply(g,m):xr:_,r=Math.max(b,0)+w,i=g.range(),a=+i[0]+.5,o=+i[i.length-1]+.5,s=(g.bandwidth?Dr:Rr)(g.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=u.selectAll(".tick").data(e,g).order(),h=c.exit(),f=c.enter().append("g").attr("class","tick"),d=c.select("line"),p=c.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));c=c.merge(f);d=d.merge(f.append("line").attr("stroke","currentColor").attr(T+"2",S*b));p=p.merge(f.append("text").attr("fill","currentColor").attr(T,S*r).attr("dy",v===Er?"0em":v===Mr?"0.71em":"0.32em"));if(t!==u){l=l.transition(t);c=c.transition(t);d=d.transition(t);p=p.transition(t);h=h.transition(t).attr("opacity",Ar).attr("transform",function(t){return isFinite(t=s(t))?x(t):this.getAttribute("transform")});f.attr("opacity",Ar).attr("transform",function(t){var e=this.parentNode.__axis;return x(e&&isFinite(e=e(t))?e:s(t))})}h.remove();l.attr("d",v===jr||v==Cr?"M"+S*O+","+a+"H0.5V"+o+"H"+S*O:"M"+a+","+S*O+"V0.5H"+o+"V"+S*O);c.attr("opacity",1).attr("transform",function(t){return x(s(t))});d.attr(T+"2",S*b);p.attr(T,S*r).text(n);u.filter(Pr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",v===Cr?"start":v===jr?"end":"middle");u.each(function(){this.__axis=s})}e.scale=function(t){return arguments.length?(g=t,e):g};e.ticks=function(){return m=Tr.call(arguments),e};e.tickArguments=function(t){return arguments.length?(m=t==null?[]:Tr.call(t),e):m.slice()};e.tickValues=function(t){return arguments.length?(y=t==null?null:Tr.call(t),e):y&&y.slice()};e.tickFormat=function(t){return arguments.length?(_=t,e):_};e.tickSize=function(t){return arguments.length?(b=O=+t,e):b};e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b};e.tickSizeOuter=function(t){return arguments.length?(O=+t,e):O};e.tickPadding=function(t){return arguments.length?(w=+t,e):w};return e}function Lr(t){return Nr(Er,t)}function $r(t){return Nr(Cr,t)}function Fr(t){return Nr(Mr,t)}function Gr(t){return Nr(jr,t)}var Hr=n(305);var Ur=Array.prototype;var Wr=Ur.map;var Yr=Ur.slice;var Vr={name:"implicit"};function qr(r){var a=Object(Hr["map"])(),o=[],i=Vr;r=r==null?[]:Yr.call(r);function s(t){var e=t+"",n=a.get(e);if(!n){if(i!==Vr)return i;a.set(e,n=o.push(t))}return r[(n-1)%r.length]}s.domain=function(t){if(!arguments.length)return o.slice();o=[],a=Object(Hr["map"])();var e=-1,n=t.length,r,i;while(++e<n){if(!a.has(i=(r=t[e])+""))a.set(i,o.push(r))}return s};s.range=function(t){return arguments.length?(r=Yr.call(t),s):r.slice()};s.unknown=function(t){return arguments.length?(i=t,s):i};s.copy=function(){return qr().domain(o).range(r).unknown(i)};return s}function zr(){var t=qr().unknown(undefined),a=t.domain,o=t.range,s=[0,1],u,l,c=false,h=0,f=0,d=.5;delete t.unknown;function e(){var t=a().length,e=s[1]<s[0],n=s[e-0],r=s[1-e];u=(r-n)/Math.max(1,t-h+f*2);if(c)u=Math.floor(u);n+=(r-n-u*(t-h))*d;l=u*(1-h);if(c)n=Math.round(n),l=Math.round(l);var i=tr(t).map(function(t){return n+u*t});return o(e?i.reverse():i)}t.domain=function(t){return arguments.length?(a(t),e()):a()};t.range=function(t){return arguments.length?(s=[+t[0],+t[1]],e()):s.slice()};t.rangeRound=function(t){return s=[+t[0],+t[1]],c=true,e()};t.bandwidth=function(){return l};t.step=function(){return u};t.round=function(t){return arguments.length?(c=!!t,e()):c};t.padding=function(t){return arguments.length?(h=f=Math.max(0,Math.min(1,t)),e()):h};t.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h};t.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f};t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d};t.copy=function(){return zr().domain(a()).range(s).round(c).paddingInner(h).paddingOuter(f).align(d)};return e()}function Br(t){var e=t.copy;t.padding=t.paddingOuter;delete t.paddingInner;delete t.paddingOuter;t.copy=function(){return Br(e())};return t}function Kr(){return Br(zr().paddingInner(1))}var Xr=function(t){return function(){return t}};var Zr=function(t){return+t};var Qr=[0,1];function Jr(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Xr(n)}function ti(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function ei(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function ni(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];if(a<i)i=n(a,i),o=r(s,o);else i=n(i,a),o=r(o,s);return function(t){return o(i(t))}}function ri(n,t,e,r){var i=Math.min(n.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;if(n[i]<n[0]){n=n.slice().reverse();t=t.slice().reverse()}while(++s<i){a[s]=e(n[s],n[s+1]);o[s]=r(t[s],t[s+1])}return function(t){var e=Gn(n,t,1,i)-1;return o[e](a[e](t))}}function ii(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ai(e,n){var r=Qr,i=Qr,a=je["interpolate"],o=false,s,u,l;function c(){s=Math.min(r.length,i.length)>2?ri:ni;u=l=null;return t}function t(t){return(u||(u=s(r,i,o?ti(e):e,a)))(+t)}t.invert=function(t){return(l||(l=s(i,r,Jr,o?ei(n):n)))(+t)};t.domain=function(t){return arguments.length?(r=Wr.call(t,Zr),c()):r.slice()};t.range=function(t){return arguments.length?(i=Yr.call(t),c()):i.slice()};t.rangeRound=function(t){return i=Yr.call(t),a=je["interpolateRound"],c()};t.clamp=function(t){return arguments.length?(o=!!t,c()):o};t.interpolate=function(t){return arguments.length?(a=t,c()):a};return c()}var oi=n(175);var si=function(t,e,n){var r=t[0],i=t[t.length-1],a=or(r,i,e==null?10:e),o;n=Object(oi["formatSpecifier"])(n==null?",f":n);switch(n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(i));if(n.precision==null&&!isNaN(o=Object(oi["precisionPrefix"])(a,s)))n.precision=o;return Object(oi["formatPrefix"])(n,s)}case"":case"e":case"g":case"p":case"r":{if(n.precision==null&&!isNaN(o=Object(oi["precisionRound"])(a,Math.max(Math.abs(r),Math.abs(i)))))n.precision=o-(n.type==="e");break}case"f":case"%":{if(n.precision==null&&!isNaN(o=Object(oi["precisionFixed"])(a)))n.precision=o-(n.type==="%")*2;break}}return Object(oi["format"])(n)};function ui(s){var u=s.domain;s.ticks=function(t){var e=u();return ir(e[0],e[e.length-1],t==null?10:t)};s.tickFormat=function(t,e){return si(u(),t,e)};s.nice=function(t){if(t==null)t=10;var e=u(),n=0,r=e.length-1,i=e[n],a=e[r],o;if(a<i){o=i,i=a,a=o;o=n,n=r,r=o}o=ar(i,a,t);if(o>0){i=Math.floor(i/o)*o;a=Math.ceil(a/o)*o;o=ar(i,a,t)}else if(o<0){i=Math.ceil(i*o)/o;a=Math.floor(a*o)/o;o=ar(i,a,t)}if(o>0){e[n]=Math.floor(i/o)*o;e[r]=Math.ceil(a/o)*o;u(e)}else if(o<0){e[n]=Math.ceil(i*o)/o;e[r]=Math.floor(a*o)/o;u(e)}return s};return s}function li(){var t=ai(Jr,je["interpolateNumber"]);t.copy=function(){return ii(t,li())};return ui(t)}function ci(){var e=[0,1];function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=Wr.call(t,Zr),n):e.slice()};n.copy=function(){return ci().domain(e)};return ui(n)}var hi=function(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;if(a<i){o=n,n=r,r=o;o=i,i=a,a=o}t[n]=e.floor(i);t[r]=e.ceil(a);return t};function fi(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:Xr(n)}function di(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function pi(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vi(e){return e===10?pi:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function gi(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function mi(e){return function(t){return-e(-t)}}function yi(){var e=ai(fi,di).domain([1,10]),f=e.domain,d=10,p=gi(10),v=vi(10);function n(){p=gi(d),v=vi(d);if(f()[0]<0)p=mi(p),v=mi(v);return e}e.base=function(t){return arguments.length?(d=+t,n()):d};e.domain=function(t){return arguments.length?(f(t),n()):f()};e.ticks=function(t){var e=f(),n=e[0],r=e[e.length-1],i;if(i=r<n)a=n,n=r,r=a;var a=p(n),o=p(r),s,u,l,c=t==null?10:+t,h=[];if(!(d%1)&&o-a<c){a=Math.round(a)-1,o=Math.round(o)+1;if(n>0)for(;a<o;++a){for(u=1,s=v(a);u<d;++u){l=s*u;if(l<n)continue;if(l>r)break;h.push(l)}}else for(;a<o;++a){for(u=d-1,s=v(a);u>=1;--u){l=s*u;if(l<n)continue;if(l>r)break;h.push(l)}}}else{h=ir(a,o,Math.min(o-a,c)).map(v)}return i?h.reverse():h};e.tickFormat=function(t,n){if(n==null)n=d===10?".0e":",";if(typeof n!=="function")n=Object(oi["format"])(n);if(t===Infinity)return n;if(t==null)t=10;var r=Math.max(1,d*t/e.ticks().length);return function(t){var e=t/v(Math.round(p(t)));if(e*d<d-.5)e*=d;return e<=r?n(t):""}};e.nice=function(){return f(hi(f(),{floor:function t(e){return v(Math.floor(p(e)))},ceil:function t(e){return v(Math.ceil(p(e)))}}))};e.copy=function(){return ii(e,yi().base(d))};return e}function _i(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function bi(){var r=1,t=ai(n,i),e=t.domain;function n(e,n){return(n=_i(n,r)-(e=_i(e,r)))?function(t){return(_i(t,r)-e)/n}:Xr(n)}function i(e,n){n=_i(n,r)-(e=_i(e,r));return function(t){return _i(e+n*t,1/r)}}t.exponent=function(t){return arguments.length?(r=+t,e(e())):r};t.copy=function(){return ii(t,bi().exponent(r))};return ui(t)}function Oi(){return bi().exponent(.5)}function wi(){var i=[],n=[],r=[];function a(){var t=0,e=Math.max(1,n.length);r=new Array(e-1);while(++t<e){r[t-1]=lr(i,t/e)}return o}function o(t){if(!isNaN(t=+t))return n[Gn(r,t)]}o.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[e>0?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]};o.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e=0,n=t.length,r;e<n;++e){if(r=t[e],r!=null&&!isNaN(r=+r))i.push(r)}i.sort(Dn);return a()};o.range=function(t){return arguments.length?(n=Yr.call(t),a()):n.slice()};o.quantiles=function(){return r.slice()};o.copy=function(){return wi().domain(i).range(n)};return o}function Si(){var n=0,r=1,i=1,a=[.5],o=[0,1];function e(t){if(t<=t)return o[Gn(a,t,0,i)]}function s(){var t=-1;a=new Array(i);while(++t<i){a[t]=((t+1)*r-(t-i)*n)/(i+1)}return e}e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]};e.range=function(t){return arguments.length?(i=(o=Yr.call(t)).length-1,s()):o.slice()};e.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,a[0]]:e>=i?[a[i-1],r]:[a[e-1],a[e]]};e.copy=function(){return Si().domain([n,r]).range(o)};return ui(e)}function Ti(){var n=[.5],r=[0,1],e=1;function i(t){if(t<=t)return r[Gn(n,t,0,e)]}i.domain=function(t){return arguments.length?(n=Yr.call(t),e=Math.min(n.length,r.length-1),i):n.slice()};i.range=function(t){return arguments.length?(r=Yr.call(t),e=Math.min(n.length,r.length-1),i):r.slice()};i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]};i.copy=function(){return Ti().domain(n).range(r)};return i}var xi=n(103);var Ei=n(283);var Ci=1e3,Mi=Ci*60,ji=Mi*60,Ai=ji*24,ki=Ai*7,Ii=Ai*30,Ri=Ai*365;function Di(t){return new Date(t)}function Pi(t){return t instanceof Date?+t:+new Date(+t)}function Ni(o,e,n,r,i,a,s,u,l){var c=ai(Jr,je["interpolateNumber"]),h=c.invert,f=c.domain;var d=l(".%L"),p=l(":%S"),v=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),_=l("%B"),b=l("%Y");var O=[[s,1,Ci],[s,5,5*Ci],[s,15,15*Ci],[s,30,30*Ci],[a,1,Mi],[a,5,5*Mi],[a,15,15*Mi],[a,30,30*Mi],[i,1,ji],[i,3,3*ji],[i,6,6*ji],[i,12,12*ji],[r,1,Ai],[r,2,2*Ai],[n,1,ki],[e,1,Ii],[e,3,3*Ii],[o,1,Ri]];function w(t){return(s(t)<t?d:a(t)<t?p:i(t)<t?v:r(t)<t?g:e(t)<t?n(t)<t?m:y:o(t)<t?_:b)(t)}function S(t,e,n,r){if(t==null)t=10;if(typeof t==="number"){var i=Math.abs(n-e)/t,a=Pn(function(t){return t[2]}).right(O,i);if(a===O.length){r=or(e/Ri,n/Ri,t);t=o}else if(a){a=O[i/O[a-1][2]<O[a][2]/i?a-1:a];r=a[1];t=a[0]}else{r=Math.max(or(e,n,t),1);t=u}}return r==null?t:t.every(r)}c.invert=function(t){return new Date(h(t))};c.domain=function(t){return arguments.length?f(Wr.call(t,Pi)):f().map(Di)};c.ticks=function(t,e){var n=f(),r=n[0],i=n[n.length-1],a=i<r,o;if(a)o=r,r=i,i=o;o=S(t,r,i,e);o=o?o.range(r,i+1):[];return a?o.reverse():o};c.tickFormat=function(t,e){return e==null?w:l(e)};c.nice=function(t,e){var n=f();return(t=S(t,n[0],n[n.length-1],e))?f(hi(n,t)):c};c.copy=function(){return ii(c,Ni(o,e,n,r,i,a,s,u,l))};return c}var Li=function(){return Ni(xi["timeYear"],xi["timeMonth"],xi["timeWeek"],xi["timeDay"],xi["timeHour"],xi["timeMinute"],xi["timeSecond"],xi["timeMillisecond"],Ei["timeFormat"]).domain([new Date(2e3,0,1),new Date(2e3,0,2)])};var $i=function(){return Ni(xi["utcYear"],xi["utcMonth"],xi["utcWeek"],xi["utcDay"],xi["utcHour"],xi["utcMinute"],xi["utcSecond"],xi["utcMillisecond"],Ei["utcFormat"]).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function Fi(n){var r=0,e=1,i=1,a=false;function o(t){var e=(t-r)*i;return n(a?Math.max(0,Math.min(1,e)):e)}o.domain=function(t){return arguments.length?(r=+t[0],e=+t[1],i=r===e?0:1/(e-r),o):[r,e]};o.clamp=function(t){return arguments.length?(a=!!t,o):a};o.interpolator=function(t){return arguments.length?(n=t,o):n};o.copy=function(){return Fi(n).domain([r,e]).clamp(a)};return ui(o)}function Gi(n){var e=0,r=.5,i=1,a=1,o=1,s=false;function u(t){var e=.5+((t=+t)-r)*(t<r?a:o);return n(s?Math.max(0,Math.min(1,e)):e)}u.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=+t[2],a=e===r?0:.5/(r-e),o=r===i?0:.5/(i-r),u):[e,r,i]};u.clamp=function(t){return arguments.length?(s=!!t,u):s};u.interpolator=function(t){return arguments.length?(n=t,u):n};u.copy=function(){return Gi(n).domain([e,r,i]).clamp(s)};return ui(u)}var Hi=n(158);var Ui=function(e){return function t(){return e}};var Wi=Math.abs;var Yi=Math.atan2;var Vi=Math.cos;var qi=Math.max;var zi=Math.min;var Bi=Math.sin;var Ki=Math.sqrt;var Xi=1e-12;var Zi=Math.PI;var Qi=Zi/2;var Ji=2*Zi;function ta(t){return t>1?0:t<-1?Zi:Math.acos(t)}function ea(t){return t>=1?Qi:t<=-1?-Qi:Math.asin(t)}function na(t){return t.innerRadius}function ra(t){return t.outerRadius}function ia(t){return t.startAngle}function aa(t){return t.endAngle}function oa(t){return t&&t.padAngle}function sa(t,e,n,r,i,a,o,s){var u=n-t,l=r-e,c=o-i,h=s-a,f=(c*(e-a)-h*(t-i))/(h*u-c*l);return[t+f*u,e+f*l]}function ua(t,e,n,r,i,a,o){var s=t-n,u=e-r,l=(o?a:-a)/Ki(s*s+u*u),c=l*u,h=-l*s,f=t+c,d=e+h,p=n+c,v=r+h,g=(f+p)/2,m=(d+v)/2,y=p-f,_=v-d,b=y*y+_*_,O=i-a,w=f*v-p*d,S=(_<0?-1:1)*Ki(qi(0,O*O*b-w*w)),T=(w*_-y*S)/b,x=(-w*y-_*S)/b,E=(w*_+y*S)/b,C=(-w*y+_*S)/b,M=T-g,j=x-m,A=E-g,k=C-m;if(M*M+j*j>A*A+k*k)T=E,x=C;return{cx:T,cy:x,x01:-c,y01:-h,x11:T*(i/O-1),y11:x*(i/O-1)}}var la=function(){var $=na,F=ra,G=Ui(0),H=null,U=ia,W=aa,Y=oa,V=null;function e(){var t,e,n=+$.apply(this,arguments),r=+F.apply(this,arguments),i=U.apply(this,arguments)-Qi,a=W.apply(this,arguments)-Qi,o=Wi(a-i),s=a>i;if(!V)V=t=Object(Hi["path"])();if(r<n)e=r,r=n,n=e;if(!(r>Xi))V.moveTo(0,0);else if(o>Ji-Xi){V.moveTo(r*Vi(i),r*Bi(i));V.arc(0,0,r,i,a,!s);if(n>Xi){V.moveTo(n*Vi(a),n*Bi(a));V.arc(0,0,n,a,i,s)}}else{var u=i,l=a,c=i,h=a,f=o,d=o,p=Y.apply(this,arguments)/2,v=p>Xi&&(H?+H.apply(this,arguments):Ki(n*n+r*r)),g=zi(Wi(r-n)/2,+G.apply(this,arguments)),m=g,y=g,_,b;if(v>Xi){var O=ea(v/n*Bi(p)),w=ea(v/r*Bi(p));if((f-=O*2)>Xi)O*=s?1:-1,c+=O,h-=O;else f=0,c=h=(i+a)/2;if((d-=w*2)>Xi)w*=s?1:-1,u+=w,l-=w;else d=0,u=l=(i+a)/2}var S=r*Vi(u),T=r*Bi(u),x=n*Vi(h),E=n*Bi(h);if(g>Xi){var C=r*Vi(l),M=r*Bi(l),j=n*Vi(c),A=n*Bi(c);if(o<Zi){var k=f>Xi?sa(S,T,j,A,C,M,x,E):[x,E],I=S-k[0],R=T-k[1],D=C-k[0],P=M-k[1],N=1/Bi(ta((I*D+R*P)/(Ki(I*I+R*R)*Ki(D*D+P*P)))/2),L=Ki(k[0]*k[0]+k[1]*k[1]);m=zi(g,(n-L)/(N-1));y=zi(g,(r-L)/(N+1))}}if(!(d>Xi))V.moveTo(S,T);else if(y>Xi){_=ua(j,A,S,T,r,y,s);b=ua(C,M,x,E,r,y,s);V.moveTo(_.cx+_.x01,_.cy+_.y01);if(y<g)V.arc(_.cx,_.cy,y,Yi(_.y01,_.x01),Yi(b.y01,b.x01),!s);else{V.arc(_.cx,_.cy,y,Yi(_.y01,_.x01),Yi(_.y11,_.x11),!s);V.arc(0,0,r,Yi(_.cy+_.y11,_.cx+_.x11),Yi(b.cy+b.y11,b.cx+b.x11),!s);V.arc(b.cx,b.cy,y,Yi(b.y11,b.x11),Yi(b.y01,b.x01),!s)}}else V.moveTo(S,T),V.arc(0,0,r,u,l,!s);if(!(n>Xi)||!(f>Xi))V.lineTo(x,E);else if(m>Xi){_=ua(x,E,C,M,n,-m,s);b=ua(S,T,j,A,n,-m,s);V.lineTo(_.cx+_.x01,_.cy+_.y01);if(m<g)V.arc(_.cx,_.cy,m,Yi(_.y01,_.x01),Yi(b.y01,b.x01),!s);else{V.arc(_.cx,_.cy,m,Yi(_.y01,_.x01),Yi(_.y11,_.x11),!s);V.arc(0,0,n,Yi(_.cy+_.y11,_.cx+_.x11),Yi(b.cy+b.y11,b.cx+b.x11),s);V.arc(b.cx,b.cy,m,Yi(b.y11,b.x11),Yi(b.y01,b.x01),!s)}}else V.arc(0,0,n,h,c,s)}V.closePath();if(t)return V=null,t+""||null}e.centroid=function(){var t=(+$.apply(this,arguments)+ +F.apply(this,arguments))/2,e=(+U.apply(this,arguments)+ +W.apply(this,arguments))/2-Zi/2;return[Vi(e)*t,Bi(e)*t]};e.innerRadius=function(t){return arguments.length?($=typeof t==="function"?t:Ui(+t),e):$};e.outerRadius=function(t){return arguments.length?(F=typeof t==="function"?t:Ui(+t),e):F};e.cornerRadius=function(t){return arguments.length?(G=typeof t==="function"?t:Ui(+t),e):G};e.padRadius=function(t){return arguments.length?(H=t==null?null:typeof t==="function"?t:Ui(+t),e):H};e.startAngle=function(t){return arguments.length?(U=typeof t==="function"?t:Ui(+t),e):U};e.endAngle=function(t){return arguments.length?(W=typeof t==="function"?t:Ui(+t),e):W};e.padAngle=function(t){return arguments.length?(Y=typeof t==="function"?t:Ui(+t),e):Y};e.context=function(t){return arguments.length?(V=t==null?null:t,e):V};return e};function ca(t){this._context=t}ca.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._point=0},lineEnd:function t(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};var ha=function(t){return new ca(t)};function fa(t){return t[0]}function da(t){return t[1]}var pa=function(){var o=fa,s=da,u=Ui(true),l=null,c=ha,h=null;function e(t){var e,n=t.length,r,i=false,a;if(l==null)h=c(a=Object(Hi["path"])());for(e=0;e<=n;++e){if(!(e<n&&u(r=t[e],e,t))===i){if(i=!i)h.lineStart();else h.lineEnd()}if(i)h.point(+o(r,e,t),+s(r,e,t))}if(a)return h=null,a+""||null}e.x=function(t){return arguments.length?(o=typeof t==="function"?t:Ui(+t),e):o};e.y=function(t){return arguments.length?(s=typeof t==="function"?t:Ui(+t),e):s};e.defined=function(t){return arguments.length?(u=typeof t==="function"?t:Ui(!!t),e):u};e.curve=function(t){return arguments.length?(c=t,l!=null&&(h=c(l)),e):c};e.context=function(t){return arguments.length?(t==null?l=h=null:h=c(l=t),e):l};return e};var va=function(){var c=fa,h=null,f=Ui(0),d=da,p=Ui(true),v=null,g=ha,m=null;function e(t){var e,n,r,i=t.length,a,o=false,s,u=new Array(i),l=new Array(i);if(v==null)m=g(s=Object(Hi["path"])());for(e=0;e<=i;++e){if(!(e<i&&p(a=t[e],e,t))===o){if(o=!o){n=e;m.areaStart();m.lineStart()}else{m.lineEnd();m.lineStart();for(r=e-1;r>=n;--r){m.point(u[r],l[r])}m.lineEnd();m.areaEnd()}}if(o){u[e]=+c(a,e,t),l[e]=+f(a,e,t);m.point(h?+h(a,e,t):u[e],d?+d(a,e,t):l[e])}}if(s)return m=null,s+""||null}function t(){return pa().defined(p).curve(g).context(v)}e.x=function(t){return arguments.length?(c=typeof t==="function"?t:Ui(+t),h=null,e):c};e.x0=function(t){return arguments.length?(c=typeof t==="function"?t:Ui(+t),e):c};e.x1=function(t){return arguments.length?(h=t==null?null:typeof t==="function"?t:Ui(+t),e):h};e.y=function(t){return arguments.length?(f=typeof t==="function"?t:Ui(+t),d=null,e):f};e.y0=function(t){return arguments.length?(f=typeof t==="function"?t:Ui(+t),e):f};e.y1=function(t){return arguments.length?(d=t==null?null:typeof t==="function"?t:Ui(+t),e):d};e.lineX0=e.lineY0=function(){return t().x(c).y(f)};e.lineY1=function(){return t().x(c).y(d)};e.lineX1=function(){return t().x(h).y(f)};e.defined=function(t){return arguments.length?(p=typeof t==="function"?t:Ui(!!t),e):p};e.curve=function(t){return arguments.length?(g=t,v!=null&&(m=g(v)),e):g};e.context=function(t){return arguments.length?(t==null?v=m=null:m=g(v=t),e):v};return e};var ga=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN};var ma=function(t){return t};var ya=function(){var p=ma,v=ga,g=null,m=Ui(0),y=Ui(Ji),_=Ui(0);function e(n){var t,e=n.length,r,i,a=0,o=new Array(e),s=new Array(e),u=+m.apply(this,arguments),l=Math.min(Ji,Math.max(-Ji,y.apply(this,arguments)-u)),c,h=Math.min(Math.abs(l)/e,_.apply(this,arguments)),f=h*(l<0?-1:1),d;for(t=0;t<e;++t){if((d=s[o[t]=t]=+p(n[t],t,n))>0){a+=d}}if(v!=null)o.sort(function(t,e){return v(s[t],s[e])});else if(g!=null)o.sort(function(t,e){return g(n[t],n[e])});for(t=0,i=a?(l-e*f)/a:0;t<e;++t,u=c){r=o[t],d=s[r],c=u+(d>0?d*i:0)+f,s[r]={data:n[r],index:t,value:d,startAngle:u,endAngle:c,padAngle:h}}return s}e.value=function(t){return arguments.length?(p=typeof t==="function"?t:Ui(+t),e):p};e.sortValues=function(t){return arguments.length?(v=t,g=null,e):v};e.sort=function(t){return arguments.length?(g=t,v=null,e):g};e.startAngle=function(t){return arguments.length?(m=typeof t==="function"?t:Ui(+t),e):m};e.endAngle=function(t){return arguments.length?(y=typeof t==="function"?t:Ui(+t),e):y};e.padAngle=function(t){return arguments.length?(_=typeof t==="function"?t:Ui(+t),e):_};return e};var _a=Oa(ha);function ba(t){this._curve=t}ba.prototype={areaStart:function t(){this._curve.areaStart()},areaEnd:function t(){this._curve.areaEnd()},lineStart:function t(){this._curve.lineStart()},lineEnd:function t(){this._curve.lineEnd()},point:function t(e,n){this._curve.point(n*Math.sin(e),n*-Math.cos(e))}};function Oa(e){function t(t){return new ba(e(t))}t._curve=e;return t}function wa(t){var e=t.curve;t.angle=t.x,delete t.x;t.radius=t.y,delete t.y;t.curve=function(t){return arguments.length?e(Oa(t)):e()._curve};return t}var Sa=function(){return wa(pa().curve(_a))};var Ta=function(){var t=va().curve(_a),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;t.angle=t.x,delete t.x;t.startAngle=t.x0,delete t.x0;t.endAngle=t.x1,delete t.x1;t.radius=t.y,delete t.y;t.innerRadius=t.y0,delete t.y0;t.outerRadius=t.y1,delete t.y1;t.lineStartAngle=function(){return wa(n())},delete t.lineX0;t.lineEndAngle=function(){return wa(r())},delete t.lineX1;t.lineInnerRadius=function(){return wa(i())},delete t.lineY0;t.lineOuterRadius=function(){return wa(a())},delete t.lineY1;t.curve=function(t){return arguments.length?e(Oa(t)):e()._curve};return t};var xa=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]};var Ea=Array.prototype.slice;function Ca(t){return t.source}function Ma(t){return t.target}function ja(i){var a=Ca,o=Ma,s=fa,u=da,l=null;function e(){var t,e=Ea.call(arguments),n=a.apply(this,e),r=o.apply(this,e);if(!l)l=t=Object(Hi["path"])();i(l,+s.apply(this,(e[0]=n,e)),+u.apply(this,e),+s.apply(this,(e[0]=r,e)),+u.apply(this,e));if(t)return l=null,t+""||null}e.source=function(t){return arguments.length?(a=t,e):a};e.target=function(t){return arguments.length?(o=t,e):o};e.x=function(t){return arguments.length?(s=typeof t==="function"?t:Ui(+t),e):s};e.y=function(t){return arguments.length?(u=typeof t==="function"?t:Ui(+t),e):u};e.context=function(t){return arguments.length?(l=t==null?null:t,e):l};return e}function Aa(t,e,n,r,i){t.moveTo(e,n);t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function ka(t,e,n,r,i){t.moveTo(e,n);t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Ia(t,e,n,r,i){var a=xa(e,n),o=xa(e,n=(n+i)/2),s=xa(r,n),u=xa(r,i);t.moveTo(a[0],a[1]);t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function Ra(){return ja(Aa)}function Da(){return ja(ka)}function Pa(){var t=ja(Ia);t.angle=t.x,delete t.x;t.radius=t.y,delete t.y;return t}var Na={draw:function t(e,n){var r=Math.sqrt(n/Zi);e.moveTo(r,0);e.arc(0,0,r,0,Ji)}};var La={draw:function t(e,n){var r=Math.sqrt(n/5)/2;e.moveTo(-3*r,-r);e.lineTo(-r,-r);e.lineTo(-r,-3*r);e.lineTo(r,-3*r);e.lineTo(r,-r);e.lineTo(3*r,-r);e.lineTo(3*r,r);e.lineTo(r,r);e.lineTo(r,3*r);e.lineTo(-r,3*r);e.lineTo(-r,r);e.lineTo(-3*r,r);e.closePath()}};var $a=Math.sqrt(1/3),Fa=$a*2;var Ga={draw:function t(e,n){var r=Math.sqrt(n/Fa),i=r*$a;e.moveTo(0,-r);e.lineTo(i,0);e.lineTo(0,r);e.lineTo(-i,0);e.closePath()}};var Ha=.8908130915292852,Ua=Math.sin(Zi/10)/Math.sin(7*Zi/10),Wa=Math.sin(Ji/10)*Ua,Ya=-Math.cos(Ji/10)*Ua;var Va={draw:function t(e,n){var r=Math.sqrt(n*Ha),i=Wa*r,a=Ya*r;e.moveTo(0,-r);e.lineTo(i,a);for(var o=1;o<5;++o){var s=Ji*o/5,u=Math.cos(s),l=Math.sin(s);e.lineTo(l*r,-u*r);e.lineTo(u*i-l*a,l*i+u*a)}e.closePath()}};var qa={draw:function t(e,n){var r=Math.sqrt(n),i=-r/2;e.rect(i,i,r,r)}};var za=Math.sqrt(3);var Ba={draw:function t(e,n){var r=-Math.sqrt(n/(za*3));e.moveTo(0,r*2);e.lineTo(-za*r,-r);e.lineTo(za*r,-r);e.closePath()}};var Ka=-.5,Xa=Math.sqrt(3)/2,Za=1/Math.sqrt(12),Qa=(Za/2+1)*3;var Ja={draw:function t(e,n){var r=Math.sqrt(n/Qa),i=r/2,a=r*Za,o=i,s=r*Za+r,u=-o,l=s;e.moveTo(i,a);e.lineTo(o,s);e.lineTo(u,l);e.lineTo(Ka*i-Xa*a,Xa*i+Ka*a);e.lineTo(Ka*o-Xa*s,Xa*o+Ka*s);e.lineTo(Ka*u-Xa*l,Xa*u+Ka*l);e.lineTo(Ka*i+Xa*a,Ka*a-Xa*i);e.lineTo(Ka*o+Xa*s,Ka*s-Xa*o);e.lineTo(Ka*u+Xa*l,Ka*l-Xa*u);e.closePath()}};var to=[Na,La,Ga,qa,Va,Ba,Ja];var eo=function(){var e=Ui(Na),n=Ui(64),r=null;function i(){var t;if(!r)r=t=Object(Hi["path"])();e.apply(this,arguments).draw(r,+n.apply(this,arguments));if(t)return r=null,t+""||null}i.type=function(t){return arguments.length?(e=typeof t==="function"?t:Ui(t),i):e};i.size=function(t){return arguments.length?(n=typeof t==="function"?t:Ui(+t),i):n};i.context=function(t){return arguments.length?(r=t==null?null:t,i):r};return i};var no=function(){};function ro(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function io(t){this._context=t}io.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function t(){switch(this._point){case 3:ro(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ro(this,e,n);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=n}};var ao=function(t){return new io(t)};function oo(t){this._context=t}oo.prototype={areaStart:no,areaEnd:no,lineStart:function t(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function t(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2);this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break}case 3:{this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}}},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;this._x2=e,this._y2=n;break;case 1:this._point=2;this._x3=e,this._y3=n;break;case 2:this._point=3;this._x4=e,this._y4=n;this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+n)/6);break;default:ro(this,e,n);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=n}};var so=function(t){return new oo(t)};function uo(t){this._context=t}uo.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function t(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:ro(this,e,n);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=n}};var lo=function(t){return new uo(t)};function co(t,e){this._basis=new io(t);this._beta=e}co.prototype={lineStart:function t(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function t(){var e=this._x,n=this._y,r=e.length-1;if(r>0){var i=e[0],a=n[0],o=e[r]-i,s=n[r]-a,u=-1,l;while(++u<=r){l=u/r;this._basis.point(this._beta*e[u]+(1-this._beta)*(i+l*o),this._beta*n[u]+(1-this._beta)*(a+l*s))}}this._x=this._y=null;this._basis.lineEnd()},point:function t(e,n){this._x.push(+e);this._y.push(+n)}};var ho=function e(n){function t(t){return n===1?new io(t):new co(t,n)}t.beta=function(t){return e(+t)};return t}(.85);function fo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function po(t,e){this._context=t;this._k=(1-e)/6}po.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function t(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fo(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;this._x1=e,this._y1=n;break;case 2:this._point=3;default:fo(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=n}};var vo=function e(n){function t(t){return new po(t,n)}t.tension=function(t){return e(+t)};return t}(0);function go(t,e){this._context=t;this._k=(1-e)/6}go.prototype={areaStart:no,areaEnd:no,lineStart:function t(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function t(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;this._x3=e,this._y3=n;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=n);break;case 2:this._point=3;this._x5=e,this._y5=n;break;default:fo(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=n}};var mo=function e(n){function t(t){return new go(t,n)}t.tension=function(t){return e(+t)};return t}(0);function yo(t,e){this._context=t;this._k=(1-e)/6}yo.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function t(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fo(this,e,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=n}};var _o=function e(n){function t(t){return new yo(t,n)}t.tension=function(t){return e(+t)};return t}(0);function bo(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Xi){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u;i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Xi){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c;o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Oo(t,e){this._context=t;this._alpha=e}Oo.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function t(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;if(this._point){var r=this._x2-e,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;default:bo(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=n}};var wo=function e(n){function t(t){return n?new Oo(t,n):new po(t,0)}t.alpha=function(t){return e(+t)};return t}(.5);function So(t,e){this._context=t;this._alpha=e}So.prototype={areaStart:no,areaEnd:no,lineStart:function t(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function t(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function t(e,n){e=+e,n=+n;if(this._point){var r=this._x2-e,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=e,this._y3=n;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=n);break;case 2:this._point=3;this._x5=e,this._y5=n;break;default:bo(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=n}};var To=function e(n){function t(t){return n?new So(t,n):new go(t,0)}t.alpha=function(t){return e(+t)};return t}(.5);function xo(t,e){this._context=t;this._alpha=e}xo.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function t(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function t(e,n){e=+e,n=+n;if(this._point){var r=this._x2-e,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bo(this,e,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Eo=function e(n){function t(t){return n?new xo(t,n):new yo(t,0)}t.alpha=function(t){return e(+t)};return t}(.5);function Co(t){this._context=t}Co.prototype={areaStart:no,areaEnd:no,lineStart:function t(){this._point=0},lineEnd:function t(){if(this._point)this._context.closePath()},point:function t(e,n){e=+e,n=+n;if(this._point)this._context.lineTo(e,n);else this._point=1,this._context.moveTo(e,n)}};var Mo=function(t){return new Co(t)};function jo(t){return t<0?-1:1}function Ao(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(jo(a)+jo(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ko(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Io(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Ro(t){this._context=t}Ro.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function t(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Io(this,this._t0,ko(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function t(e,n){var r=NaN;e=+e,n=+n;if(e===this._x1&&n===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;Io(this,ko(this,r=Ao(this,e,n)),r);break;default:Io(this,this._t0,r=Ao(this,e,n));break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=n;this._t0=r}};function Do(t){this._context=new Po(t)}(Do.prototype=Object.create(Ro.prototype)).point=function(t,e){Ro.prototype.point.call(this,e,t)};function Po(t){this._context=t}Po.prototype={moveTo:function t(e,n){this._context.moveTo(n,e)},closePath:function t(){this._context.closePath()},lineTo:function t(e,n){this._context.lineTo(n,e)},bezierCurveTo:function t(e,n,r,i,a,o){this._context.bezierCurveTo(n,e,i,r,o,a)}};function No(t){return new Ro(t)}function Lo(t){return new Do(t)}function $o(t){this._context=t}$o.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x=[];this._y=[]},lineEnd:function t(){var e=this._x,n=this._y,r=e.length;if(r){this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]);if(r===2){this._context.lineTo(e[1],n[1])}else{var i=Fo(e),a=Fo(n);for(var o=0,s=1;s<r;++o,++s){this._context.bezierCurveTo(i[0][o],a[0][o],i[1][o],a[1][o],e[s],n[s])}}}if(this._line||this._line!==0&&r===1)this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function t(e,n){this._x.push(+e);this._y.push(+n)}};function Fo(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);i[0]=0,a[0]=2,o[0]=t[0]+2*t[1];for(e=1;e<n-1;++e){i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1]}i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n];for(e=1;e<n;++e){r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1]}i[n-1]=o[n-1]/a[n-1];for(e=n-2;e>=0;--e){i[e]=(o[e]-i[e+1])/a[e]}a[n-1]=(t[n]+i[n-1])/2;for(e=0;e<n-1;++e){a[e]=2*t[e+1]-i[e+1]}return[i,a]}var Go=function(t){return new $o(t)};function Ho(t,e){this._context=t;this._t=e}Ho.prototype={areaStart:function t(){this._line=0},areaEnd:function t(){this._line=NaN},lineStart:function t(){this._x=this._y=NaN;this._point=0},lineEnd:function t(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function t(e,n){e=+e,n=+n;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0){this._context.lineTo(this._x,n);this._context.lineTo(e,n)}else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y);this._context.lineTo(r,n)}break}}this._x=e,this._y=n}};var Uo=function(t){return new Ho(t,.5)};function Wo(t){return new Ho(t,0)}function Yo(t){return new Ho(t,1)}var Vo=function(t,e){if(!((o=t.length)>1))return;for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n){i=a,a=t[e[n]];for(r=0;r<s;++r){a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}}};var qo=function(t){var e=t.length,n=new Array(e);while(--e>=0){n[e]=e}return n};function zo(t,e){return t[e]}var Bo=function(){var h=Ui([]),f=qo,d=Vo,p=zo;function e(t){var e=h.apply(this,arguments),n,r=t.length,i=e.length,a=new Array(i),o;for(n=0;n<i;++n){for(var s=e[n],u=a[n]=new Array(r),l=0,c;l<r;++l){u[l]=c=[0,+p(t[l],s,l,t)];c.data=t[l]}u.key=s}for(n=0,o=f(a);n<i;++n){a[o[n]].index=n}d(a,o);return a}e.keys=function(t){return arguments.length?(h=typeof t==="function"?t:Ui(Ea.call(t)),e):h};e.value=function(t){return arguments.length?(p=typeof t==="function"?t:Ui(+t),e):p};e.order=function(t){return arguments.length?(f=t==null?qo:typeof t==="function"?t:Ui(Ea.call(t)),e):f};e.offset=function(t){return arguments.length?(d=t==null?Vo:t,e):d};return e};var Ko=function(t,e){if(!((r=t.length)>0))return;for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n){o+=t[n][i][1]||0}if(o)for(n=0;n<r;++n){t[n][i][1]/=o}}Vo(t,e)};var Xo=function(t,e){if(!((u=t.length)>1))return;for(var n,r=0,i,a,o,s,u,l=t[e[0]].length;r<l;++r){for(o=s=0,n=0;n<u;++n){if((a=(i=t[e[n]][r])[1]-i[0])>=0){i[0]=o,i[1]=o+=a}else if(a<0){i[1]=s,i[0]=s+=a}else{i[0]=o}}}};var Zo=function(t,e){if(!((i=t.length)>0))return;for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o){s+=t[o][n][1]||0}r[n][1]+=r[n][0]=-s/2}Vo(t,e)};var Qo=function(t,e){if(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))return;for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,l=0;s<o;++s){var c=t[e[s]],h=c[r][1]||0,f=c[r-1][1]||0,d=(h-f)/2;for(var p=0;p<s;++p){var v=t[e[p]],g=v[r][1]||0,m=v[r-1][1]||0;d+=g-m}u+=h,l+=d*h}i[r-1][1]+=i[r-1][0]=n;if(u)n-=l/u}i[r-1][1]+=i[r-1][0]=n;Vo(t,e)};var Jo=function(t){var n=t.map(ts);return qo(t).sort(function(t,e){return n[t]-n[e]})};function ts(t){var e=0,n=-1,r=t.length,i;while(++n<r){if(i=+t[n][1])e+=i}return e}var es=function(t){return Jo(t).reverse()};var ns=function(t){var e=t.length,n,r,i=t.map(ts),a=qo(t).sort(function(t,e){return i[e]-i[t]}),o=0,s=0,u=[],l=[];for(n=0;n<e;++n){r=a[n];if(o<s){o+=i[r];u.push(r)}else{s+=i[r];l.push(r)}}return l.reverse().concat(u)};var rs=function(t){return qo(t).reverse()};var is={bisector:Pn,extent:Bn,axisBottom:Fr,axisLeft:Gr,scaleLinear:li,mouse:se,select:te,selectAll:ue,area:va,line:pa};var as=function t(e){var v=e.light!==undefined?e.light:false;var g=v?{top:0,right:0,bottom:0,left:0}:{top:10,right:20,bottom:30,left:40};var d=e.hoverCallback!==undefined?e.hoverCallback:function(){};var n=e.outCallback!==undefined?e.outCallback:function(){};var m=e.distanceExtractor;var y=e.linesConfiguration;var _=Object.keys(y).length;var p=is.bisector(function(t){return m(t)}).left;var a=e.poiExtractor;var b=e.styleDefs;var u=e.poiLabelAngle!==undefined?e.poiLabelAngle:-60;var r=e.i18n||{};var O=r.xAxis||"Distance";var w=r.yAxis||"Elevation";var S={xhover:function t(e,n){return parseFloat(e.toPrecision(3))+" "+n},yhover:function t(e,n){return e!==null?Math.round(e)+" m":""},xtick:function t(e,n){return e},ytick:function t(e,n){return e}};if(e.formatter!==undefined){N["a"](S,e.formatter)}var T=e.lightXAxis!==undefined?e.lightXAxis:false;var x;var E;var C;var M=e.scaleModifier;var j;var A;var k;var I;var R;var D;var i=function p(t){t.each(function(r){is.select(this).selectAll("svg").remove();if(r===undefined){return}k=Math.max(this.clientWidth-g.right-g.left,0);E=is.scaleLinear().range([0,k]);A=Math.max(this.clientHeight-g.top-g.bottom,0);C=is.scaleLinear().range([A,0]);var t=is.axisBottom(E);var e=is.axisLeft(C);var n;if(_===1){n=is.area().x(function(t){return E(m(t))}).y0(A).y1(function(t){var e=Object.keys(y)[0];return C(y[e].zExtractor(t))})}x=is.select(this).selectAll("svg").data([r]);var i=x.enter().append("svg");x=is.select(this).selectAll("svg").data([r]);if(b!==undefined){i.append("defs").append("style").attr("type","text/css").text(b)}var a=i.append("g");P();a.style("font","11px Arial");if(_===1){a.append("path").attr("class","area").style("fill","rgba(222, 222, 222, 0.5)")}a.insert("g",":first-child").attr("class","grid-y");if(!v){a.append("g").attr("class","x axis").attr("transform","translate(0,"+A+")");a.append("text").attr("class","x label").attr("text-anchor","end").attr("x",k-4).attr("y",A-4);a.append("g").attr("class","y axis");a.append("text").attr("class","y label").attr("text-anchor","end").attr("y",6).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","grey").text(w+" [m]");a.append("g").attr("class","metas").attr("transform","translate("+(k+3)+", 0)")}a.append("g").attr("class","pois");var o=a.append("g").attr("class","x grid-hover");o.append("svg:line").attr("stroke-dasharray","5,5");o.append("text");a.append("rect").attr("class","overlay").attr("width",k).attr("height",A).style("fill","none").style("pointer-events","all");x.attr("width",k+g.left+g.right).attr("height",A+g.top+g.bottom);j=x.select("g").attr("transform","translate("+g.left+","+g.top+")");D=is.extent(r,function(t){return m(t)});E.domain(D);var s=function(){var t=[];var e,n;for(n in y){e=is.extent(r,function(t){return y[n].zExtractor(t)});t=t.concat(e)}return[Math.min.apply(null,t),Math.max.apply(null,t)]}();C.domain(s);if(M!==undefined){M(E,C,k,A)}else{var u=(s[1]-s[0])*.1;C.domain([s[0]-u,s[1]+u])}if(_===1){j.select(".area").transition().attr("d",n)}var l,c,h;for(c in y){a.append("path").attr("class","line "+c).style("stroke",y[c].color||"#F00").style("fill","none");h=a.append("g").attr("class","y grid-hover "+c);h.append("svg:line").attr("stroke-dasharray","5,5");h.append("text");l=is.line().x(function(t){return E(m(t))}).y(function(t){return C(y[c].zExtractor(t))}).defined(function(t){return y[c].zExtractor(t)!==null});j.select(".line."+c).transition().attr("d",l)}if(D[1]>2e3){I=1e3;R="km"}else{I=1;R="m"}if(!v){t.tickFormat(function(t){return S.xtick(t/I,R)});if(T){t.tickValues([0,E.domain()[1]])}e.tickFormat(function(t){return S.ytick(t,"m")});j.select(".x.axis").transition().call(t);j.select(".x.label").text(O+" ["+R+"]").style("fill","grey").style("shape-rendering","crispEdges");if(A/15<10){e.ticks(A/15)}j.select(".y.axis").transition().call(e)}j.select(".grid-y").transition().call(e.tickSize(-k,0).tickFormat("")).selectAll(".tick line").style("stroke","#ccc").style("opacity",.7);j.selectAll(".axis").selectAll("path, line").style("fill","none").style("stroke","#000").style("shape-rendering","crispEdges");j.select(".grid-y").select("path").style("stroke","none");j.selectAll(".grid-hover line").style("stroke","#222").style("opacity",.8);j.select(".overlay").on("mouseout",d).on("mousemove",f);function f(){var t=is.mouse(this)[0];var e=E.invert(t);p.highlight(e)}function d(){p.clearHighlight()}})};i.clearHighlight=function(){j.selectAll(".grid-hover").style("display","none");n.call(null)};i.highlight=function(t){var e=x.datum();var n=p(e,t);if(n>=e.length){return}var r=e[n];var i=m(r);var a;var o=[];var s={};var u;for(u in y){a=y[u].zExtractor(r);o.push(a);s[u]=a;j.select(".y.grid-hover."+u).style("display","inline").select("line").attr("x1",E(0)).attr("y1",C(a)).attr("x2",k).attr("y2",C(a))}j.select(".x.grid-hover").style("display","inline").select("line").attr("x1",E(i)).attr("y1",A).attr("x2",E(i)).attr("y2",C(Math.max.apply(null,o)));var l=i>D[1]/2;var c=E(i);c+=l?-10:10;j.select(".x.grid-hover text").text(S.xhover(i/I,R)).style("text-anchor",l?"end":"start").attr("transform","translate("+c+","+(A-10)+")");var h="m";if(_===1){var f=o[0]===null?"no value":S.yhover(o[0],"m");j.select(".y.grid-hover text").text(f).style("text-anchor",l?"end":"start").attr("transform","translate("+c+","+(C(o[0])-10)+")")}d.call(null,r,i/I,R,s,h)};i.showPois=function(t){t=t!==undefined?t:[];h["a"].assert(t.length===0||a!==undefined);var o=a;var e=x.select("g");var s=x.datum();var n=e.select(".pois");var r=n.selectAll(".poi").data(t,function(t){var e=p(s,Math.round(o.dist(t)*10)/10,1);var n=s[e];if(n){var r;var i=[];for(r in y){i.push(y[r].zExtractor(n))}var a=Math.max.apply(null,i);o.z(t,a)}return o.id(t)});var i=r.enter().append("g").attr("class","poi");i.append("text").attr("x",v?0:9).attr("dy",".35em").attr("text-anchor",v?"middle":"start");i.append("line").style("shape-rendering","crispEdges");i.style("opacity",0).transition().duration(1e3).delay(100).style("opacity",1);i.selectAll("text").attr("transform",function(t){if(v){return["translate("+E(o.dist(t))+","+(C(o.z(t))-10)+")"]}else{return["translate("+E(o.dist(t))+","+(C(o.z(t))-20)+") rotate("+u+")"]}}).text(function(t){return o.sort(t)+(v?"":" - "+o.title(t))});i.selectAll("line").style("stroke","grey").attr("x1",function(t){return E(o.dist(t))}).attr("y1",function(t){return C(C.domain()[0])}).attr("x2",function(t){return E(o.dist(t))}).attr("y2",function(t){return C(o.z(t))});i.exit().remove()};function P(){i.showPois([])}return i};var os=as;var ss={select:te};var us=angular.module("ngeoProfile",[r["a"].name]);us.directive_=function(c){return{restrict:"A",link:function t(i,e,n){var r=n["ngeoProfileOptions"];h["a"].assert(r!==undefined);var a=ss.select(e[0]);var o,s,u;i.$watchCollection(r,function(t){var e=N["a"]({},t);if(e!==undefined){if(e.hoverCallback!==undefined){var n=e.hoverCallback;e.hoverCallback=function(){n.apply(void 0,arguments);i.$applyAsync()}}if(e.outCallback!==undefined){var r=e.outCallback;e.outCallback=function(){r();i.$applyAsync()}}o=os(e);l()}});i.$watch(n["ngeoProfile"],function(t,e){s=t;l()});i.$watch(n["ngeoProfilePois"],function(t,e){u=t;l()});i.$watch(n["ngeoProfileHighlight"],function(t,e){if(t===undefined){return}if(t>0){o.highlight(t)}else{o.clearHighlight()}});f["a"](window,"resize",c(l,50,true));function l(){if(o!==undefined){a.datum(s).call(o);if(s!==undefined){o.showPois(u)}}}}}};us.directive_.$inject=["ngeoDebounce"];us.directive("ngeoProfile",us.directive_);var ls=e["a"]=us},function(t,e,n){"use strict";var v=n(1);var g=n(91);var m=n(5);var y=n(2);var _=n(97);var b=n(87);var a=function t(e,n,r){var i=this;var a=r["ngeoLayertreeNotroot"]===undefined;this.isRoot=a;var o=r["ngeoLayertree"];this.rootScope_=n;this.properties={};this.state_="off";this.node;if(a){e.$watch(o,function(t,e){i.node=t})}else{this.node=e.$eval(o);v["a"].assert(this.node!==undefined)}var s=r["ngeoLayertreeMap"];var u=e.$eval(s);v["a"].assert(u!==undefined);this.parent=e.$parent["layertreeCtrl"];this.children=[];if(this.parent){this.parent.children.push(this)}e.$on("$destroy",function(){if(i.parent){var t=i.parent.children.indexOf(i);v["a"].assert(t>=0);i.parent.children.splice(t,1)}});this.uid=m["c"](this);this.depth=a?0:this.parent.depth+1;e["uid"]=this.uid;e["depth"]=this.depth;this.map=u;var l=r["ngeoLayertreeNodelayer"];if(l===undefined){var c=r["ngeoLayertreeNodelayerexpr"];var h=e.$eval(c);v["a"].assertString(h);l=h}v["a"].assert(l!==undefined);this.nodelayerExpr=l;this.layer=null;if(!a){var f=e.$eval(l,{treeCtrl:this})||null;if(f){v["a"].assert(f instanceof b["a"]||f instanceof _["a"]);this.layer=f}}this.dataSource_=null;if(this.layer){g["a"].layerLoading(this.layer,e);g["a"].layer(this.layer);y["a"](this.layer,"change:opacity",function(){i.rootScope_.$broadcast("ngeo-layertree-opacity",i)})}var d=r["ngeoLayertreeListeners"];if(d===undefined){var p=r["ngeoLayertreeListenersexpr"];d=e.$eval(p)}if(d!==undefined){v["a"].assertString(d)}this.listenersExpr=d;if(d){e.$eval(d,{treeScope:e,treeCtrl:this})}e["layertreeCtrl"]=this};a.$inject=["$scope","$rootScope","$attrs"];a.$inject=["$scope","$rootScope","$attrs"];a.prototype.getState=function(){return this.state_};a.prototype.setState=function(t,e){var n=this;if(t===this.state_){return}this.setStateInternal_(t);if(this.parent){this.parent.refreshState(this,e)}var r=this.isRoot?this.children:[a.getFirstParentTree(this)];if(e===undefined||e){r.forEach(function(t){n.rootScope_.$broadcast("ngeo-layertree-state",n,t)})}};a.prototype.setStateInternal_=function(t){var e=this;this.state_=t==="on"?"on":"off";if(this.state_==="on"&&this.node.metadata&&this.node.metadata.exclusiveGroup){var n;for(var r=this.children,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{a=r.next();if(a.done)break;o=a.value}var s=o;if(!n){n=s;s.setStateInternal_("on")}else{s.setStateInternal_("off")}}}else{this.children.forEach(function(t){t.setStateInternal_(e.state_)})}};a.prototype.refreshState=function(t,e){if(this.node.children&&t&&t.getState()!=="off"&&this.node.metadata&&this.node.metadata.exclusiveGroup){var n=v["a"].assert(t);this.children.forEach(function(t){if(t!==n){t.setState("off",e)}})}var r=this.getCalculateState();if(this.state_===r){return}this.state_=r;if(this.parent){this.parent.refreshState(this,e)}};a.prototype.getCalculateState=function(){if(this.node.children===undefined){return this.state_}var e;var n;this.children.some(function(t){e=t.getCalculateState();if(n){if(n!==e){return e="indeterminate"}}n=e});return e};a.prototype.getSetActive=function(t){var e=this.layer;var n=this.map;if(!e){return}if(t!==undefined){if(!t){n.removeLayer(e)}else{n.addLayer(e)}}else{return n.getLayers().getArray().indexOf(e)>=0}};a.prototype.getDataSource=function(){return this.dataSource_};a.prototype.setDataSource=function(t){this.dataSource_=t};a.getFirstParentTree=function(t){var e=t;while(!e.parent.isRoot){e=e.parent}return e};a.VisitorDecision={STOP:"STOP",SKIP:"SKIP",DESCEND:"DESCEND"};a.Visitor;a.prototype.traverseDepthFirst=function(t){var e=t(this)||a.VisitorDecision.DESCEND;switch(e){case a.VisitorDecision.STOP:return true;case a.VisitorDecision.SKIP:return false;case a.VisitorDecision.DESCEND:for(var n=0;n<this.children.length;++n){var r=this.children[n];var i=r.traverseDepthFirst(t);if(i){return true}}return false;default:v["a"].fail("Unhandled case")}};a.module=angular.module("ngeoLayertreeController",[]);a.module.controller("ngeoLayertreeController",a);var r=a;var i=n(35);var o=n.n(i);var O=n(57);function l(){l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};return l.apply(this,arguments)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function w(t,e,n){if(e)s(t.prototype,e);if(n)s(t,n);return t}var u=function(h){var n="collapse";var e="4.1.3";var f="bs.collapse";var t="."+f;var r=".data-api";var i=h.fn[n];var a={toggle:true,parent:""};var o={toggle:"boolean",parent:"(string|element)"};var d={SHOW:"show"+t,SHOWN:"shown"+t,HIDE:"hide"+t,HIDDEN:"hidden"+t,CLICK_DATA_API:"click"+t+r};var p={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"};var s={WIDTH:"width",HEIGHT:"height"};var v={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'};var u=function(){function c(e,t){this._isTransitioning=false;this._element=e;this._config=this._getConfig(t);this._triggerArray=h.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],'+('[data-toggle="collapse"][data-target="#'+e.id+'"]')));var n=[].slice.call(document.querySelectorAll(v.DATA_TOGGLE));for(var r=0,i=n.length;r<i;r++){var a=n[r];var o=O["a"].getSelectorFromElement(a);var s=[].slice.call(document.querySelectorAll(o)).filter(function(t){return t===e});if(o!==null&&s.length>0){this._selector=o;this._triggerArray.push(a)}}this._parent=this._config.parent?this._getParent():null;if(!this._config.parent){this._addAriaAndCollapsedClass(this._element,this._triggerArray)}if(this._config.toggle){this.toggle()}}var t=c.prototype;t.toggle=function t(){if(h(this._element).hasClass(p.SHOW)){this.hide()}else{this.show()}};t.show=function t(){var e=this;if(this._isTransitioning||h(this._element).hasClass(p.SHOW)){return}var n;var r;if(this._parent){n=[].slice.call(this._parent.querySelectorAll(v.ACTIVES)).filter(function(t){return t.getAttribute("data-parent")===e._config.parent});if(n.length===0){n=null}}if(n){r=h(n).not(this._selector).data(f);if(r&&r._isTransitioning){return}}var i=h.Event(d.SHOW);h(this._element).trigger(i);if(i.isDefaultPrevented()){return}if(n){c._jQueryInterface.call(h(n).not(this._selector),"hide");if(!r){h(n).data(f,null)}}var a=this._getDimension();h(this._element).removeClass(p.COLLAPSE).addClass(p.COLLAPSING);this._element.style[a]=0;if(this._triggerArray.length){h(this._triggerArray).removeClass(p.COLLAPSED).attr("aria-expanded",true)}this.setTransitioning(true);var o=function t(){h(e._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).addClass(p.SHOW);e._element.style[a]="";e.setTransitioning(false);h(e._element).trigger(d.SHOWN)};var s=a[0].toUpperCase()+a.slice(1);var u="scroll"+s;var l=O["a"].getTransitionDurationFromElement(this._element);h(this._element).one(O["a"].TRANSITION_END,o).emulateTransitionEnd(l);this._element.style[a]=this._element[u]+"px"};t.hide=function t(){var e=this;if(this._isTransitioning||!h(this._element).hasClass(p.SHOW)){return}var n=h.Event(d.HIDE);h(this._element).trigger(n);if(n.isDefaultPrevented()){return}var r=this._getDimension();this._element.style[r]=this._element.getBoundingClientRect()[r]+"px";O["a"].reflow(this._element);h(this._element).addClass(p.COLLAPSING).removeClass(p.COLLAPSE).removeClass(p.SHOW);var i=this._triggerArray.length;if(i>0){for(var a=0;a<i;a++){var o=this._triggerArray[a];var s=O["a"].getSelectorFromElement(o);if(s!==null){var u=h([].slice.call(document.querySelectorAll(s)));if(!u.hasClass(p.SHOW)){h(o).addClass(p.COLLAPSED).attr("aria-expanded",false)}}}}this.setTransitioning(true);var l=function t(){e.setTransitioning(false);h(e._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).trigger(d.HIDDEN)};this._element.style[r]="";var c=O["a"].getTransitionDurationFromElement(this._element);h(this._element).one(O["a"].TRANSITION_END,l).emulateTransitionEnd(c)};t.setTransitioning=function t(e){this._isTransitioning=e};t.dispose=function t(){h.removeData(this._element,f);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null};t._getConfig=function t(e){e=l({},a,e);e.toggle=Boolean(e.toggle);O["a"].typeCheckConfig(n,e,o);return e};t._getDimension=function t(){var e=h(this._element).hasClass(s.WIDTH);return e?s.WIDTH:s.HEIGHT};t._getParent=function t(){var n=this;var e=null;if(O["a"].isElement(this._config.parent)){e=this._config.parent;if(typeof this._config.parent.jquery!=="undefined"){e=this._config.parent[0]}}else{e=document.querySelector(this._config.parent)}var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';var i=[].slice.call(e.querySelectorAll(r));h(i).each(function(t,e){n._addAriaAndCollapsedClass(c._getTargetFromElement(e),[e])});return e};t._addAriaAndCollapsedClass=function t(e,n){if(e){var r=h(e).hasClass(p.SHOW);if(n.length){h(n).toggleClass(p.COLLAPSED,!r).attr("aria-expanded",r)}}};c._getTargetFromElement=function t(e){var n=O["a"].getSelectorFromElement(e);return n?document.querySelector(n):null};c._jQueryInterface=function t(r){return this.each(function(){var t=h(this);var e=t.data(f);var n=l({},a,t.data(),typeof r==="object"&&r?r:{});if(!e&&n.toggle&&/show|hide/.test(r)){n.toggle=false}if(!e){e=new c(this,n);t.data(f,e)}if(typeof r==="string"){if(typeof e[r]==="undefined"){throw new TypeError('No method named "'+r+'"')}e[r]()}})};w(c,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return a}}]);return c}();h(document).on(d.CLICK_DATA_API,v.DATA_TOGGLE,function(t){if(t.currentTarget.tagName==="A"){t.preventDefault()}var r=h(this);var e=O["a"].getSelectorFromElement(this);var n=[].slice.call(document.querySelectorAll(e));h(n).each(function(){var t=h(this);var e=t.data(f);var n=e?"toggle":r.data();u._jQueryInterface.call(t,n)})});h.fn[n]=u._jQueryInterface;h.fn[n].Constructor=u;h.fn[n].noConflict=function(){h.fn[n]=i;return u._jQueryInterface};return u}(o.a);var c=u;var h=angular.module("ngeoLayertree",[r.module.name]);h.value("ngeoLayertreeTemplateUrl",function(t,e){var n=e["ngeoLayertreeTemplateurl"];return n!==undefined?n:"ngeo/layertree"});h.run(["$templateCache",function(t){t.put("ngeo/layertree",n(393))}]);h.directive_=function(t){return{restrict:"A",scope:true,templateUrl:t,controller:r}};h.directive_.$inject=["ngeoLayertreeTemplateUrl"];h.directive("ngeoLayertree",h.directive_);var f=h;var d=angular.module("ngeoLayertreeModule",[f.name]);var p=e["a"]=d},function(t,e,n){"use strict";var i=n(1);var r=n(182);var a=n(9);var o=n(2);var s=n(8);var u=n(15);var l=n(27);var c=angular.module("ngeoGooglestreetview",[r["a"].module.name]);c.value("ngeoGooglestreetviewTemplateUrl",function(t){var e=t["ngeoGooglestreetviewTemplateUrl"];return e!==undefined?e:"ngeo/googlestreetview"});c.run(["$templateCache",function(t){t.put("ngeo/googlestreetview",n(389))}]);h.$inject=["$attrs","ngeoGooglestreetviewTemplateUrl"];function h(t,e){return e(t)}c.Controller_=function(){t.$inject=["$element","$scope","ngeoFeatureOverlayMgr"];function t(t,e,n){var r=this;this.active;e.$watch(function(){return r.active},this.handleActiveChange_.bind(this));this.featureStyle;this.map;this.radius;this.scope_=e;this.feature_=new u["a"];this.featureOverlay_=i["a"].assert(n.getFeatureOverlay());this.listenerKeys_=[];this.location=null;this.noDataAtLocation=false;this.panorama_=new google.maps.StreetViewPanorama(t[0],{pov:{heading:0,pitch:0},visible:false,zoom:1});this.panoramaListener_=null;this.point_=new l["a"]([0,0]);this.feature_.setGeometry(this.point_);this.streetViewService_=new google.maps.StreetViewService;this.panoramaPositionChanging_=false}var e=t.prototype;e.$onInit=function t(){var r=this;this.scope_.$watch(function(){return r.location},this.handleLocationChange_.bind(this));this.scope_.$watch(function(){var t=r.active;var e=r.location!==null;return t&&e},this.handleReadyChange_.bind(this));this.scope_.$watch(function(){var t=r.active;var e=r.location!==null;var n=r.noDataAtLocation===false;return t&&e&&n},function(t,e){if(t===e){return}r.panorama_.setVisible(t);if(t){r.panoramaListener_=google.maps.event.addListener(r.panorama_,"position_changed",r.handlePanoramaPositionChange_.bind(r))}else if(r.panoramaListener_){google.maps.event.removeListener(r.panoramaListener_);r.panoramaListener_=null}});if(this.featureStyle){this.feature_.setStyle(this.featureStyle)}};e.handleActiveChange_=function t(e){var n=this.listenerKeys_;if(e){n.push(o["a"](this.map,"click",this.handleMapClick_,this))}else{n.forEach(o["e"]);n.length=0}};e.handleLocationChange_=function t(e,n){if(e===n||Array.isArray(e)&&Array.isArray(n)&&a["b"](e,n)){return}this.point_.setCoordinates(e);if(e&&!this.panoramaPositionChanging_){var r=this.toLonLat_(e);this.streetViewService_.getPanorama({location:{lat:r[1],lng:r[0]},radius:this.radius},this.handleStreetViewServiceGetPanorama_.bind(this))}};e.handleMapClick_=function t(e){this.location=e.coordinate;this.scope_.$apply()};e.handleReadyChange_=function t(e,n){if(e===n){return}if(e){this.featureOverlay_.addFeature(this.feature_)}else{this.featureOverlay_.removeFeature(this.feature_)}};e.handleStreetViewServiceGetPanorama_=function t(e,n){var r=this.panorama_;if(n===google.maps.StreetViewStatus.OK){this.noDataAtLocation=false;r.setPosition(e.location.latLng)}else{this.noDataAtLocation=true}this.scope_.$apply()};e.handlePanoramaPositionChange_=function t(){this.panoramaPositionChanging_=true;var e=this.panorama_.getPosition();var n=[e.lng(),e.lat()];var r=this.fromLonLat_(n);this.location=r;this.scope_.$apply();this.panoramaPositionChanging_=false};e.fromLonLat_=function t(e){return s["f"](e,this.map.getView().getProjection())};e.toLonLat_=function t(e){return s["l"](e,this.map.getView().getProjection())};return t}();c.component("ngeoGooglestreetview",{bindings:{active:"<",featureStyle:"<?",map:"<",radius:"<?"},controller:c.Controller_,templateUrl:h});var f=c;var d=angular.module("ngeoGooglestreetviewModule",[f.name]);var p=e["a"]=d},function(t,e,n){"use strict";var g=n(1);var r=n(104);var m=n(233);var i=n(60);var a=n(390);var o=n(391);var s=n(193);var u=angular.module("ngeoGrid",[m["a"].module.name,r["a"].name,"floatThead"]);u.run(["$templateCache",function(t){t.put("ngeo/grid",n(392))}]);u.value("ngeoGridTemplateUrl",function(t){var e=t["ngeoGridTemplateurl"];return e!==undefined?e:"ngeo/grid"});l.$inject=["$attrs","ngeoGridTemplateUrl"];function l(t,e){return e(t)}u.component_={controller:"ngeoGridController as ctrl",bindings:{configuration:"=ngeoGridConfiguration"},templateUrl:l};u.component("ngeoGrid",u.component_);u.Controller_=function(t){this.scope_=t;this.configuration;this.selectedRows;this.sortedBy;this.sortAscending=true;this.floatTheadConfig={scrollContainer:function t(e){return e.closest(".ngeo-grid-table-container")}}};u.Controller_.$inject=["$scope"];u.Controller_.prototype.$onInit=function(){this.selectedRows=this.configuration.selectedRows};u.Controller_.prototype.sort=function(n){this.sortAscending=this.sortedBy===n?!this.sortAscending:true;this.sortedBy=n;var r=this.sortAscending?1:-1;this.configuration.data.sort(function(t,e){if(!t[n]){return 1}if(!e[n]){return-1}return t[n]>e[n]?r:-r})};u.Controller_.prototype.clickRow=function(t,e){var n=this.isShiftKeyOnly_(e);var r=this.isPlatformModifierKeyOnly_(e);this.clickRow_(t,n,r)};u.Controller_.prototype.clickRow_=function(t,e,n){if(e&&!n){this.selectRange_(t)}else if(!e&&n){this.configuration.toggleRow(t)}else{var r=this.configuration.isRowSelected(t);this.configuration.unselectAll();if(!r){this.configuration.selectRow(t)}}};u.Controller_.prototype.selectRange_=function(t){var e=m["a"].getRowUid(t);var n=this.configuration.data;if(this.configuration.isRowSelected(t)){return}var r=undefined;var i=[];for(var a=0;a<n.length;a++){var o=n[a];var s=m["a"].getRowUid(o);if(e===s){r=a}else if(this.configuration.isRowSelected(o)){i.push(a)}}g["a"].assert(r!==undefined);if(i.length==0){this.configuration.selectRow(t)}var u=Infinity;var l=i[0];for(var c=0;c<i.length;c++){var h=i[c];var f=Math.abs(h-r);if(u>f){u=f;l=h}}var d=r<l?r:l;var p=r>l?r:l;for(var v=d;v<=p;v++){this.configuration.selectRow(n[v])}};u.Controller_.prototype.preventTextSelection=function(t){var e=this.isShiftKeyOnly_(t);var n=this.isPlatformModifierKeyOnly_(t);if(e||n){t.preventDefault()}};u.Controller_.prototype.isPlatformModifierKeyOnly_=function(t){return!t.altKey&&(i["e"]?t.metaKey:t.ctrlKey)&&!t.shiftKey};u.Controller_.prototype.isShiftKeyOnly_=function(t){return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};u.controller("ngeoGridController",u.Controller_);var c=u;var h=angular.module("ngeoGridModule",[c.name]);var f=e["a"]=h},function(t,e,n){"use strict";var g=n(1);var r=n(194);var i=n(155);var s=n(251);var u=n(43);var l=n(238);var a=function(){function t(){}var e=t.prototype;e.read=function t(e){return e.map(this.readFromComplexTypeElement_)};e.readFromComplexTypeElement_=function t(e){var n=g["a"].assertString(e["name"]);var r="alias"in e?g["a"].assertString(e["alias"]):null;var i=e["minOccurs"]!="0";var a={name:n,alias:r,required:i};var o=g["a"].assertString(e["type"]);if(!s["a"].setGeometryType(a,o)){if(o==="gml:TimeInstantType"||o==="dateTime"){a.type=u["a"].DATETIME}else if(o==="date"){a.type=u["a"].DATE}else if(o==="time"){a.type=u["a"].TIME}else if(o==="decimal"||o==="double"){a.type=u["a"].NUMBER;a.numType=l["a"].NumberType.FLOAT}else if(o==="integer"||o==="long"){a.type=u["a"].NUMBER;a.numType=l["a"].NumberType.INTEGER}else if(o==="boolean"){a.type=u["a"].BOOLEAN}else{a.type=u["a"].TEXT}}return a};return t}();var m=a;var o=n(229);var c=n(2);function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function f(t,e,n){if(e)h(t.prototype,e);if(n)h(t,n);return t}var d=function(){t.$inject=["$q","ngeoDataSources","ngeoQuerent"];function t(t,e,n){this.q_=t;this.collection_=e.collection;this.ngeoQuerent_=n;this.cache_={};c["a"](this.collection_,"add",this.handleDataSourcesAdd_,this);c["a"](this.collection_,"remove",this.handleDataSourcesRemove_,this)}var e=t.prototype;e.getDataSource=function t(e){return this.cache_[e]||null};e.getDataSourceAttributes=function t(p){var v=this.q_.defer();if(p.attributes){v.resolve(p.attributes)}else{this.ngeoQuerent_.wfsDescribeFeatureType(p).then(function(t){var e=p.getOGCLayerNames()[0];g["a"].assertString(e,"The data source should have only one ogcLayer.");for(var n=t.element,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{i=n.next();if(i.done)break;a=i.value}var o=a;if(o.name===e){for(var s=t.complexType,u=Array.isArray(s),l=0,s=u?s:s[Symbol.iterator]();;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{l=s.next();if(l.done)break;c=l.value}var h=c;if(h.name==o.type){var f=h.complexContent;var d=(new m).read(f);p.setAttributes(d);v.resolve(d);break}}}}})}return v.promise};e.handleDataSourcesAdd_=function t(e){var n=g["a"].assertInstanceof(e.element,r["a"]);this.cache_[n.id]=n};e.handleDataSourcesRemove_=function t(e){var n=g["a"].assertInstanceof(e.element,r["a"]);delete this.cache_[n.id]};f(t,[{key:"collection",get:function t(){return this.collection_}}]);return t}();d.module=angular.module("ngeoDataSourcesHelper",[i["a"].module.name,o["a"].module.name]);d.module.service("ngeoDataSourcesHelper",d);var p=e["a"]=d},function(t,e,n){"use strict";var r=n(3);var i=n(172);var a=n(135);var o=n(4);var s=n(0);var u=[null,"http://www.opengis.net/ows/1.1"];var l=Object(s["q"])(u,{ServiceIdentification:Object(s["m"])(D),ServiceProvider:Object(s["m"])(N),OperationsMetadata:Object(s["m"])(I)});var c=function(t){function e(){t.call(this)}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.readFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){return this.readFromNode(n)}}return null};e.prototype.readFromNode=function t(e){var n=Object(s["t"])({},l,e,[]);return n?n:null};return e}(a["a"]);var h=Object(s["q"])(u,{DeliveryPoint:Object(s["m"])(o["h"]),City:Object(s["m"])(o["h"]),AdministrativeArea:Object(s["m"])(o["h"]),PostalCode:Object(s["m"])(o["h"]),Country:Object(s["m"])(o["h"]),ElectronicMailAddress:Object(s["m"])(o["h"])});var f=Object(s["q"])(u,{Value:Object(s["l"])(L)});var d=Object(s["q"])(u,{AllowedValues:Object(s["m"])(x)});var p=Object(s["q"])(u,{Phone:Object(s["m"])(R),Address:Object(s["m"])(T)});var v=Object(s["q"])(u,{HTTP:Object(s["m"])(A)});var g=Object(s["q"])(u,{Get:Object(s["l"])(j),Post:undefined});var m=Object(s["q"])(u,{DCP:Object(s["m"])(M)});var y=Object(s["q"])(u,{Operation:k});var _=Object(s["q"])(u,{Voice:Object(s["m"])(o["h"]),Facsimile:Object(s["m"])(o["h"])});var b=Object(s["q"])(u,{Constraint:Object(s["l"])(E)});var O=Object(s["q"])(u,{IndividualName:Object(s["m"])(o["h"]),PositionName:Object(s["m"])(o["h"]),ContactInfo:Object(s["m"])(C)});var w=Object(s["q"])(u,{Abstract:Object(s["m"])(o["h"]),AccessConstraints:Object(s["m"])(o["h"]),Fees:Object(s["m"])(o["h"]),Title:Object(s["m"])(o["h"]),ServiceTypeVersion:Object(s["m"])(o["h"]),ServiceType:Object(s["m"])(o["h"])});var S=Object(s["q"])(u,{ProviderName:Object(s["m"])(o["h"]),ProviderSite:Object(s["m"])(i["a"]),ServiceContact:Object(s["m"])(P)});function T(t,e){return Object(s["t"])({},h,t,e)}function x(t,e){return Object(s["t"])({},f,t,e)}function E(t,e){var n=t.getAttribute("name");if(!n){return undefined}return Object(s["t"])({name:n},d,t,e)}function C(t,e){return Object(s["t"])({},p,t,e)}function M(t,e){return Object(s["t"])({},v,t,e)}function j(t,e){var n=Object(i["a"])(t);if(!n){return undefined}return Object(s["t"])({href:n},b,t,e)}function A(t,e){return Object(s["t"])({},g,t,e)}function k(t,e){var n=t.getAttribute("name");var r=Object(s["t"])({},m,t,e);if(!r){return undefined}var i=e[e.length-1];i[n]=r}function I(t,e){return Object(s["t"])({},y,t,e)}function R(t,e){return Object(s["t"])({},_,t,e)}function D(t,e){return Object(s["t"])({},w,t,e)}function P(t,e){return Object(s["t"])({},O,t,e)}function N(t,e){return Object(s["t"])({},S,t,e)}function L(t,e){return Object(o["h"])(t)}var $=c;var F=[null,"http://www.opengis.net/wmts/1.0"];var G=[null,"http://www.opengis.net/ows/1.1"];var H=Object(s["q"])(F,{Contents:Object(s["m"])(J)});var U=function(t){function e(){t.call(this);this.owsParser_=new $}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.readFromDocument=function t(e){for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==Node.ELEMENT_NODE){return this.readFromNode(n)}}return null};e.prototype.readFromNode=function t(e){var n=e.getAttribute("version").trim();var r=this.owsParser_.readFromNode(e);if(!r){return null}r["version"]=n;r=Object(s["t"])(r,H,e,[]);return r?r:null};return e}(a["a"]);var W=Object(s["q"])(F,{Layer:Object(s["l"])(tt),TileMatrixSet:Object(s["l"])(et)});var Y=Object(s["q"])(F,{Style:Object(s["l"])(nt),Format:Object(s["l"])(o["h"]),TileMatrixSetLink:Object(s["l"])(rt),Dimension:Object(s["l"])(it),ResourceURL:Object(s["l"])(at)},Object(s["q"])(G,{Title:Object(s["m"])(o["h"]),Abstract:Object(s["m"])(o["h"]),WGS84BoundingBox:Object(s["m"])(ot),Identifier:Object(s["m"])(o["h"])}));var V=Object(s["q"])(F,{LegendURL:Object(s["l"])(st)},Object(s["q"])(G,{Title:Object(s["m"])(o["h"]),Identifier:Object(s["m"])(o["h"])}));var q=Object(s["q"])(F,{TileMatrixSet:Object(s["m"])(o["h"]),TileMatrixSetLimits:Object(s["m"])(ct)});var z=Object(s["q"])(F,{TileMatrixLimits:Object(s["i"])(ht)});var B=Object(s["q"])(F,{TileMatrix:Object(s["m"])(o["h"]),MinTileRow:Object(s["m"])(o["f"]),MaxTileRow:Object(s["m"])(o["f"]),MinTileCol:Object(s["m"])(o["f"]),MaxTileCol:Object(s["m"])(o["f"])});var K=Object(s["q"])(F,{Default:Object(s["m"])(o["h"]),Value:Object(s["l"])(o["h"])},Object(s["q"])(G,{Identifier:Object(s["m"])(o["h"])}));var X=Object(s["q"])(G,{LowerCorner:Object(s["i"])(ut),UpperCorner:Object(s["i"])(ut)});var Z=Object(s["q"])(F,{WellKnownScaleSet:Object(s["m"])(o["h"]),TileMatrix:Object(s["l"])(lt)},Object(s["q"])(G,{SupportedCRS:Object(s["m"])(o["h"]),Identifier:Object(s["m"])(o["h"])}));var Q=Object(s["q"])(F,{TopLeftCorner:Object(s["m"])(ut),ScaleDenominator:Object(s["m"])(o["d"]),TileWidth:Object(s["m"])(o["f"]),TileHeight:Object(s["m"])(o["f"]),MatrixWidth:Object(s["m"])(o["f"]),MatrixHeight:Object(s["m"])(o["f"])},Object(s["q"])(G,{Identifier:Object(s["m"])(o["h"])}));function J(t,e){return Object(s["t"])({},W,t,e)}function tt(t,e){return Object(s["t"])({},Y,t,e)}function et(t,e){return Object(s["t"])({},Z,t,e)}function nt(t,e){var n=Object(s["t"])({},V,t,e);if(!n){return undefined}var r=t.getAttribute("isDefault")==="true";n["isDefault"]=r;return n}function rt(t,e){return Object(s["t"])({},q,t,e)}function it(t,e){return Object(s["t"])({},K,t,e)}function at(t,e){var n=t.getAttribute("format");var r=t.getAttribute("template");var i=t.getAttribute("resourceType");var a={};if(n){a["format"]=n}if(r){a["template"]=r}if(i){a["resourceType"]=i}return a}function ot(t,e){var n=Object(s["t"])([],X,t,e);if(n.length!=2){return undefined}return Object(r["b"])(n)}function st(t,e){var n={};n["format"]=t.getAttribute("format");n["href"]=Object(i["a"])(t);return n}function ut(t,e){var n=Object(o["h"])(t).split(/\s+/);if(!n||n.length!=2){return undefined}var r=+n[0];var i=+n[1];if(isNaN(r)||isNaN(i)){return undefined}return[r,i]}function lt(t,e){return Object(s["t"])({},Q,t,e)}function ct(t,e){return Object(s["t"])([],z,t,e)}function ht(t,e){return Object(s["t"])({},B,t,e)}var ft=e["a"]=U},function(t,e,n){"use strict";var E=n(1);var y=n(101);var C=n(5);var r=n(159);var M=n(36);var g=n(215);var m=n(14);var _=n(205);var b=n(73);var O=n(75);var f=function t(){this.geojsonFormat=new r["a"]};f.PrintStyleType={LINE_STRING:"LineString",POINT:"Point",POLYGON:"Polygon"};f.PrintStyleTypes_={LineString:f.PrintStyleType.LINE_STRING,Point:f.PrintStyleType.POINT,Polygon:f.PrintStyleType.POLYGON,MultiLineString:f.PrintStyleType.LINE_STRING,MultiPoint:f.PrintStyleType.POINT,MultiPolygon:f.PrintStyleType.POLYGON};f.prototype.encodeVectorLayer=function(t,e,n){var r=e.getSource();E["a"].assertInstanceof(r,M["a"]);var i=r.getFeatures();var a=[];var o={version:2};for(var s=0,u=i.length;s<u;++s){var l=i[s];var c=null;var h=l.getStyleFunction()||e.getStyleFunction();if(h!==undefined){c=h.call(e,l,n)}var f=this.geojsonFormat.writeFeatureObject(l);var d=c!==null&&!Array.isArray(c)?[c]:c;E["a"].assert(Array.isArray(d));if(d!==null&&d.length>0){var p=false;for(var v=0,g=d.length;v<g;++v){var m=d[v];var y=m.getGeometry();var _=void 0;if(!y){_=f;y=l.getGeometry();if(!y){continue}if(!p){a.push(_);p=true}}else{var b=l.clone();b.setGeometry(y);_=this.geojsonFormat.writeFeatureObject(b);y=b.getGeometry();b=null;a.push(_)}var O=y.getType();if(_.properties===null){_.properties={}}var w="_ngeo_style_"+v;var S=C["c"](m).toString()+"-"+O;this.encodeVectorStyle(o,O,m,S,w);_.properties[w]=S}}}if(a.length>0){var T={type:"FeatureCollection",features:a};var x={geoJson:T,opacity:e.getOpacity(),style:o,type:"geojson"};t.push(x)}};f.prototype.encodeVectorStyle=function(t,e,n,r,i){if(!(e in f.PrintStyleTypes_)){return}var a=f.PrintStyleTypes_[e];var o="["+i+" = '"+r+"']";if(o in t){return}var s={symbolizers:[]};t[o]=s;var u=n.getFill();var l=n.getImage();var c=n.getStroke();var h=n.getText();if(a===f.PrintStyleType.POLYGON){if(u!==null){this.encodeVectorStylePolygon(s.symbolizers,u,c)}}else if(a===f.PrintStyleType.LINE_STRING){if(c!==null){this.encodeVectorStyleLine(s.symbolizers,c)}}else if(a===f.PrintStyleType.POINT){if(l!==null){this.encodeVectorStylePoint(s.symbolizers,l)}}if(h!==null){this.encodeTextStyle(s.symbolizers,h)}};f.prototype.encodeVectorStyleFill=function(t,e){var n=e.getColor();if(n!==null){E["a"].assert(typeof n==="string"||Array.isArray(n));n=O["a"](n);E["a"].assert(Array.isArray(n),"only supporting fill colors");t.fillColor=y["a"].rgbArrayToHex(n);t.fillOpacity=n[3]}};f.prototype.encodeVectorStyleLine=function(t,e){var n={type:"line"};this.encodeVectorStyleStroke(n,e);t.push(n)};f.prototype.encodeVectorStylePoint=function(t,e){var n;if(e instanceof b["a"]){n={type:"point"};n.pointRadius=e.getRadius();var r=e.getFill();if(r!==null){this.encodeVectorStyleFill(n,r)}var i=e.getStroke();if(i!==null){this.encodeVectorStyleStroke(n,i)}}else if(e instanceof _["a"]){var a=e.getSrc();if(a!==undefined){n={type:"point",externalGraphic:a};var o=e.getOpacity();if(o!==null){n.graphicOpacity=o}var s=e.getSize();if(s!==null){var u=e.getScale();if(isNaN(u)){u=1}n.graphicWidth=s[0]*u;n.graphicHeight=s[1]*u}var l=e.getRotation();if(isNaN(l)){l=0}n.rotation=m["h"](l)}}else if(e instanceof g["a"]){var c=e.getPoints();if(c!==null){n={type:"point"};if(c===4){n.graphicName="square"}else if(c===3){n.graphicName="triangle"}else if(c===5){n.graphicName="star"}else if(c===8){n.graphicName="cross"}var h=e.getSize();if(h!==null){n.graphicWidth=h[0];n.graphicHeight=h[1]}var f=e.getRotation();if(!isNaN(f)&&f!==0){n.rotation=m["h"](f)}var d=e.getOpacity();if(d!==null){n.graphicOpacity=d}var p=e.getStroke();if(p!==null){this.encodeVectorStyleStroke(n,p)}var v=e.getFill();if(v!==null){this.encodeVectorStyleFill(n,v)}}}if(n!==undefined){t.push(n)}};f.prototype.encodeVectorStylePolygon=function(t,e,n){var r={type:"polygon"};this.encodeVectorStyleFill(r,e);if(n!==null){this.encodeVectorStyleStroke(r,n)}t.push(r)};f.prototype.encodeVectorStyleStroke=function(t,e){var n=e.getColor();if(n!==null){E["a"].assert(typeof n==="string"||Array.isArray(n));var r=O["a"](n);E["a"].assert(Array.isArray(r),"only supporting stroke colors");t.strokeColor=y["a"].rgbArrayToHex(r);t.strokeOpacity=r[3]}var i=e.getLineDash();if(i!==null){t.strokeDashstyle=i.join(" ")}var a=e.getWidth();if(a!==undefined){t.strokeWidth=a}var o=e.getLineCap();if(o){t.strokeLinecap=e.getLineCap()}};f.prototype.encodeTextStyle=function(t,e){var n={type:"Text"};var r=e.getText();if(r!==undefined){n.label=r;var i="c";var a="m";var o=e.getTextAlign();if(o==="left"||o==="start"){i="l"}else if(o==="right"||o==="end"){i="r"}var s=e.getTextBaseline();if(s==="bottom"){a="l"}else if(s==="top"){a="t"}n.labelAlign=""+i+a;var u=e.getRotation();if(u!==undefined){n.labelRotation=(u*180/Math.PI).toString();n.labelAlign="cm"}var l=e.getFont();if(l!==undefined){var c=l.split(" ");if(c.length>=3){n.fontWeight=c[0];n.fontSize=c[1];n.fontFamily=c.splice(2).join(" ")}}var h=e.getStroke();if(h!==null){var f=h.getColor();E["a"].assert(typeof f==="string"||Array.isArray(f));var d=O["a"](f);E["a"].assert(Array.isArray(d),"only supporting stroke colors");n.haloColor=y["a"].rgbArrayToHex(d);n.haloOpacity=d[3];var p=h.getWidth();if(p!==undefined){n.haloRadius=p/2}}var v=e.getFill();if(v!==null){var g=v.getColor();E["a"].assert(typeof g==="string"||Array.isArray(g));var m=O["a"](g);E["a"].assert(Array.isArray(m),"only supporting fill colors");n.fontColor=y["a"].rgbArrayToHex(m)}if(n.labelAlign!==undefined){n.labelXOffset=e.getOffsetX();n.labelYOffset=-e.getOffsetY()}t.push(n)}};var a=f;var i=n(223);var h=n(9);var c=n(10);var o=n(77);var d=n(18);var s=n(41);var p=n(92);var u=n(74);var l=n(131);var v=n(147);var w=n(224);var S=function t(e,n,r,i){this.url_=e;this.$http_=n;this.gettextCatalog_=r;this.ngeoLayerHelper_=i;this.vectorEncoder_=new a;this.printNativeAngle_=true};S.$inject=["url","$http","gettextCatalog","ngeoLayerHelper"];S.prototype.cancel=function(t,e){var n=e!==undefined?e:{};var r=this.url_+"/cancel/"+t;return this.$http_["delete"](r,n)};S.prototype.createSpec=function(t,e,n,r,i,a){var o={dpi:n,rotation:a["rotation"]};this.encodeMap_(t,e,o);var s={map:o};c["a"](s,a);var u=this.gettextCatalog_.currentLanguage;var l={attributes:s,format:i,lang:u,layout:r};return l};S.prototype.encodeMap_=function(t,e,n){var r=this;var i=t.getView();var a=i.getCenter();var o=i.getProjection();var s=i.getResolution();var u=n.rotation||m["h"](i.getRotation());E["a"].assert(a!==undefined);E["a"].assert(o!==undefined);n.center=a;n.projection=o.getCode();n.rotation=u;n.scale=e;n.layers=[];var l=t.getLayerGroup();E["a"].assert(l);this.printNativeAngle_=!(l.get("printNativeAngle")===false);var c=this.ngeoLayerHelper_.getFlatLayers(l);h["l"](c,function(t,e){return t.getZIndex()-e.getZIndex()});c=c.slice().reverse();c.forEach(function(t){if(t.getVisible()){E["a"].assert(s!==undefined);r.encodeLayer(n.layers,t,s)}})};S.prototype.encodeLayer=function(t,e,n){if(e instanceof o["a"]){this.encodeImageLayer_(t,e)}else if(e instanceof d["a"]){this.encodeTileLayer_(t,e)}else if(e instanceof s["a"]){this.vectorEncoder_.encodeVectorLayer(t,e,n)}};S.prototype.encodeImageLayer_=function(t,e){E["a"].assertInstanceof(e,o["a"]);var n=e.getSource();if(n instanceof u["a"]){this.encodeImageWmsLayer_(t,e)}};S.prototype.encodeImageWmsLayer_=function(t,e){var n=e.getSource();E["a"].assertInstanceof(e,o["a"]);E["a"].assertInstanceof(n,u["a"]);var r=n.getUrl();if(r!==undefined){this.encodeWmsLayer_(t,e,r,n.getParams())}};S.prototype.encodeWmsLayer_=function(t,e,n,r){if(n.startsWith("//")){n=window.location.protocol+n}var i=new URL(n);var a={TRANSPARENT:true};if(i.searchParams){for(var o=i.searchParams,s=Array.isArray(o),u=0,o=s?o:o[Symbol.iterator]();;){var l;if(s){if(u>=o.length)break;l=o[u++]}else{u=o.next();if(u.done)break;l=u.value}var c=l;a[c[0]]=c[1]}}for(var h in r){var f=r[h];if(f!==null&&f!==undefined){a[h]=f}}delete a["LAYERS"];delete a["FORMAT"];delete a["SERVERTYPE"];delete a["VERSION"];var d={baseURL:S.getAbsoluteUrl_(i.origin+i.pathname),imageFormat:"FORMAT"in r?r["FORMAT"]:"image/png",layers:r["LAYERS"].split(","),customParams:a,serverType:r["SERVERTYPE"],type:"wms",opacity:this.getOpacityOrInherited_(e),version:r["VERSION"],useNativeAngle:this.printNativeAngle_};t.push(d)};S.getAbsoluteUrl_=function(t){var e=document.createElement("a");e.href=encodeURI(t);return decodeURI(e.href)};S.prototype.encodeTileLayer_=function(t,e){E["a"].assertInstanceof(e,d["a"]);var n=e.getSource();if(n instanceof v["a"]){this.encodeTileWmtsLayer_(t,e)}else if(n instanceof l["a"]){this.encodeTileWmsLayer_(t,e)}};S.prototype.encodeTileWmtsLayer_=function(t,e){E["a"].assertInstanceof(e,d["a"]);var n=e.getSource();E["a"].assertInstanceof(n,v["a"]);var r=n.getProjection();var i=n.getTileGrid();E["a"].assertInstanceof(i,w["b"]);var a=i.getMatrixIds();var o=[];for(var s=0,u=a.length;s<u;++s){var l=i.getFullTileRange(s);o.push({identifier:a[s],scaleDenominator:i.getResolution(s)*r.getMetersPerUnit()/28e-5,tileSize:p["d"](i.getTileSize(s)),topLeftCorner:i.getOrigin(s),matrixSize:[l.maxX-l.minX,l.maxY-l.minY]})}var c=n.getDimensions();var h=Object.keys(c);var f={baseURL:this.getWmtsUrl_(n),dimensions:h,dimensionParams:c,imageFormat:n.getFormat(),layer:n.getLayer(),matrices:o,matrixSet:n.getMatrixSet(),opacity:this.getOpacityOrInherited_(e),requestEncoding:n.getRequestEncoding(),style:n.getStyle(),type:"WMTS",version:n.getVersion()};t.push(f)};S.prototype.encodeTileWmsLayer_=function(t,e){var n=e.getSource();E["a"].assertInstanceof(e,d["a"]);E["a"].assertInstanceof(n,l["a"]);this.encodeWmsLayer_(t,e,n.getUrls()[0],n.getParams())};S.prototype.getWmtsUrl_=function(t){var e=t.getUrls();E["a"].assert(e.length>0);return S.getAbsoluteUrl_(e[0])};S.prototype.getOpacityOrInherited_=function(t){if(t.get("inheritedOpacity")!==undefined){return t.get("inheritedOpacity")}return t.getOpacity()};S.prototype.createReport=function(t,e){var n=t.format||"pdf";var r=this.url_+"/report."+n;var i={headers:{"Content-Type":"application/json; charset=UTF-8"}};c["a"](i,e!==undefined?e:{});return this.$http_.post(r,t,i)};S.prototype.getStatus=function(t,e){var n=e!==undefined?e:{};var r=this.url_+"/status/"+t+".json";return this.$http_.get(r,n)};S.prototype.getReportUrl=function(t){return this.url_+"/report/"+t};S.prototype.getCapabilities=function(t){var e=t!==undefined?t:{withCredentials:true};var n=this.url_+"/capabilities.json";return this.$http_.get(n,e)};S.createPrintServiceFactory=function(e,n,r){return function(t){return new S(t,e,n,r)}};S.createPrintServiceFactory.$inject=["$http","gettextCatalog","ngeoLayerHelper"];S.module=angular.module("ngeoPrint",[i["a"].module.name]);S.module.service("ngeoPrintService",S);S.module.factory("ngeoCreatePrint",S.createPrintServiceFactory);var T=e["a"]=S},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(319),r(109),r(236)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(a){var o=false;a(document).on("mouseup",function(){o=false});return a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function t(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(true===a.data(t.target,e.widgetName+".preventClickEvent")){a.removeData(t.target,e.widgetName+".preventClickEvent");t.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function t(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function t(e){if(o){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var n=this,r=e.which===1,i=typeof this.options.cancel==="string"&&e.target.nodeName?a(e.target).closest(this.options.cancel).length:false;if(!r||i||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}if(true===a.data(e.target,this.widgetName+".preventClickEvent")){a.removeData(e.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(t){return n._mouseMove(t)};this._mouseUpDelegate=function(t){return n._mouseUp(t)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();o=true;return true},_mouseMove:function t(e){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button){return this._mouseUp(e)}else if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(e)}}}if(e.which||e.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false;this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function t(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target===this._mouseDownEvent.target){a.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;o=false;e.preventDefault()},_mouseDistanceMet:function t(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function t(){return this.mouseDelayMet},_mouseStart:function t(){},_mouseDrag:function t(){},_mouseStop:function t(){},_mouseCapture:function t(){return true}})})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(311),r(438),r(439),r(109),r(236)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(c){c.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function t(){var e=c(this).attr("title")||"";return c("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function t(e,n){var r=(e.attr("aria-describedby")||"").split(/\s+/);r.push(n);e.data("ui-tooltip-id",n).attr("aria-describedby",c.trim(r.join(" ")))},_removeDescribedBy:function t(e){var n=e.data("ui-tooltip-id"),r=(e.attr("aria-describedby")||"").split(/\s+/),i=c.inArray(n,r);if(i!==-1){r.splice(i,1)}e.removeData("ui-tooltip-id");r=c.trim(r.join(" "));if(r){e.attr("aria-describedby",r)}else{e.removeAttr("aria-describedby")}},_create:function t(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=c("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=c([])},_setOption:function t(e,n){var r=this;this._super(e,n);if(e==="content"){c.each(this.tooltips,function(t,e){r._updateContent(e.element)})}},_setOptionDisabled:function t(e){this[e?"_disable":"_enable"]()},_disable:function t(){var r=this;c.each(this.tooltips,function(t,e){var n=c.Event("blur");n.target=n.currentTarget=e.element[0];r.close(n,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=c(this);if(t.is("[title]")){return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}}))},_enable:function t(){this.disabledTitles.each(function(){var t=c(this);if(t.data("ui-tooltip-title")){t.attr("title",t.data("ui-tooltip-title"))}});this.disabledTitles=c([])},open:function t(e){var n=this,r=c(e?e.target:this.element).closest(this.options.items);if(!r.length||r.data("ui-tooltip-id")){return}if(r.attr("title")){r.data("ui-tooltip-title",r.attr("title"))}r.data("ui-tooltip-open",true);if(e&&e.type==="mouseover"){r.parents().each(function(){var t=c(this),e;if(t.data("ui-tooltip-open")){e=c.Event("blur");e.target=e.currentTarget=this;n.close(e,true)}if(t.attr("title")){t.uniqueId();n.parents[this.id]={element:this,title:t.attr("title")};t.attr("title","")}})}this._registerCloseHandlers(e,r);this._updateContent(r,e)},_updateContent:function t(e,n){var r,i=this.options.content,a=this,o=n?n.type:null;if(typeof i==="string"||i.nodeType||i.jquery){return this._open(n,e,i)}r=i.call(e[0],function(t){a._delay(function(){if(!e.data("ui-tooltip-open")){return}if(n){n.type=o}this._open(n,e,t)})});if(r){this._open(n,e,r)}},_open:function t(e,n,r){var i,a,o,s,u=c.extend({},this.options.position);if(!r){return}i=this._find(n);if(i){i.tooltip.find(".ui-tooltip-content").html(r);return}if(n.is("[title]")){if(e&&e.type==="mouseover"){n.attr("title","")}else{n.removeAttr("title")}}i=this._tooltip(n);a=i.tooltip;this._addDescribedBy(n,a.attr("id"));a.find(".ui-tooltip-content").html(r);this.liveRegion.children().hide();s=c("<div>").html(a.find(".ui-tooltip-content").html());s.removeAttr("name").find("[name]").removeAttr("name");s.removeAttr("id").find("[id]").removeAttr("id");s.appendTo(this.liveRegion);function l(t){u.of=t;if(a.is(":hidden")){return}a.position(u)}if(this.options.track&&e&&/^mouse/.test(e.type)){this._on(this.document,{mousemove:l});l(e)}else{a.position(c.extend({of:n},this.options.position))}a.hide();this._show(a,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){o=this.delayedShow=setInterval(function(){if(a.is(":visible")){l(u.of);clearInterval(o)}},c.fx.interval)}this._trigger("open",e,{tooltip:a})},_registerCloseHandlers:function t(e,r){var n={keyup:function t(e){if(e.keyCode===c.ui.keyCode.ESCAPE){var n=c.Event(e);n.currentTarget=r[0];this.close(n,true)}}};if(r[0]!==this.element[0]){n.remove=function(){this._removeTooltip(this._find(r).tooltip)}}if(!e||e.type==="mouseover"){n.mouseleave="close"}if(!e||e.type==="focusin"){n.focusout="close"}this._on(true,r,n)},close:function t(e){var n,r=this,i=c(e?e.currentTarget:this.element),a=this._find(i);if(!a){i.removeData("ui-tooltip-open");return}n=a.tooltip;if(a.closing){return}clearInterval(this.delayedShow);if(i.data("ui-tooltip-title")&&!i.attr("title")){i.attr("title",i.data("ui-tooltip-title"))}this._removeDescribedBy(i);a.hiding=true;n.stop(true);this._hide(n,this.options.hide,function(){r._removeTooltip(c(this))});i.removeData("ui-tooltip-open");this._off(i,"mouseleave focusout keyup");if(i[0]!==this.element[0]){this._off(i,"remove")}this._off(this.document,"mousemove");if(e&&e.type==="mouseleave"){c.each(this.parents,function(t,e){c(e.element).attr("title",e.title);delete r.parents[t]})}a.closing=true;this._trigger("close",e,{tooltip:n});if(!a.hiding){a.closing=false}},_tooltip:function t(e){var n=c("<div>").attr("role","tooltip"),r=c("<div>").appendTo(n),i=n.uniqueId().attr("id");this._addClass(r,"ui-tooltip-content");this._addClass(n,"ui-tooltip","ui-widget ui-widget-content");n.appendTo(this._appendTo(e));return this.tooltips[i]={element:e,tooltip:n}},_find:function t(e){var n=e.data("ui-tooltip-id");return n?this.tooltips[n]:null},_removeTooltip:function t(e){e.remove();delete this.tooltips[e.attr("id")]},_appendTo:function t(e){var n=e.closest(".ui-front, dialog");if(!n.length){n=this.document[0].body}return n},_destroy:function t(){var i=this;c.each(this.tooltips,function(t,e){var n=c.Event("blur"),r=e.element;n.target=n.currentTarget=r[0];i.close(n,true);c("#"+t).remove();if(r.data("ui-tooltip-title")){if(!r.attr("title")){r.attr("title",r.data("ui-tooltip-title"))}r.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});if(c.uiBackCompat!==false){c.widget("ui.tooltip",c.ui.tooltip,{options:{tooltipClass:null},_tooltip:function t(){var e=this._superApply(arguments);if(this.options.tooltipClass){e.tooltip.addClass(this.options.tooltipClass)}return e}})}return c.ui.tooltip})},function(t,e,n){n(440);t.exports="ngSanitize"},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(259);var i=n(260);var a=n(261);var o=n(242);var s=n(243);var u=n(83);var l=n(162);var c=n(102);var h=n(179);var f={calendar:r["b"],longDateFormat:i["a"],invalidDate:a["a"],ordinal:o["b"],dayOfMonthOrdinalParse:o["a"],relativeTime:s["a"],months:u["b"],monthsShort:u["c"],week:l["a"],weekdays:c["a"],weekdaysMin:c["b"],weekdaysShort:c["c"],meridiemParse:h["a"]}},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";var r="$";function s(){}s.prototype=g.prototype={constructor:s,has:function t(e){return r+e in this},get:function t(e){return this[r+e]},set:function t(e,n){this[r+e]=n;return this},remove:function t(e){var n=r+e;return n in this&&delete this[n]},clear:function t(){for(var e in this){if(e[0]===r)delete this[e]}},keys:function t(){var t=[];for(var e in this){if(e[0]===r)t.push(e.slice(1))}return t},values:function t(){var t=[];for(var e in this){if(e[0]===r)t.push(this[e])}return t},entries:function t(){var t=[];for(var e in this){if(e[0]===r)t.push({key:e.slice(1),value:this[e]})}return t},size:function t(){var t=0;for(var e in this){if(e[0]===r)++t}return t},empty:function t(){for(var e in this){if(e[0]===r)return false}return true},each:function t(e){for(var n in this){if(n[0]===r)e(this[n],n.slice(1),this)}}};function g(t,e){var n=new s;if(t instanceof s)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)while(++r<i){n.set(r,t[r])}else while(++r<i){n.set(e(a=t[r],r,t),a)}}else if(t)for(var o in t){n.set(o,t[o])}return n}function e(){var f=[],a=[],d,p,n;function v(t,n,r,i){if(n>=f.length){if(d!=null)t.sort(d);return p!=null?p(t):t}var e=-1,a=t.length,o=f[n++],s,u,l=g(),c,h=r();while(++e<a){if(c=l.get(s=o(u=t[e])+"")){c.push(u)}else{l.set(s,[u])}}l.each(function(t,e){i(h,e,v(t,n,r,i))});return h}function o(t,n){if(++n>f.length)return t;var r,i=a[n-1];if(p!=null&&n>=f.length)r=t.entries();else r=[],t.each(function(t,e){r.push({key:e,values:o(t,n)})});return i!=null?r.sort(function(t,e){return i(t.key,e.key)}):r}return n={object:function t(e){return v(e,0,i,u)},map:function t(e){return v(e,0,l,c)},entries:function t(e){return o(v(e,0,l,c),0)},key:function t(e){f.push(e);return n},sortKeys:function t(e){a[f.length-1]=e;return n},sortValues:function t(e){d=e;return n},rollup:function t(e){p=e;return n}}}function i(){return{}}function u(t,e,n){t[e]=n}function l(){return g()}function c(t,e,n){t.set(e,n)}function a(){}var n=g.prototype;a.prototype=o.prototype={constructor:a,has:n.has,add:function t(e){e+="";this[r+e]=e;return this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each};function o(t,e){var n=new a;if(t instanceof a)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(e==null)while(++r<i){n.add(t[r])}else while(++r<i){n.add(e(t[r],r,t))}}return n}function h(t){var e=[];for(var n in t){e.push(n)}return e}function f(t){var e=[];for(var n in t){e.push(t[n])}return e}function d(t){var e=[];for(var n in t){e.push({key:n,value:t[n]})}return e}t.nest=e;t.set=o;t.map=g;t.keys=h;t.values=f;t.entries=d;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";var r=n(30);var i=n(292);var s=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, '+'under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY'+" 3.0</a>.",r["a"]];var u={terrain:{extension:"jpg",opaque:true},"terrain-background":{extension:"jpg",opaque:true},"terrain-labels":{extension:"png",opaque:false},"terrain-lines":{extension:"png",opaque:false},"toner-background":{extension:"png",opaque:true},toner:{extension:"png",opaque:true},"toner-hybrid":{extension:"png",opaque:false},"toner-labels":{extension:"png",opaque:false},"toner-lines":{extension:"png",opaque:false},"toner-lite":{extension:"png",opaque:true},watercolor:{extension:"jpg",opaque:true}};var l={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};var a=function(o){function t(t){var e=t.layer.indexOf("-");var n=e==-1?t.layer:t.layer.slice(0,e);var r=l[n];var i=u[t.layer];var a=t.url!==undefined?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+i.extension;o.call(this,{attributions:s,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:t.maxZoom!=undefined?t.maxZoom:r.maxZoom,minZoom:t.minZoom!=undefined?t.minZoom:r.minZoom,opaque:i.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:a,wrapX:t.wrapX})}if(o)t.__proto__=o;t.prototype=Object.create(o&&o.prototype);t.prototype.constructor=t;return t}(i["a"]);e["a"]=a},function(t,e,n){"use strict";var r=n(5);var i=n(71);var a=n(146);var o=function(t){function e(){t.call(this)}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.getType=function t(){return a["a"].TEXT};e.prototype.readFeature=function t(e,n){return this.readFeatureFromText(s(e),this.adaptOptions(n))};e.prototype.readFeatureFromText=function t(e,n){return Object(r["b"])()};e.prototype.readFeatures=function t(e,n){return this.readFeaturesFromText(s(e),this.adaptOptions(n))};e.prototype.readFeaturesFromText=function t(e,n){return Object(r["b"])()};e.prototype.readGeometry=function t(e,n){return this.readGeometryFromText(s(e),this.adaptOptions(n))};e.prototype.readGeometryFromText=function t(e,n){return Object(r["b"])()};e.prototype.readProjection=function t(e){return this.readProjectionFromText(s(e))};e.prototype.readProjectionFromText=function t(e){return this.dataProjection};e.prototype.writeFeature=function t(e,n){return this.writeFeatureText(e,this.adaptOptions(n))};e.prototype.writeFeatureText=function t(e,n){return Object(r["b"])()};e.prototype.writeFeatures=function t(e,n){return this.writeFeaturesText(e,this.adaptOptions(n))};e.prototype.writeFeaturesText=function t(e,n){return Object(r["b"])()};e.prototype.writeGeometry=function t(e,n){return this.writeGeometryText(e,this.adaptOptions(n))};e.prototype.writeGeometryText=function t(e,n){return Object(r["b"])()};return e}(i["a"]);function s(t){if(typeof t==="string"){return t}else{return""}}e["a"]=o},function(e,t,n){(function(t){e.exports=t["angular"]=n(347)}).call(this,n(234))},function(t,e){},function(t,e){},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" height="1em" width="1em"><path d="M7.948 10.25c-1.26.009-2.349-1.23-2.184-2.48.11-1.153 1.218-2.124 2.387-2.013 1.064.06 2.022.956 2.09 2.028.1.975-.492 1.973-1.42 2.31a2.211 2.211 0 0 1-.873.155zm.047-1.357c.606.03 1.103-.703.827-1.248-.215-.499-.934-.709-1.357-.343-.393.3-.47.941-.11 1.295.16.18.395.295.64.296z"></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" height="1em" width="1em"><path d="M6.626.267C5.366.26 4.27 1.498 4.436 2.75c.109 1.153 1.216 2.129 2.384 2.017 1.064-.06 2.031-.96 2.1-2.031.1-.975-.497-1.977-1.424-2.313a2.198 2.198 0 0 0-.87-.155zm.046 1.364c.605-.03 1.095.7.819 1.244-.215.498-.93.71-1.353.344-.392-.3-.473-.94-.112-1.293.16-.18.4-.294.645-.295zM3.916 8.397c-1.256-.007-2.353 1.225-2.19 2.475.104 1.16 1.223 2.142 2.397 2.023 1.062-.066 2.019-.962 2.087-2.036.093-.932-.446-1.892-1.312-2.259a2.192 2.192 0 0 0-.983-.203zm.048 1.363c.612-.028 1.104.716.807 1.266-.228.493-.94.682-1.355.313-.377-.3-.457-.923-.106-1.276a.889.889 0 0 1 .654-.303zm8.05 1.467c-1.25-.023-2.353 1.178-2.224 2.422.075 1.165 1.179 2.174 2.358 2.078 1.07-.043 2.05-.936 2.13-2.016.103-.936-.434-1.905-1.301-2.278-.301-.14-.631-.214-.963-.207zm.008 1.364c.615-.037 1.115.708.821 1.26-.217.478-.906.684-1.322.344-.424-.297-.5-.976-.113-1.332a.879.879 0 0 1 .615-.272zm-6.81-2.163c-.143.417-.282.832-.434 1.245 1.92.67 3.84 1.333 5.755 2.011.153-.432.296-.863.455-1.293-1.92-.67-3.841-1.335-5.759-2.011l-.017.048zm.426-6.874C4.973 5.436 4.313 7.32 3.642 9.2c.432.15.863.302 1.292.458.668-1.899 1.336-3.798 2.012-5.694-.432-.15-.862-.301-1.29-.458l-.018.047z"></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" height="1em" width="1em"><path d="M5.045-.029c-1.26-.008-2.35 1.23-2.184 2.48.06.632.43 1.202.936 1.576-.479 1.358-.968 2.714-1.45 4.072-1.257-.008-2.363 1.23-2.2 2.48.105 1.16 1.228 2.13 2.402 2.012a2.295 2.295 0 0 0 1.45-.67c1.273.53 2.553 1.056 3.823 1.59a1.992 1.992 0 0 0 0 .438c.074 1.165 1.176 2.17 2.355 2.074 1.07-.042 2.057-.932 2.138-2.012a2.295 2.295 0 0 0-.453-1.607c.435-.593.873-1.186 1.31-1.778.186.04.369.047.562.031 1.067-.047 2.04-.935 2.122-2.012.11-.964-.464-1.959-1.373-2.31a2.202 2.202 0 0 0-.343-.108 444.27 444.27 0 0 1-.125-1.857c.743-.313 1.326-1.036 1.388-1.856.11-.964-.463-1.958-1.372-2.309a2.196 2.196 0 0 0-.92-.172c-.08 0-.158-.008-.235 0-.841.098-1.565.75-1.84 1.545-1.26-.004-2.53-.009-3.791-.016C7.045.918 6.564.361 5.919.127a2.211 2.211 0 0 0-.874-.156zm.047 1.357c.605-.03 1.103.704.827 1.248-.215.499-.934.71-1.358.343-.392-.299-.47-.94-.109-1.294a.874.874 0 0 1 .64-.297zm8.08.063c.62-.026 1.099.719.796 1.263-.232.498-.967.692-1.373.297-.361-.308-.431-.939-.078-1.28a.899.899 0 0 1 .656-.28zM7.246 2.919c1.257.005 2.517.024 3.775.032a2.333 2.333 0 0 0 1.622 1.513c.043.624.084 1.248.125 1.872-.877.376-1.511 1.322-1.388 2.293.042.482.267.94.592 1.295-.416.567-.826 1.136-1.248 1.7a2.045 2.045 0 0 0-.67-.109v.016c-.632-.012-1.235.287-1.654.748-1.26-.525-2.517-1.063-3.775-1.59.005-.043.013-.083.015-.126a2.274 2.274 0 0 0-.967-2.074c.472-1.342.944-2.685 1.42-4.025.052 0 .104.005.156 0 .898-.05 1.72-.7 1.997-1.545zm6.38 4.602c.62-.025 1.098.72.796 1.264-.233.497-.967.691-1.373.296-.362-.308-.432-.938-.078-1.279a.899.899 0 0 1 .655-.28zM2.393 9.456c.612-.028 1.109.729.811 1.28-.228.493-.942.68-1.357.311-.377-.3-.46-.926-.11-1.28a.9.9 0 0 1 .656-.311zm7.66 3.432c.615-.037 1.12.711.826 1.263-.217.48-.91.684-1.326.344-.423-.297-.495-.986-.109-1.342a.857.857 0 0 1 .609-.265z"></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" height="1em" width="1em"><path d="M1.14 8c0-1.242.308-2.383.92-3.432a6.837 6.837 0 0 1 2.496-2.496 6.684 6.684 0 0 1 3.432-.92c1.242 0 2.383.308 3.432.92a6.837 6.837 0 0 1 2.496 2.496c.612 1.049.92 2.19.92 3.432a6.68 6.68 0 0 1-.577 2.746c.409.444.651 1.039.593 1.653-.06 1.064-.956 2.022-2.028 2.09a2.254 2.254 0 0 1-1.591-.467 6.682 6.682 0 0 1-3.245.826 6.684 6.684 0 0 1-3.432-.92 6.837 6.837 0 0 1-2.496-2.496A6.684 6.684 0 0 1 1.14 8zm1.138 0c0 .772.15 1.51.453 2.215a5.707 5.707 0 0 0 1.216 1.81 5.816 5.816 0 0 0 1.826 1.217 5.533 5.533 0 0 0 2.215.468c.773-.001 1.51-.166 2.215-.468.11-.048.222-.104.328-.156-.003-.007-.014-.01-.016-.016a2.211 2.211 0 0 1-.156-.874c-.008-1.26 1.23-2.349 2.48-2.184.145.014.285.05.422.094.004.001.01-.002.015 0 .274-.67.421-1.373.421-2.106 0-.773-.164-1.511-.468-2.215a5.801 5.801 0 0 0-1.216-1.825 5.711 5.711 0 0 0-1.81-1.217 5.553 5.553 0 0 0-2.215-.453 5.53 5.53 0 0 0-2.215.453A5.805 5.805 0 0 0 3.947 3.96a5.786 5.786 0 0 0-1.216 1.825A5.543 5.543 0 0 0 2.278 8zm9.438 4.243a.784.784 0 0 0 .11.421.97.97 0 0 0 .046.078.873.873 0 0 0 .203.203c.017.013.03.035.047.047.01.007.021.01.031.016a.779.779 0 0 0 .811.062c.37-.159.579-.595.515-.983v-.015a.751.751 0 0 0-.172-.36.792.792 0 0 0-.156-.155c-.02-.015-.04-.018-.062-.031a.931.931 0 0 0-.11-.063c-.04-.017-.081-.035-.124-.047-.026-.007-.051-.01-.078-.015a1.078 1.078 0 0 0-.218-.016c.004-.006.011-.01.015-.015a.8.8 0 0 0-.561.234.874.874 0 0 0-.297.64z"></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" height="1em" width="1em"><path d="M2.317 14.491a2.203 2.203 0 0 1-.874-.156C.257 13.91-.343 12.38.242 11.262a2.265 2.265 0 0 1 1.28-1.139l-.016-4.258c-.02-.008-.042-.008-.063-.016C.258 5.424-.343 3.894.243 2.776.74 1.731 2.115 1.194 3.174 1.7c.572.246 1.007.747 1.217 1.326L11.6 3.01c.028-.077.055-.16.093-.234.5-1.045 1.874-1.582 2.933-1.076.979.422 1.584 1.59 1.28 2.62a2.302 2.302 0 0 1-1.467 1.576l.016 4.228c.057.02.115.035.171.062.979.422 1.584 1.59 1.28 2.621-.24.95-1.151 1.688-2.137 1.685a2.203 2.203 0 0 1-.874-.156c-.625-.224-1.083-.757-1.295-1.373l-7.207.015c-.302.864-1.151 1.516-2.075 1.513zm-.14-1.357c.508.052 1.045-.42.982-.951-.03-.542-.63-.978-1.154-.78-.472.146-.764.713-.547 1.17.089.223.27.413.5.499a.79.79 0 0 0 .218.062zm11.45 0c.509.052 1.045-.42.982-.951-.03-.542-.63-.978-1.154-.78-.472.146-.764.713-.546 1.17.088.223.27.413.499.499a.79.79 0 0 0 .218.062zM4.39 11.527l7.192-.015c.03-.084.067-.17.109-.25.259-.542.747-.944 1.31-1.139V5.88c-.036-.012-.073-.017-.109-.031-.628-.225-1.085-.768-1.295-1.388H4.407a2.334 2.334 0 0 1-1.42 1.435l.015 4.227c.056.02.118.037.172.063.576.248 1.009.757 1.217 1.342zm-2.215-6.88c.51.052 1.046-.42.983-.95-.03-.543-.63-.979-1.154-.781-.472.146-.764.714-.547 1.17.089.224.27.414.5.5a.79.79 0 0 0 .218.062zm11.45 0c.51.052 1.046-.42.983-.95-.03-.543-.63-.979-1.154-.781-.472.146-.764.714-.546 1.17.088.224.27.414.499.5a.79.79 0 0 0 .218.062z"></svg>'},function(e,t,n){(function(t){e.exports=t["Bloodhound"]=n(395)}).call(this,n(234))},function(t){t.exports={a:"2.5.0"}},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(r){return r.extend(r.expr[":"],{data:r.expr.createPseudo?r.expr.createPseudo(function(e){return function(t){return!!r.data(t,e)}}):function(t,e,n){return!!r.data(t,n[3])}})})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(a){return a.fn.scrollParent=function(t){var e=this.css("position"),n=e==="absolute",r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=a(this);if(n&&t.css("position")==="static"){return false}return r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return e==="fixed"||!i.length?a(this[0].ownerDocument||document):i}})},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<h3>Total: {{ $ctrl.result.total }}</h3>\n\n<ul class="nav nav-tabs"\n    role="tablist">\n  <li ng-repeat="source in $ctrl.result.sources"\n      role="presentation">\n    <a href="#{{ ::source.label }}"\n       aria-controls="{{ ::source.label }}"\n       ng-attr-aria-selected="{{ $first }}"\n       class="nav-link"\n       id="{{ ::source.label }}-tab"\n       ng-class="::{active: $first}"\n       role="tab"\n       data-toggle="tab">\n      <span>{{ ::source.label }}</span>\n      <span ng-switch="source.pending">\n        <span ng-switch-when="true">(...)</span>\n        <span ng-switch-default="">({{ ::source.features.length }})</span>\n      </span>\n    </a>\n  </li>\n</ul>\n\n<div class="tab-content">\n  <div ng-repeat="source in $ctrl.result.sources"\n       aria-labelledby="{{ ::source.label }}-tab"\n       role="tabpanel"\n       class="tab-pane fade"\n       ng-class="::{active: $first, show: $first}"\n       id="{{ ::source.label }}">\n    <div ng-switch="source.features.length">\n      <div ng-switch-when="0">\n        <span ng-switch="source.pending">\n          <h3 ng-switch-when="true">Pending...</h3>\n          <h3 ng-switch-default="">No result</h3>\n        </span>\n      </div>\n      <div ng-switch-default="">\n        <div ng-repeat="feature in ::source.features">\n          <h3>{{ ::feature.get(\'display_name\') }}</h3>\n          <div ng-repeat="(key, value) in ::feature.getProperties()"\n               ng-init="value = value !== undefined ? value : \'\'">\n            <span ng-if="::(key !== feature.getGeometryName() && key !== \'ngeo_feature_type_\')">\n              <span ng-bind="::key"></span>:\n              <span ng-bind="::value"></span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}return __p}},function(t,e,n){"use strict";var r=n(35);var i=n.n(r);var h=n(57);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function f(t,e,n){if(e)a(t.prototype,e);if(n)a(t,n);return t}var o=function(i){var t="alert";var e="4.1.3";var a="bs.alert";var n="."+a;var r=".data-api";var o=i.fn[t];var s={DISMISS:'[data-dismiss="alert"]'};var u={CLOSE:"close"+n,CLOSED:"closed"+n,CLICK_DATA_API:"click"+n+r};var l={ALERT:"alert",FADE:"fade",SHOW:"show"};var c=function(){function r(t){this._element=t}var t=r.prototype;t.close=function t(e){var n=this._element;if(e){n=this._getRootElement(e)}var r=this._triggerCloseEvent(n);if(r.isDefaultPrevented()){return}this._removeElement(n)};t.dispose=function t(){i.removeData(this._element,a);this._element=null};t._getRootElement=function t(e){var n=h["a"].getSelectorFromElement(e);var r=false;if(n){r=document.querySelector(n)}if(!r){r=i(e).closest("."+l.ALERT)[0]}return r};t._triggerCloseEvent=function t(e){var n=i.Event(u.CLOSE);i(e).trigger(n);return n};t._removeElement=function t(e){var n=this;i(e).removeClass(l.SHOW);if(!i(e).hasClass(l.FADE)){this._destroyElement(e);return}var r=h["a"].getTransitionDurationFromElement(e);i(e).one(h["a"].TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(r)};t._destroyElement=function t(e){i(e).detach().trigger(u.CLOSED).remove()};r._jQueryInterface=function t(n){return this.each(function(){var t=i(this);var e=t.data(a);if(!e){e=new r(this);t.data(a,e)}if(n==="close"){e[n](this)}})};r._handleDismiss=function t(e){return function(t){if(t){t.preventDefault()}e.close(this)}};f(r,null,[{key:"VERSION",get:function t(){return e}}]);return r}();i(document).on(u.CLICK_DATA_API,s.DISMISS,c._handleDismiss(new c));i.fn[t]=c._jQueryInterface;i.fn[t].Constructor=c;i.fn[t].noConflict=function(){i.fn[t]=o;return c._jQueryInterface};return c}(i.a);var s=o},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(o){return o.ui.plugin={add:function t(e,n,r){var i,a=o.ui[e].prototype;for(i in r){a.plugins[i]=a.plugins[i]||[];a.plugins[i].push([n,r[i]])}},call:function t(e,n,r,i){var a,o=e.plugins[n];if(!o){return}if(!i&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)){return}for(a=0;a<o.length;a++){if(e.options[o[a][0]]){o[a][1].apply(e.element,r)}}}}})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(301),r(320),r(324),r(446),r(447),r(321),r(109),r(236)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(b){b.widget("ui.draggable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function t(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function t(e,n){this._super(e,n);if(e==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function t(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function t(e){var n=this.options;if(this.helper||n.disabled||b(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}this._blurActiveElement(e);this._blockFrames(n.iframeFix===true?"iframe":n.iframeFix);return true},_blockFrames:function t(e){this.iframeBlocks=this.document.find(e).map(function(){var t=b(this);return b("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function t(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function t(e){var n=b.ui.safeActiveElement(this.document[0]),r=b(e.target);if(r.closest(n).length){return}b.ui.safeBlur(n)},_mouseStart:function t(e){var n=this.options;this.helper=this._createHelper(e);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(b.ui.ddmanager){b.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return b(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(e);this.originalPosition=this.position=this._generatePosition(e,false);this.originalPageX=e.pageX;this.originalPageY=e.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(b.ui.ddmanager&&!n.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(b.ui.ddmanager){b.ui.ddmanager.dragStart(this,e)}return true},_refreshOffsets:function t(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function t(e,n){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e,true);this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",e,r)===false){this._mouseUp(new b.Event("mouseup",e));return false}this.position=r.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(b.ui.ddmanager){b.ui.ddmanager.drag(this,e)}return false},_mouseStop:function t(e){var n=this,r=false;if(b.ui.ddmanager&&!this.options.dropBehaviour){r=b.ui.ddmanager.drop(this,e)}if(this.dropped){r=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===true||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)){b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(n._trigger("stop",e)!==false){n._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function t(e){this._unblockFrames();if(b.ui.ddmanager){b.ui.ddmanager.dragStop(this,e)}if(this.handleElement.is(e.target)){this.element.trigger("focus")}return b.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function t(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new b.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function t(e){return this.options.handle?!!b(e.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function t(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function t(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function t(e){var n=this.options,r=b.isFunction(n.helper),i=r?b(n.helper.apply(this.element[0],[e])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!i.parents("body").length){i.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo)}if(r&&i[0]===this.element[0]){this._setPositionRelative()}if(i[0]!==this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))){i.css("position","absolute")}return i},_setPositionRelative:function t(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function t(e){if(typeof e==="string"){e=e.split(" ")}if(b.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_isRootNode:function t(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function t(){var e=this.offsetParent.offset(),n=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==n&&b.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function t(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var e=this.element.position(),n=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(!n?this.scrollParent.scrollTop():0),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(!n?this.scrollParent.scrollLeft():0)}},_cacheMargins:function t(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function t(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function t(){var e,n,r,i=this.options,a=this.document[0];this.relativeContainer=null;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,b(a).width()-this.helperProportions.width-this.margins.left,(b(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}if(i.containment==="parent"){i.containment=this.helper[0].parentNode}n=b(i.containment);r=n[0];if(!r){return}e=/(scroll|auto)/.test(n.css("overflow"));this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=n},_convertPositionTo:function t(e,n){if(!n){n=this.position}var r=e==="absolute"?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.offset.scroll.top:i?0:this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.offset.scroll.left:i?0:this.offset.scroll.left)*r}},_generatePosition:function t(e,n){var r,i,a,o,s=this.options,u=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;if(!u||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(n){if(this.containment){if(this.relativeContainer){i=this.relativeContainer.offset();r=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else{r=this.containment}if(e.pageX-this.offset.click.left<r[0]){l=r[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<r[1]){c=r[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>r[2]){l=r[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>r[3]){c=r[3]+this.offset.click.top}}if(s.grid){a=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY;c=r?a-this.offset.click.top>=r[1]||a-this.offset.click.top>r[3]?a:a-this.offset.click.top>=r[1]?a-s.grid[1]:a+s.grid[1]:a;o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX;l=r?o-this.offset.click.left>=r[0]||o-this.offset.click.left>r[2]?o:o-this.offset.click.left>=r[0]?o-s.grid[0]:o+s.grid[0]:o}if(s.axis==="y"){l=this.originalPageX}if(s.axis==="x"){c=this.originalPageY}}return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function t(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function t(e,n,r){r=r||this._uiHash();b.ui.plugin.call(this,e,[n,r,this],true);if(/^(drag|start|stop)/.test(e)){this.positionAbs=this._convertPositionTo("absolute");r.offset=this.positionAbs}return b.Widget.prototype._trigger.call(this,e,n,r)},plugins:{},_uiHash:function t(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function t(e,n,r){var i=b.extend({},n,{item:r.element});r.sortables=[];b(r.options.connectToSortable).each(function(){var t=b(this).sortable("instance");if(t&&!t.options.disabled){r.sortables.push(t);t.refreshPositions();t._trigger("activate",e,i)}})},stop:function t(e,n,r){var i=b.extend({},n,{item:r.element});r.cancelHelperRemoval=false;b.each(r.sortables,function(){var t=this;if(t.isOver){t.isOver=0;r.cancelHelperRemoval=true;t.cancelHelperRemoval=false;t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")};t._mouseStop(e);t.options.helper=t.options._helper}else{t.cancelHelperRemoval=true;t._trigger("deactivate",e,i)}})},drag:function t(n,r,i){b.each(i.sortables,function(){var t=false,e=this;e.positionAbs=i.positionAbs;e.helperProportions=i.helperProportions;e.offset.click=i.offset.click;if(e._intersectsWith(e.containerCache)){t=true;b.each(i.sortables,function(){this.positionAbs=i.positionAbs;this.helperProportions=i.helperProportions;this.offset.click=i.offset.click;if(this!==e&&this._intersectsWith(this.containerCache)&&b.contains(e.element[0],this.element[0])){t=false}return t})}if(t){if(!e.isOver){e.isOver=1;i._parent=r.helper.parent();e.currentItem=r.helper.appendTo(e.element).data("ui-sortable-item",true);e.options._helper=e.options.helper;e.options.helper=function(){return r.helper[0]};n.target=e.currentItem[0];e._mouseCapture(n,true);e._mouseStart(n,true,true);e.offset.click.top=i.offset.click.top;e.offset.click.left=i.offset.click.left;e.offset.parent.left-=i.offset.parent.left-e.offset.parent.left;e.offset.parent.top-=i.offset.parent.top-e.offset.parent.top;i._trigger("toSortable",n);i.dropped=e.element;b.each(i.sortables,function(){this.refreshPositions()});i.currentItem=i.element;e.fromOutside=i}if(e.currentItem){e._mouseDrag(n);r.position=e.position}}else{if(e.isOver){e.isOver=0;e.cancelHelperRemoval=true;e.options._revert=e.options.revert;e.options.revert=false;e._trigger("out",n,e._uiHash(e));e._mouseStop(n,true);e.options.revert=e.options._revert;e.options.helper=e.options._helper;if(e.placeholder){e.placeholder.remove()}r.helper.appendTo(i._parent);i._refreshOffsets(n);r.position=i._generatePosition(n,true);i._trigger("fromSortable",n);i.dropped=false;b.each(i.sortables,function(){this.refreshPositions()})}}})}});b.ui.plugin.add("draggable","cursor",{start:function t(e,n,r){var i=b("body"),a=r.options;if(i.css("cursor")){a._cursor=i.css("cursor")}i.css("cursor",a.cursor)},stop:function t(e,n,r){var i=r.options;if(i._cursor){b("body").css("cursor",i._cursor)}}});b.ui.plugin.add("draggable","opacity",{start:function t(e,n,r){var i=b(n.helper),a=r.options;if(i.css("opacity")){a._opacity=i.css("opacity")}i.css("opacity",a.opacity)},stop:function t(e,n,r){var i=r.options;if(i._opacity){b(n.helper).css("opacity",i._opacity)}}});b.ui.plugin.add("draggable","scroll",{start:function t(e,n,r){if(!r.scrollParentNotHidden){r.scrollParentNotHidden=r.helper.scrollParent(false)}if(r.scrollParentNotHidden[0]!==r.document[0]&&r.scrollParentNotHidden[0].tagName!=="HTML"){r.overflowOffset=r.scrollParentNotHidden.offset()}},drag:function t(e,n,r){var i=r.options,a=false,o=r.scrollParentNotHidden[0],s=r.document[0];if(o!==s&&o.tagName!=="HTML"){if(!i.axis||i.axis!=="x"){if(r.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity){o.scrollTop=a=o.scrollTop+i.scrollSpeed}else if(e.pageY-r.overflowOffset.top<i.scrollSensitivity){o.scrollTop=a=o.scrollTop-i.scrollSpeed}}if(!i.axis||i.axis!=="y"){if(r.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity){o.scrollLeft=a=o.scrollLeft+i.scrollSpeed}else if(e.pageX-r.overflowOffset.left<i.scrollSensitivity){o.scrollLeft=a=o.scrollLeft-i.scrollSpeed}}}else{if(!i.axis||i.axis!=="x"){if(e.pageY-b(s).scrollTop()<i.scrollSensitivity){a=b(s).scrollTop(b(s).scrollTop()-i.scrollSpeed)}else if(b(window).height()-(e.pageY-b(s).scrollTop())<i.scrollSensitivity){a=b(s).scrollTop(b(s).scrollTop()+i.scrollSpeed)}}if(!i.axis||i.axis!=="y"){if(e.pageX-b(s).scrollLeft()<i.scrollSensitivity){a=b(s).scrollLeft(b(s).scrollLeft()-i.scrollSpeed)}else if(b(window).width()-(e.pageX-b(s).scrollLeft())<i.scrollSensitivity){a=b(s).scrollLeft(b(s).scrollLeft()+i.scrollSpeed)}}}if(a!==false&&b.ui.ddmanager&&!i.dropBehaviour){b.ui.ddmanager.prepareOffsets(r,e)}}});b.ui.plugin.add("draggable","snap",{start:function t(e,n,r){var i=r.options;r.snapElements=[];b(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=b(this),e=t.offset();if(this!==r.element[0]){r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})}})},drag:function t(e,n,r){var i,a,o,s,u,l,c,h,f,d,p=r.options,v=p.snapTolerance,g=n.offset.left,m=g+r.helperProportions.width,y=n.offset.top,_=y+r.helperProportions.height;for(f=r.snapElements.length-1;f>=0;f--){u=r.snapElements[f].left-r.margins.left;l=u+r.snapElements[f].width;c=r.snapElements[f].top-r.margins.top;h=c+r.snapElements[f].height;if(m<u-v||g>l+v||_<c-v||y>h+v||!b.contains(r.snapElements[f].item.ownerDocument,r.snapElements[f].item)){if(r.snapElements[f].snapping){r.options.snap.release&&r.options.snap.release.call(r.element,e,b.extend(r._uiHash(),{snapItem:r.snapElements[f].item}))}r.snapElements[f].snapping=false;continue}if(p.snapMode!=="inner"){i=Math.abs(c-_)<=v;a=Math.abs(h-y)<=v;o=Math.abs(u-m)<=v;s=Math.abs(l-g)<=v;if(i){n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top}if(a){n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top}if(o){n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left}if(s){n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left}}d=i||a||o||s;if(p.snapMode!=="outer"){i=Math.abs(c-y)<=v;a=Math.abs(h-_)<=v;o=Math.abs(u-g)<=v;s=Math.abs(l-m)<=v;if(i){n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top}if(a){n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top}if(o){n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left}if(s){n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left}}if(!r.snapElements[f].snapping&&(i||a||o||s||d)){r.options.snap.snap&&r.options.snap.snap.call(r.element,e,b.extend(r._uiHash(),{snapItem:r.snapElements[f].item}))}r.snapElements[f].snapping=i||a||o||s||d}}});b.ui.plugin.add("draggable","stack",{start:function t(e,n,r){var i,a=r.options,o=b.makeArray(b(a.stack)).sort(function(t,e){return(parseInt(b(t).css("zIndex"),10)||0)-(parseInt(b(e).css("zIndex"),10)||0)});if(!o.length){return}i=parseInt(b(o[0]).css("zIndex"),10)||0;b(o).each(function(t){b(this).css("zIndex",i+t)});this.css("zIndex",i+o.length)}});b.ui.plugin.add("draggable","zIndex",{start:function t(e,n,r){var i=b(n.helper),a=r.options;if(i.css("zIndex")){a._zIndex=i.css("zIndex")}i.css("zIndex",a.zIndex)},stop:function t(e,n,r){var i=r.options;if(i._zIndex){b(n.helper).css("zIndex",i._zIndex)}}});return b.ui.draggable})},function(t,e,n){var r;var i=i||function(c){"use strict";if(typeof c==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=c.document,h=function t(){return c.URL||c.webkitURL||c},f=t.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in f,p=function t(e){var n=new MouseEvent("click");e.dispatchEvent(n)},v=/constructor/i.test(c.HTMLElement)||c.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent),o=function t(e){(c.setImmediate||c.setTimeout)(function(){throw e},0)},m="application/octet-stream",r=1e3*40,y=function t(e){var n=function t(){if(typeof e==="string"){h().revokeObjectURL(e)}else{e.remove()}};setTimeout(n,r)},_=function t(e,n,r){n=[].concat(n);var i=n.length;while(i--){var a=e["on"+n[i]];if(typeof a==="function"){try{a.call(e,r||e)}catch(t){o(t)}}}},b=function t(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},i=function t(r,e,n){if(!n){r=b(r)}var i=this,a=r.type,o=a===m,s,u=function t(){_(i,"writestart progress write writeend".split(" "))},l=function t(){if((g||o&&v)&&c.FileReader){var n=new FileReader;n.onloadend=function(){var t=g?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");var e=c.open(t,"_blank");if(!e)c.location.href=t;t=undefined;i.readyState=i.DONE;u()};n.readAsDataURL(r);i.readyState=i.INIT;return}if(!s){s=h().createObjectURL(r)}if(o){c.location.href=s}else{var e=c.open(s,"_blank");if(!e){c.location.href=s}}i.readyState=i.DONE;u();y(s)};i.readyState=i.INIT;if(d){s=h().createObjectURL(r);setTimeout(function(){f.href=s;f.download=e;p(f);u();y(s);i.readyState=i.DONE});return}l()},e=i.prototype,n=function t(e,n,r){return new i(e,n||e.name||"download",r)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(t,e,n){e=e||t.name||"download";if(!n){t=b(t)}return navigator.msSaveOrOpenBlob(t,e)}}e.abort=function(){};e.readyState=e.INIT=0;e.WRITING=1;e.DONE=2;e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null;return n}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(true&&t.exports){t.exports.saveAs=i}else if(true&&n(352)!==null&&n(353)!==null){!(r=function(){return i}.call(e,n,e,t),r!==undefined&&(t.exports=r))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(62);var r;if(Object.keys){r=Object.keys}else{r=function t(e){var n,r=[];for(n in e){if(Object(i["a"])(e,n)){r.push(n)}}return r}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var u=1e3*60*60*24;var l=3600;function y(t,e){return typeof t==="string"&&typeof e==="string"&&t.toLowerCase()===e.toLowerCase()}function c(t,e,n){var r=t.toString();n=n||"0";return r.length<e?c(n+r,e):r}function i(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(!n){continue}for(var r in n){if(n.hasOwnProperty(r)){if(typeof n[r]==="object"){i(t[r],n[r])}else{t[r]=n[r]}}}}return t}function a(t,e){for(var n=0;n<e.length;n++){if(e[n].toLowerCase()===t.toLowerCase()){return n}}return-1}var r={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function t(e){var n=e%10,r={1:"st",2:"nd",3:"rd"};return Math.floor(e%100/10)===1||!r[n]?"th":r[n]}},separators:/[ \-+/.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g};var o=function(){function t(t){var e=this,n=i(r,t);e.dateSettings=n.dateSettings;e.separators=n.separators;e.validParts=n.validParts;e.intParts=n.intParts;e.tzParts=n.tzParts;e.tzClip=n.tzClip}var e=t.prototype;e.getMonth=function t(e){var n=this;var r=a(e,n.dateSettings.monthsShort)+1;if(r===0){r=a(e,n.dateSettings.months)+1}return r};e.parseDate=function t(e,n){var r=this,i=r.dateSettings,a={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};var o=false,s=false,u;if(!e){return null}if(e instanceof Date){return e}if(n==="U"){u=parseInt(e);return u?new Date(u*1e3):e}switch(typeof e){case"number":return new Date(e);case"string":break;default:return null}var l=n.match(r.validParts);if(!l||l.length===0){throw new Error("Invalid date format definition.")}var c=e.replace(r.separators,"\0").split("\0");for(u=0;u<c.length;u++){var h=c[u];var f=parseInt(h);switch(l[u]){case"y":case"Y":if(f){var d=h.length;a.year=d===2?parseInt((f<70?"20":"19")+h):f}else{return null}o=true;break;case"m":case"n":case"M":case"F":if(isNaN(f)){var p=r.getMonth(h);if(p>0){a.month=p}else{return null}}else{if(f>=1&&f<=12){a.month=f}else{return null}}o=true;break;case"d":case"j":if(f>=1&&f<=31){a.day=f}else{return null}o=true;break;case"g":case"h":var v=l.indexOf("a")>-1?l.indexOf("a"):l.indexOf("A")>-1?l.indexOf("A"):-1;var g=c[v];if(v!==-1){var m=y(g,i.meridiem[0])?0:y(g,i.meridiem[1])?12:-1;if(f>=1&&f<=12&&m!==-1){a.hour=f%12===0?m:f+m}else{if(f>=0&&f<=23){a.hour=f}}}else{if(f>=0&&f<=23){a.hour=f}else{return null}}s=true;break;case"G":case"H":if(f>=0&&f<=23){a.hour=f}else{return null}s=true;break;case"i":if(f>=0&&f<=59){a.min=f}else{return null}s=true;break;case"s":if(f>=0&&f<=59){a.sec=f}else{return null}s=true;break}}if(o===true&&a.year&&a.month&&a.day){a.date=new Date(a.year,a.month-1,a.day,a.hour,a.min,a.sec,0)}else{if(s!==true){return null}a.date=new Date(0,0,0,a.hour,a.min,a.sec,0)}return a.date};e.guessDate=function t(e,n){if(typeof e!=="string"){return e}var r=this,i=e.replace(r.separators,"\0").split("\0"),a=/^[djmn]/g,o=n.match(r.validParts),s=new Date;if(!a.test(o[0])){return e}for(var u=0;u<i.length;u++){var l=2;var c=i[u];var h=parseInt(c.substr(0,2));if(isNaN(h)){return null}switch(u){case 0:if(o[0]==="m"||o[0]==="n"){s.setMonth(h-1)}else{s.setDate(h)}break;case 1:if(o[0]==="m"||o[0]==="n"){s.setDate(h)}else{s.setMonth(h-1)}break;case 2:var f=s.getFullYear();var d=c.length;l=d<4?d:4;f=parseInt(d<4?f.toString().substr(0,4-d)+c:c.substr(0,4));if(!f){return null}s.setFullYear(f);break;case 3:s.setHours(h);break;case 4:s.setMinutes(h);break;case 5:s.setSeconds(h);break}var p=c.substr(l);if(p.length>0){i.splice(u+1,0,p)}}return s};e.parseFormat=function t(e,i){var a=null;var n=this,r=n.dateSettings,o=/\\?(.?)/gi,s=function t(e,n){return a[e]?a[e]():n};a={d:function t(){return c(a.j(),2)},D:function t(){return r.daysShort[a.w()]},j:function t(){return i.getDate()},l:function t(){return r.days[a.w()]},N:function t(){return a.w()||7},w:function t(){return i.getDay()},z:function t(){var e=new Date(a.Y(),a.n()-1,a.j()),n=new Date(a.Y(),0,1);return Math.round((e-n)/u)},W:function t(){var e=new Date(a.Y(),a.n()-1,a.j()-a.N()+3),n=new Date(e.getFullYear(),0,4);return c(1+Math.round((e-n)/u/7),2)},F:function t(){return r.months[i.getMonth()]},m:function t(){return c(a.n(),2)},M:function t(){return r.monthsShort[i.getMonth()]},n:function t(){return i.getMonth()+1},t:function t(){return new Date(a.Y(),a.n(),0).getDate()},L:function t(){var e=a.Y();return e%4===0&&e%100!==0||e%400===0?1:0},o:function t(){var e=a.n(),n=a.W(),r=a.Y();return r+(e===12&&n<9?1:e===1&&n>9?-1:0)},Y:function t(){return i.getFullYear()},y:function t(){return a.Y().toString().slice(-2)},a:function t(){return a.A().toLowerCase()},A:function t(){var e=a.G()<12?0:1;return r.meridiem[e]},B:function t(){var e=i.getUTCHours()*l,n=i.getUTCMinutes()*60,r=i.getUTCSeconds();return c(Math.floor((e+n+r+l)/86.4)%1e3,3)},g:function t(){return a.G()%12||12},G:function t(){return i.getHours()},h:function t(){return c(a.g(),2)},H:function t(){return c(a.G(),2)},i:function t(){return c(i.getMinutes(),2)},s:function t(){return c(i.getSeconds(),2)},u:function t(){return c(i.getMilliseconds()*1e3,6)},e:function t(){var e=/\((.*)\)/.exec(String(i))[1];return e||"Coordinated Universal Time"},I:function t(){var e=new Date(a.Y(),0),n=Date.UTC(a.Y(),0),r=new Date(a.Y(),6),i=Date.UTC(a.Y(),6);return e-n!==r-i?1:0},O:function t(){var e=i.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+c(Math.floor(n/60)*100+n%60,4)},P:function t(){var e=a.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function t(){var e=(String(i).match(n.tzParts)||[""]).pop().replace(n.tzClip,"");return e||"UTC"},Z:function t(){return-i.getTimezoneOffset()*60},c:function t(){return"Y-m-d\\TH:i:sP".replace(o,s)},r:function t(){return"D, d M Y H:i:s O".replace(o,s)},U:function t(){return i.getTime()/1e3||0}};return s(e,e)};e.formatDate=function t(e,n){var r=this,i="\\";if(typeof e==="string"){e=r.parseDate(e,n);if(!e){return null}}if(e instanceof Date){var a="";var o=n.length;for(var s=0;s<o;s++){var u=n.charAt(s);if(u==="S"||u===i){continue}if(s>0&&n.charAt(s-1)===i){a+=u;continue}var l=r.parseFormat(u,e);if(s!==o-1&&r.intParts.test(u)&&n.charAt(s+1)==="S"){var c=parseInt(l)||0;l+=r.dateSettings.ordinal(c)}a+=l}return a}return""};return t}()},function(t,a,o){"use strict";(function(u){var r=o(1);var n=o(95);var t=o(5);var i=o(2);var l=o(171);var c=o(125);var e=function t(e,n){var r=this;var i=n!==undefined?n:{};i.positioning=c["a"].TOP_LEFT;this.listenerKeys_=[];this.clickOutListenerKey_=null;var a=u("<div/>",{class:"panel panel-default"});this.autoClose_=e.autoClose!==undefined?e.autoClose:true;if(e.title){var o=u("<div>",{class:"panel-heading"}).appendTo(a);u("<span>",{text:e.title}).appendTo(o)}var s=u("<div>",{class:"list-group"}).appendTo(a);this.actions_=[];e.actions.forEach(function(t){r.actions_.push(u("<button>",{class:"list-group-item btn","data-name":t.name,text:[" ",t.label!==undefined?t.label:t.name].join("")}).appendTo(s).prepend(u("<span>",{class:t.cls!==undefined?t.cls:""})))});i.element=a[0];l["a"].call(this,i)};t["d"](e,l["a"]);e.prototype.setMap=function(t){var n=this;var e=this.getMap();if(e){this.listenerKeys_.forEach(i["e"]);this.listenerKeys_.length=0}l["a"].prototype.setMap.call(this,t);if(t){this.actions_.forEach(function(t){var e=t.data();n.listenerKeys_.push(i["a"](t[0],"click",n.handleActionClick_.bind(n,e.name)))});this.listenerKeys_.push(i["a"](t,"pointermove",this.handleMapPointerMove_,this))}};e.prototype.open=function(t){this.setPosition(t);if(this.autoClose_){this.clickOutListenerKey_=i["a"](document.documentElement,"mousedown",this.handleClickOut_,this)}};e.prototype.close=function(){this.setPosition(undefined);if(this.clickOutListenerKey_!==null){i["e"](this.clickOutListenerKey_)}};e.prototype.handleActionClick_=function(t,e){this.dispatchEvent(new n["a"]("actionclick",{action:t}));if(this.autoClose_){this.close()}e.stopPropagation()};e.prototype.handleClickOut_=function(t){var e=this.getElement();if(e&&u(t.target).closest(e).length===0){this.close()}};e.prototype.handleMapPointerMove_=function(t){var e=t.originalEvent.target;r["a"].assertInstanceof(e,Element);var n=this.getElement();r["a"].assertInstanceof(n,Element);if(n.contains(e)){t.coordinate=[Infinity,Infinity];t.pixel=[Infinity,Infinity]}};a["a"]=e}).call(this,o(35))},function(t,e,n){"use strict";(function(s){var t=angular.module("ngeoRecenter",[]);t.directive_=function(){return{restrict:"A",link:function t(i,e,n){var r=n["ngeoRecenterMap"];var a=i.$eval(r);function o(t){var e=t.attr("ngeo-extent");if(e!==undefined){var n=a.getSize();a.getView().fit(i.$eval(e),{size:n})}var r=t.attr("ngeo-zoom");if(r!==undefined){a.getView().setZoom(i.$eval(r))}}e.on("click","*",function(t){o(angular.element(s(this)))});e.on("change",function(t){var e=t.target.options[t.target.selectedIndex];o(angular.element(e))})}}};t.directive("ngeoRecenter",t.directive_);e["a"]=t}).call(this,n(35))},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";var a={value:function t(){}};function e(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new i(n)}function i(t){this._=t}function u(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);if(t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}i.prototype=e.prototype={constructor:i,on:function t(e,n){var r=this._,i=u(e+"",r),a,o=-1,s=i.length;if(arguments.length<2){while(++o<s){if((a=(e=i[o]).type)&&(a=l(r[a],e.name)))return a}return}if(n!=null&&typeof n!=="function")throw new Error("invalid callback: "+n);while(++o<s){if(a=(e=i[o]).type)r[a]=c(r[a],e.name,n);else if(n==null)for(a in r){r[a]=c(r[a],e.name,null)}}return this},copy:function t(){var t={},e=this._;for(var n in e){t[n]=e[n].slice()}return new i(t)},call:function t(e,n){if((a=arguments.length-2)>0)for(var r=new Array(a),i=0,a,o;i<a;++i){r[i]=arguments[i+2]}if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,a=o.length;i<a;++i){o[i].value.apply(n,r)}},apply:function t(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a){i[a].value.apply(n,r)}}};function l(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function c(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}t.dispatch=e;Object.defineProperty(t,"__esModule",{value:true})})},function(t,n,e){(function(t,e){true?e(n):undefined})(this,function(t){"use strict";function e(t){return+t}function n(t){return t*t}function r(t){return t*(2-t)}function i(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function a(t){return t*t*t}function o(t){return--t*t*t+1}function s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var u=3;var l=function t(e){e=+e;function n(t){return Math.pow(t,e)}n.exponent=t;return n}(u);var c=function t(e){e=+e;function n(t){return 1-Math.pow(1-t,e)}n.exponent=t;return n}(u);var h=function t(e){e=+e;function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}n.exponent=t;return n}(u);var f=Math.PI,d=f/2;function p(t){return 1-Math.cos(t*d)}function v(t){return Math.sin(t*d)}function g(t){return(1-Math.cos(f*t))/2}function m(t){return Math.pow(2,10*t-10)}function y(t){return 1-Math.pow(2,-10*t)}function _(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function b(t){return 1-Math.sqrt(1-t*t)}function O(t){return Math.sqrt(1- --t*t)}function w(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var S=4/11,T=6/11,x=8/11,E=3/4,C=9/11,M=10/11,j=15/16,A=21/22,k=63/64,I=1/S/S;function R(t){return 1-D(1-t)}function D(t){return(t=+t)<S?I*t*t:t<x?I*(t-=T)*t+E:t<M?I*(t-=C)*t+j:I*(t-=A)*t+k}function P(t){return((t*=2)<=1?1-D(1-t):D(t-1)+1)/2}var N=1.70158;var L=function t(e){e=+e;function n(t){return t*t*((e+1)*t-e)}n.overshoot=t;return n}(N);var $=function t(e){e=+e;function n(t){return--t*t*((e+1)*t+e)+1}n.overshoot=t;return n}(N);var F=function t(e){e=+e;function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}n.overshoot=t;return n}(N);var G=2*Math.PI,H=1,U=.3;var W=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=G);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}t.amplitude=function(t){return e(t,r*G)};t.period=function(t){return e(n,t)};return t}(H,U);var Y=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=G);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}t.amplitude=function(t){return e(t,r*G)};t.period=function(t){return e(n,t)};return t}(H,U);var V=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=G);function t(t){return((t=t*2-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}t.amplitude=function(t){return e(t,r*G)};t.period=function(t){return e(n,t)};return t}(H,U);t.easeLinear=e;t.easeQuad=i;t.easeQuadIn=n;t.easeQuadOut=r;t.easeQuadInOut=i;t.easeCubic=s;t.easeCubicIn=a;t.easeCubicOut=o;t.easeCubicInOut=s;t.easePoly=h;t.easePolyIn=l;t.easePolyOut=c;t.easePolyInOut=h;t.easeSin=g;t.easeSinIn=p;t.easeSinOut=v;t.easeSinInOut=g;t.easeExp=_;t.easeExpIn=m;t.easeExpOut=y;t.easeExpInOut=_;t.easeCircle=w;t.easeCircleIn=b;t.easeCircleOut=O;t.easeCircleInOut=w;t.easeBounce=D;t.easeBounceIn=R;t.easeBounceOut=D;t.easeBounceInOut=P;t.easeBack=F;t.easeBackIn=L;t.easeBackOut=$;t.easeBackInOut=F;t.easeElastic=Y;t.easeElasticIn=W;t.easeElasticOut=Y;t.easeElasticInOut=V;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e,n){"use strict";var i=n(2);var a=n(11);var o=n(42);var r=n(140);var s=n(8);var u="projection";var l="coordinateFormat";var c=function(r){function t(t){var e=t?t:{};var n=document.createElement("div");n.className=e.className!==undefined?e.className:"ol-mouse-position";r.call(this,{element:n,render:e.render||h,target:e.target});Object(i["a"])(this,Object(o["b"])(u),this.handleProjectionChanged_,this);if(e.coordinateFormat){this.setCoordinateFormat(e.coordinateFormat)}if(e.projection){this.setProjection(e.projection)}this.undefinedHTML_=e.undefinedHTML!==undefined?e.undefinedHTML:"&#160;";this.renderOnMouseOut_=!!this.undefinedHTML_;this.renderedHTML_=n.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.handleProjectionChanged_=function t(){this.transform_=null};t.prototype.getCoordinateFormat=function t(){return this.get(l)};t.prototype.getProjection=function t(){return this.get(u)};t.prototype.handleMouseMove=function t(e){var n=this.getMap();this.lastMouseMovePixel_=n.getEventPixel(e);this.updateHTML_(this.lastMouseMovePixel_)};t.prototype.handleMouseOut=function t(e){this.updateHTML_(null);this.lastMouseMovePixel_=null};t.prototype.setMap=function t(e){r.prototype.setMap.call(this,e);if(e){var n=e.getViewport();this.listenerKeys.push(Object(i["a"])(n,a["a"].MOUSEMOVE,this.handleMouseMove,this),Object(i["a"])(n,a["a"].TOUCHSTART,this.handleMouseMove,this));if(this.renderOnMouseOut_){this.listenerKeys.push(Object(i["a"])(n,a["a"].MOUSEOUT,this.handleMouseOut,this),Object(i["a"])(n,a["a"].TOUCHEND,this.handleMouseOut,this))}}};t.prototype.setCoordinateFormat=function t(e){this.set(l,e)};t.prototype.setProjection=function t(e){this.set(u,Object(s["g"])(e))};t.prototype.updateHTML_=function t(e){var n=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();if(r){this.transform_=Object(s["j"])(this.mapProjection_,r)}else{this.transform_=s["k"]}}var i=this.getMap();var a=i.getCoordinateFromPixel(e);if(a){this.transform_(a,a);var o=this.getCoordinateFormat();if(o){n=o(a)}else{n=a.toString()}}}if(!this.renderedHTML_||n!==this.renderedHTML_){this.element.innerHTML=n;this.renderedHTML_=n}};return t}(r["a"]);function h(t){var e=t.frameState;if(!e){this.mapProjection_=null}else{if(this.mapProjection_!=e.viewState.projection){this.mapProjection_=e.viewState.projection;this.transform_=null}}}e["a"]=c},,function(t,e,n){"use strict";var i=n(42);var p=n(20);var r=n(140);var a=n(80);var o=n(2);var v=n(8);var g=n(67);var s="units";var m={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};var y=[1,2,5];var u=function(r){function t(t){var e=t?t:{};var n=e.className!==undefined?e.className:"ol-scale-line";r.call(this,{element:document.createElement("div"),render:e.render||l,target:e.target});this.innerElement_=document.createElement("div");this.innerElement_.className=n+"-inner";this.element.className=n+" "+a["e"];this.element.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=e.minWidth!==undefined?e.minWidth:64;this.renderedVisible_=false;this.renderedWidth_=undefined;this.renderedHTML_="";Object(o["a"])(this,Object(i["b"])(s),this.handleUnitsChanged_,this);this.setUnits(e.units||m.METRIC)}if(r)t.__proto__=r;t.prototype=Object.create(r&&r.prototype);t.prototype.constructor=t;t.prototype.getUnits=function t(){return this.get(s)};t.prototype.handleUnitsChanged_=function t(){this.updateElement_()};t.prototype.setUnits=function t(e){this.set(s,e)};t.prototype.updateElement_=function t(){var e=this.viewState_;if(!e){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=false}return}var n=e.center;var r=e.projection;var i=this.getUnits();var a=i==m.DEGREES?g["b"].DEGREES:g["b"].METERS;var o=Object(v["h"])(r,e.resolution,n,a);if(r.getUnits()!=g["b"].DEGREES&&r.getMetersPerUnit()&&a==g["b"].METERS){o*=r.getMetersPerUnit()}var s=this.minWidth_*o;var u="";if(i==m.DEGREES){var l=g["a"][g["b"].DEGREES];if(r.getUnits()==g["b"].DEGREES){s*=l}else{o/=l}if(s<l/60){u="″";o*=3600}else if(s<l){u="′";o*=60}else{u="°"}}else if(i==m.IMPERIAL){if(s<.9144){u="in";o/=.0254}else if(s<1609.344){u="ft";o/=.3048}else{u="mi";o/=1609.344}}else if(i==m.NAUTICAL){o/=1852;u="nm"}else if(i==m.METRIC){if(s<.001){u="μm";o*=1e6}else if(s<1){u="mm";o*=1e3}else if(s<1e3){u="m"}else{u="km";o/=1e3}}else if(i==m.US){if(s<.9144){u="in";o*=39.37}else if(s<1609.344){u="ft";o/=.30480061}else{u="mi";o/=1609.3472}}else{Object(p["a"])(false,33)}var c=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));var h,f;while(true){h=y[(c%3+3)%3]*Math.pow(10,Math.floor(c/3));f=Math.round(h/o);if(isNaN(f)){this.element.style.display="none";this.renderedVisible_=false;return}else if(f>=this.minWidth_){break}++c}var d=h+" "+u;if(this.renderedHTML_!=d){this.innerElement_.innerHTML=d;this.renderedHTML_=d}if(this.renderedWidth_!=f){this.innerElement_.style.width=f+"px";this.renderedWidth_=f}if(!this.renderedVisible_){this.element.style.display="";this.renderedVisible_=true}};return t}(r["a"]);function l(t){var e=t.frameState;if(!e){this.viewState_=null}else{this.viewState_=e.viewState}this.updateElement_()}e["a"]=u},,function(t,e,n){"use strict";var r=function(){function t(t){this.promise;this.url_=t}var e=t.prototype;e.load=function t(){var r=this;if(!this.promise){this.promise=new Promise(function(t,e){var n=document.createElement("script");n.onload=function(){return t()};n.onerror=function(){return e()};document.head.appendChild(n);n.src=r.url_})}return this.promise};return t}();var i=r;var o=n(27);var g=n(8);var _=n(45);var R=n(66);var a=function(){function t(t){this.ol3d=t;this.scene_=t.getCesiumScene();this.canvas_=this.scene_.canvas;this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this);this.repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"];this.enable()}var e=t.prototype;e.enable=function t(){this.scene_.requestRenderMode=true;this.scene_.maximumRenderTimeChange=1e3;for(var e=this.repaintEventNames_,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{r=e.next();if(r.done)break;i=r.value}var a=i;this.canvas_.addEventListener(a,this._boundNotifyRepaintRequired,false)}window.addEventListener("resize",this._boundNotifyRepaintRequired,false);this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)};e.disable=function t(){for(var e=this.repaintEventNames_,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{r=e.next();if(r.done)break;i=r.value}var a=i;this.canvas_.removeEventListener(a,this._boundNotifyRepaintRequired,false)}window.removeEventListener("resize",this._boundNotifyRepaintRequired,false);this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired);this.scene_.requestRenderMode=false};e.restartRenderLoop=function t(){this.notifyRepaintRequired()};e.notifyRepaintRequired=function t(){this.scene_.requestRender()};return t}();var s=a;var u=n(90);function b(t){return t*180/Math.PI}function l(t){return t*Math.PI/180}var c=function(){function a(t,e){var n=this;this.scene_=t;this.cam_=t.camera;this.map_=e;this.view_=null;this.viewListenKey_=null;this.toLonLat_=a.identityProjection;this.fromLonLat_=a.identityProjection;this.tilt_=0;this.distance_=0;this.lastCameraViewMatrix_=null;this.viewUpdateInProgress_=false;this.map_.on("change:view",function(t){n.setView_(n.map_.getView())});this.setView_(this.map_.getView())}a.identityProjection=function t(e,n,r){var i=r||e.length;if(n){for(var a=0;a<i;++a){n[a]=e[a]}}return e};var t=a.prototype;t.setView_=function t(e){var n=this;if(this.view_){Object(u["b"])(this.viewListenKey_);this.viewListenKey_=null}this.view_=e;if(e){var r=Object(g["i"])(e.getProjection(),"EPSG:4326");var i=Object(g["i"])("EPSG:4326",e.getProjection());console.assert(r&&i);this.toLonLat_=r;this.fromLonLat_=i;this.viewListenKey_=e.on("propertychange",function(t){return n.handleViewEvent_(t)});this.readFromView()}else{this.toLonLat_=a.identityProjection;this.fromLonLat_=a.identityProjection}};t.handleViewEvent_=function t(e){if(!this.viewUpdateInProgress_){this.readFromView()}};t.setHeading=function t(e){if(!this.view_){return}this.view_.setRotation(e)};t.getHeading=function t(){if(!this.view_){return undefined}var e=this.view_.getRotation();return e||0};t.setTilt=function t(e){this.tilt_=e;this.updateCamera_()};t.getTilt=function t(){return this.tilt_};t.setDistance=function t(e){this.distance_=e;this.updateCamera_();this.updateView()};t.getDistance=function t(){return this.distance_};t.setCenter=function t(e){if(!this.view_){return}this.view_.setCenter(e)};t.getCenter=function t(){if(!this.view_){return undefined}return this.view_.getCenter()};t.setPosition=function t(e){if(!this.toLonLat_){return}var n=this.toLonLat_(e);console.assert(n);var r=new Cesium.Cartographic(l(n[0]),l(n[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)});this.updateView()};t.getPosition=function t(){if(!this.fromLonLat_){return undefined}var e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);var n=this.fromLonLat_([b(e.longitude),b(e.latitude)]);console.assert(n);return n};t.setAltitude=function t(e){var n=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);n.height=e;this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(n);this.updateView()};t.getAltitude=function t(){var e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);return e.height};t.updateCamera_=function t(){if(!this.view_||!this.toLonLat_){return}var e=this.view_.getCenter();if(!e){return}var n=this.toLonLat_(e);console.assert(n);var r=new Cesium.Cartographic(l(n[0]),l(n[1]));if(this.scene_.globe){var i=this.scene_.globe.getHeight(r);r.height=i||0}var a=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r);var o={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:undefined};this.cam_.setView({destination:a,orientation:o});this.cam_.moveBackward(this.distance_);this.checkCameraChange(true)};t.readFromView=function t(){if(!this.view_||!this.toLonLat_){return}var e=this.view_.getCenter();if(e===undefined||e===null){return}var n=this.toLonLat_(e);console.assert(n);var r=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(r||0,l(n[1]));this.updateCamera_()};t.updateView=function t(){if(!this.view_||!this.fromLonLat_){return}this.viewUpdateInProgress_=true;var e=Cesium.Ellipsoid.WGS84;var n=this.scene_;var r=R["a"].pickCenterPoint(n);var i=r;if(!i){var a=n.globe;var o=this.cam_.positionCartographic.clone();var s=a.getHeight(o);o.height=s||0;i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(o)}this.distance_=Cesium.Cartesian3.distance(i,this.cam_.position);var u=e.cartesianToCartographic(i);this.view_.setCenter(this.fromLonLat_([b(u.longitude),b(u.latitude)]));this.view_.setResolution(this.calcResolutionForDistance(this.distance_,u?u.latitude:0));if(r){var l=this.cam_.position;var c=new Cesium.Cartesian3;e.geocentricSurfaceNormal(r,c);var h=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(l,r,h);Cesium.Cartesian3.normalize(h,h);var f=this.cam_.up;var d=this.cam_.right;var p=new Cesium.Cartesian3(-r.y,r.x,0);var v=Cesium.Cartesian3.angleBetween(d,p);var g=Cesium.Cartesian3.cross(r,f,new Cesium.Cartesian3);var m=g.z;this.view_.setRotation(m<0?v:-v);var y=Math.acos(Cesium.Cartesian3.dot(c,h));this.tilt_=isNaN(y)?0:y}else{this.view_.setRotation(this.cam_.heading);this.tilt_=-this.cam_.pitch+Math.PI/2}this.viewUpdateInProgress_=false};t.checkCameraChange=function t(e){var n=this.lastCameraViewMatrix_;var r=this.cam_.viewMatrix;if(!n||!Cesium.Matrix4.equalsEpsilon(n,r,1e-5)){this.lastCameraViewMatrix_=r.clone();if(e!==true){this.updateView()}}};t.calcDistanceForResolution=function t(e,n){var r=this.scene_.canvas;var i=this.cam_.frustum.fovy;console.assert(!isNaN(i));var a=this.view_.getProjection().getMetersPerUnit();var o=e*r.clientHeight;var s=Math.cos(Math.abs(n));var u=o*a*s;var l=u/2/Math.tan(i/2);return l};t.calcResolutionForDistance=function t(e,n){var r=this.scene_.canvas;var i=this.cam_.frustum.fovy;var a=this.view_.getProjection().getMetersPerUnit();var o=2*e*Math.tan(i/2);var s=Math.cos(Math.abs(n));var u=o/a/s;var l=u/r.clientHeight;return l};return a}();var m=c;var h=n(97);function f(t){return v(t)||p(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function v(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++){n[e]=t[e]}return n}}var y=function(){function t(t,e){this.map=t;this.view=t.getView();this.scene=e;this.olLayers=t.getLayerGroup().getLayers();this.mapLayerGroup=t.getLayerGroup();this.layerMap={};this.olLayerListenKeys={};this.olGroupListenKeys_={}}var e=t.prototype;e.synchronize=function t(){this.destroyAll();this.addLayers_(this.mapLayerGroup)};e.orderLayers=function t(){};e.addLayers_=function t(e){var u=this;var l=[{layer:e,parents:[]}];var n=function t(){var n=l.splice(0,1)[0];var r=n.layer;var e=Object(_["b"])(r).toString();u.olLayerListenKeys[e]=[];console.assert(!u.layerMap[e]);var i=null;if(r instanceof h["a"]){u.listenForGroupChanges_(r);if(r!==u.mapLayerGroup){i=u.createSingleLayerCounterparts(n)}if(!i){r.getLayers().forEach(function(t){if(t){var e={layer:t,parents:r===u.mapLayerGroup?[]:[n.layer].concat(n.parents)};l.push(e)}})}}else{i=u.createSingleLayerCounterparts(n);if(!i){var a=e;var o=n;var s=function t(e){var n=u.createSingleLayerCounterparts(o);if(n){o.layer.un("change",t);u.addCesiumObjects_(n,a,o.layer);u.orderLayers()}};u.olLayerListenKeys[e].push(Object(_["c"])(o.layer,"change",s))}}if(i){u.addCesiumObjects_(i,e,r)}};while(l.length>0){n()}this.orderLayers()};e.addCesiumObjects_=function t(e,n,r){var i=this;this.layerMap[n]=e;this.olLayerListenKeys[n].push(Object(_["c"])(r,"change:zIndex",function(){return i.orderLayers()}));e.forEach(function(t){i.addCesiumObject(t)})};e.removeAndDestroySingleLayer_=function t(e){var n=this;var r=Object(_["b"])(e).toString();var i=this.layerMap[r];if(!!i){i.forEach(function(t){n.removeSingleCesiumObject(t,false);n.destroyCesiumObject(t)});this.olLayerListenKeys[r].forEach(u["b"]);delete this.olLayerListenKeys[r]}delete this.layerMap[r];return!!i};e.unlistenSingleGroup_=function t(e){if(e===this.mapLayerGroup){return}var n=Object(_["b"])(e).toString();var r=this.olGroupListenKeys_[n];r.forEach(function(t){Object(u["b"])(t)});delete this.olGroupListenKeys_[n];delete this.layerMap[n]};e.removeLayer_=function t(r){var i=this;if(!!r){(function(){var e=[r];while(e.length>0){var t=e.splice(0,1)[0];var n=i.removeAndDestroySingleLayer_(t);if(t instanceof h["a"]){i.unlistenSingleGroup_(t);if(!n){t.getLayers().forEach(function(t){e.push(t)})}}}})()}};e.listenForGroupChanges_=function t(n){var e=Object(_["b"])(n).toString();console.assert(this.olGroupListenKeys_[e]===undefined);var r=[];this.olGroupListenKeys_[e]=r;var i=[];var a=function(){var e=this;var t=n.getLayers();if(t){i=[t.on("add",function(t){e.addLayers_(t.element)}),t.on("remove",function(t){e.removeLayer_(t.element)})];r.push.apply(r,f(i))}}.bind(this);a();r.push(n.on("change:layers",function(t){i.forEach(function(t){var e=r.indexOf(t);if(e>=0){r.splice(e,1)}Object(u["b"])(t)});a()}))};e.destroyAll=function t(){this.removeAllCesiumObjects(true);var e;for(e in this.olGroupListenKeys_){var n=this.olGroupListenKeys_[e];n.forEach(u["b"])}for(e in this.olLayerListenKeys){this.olLayerListenKeys[e].forEach(u["b"])}this.olGroupListenKeys_={};this.olLayerListenKeys={};this.layerMap={}};e.addCesiumObject=function t(e){};e.destroyCesiumObject=function t(e){};e.removeSingleCesiumObject=function t(e,n){};e.removeAllCesiumObjects=function t(e){};e.createSingleLayerCounterparts=function t(e){};return t}();var O=y;function w(t){return x(t)||T(t)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function T(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function x(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++){n[e]=t[e]}return n}}function E(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var C=function(r){E(t,r);function t(t,e){var n;n=r.call(this,t,e)||this;n.cesiumLayers_=e.imageryLayers;n.ourLayers_=new Cesium.ImageryLayerCollection;return n}var e=t.prototype;e.addCesiumObject=function t(e){this.cesiumLayers_.add(e);this.ourLayers_.add(e)};e.destroyCesiumObject=function t(e){e.destroy()};e.removeSingleCesiumObject=function t(e,n){this.cesiumLayers_.remove(e,n);this.ourLayers_.remove(e,false)};e.removeAllCesiumObjects=function t(e){for(var n=0;n<this.ourLayers_.length;++n){this.cesiumLayers_.remove(this.ourLayers_.get(n),e)}this.ourLayers_.removeAll(false)};e.convertLayerToCesiumImageries=function t(e,n){var r=R["a"].tileLayerToImageryLayer(this.map,e,n);return r?[r]:null};e.createSingleLayerCounterparts=function t(e){var r=this;var n=e.layer;var i=Object(_["b"])(n).toString();var a=this.view.getProjection();console.assert(a);var o=this.convertLayerToCesiumImageries(n,a);if(o){var s;var u=[];[e.layer].concat(e.parents).forEach(function(t){u.push(t.on(["change:opacity","change:visible"],function(){console.assert(o);for(var t=0;t<o.length;++t){R["a"].updateCesiumLayerProperties(e,o[t])}}))});for(var l=0;l<o.length;++l){R["a"].updateCesiumLayerProperties(e,o[l])}u.push(n.on("change:extent",function(t){for(var e=0;e<o.length;++e){r.cesiumLayers_.remove(o[e],true);r.ourLayers_.remove(o[e],false)}delete r.layerMap[Object(_["b"])(n)];r.synchronize()}));u.push(n.on("change",function(t){for(var e=0;e<o.length;++e){var n=r.cesiumLayers_.indexOf(o[e]);if(n>=0){r.cesiumLayers_.remove(o[e],false);r.cesiumLayers_.add(o[e],n)}}}));(s=this.olLayerListenKeys[i]).push.apply(s,u)}return Array.isArray(o)?o:null};e.orderLayers=function t(){var r=this;var e=[];var n={};var i=[this.mapLayerGroup];while(i.length>0){var a=i.splice(0,1)[0];e.push(a);n[Object(_["b"])(a)]=a.getZIndex();if(a instanceof h["a"]){var o=a.getLayers();if(o){i.unshift.apply(i,w(o.getArray()))}}}Object(_["f"])(e,function(t,e){return n[Object(_["b"])(t)]-n[Object(_["b"])(e)]});e.forEach(function(t){var e=Object(_["b"])(t).toString();var n=r.layerMap[e];if(n){n.forEach(function(t){r.raiseToTop(t)})}})};e.raiseToTop=function t(e){this.cesiumLayers_.raiseToTop(e)};return t}(O);var M=C;var j=n(36);var A=n(87);var k=n(5);var I=n(20);var D=n(15);var P=n(7);var N=n(44);var L=n(2);var $=n(11);var F=n(3);var G=function(e){function t(t){e.call(this,{attributions:t.attributions,wrapX:t.wrapX});this.resolution=undefined;this.distance=t.distance!==undefined?t.distance:20;this.features=[];this.geometryFunction=t.geometryFunction||function(t){var e=t.getGeometry();Object(I["a"])(e.getType()==P["a"].POINT,10);return e};this.source=t.source;Object(L["a"])(this.source,$["a"].CHANGE,this.refresh,this)}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype.getDistance=function t(){return this.distance};t.prototype.getSource=function t(){return this.source};t.prototype.loadFeatures=function t(e,n,r){this.source.loadFeatures(e,n,r);if(n!==this.resolution){this.clear();this.resolution=n;this.cluster();this.addFeatures(this.features)}};t.prototype.setDistance=function t(e){this.distance=e;this.refresh()};t.prototype.refresh=function t(){this.clear();this.cluster();this.addFeatures(this.features);e.prototype.refresh.call(this)};t.prototype.cluster=function t(){if(this.resolution===undefined){return}this.features.length=0;var e=Object(F["j"])();var n=this.distance*this.resolution;var r=this.source.getFeatures();var i={};for(var a=0,o=r.length;a<o;a++){var s=r[a];if(!(Object(k["c"])(s)in i)){var u=this.geometryFunction(s);if(u){var l=u.getCoordinates();Object(F["m"])(l,e);Object(F["c"])(e,n,e);var c=this.source.getFeaturesInExtent(e);c=c.filter(function(t){var e=Object(k["c"])(t);if(!(e in i)){i[e]=true;return true}else{return false}});this.features.push(this.createCluster(c))}}}};t.prototype.createCluster=function t(e){var n=[0,0];for(var r=e.length-1;r>=0;--r){var i=this.geometryFunction(e[r]);if(i){Object(N["a"])(n,i.getCoordinates())}else{e.splice(r,1)}}Object(N["f"])(n,1/e.length);var a=new D["a"](new o["a"](n));a.set("features",e);return a};return t}(j["a"]);var H=G;var U=n(77);var W=n(41);var Y=n(118);var V=n(205);var q=n(26);var z=n(81);var B=function(){function t(t,e){var n=new Cesium.BillboardCollection({scene:e});var r=new Cesium.PrimitiveCollection;this.olListenKeys=[];this.rootCollection_=new Cesium.PrimitiveCollection;this.context={projection:t,billboards:n,featureToCesiumMap:{},primitives:r};this.rootCollection_.add(n);this.rootCollection_.add(r)}var e=t.prototype;e.destroy=function t(){this.olListenKeys.forEach(u["b"]);this.olListenKeys.length=0};e.getRootPrimitive=function t(){return this.rootCollection_};return t}();var K=B;var X=function(){function t(t){this.scene=t;this.boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this)}var e=t.prototype;e.onRemoveOrClearFeature_=function t(e){var n=e.target;console.assert(n instanceof j["a"]);var r=_["a"].obj(n)["olcs_cancellers"];if(r){var i=e.feature;if(i){var a=Object(_["b"])(i);var o=r[a];if(o){o();delete r[a]}}else{for(var s in r){if(r.hasOwnProperty(s)){r[s]()}}_["a"].obj(n)["olcs_cancellers"]={}}}};e.setReferenceForPicking=function t(e,n,r){r.olLayer=e;r.olFeature=n};e.createColoredPrimitive=function t(e,n,r,i,a,o){var s=function t(e,n){var r=new Cesium.GeometryInstance({geometry:e});if(n&&!(n instanceof Cesium.ImageMaterialProperty)){r.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(n)}}return r};var u={flat:true,renderState:{depthTest:{enabled:true}}};if(o!==undefined){if(!u.renderState){u.renderState={}}u.renderState.lineWidth=o}var l=s(i,a);var c=this.getHeightReference(e,n,r);var h;if(c===Cesium.HeightReference.CLAMP_TO_GROUND){var f=l.geometry.constructor;if(f&&!f["createShadowVolume"]){return null}h=new Cesium.GroundPrimitive({geometryInstances:l})}else{h=new Cesium.Primitive({geometryInstances:l})}if(a instanceof Cesium.ImageMaterialProperty){var d=a.image.getValue().toDataURL();h.appearance=new Cesium.MaterialAppearance({flat:true,renderState:{depthTest:{enabled:true}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:d}}})})}else{h.appearance=new Cesium.PerInstanceColorAppearance(u)}this.setReferenceForPicking(e,n,h);return h};e.extractColorFromOlStyle=function t(e,n){var r=e.getFill()?e.getFill().getColor():null;var i=e.getStroke()?e.getStroke().getColor():null;var a="black";if(i&&n){a=i}else if(r){a=r}return R["a"].convertColorToCesium(a)};e.extractLineWidthFromOlStyle=function t(e){var n=e.getStroke()?e.getStroke().getWidth():undefined;return n!==undefined?n:1};e.wrapFillAndOutlineGeometries=function t(e,n,r,i,a,o){var s=this.extractColorFromOlStyle(o,false);var u=this.extractColorFromOlStyle(o,true);var l=new Cesium.PrimitiveCollection;if(o.getFill()){var c=this.createColoredPrimitive(e,n,r,i,s);console.assert(!!c);l.add(c)}if(o.getStroke()&&a){var h=this.extractLineWidthFromOlStyle(o);var f=this.createColoredPrimitive(e,n,r,a,u,h);if(f){l.add(f)}}return l};e.addTextStyle=function t(e,n,r,i,a){var o;if(!(a instanceof Cesium.PrimitiveCollection)){o=new Cesium.PrimitiveCollection;o.add(a)}else{o=a}if(!i.getText()){return o}var s=i.getText();var u=this.olGeometry4326TextPartToCesium(e,n,r,s);if(u){o.add(u)}return o};e.csAddBillboard=function t(e,n,r,i,a,o){var s=e.add(n);this.setReferenceForPicking(r,i,s);return s};e.olCircleGeometryToCesium=function t(e,n,r,i,a){var o=this;r=R["a"].olGeometryCloneTo4326(r,i);console.assert(r.getType()=="Circle");var s=r.getCenter();var u=s.length==3?s[2]:0;var l=s.slice();l[0]+=r.getRadius();s=R["a"].ol4326CoordinateToCesiumCartesian(s);l=R["a"].ol4326CoordinateToCesiumCartesian(l);var c=Cesium.Cartesian3.distance(s,l);var h=new Cesium.CircleGeometry({center:s,radius:c,height:u});var f,d;if(this.getHeightReference(e,n,r)===Cesium.HeightReference.CLAMP_TO_GROUND){var p=this.extractLineWidthFromOlStyle(a);if(p){var v=Object(q["a"])(r.getCenter(),c);var g=R["a"].ol4326CoordinateArrayToCsCartesians(v.getLinearRing(0).getCoordinates());if(!Cesium.GroundPolylinePrimitive.isSupported(this.scene)){var m=this.extractColorFromOlStyle(a,true);f=this.createStackedGroundCorridors(e,n,p,m,g)}else{f=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:g,width:p})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(n,a,true)}),classificationType:Cesium.ClassificationType.TERRAIN});f.readyPromise.then(function(){o.setReferenceForPicking(e,n,f._primitive)})}}}else{d=new Cesium.CircleOutlineGeometry({center:s,radius:c,extrudedHeight:u,height:u})}var y=this.wrapFillAndOutlineGeometries(e,n,r,h,d,a);if(f){y.add(f)}return this.addTextStyle(e,n,r,a,y)};e.createStackedGroundCorridors=function t(e,n,r,i,a){if(!Array.isArray(a[0])){a=[a]}r=Math.max(3,r);var o=[];var s=0;var u=[1e3,4e3,16e3,64e3,254e3,1e6,1e7];for(var l=0;l<u.length;l++){var c=u[l];r*=2.14;var h={width:r,vertexFormat:Cesium.VertexFormat.POSITION_ONLY};for(var f=a,d=Array.isArray(f),p=0,f=d?f:f[Symbol.iterator]();;){var v;if(d){if(p>=f.length)break;v=f[p++]}else{p=f.next();if(p.done)break;v=p.value}var g=v;h.positions=g;o.push(new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(h),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(i),distanceDisplayCondition:new Cesium.DistanceDisplayConditionGeometryInstanceAttribute(s,c-1)}}))}s=c}return new Cesium.GroundPrimitive({geometryInstances:o})};e.olLineStringGeometryToCesium=function t(e,n,r,i,a){var o=this;r=R["a"].olGeometryCloneTo4326(r,i);console.assert(r.getType()=="LineString");var s=R["a"].ol4326CoordinateArrayToCsCartesians(r.getCoordinates());var u=this.extractLineWidthFromOlStyle(a);var l;var c=this.getHeightReference(e,n,r);if(c===Cesium.HeightReference.CLAMP_TO_GROUND&&!Cesium.GroundPolylinePrimitive.isSupported(this.scene)){var h=this.extractColorFromOlStyle(a,true);l=this.createStackedGroundCorridors(e,n,u,h,s)}else{var f=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(n,a,true)});var d={positions:s,width:u};var p={appearance:f};if(c===Cesium.HeightReference.CLAMP_TO_GROUND){var v=new Cesium.GroundPolylineGeometry(d);p.geometryInstances=new Cesium.GeometryInstance({geometry:v}),l=new Cesium.GroundPolylinePrimitive(p);l.readyPromise.then(function(){o.setReferenceForPicking(e,n,l._primitive)})}else{d.vertexFormat=f.vertexFormat;var g=new Cesium.PolylineGeometry(d);p.geometryInstances=new Cesium.GeometryInstance({geometry:g}),l=new Cesium.Primitive(p)}}this.setReferenceForPicking(e,n,l);return this.addTextStyle(e,n,r,a,l)};e.olPolygonGeometryToCesium=function t(e,n,r,i,a){var o=this;r=R["a"].olGeometryCloneTo4326(r,i);console.assert(r.getType()=="Polygon");var s=this.getHeightReference(e,n,r);var u,l,c;if(r.getCoordinates()[0].length==5&&n.getGeometry().get("olcs.polygon_kind")==="rectangle"){var h=r.getCoordinates()[0];var f=Object(F["b"])(h);var d=Cesium.Rectangle.fromDegrees(f[0],f[1],f[2],f[3]);var p=0;if(h[0].length==3){for(var v=0;v<h.length;v++){p=Math.max(p,h[v][2])}}u=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:d,height:p});l=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:d,height:p})}else{var g=r.getLinearRings();var m={};var y=m;console.assert(g.length>0);for(var _=0;_<g.length;++_){var b=g[_].getCoordinates();var O=R["a"].ol4326CoordinateArrayToCsCartesians(b);console.assert(O&&O.length>0);if(_==0){m.positions=O}else{if(!m.holes){m.holes=[]}m.holes.push({positions:O})}}u=new Cesium.PolygonGeometry({polygonHierarchy:y,perPositionHeight:true});if(s===Cesium.HeightReference.CLAMP_TO_GROUND){var w=this.extractLineWidthFromOlStyle(a);if(w>0){var S=[m.positions];if(m.holes){for(var T=0;T<m.holes.length;++T){S.push(m.holes[T].positions)}}if(!Cesium.GroundPolylinePrimitive.isSupported(this.scene)){var x=this.extractColorFromOlStyle(a,true);c=this.createStackedGroundCorridors(e,n,w,x,S)}else{var E=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(n,a,true)});var C=[];for(var M=0;M<S.length;M++){var j=S[M];var A=new Cesium.GroundPolylineGeometry({positions:j,width:w});C.push(new Cesium.GeometryInstance({geometry:A}))}var k={appearance:E,geometryInstances:C};c=new Cesium.GroundPolylinePrimitive(k);c.readyPromise.then(function(){o.setReferenceForPicking(e,n,c._primitive)})}}}else{l=new Cesium.PolygonOutlineGeometry({polygonHierarchy:m,perPositionHeight:true})}}var I=this.wrapFillAndOutlineGeometries(e,n,r,u,l,a);if(c){I.add(c)}return this.addTextStyle(e,n,r,a,I)};e.getHeightReference=function t(e,n,r){var i=r.get("altitudeMode");if(i===undefined){i=n.get("altitudeMode")}if(i===undefined){i=e.get("altitudeMode")}var a=Cesium.HeightReference.NONE;if(i==="clampToGround"){a=Cesium.HeightReference.CLAMP_TO_GROUND}else if(i==="relativeToGround"){a=Cesium.HeightReference.RELATIVE_TO_GROUND}return a};e.createBillboardFromImage=function t(s,u,l,e,c,h,f,d){if(h instanceof V["a"]){h.load()}var p=h.getImage(1);var n=function t(e){return e.src!=""&&e.naturalHeight!=0&&e.naturalWidth!=0&&e.complete};var r=function(){if(!p){return}if(!(p instanceof HTMLCanvasElement||p instanceof Image||p instanceof HTMLImageElement)){return}var t=l.getCoordinates();var e=R["a"].ol4326CoordinateToCesiumCartesian(t);var n;var r=h.getOpacity();if(r!==undefined){n=new Cesium.Color(1,1,1,r)}var i=this.getHeightReference(s,u,l);var a={image:p,color:n,scale:h.getScale(),heightReference:i,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,position:e};var o=this.csAddBillboard(f,a,s,u,l,c);if(d){d(o)}}.bind(this);if(p instanceof Image&&!n(p)){var i=false;var a=s.getSource();var o=function t(){i=true};a.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);var v=_["a"].obj(a)["olcs_cancellers"];if(!v){v=_["a"].obj(a)["olcs_cancellers"]={}}var g=Object(_["b"])(u);if(v[g]){v[g]()}v[g]=o;var m=function t(){p.removeEventListener("load",t);if(!f.isDestroyed()&&!i){r()}};p.addEventListener("load",m)}else{r()}};e.olPointGeometryToCesium=function t(e,n,r,i,a,o,s){console.assert(r.getType()=="Point");r=R["a"].olGeometryCloneTo4326(r,i);var u=null;var l=a.getImage();if(l){var c=r.get("olcs_model")||n.get("olcs_model");if(c){var h=c();var f=Object.assign({},{scene:this.scene},h.cesiumOptions);var d=Cesium.Model.fromGltf(f);u=new Cesium.PrimitiveCollection;u.add(d);if(h.debugModelMatrix){u.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:h.debugModelMatrix}))}}else{this.createBillboardFromImage(e,n,r,i,a,l,o,s)}}if(a.getText()){return this.addTextStyle(e,n,r,a,u||new Cesium.Primitive)}else{return u}};e.olMultiGeometryToCesium=function t(i,a,e,o,s,n,r){var u=this;var l=function t(e,n){var r=new Cesium.PrimitiveCollection;e.forEach(function(t){r.add(n(i,a,t,o,s))});return r};var c;switch(e.getType()){case"MultiPoint":e=e;c=e.getPoints();if(s.getText()){var h=new Cesium.PrimitiveCollection;c.forEach(function(t){console.assert(t);var e=u.olPointGeometryToCesium(i,a,t,o,s,n,r);if(e){h.add(e)}});return h}else{c.forEach(function(t){console.assert(t);u.olPointGeometryToCesium(i,a,t,o,s,n,r)});return null}case"MultiLineString":e=e;c=e.getLineStrings();return l(c,this.olLineStringGeometryToCesium.bind(this));case"MultiPolygon":e=e;c=e.getPolygons();return l(c,this.olPolygonGeometryToCesium.bind(this));default:console.assert(false,"Unhandled multi geometry type"+e.getType())}};e.olGeometry4326TextPartToCesium=function t(e,n,r,i){var a=i.getText();if(!a){return null}var o=new Cesium.LabelCollection({scene:this.scene});var s=Object(F["x"])(r.getExtent());if(r instanceof z["a"]){var u=r.getFirstCoordinate();s[2]=u.length==3?u[2]:0}var l={};l.position=R["a"].ol4326CoordinateToCesiumCartesian(s);l.text=a;l.heightReference=this.getHeightReference(e,n,r);var c=i.getOffsetX();var h=i.getOffsetY();if(c!=0&&h!=0){var f=new Cesium.Cartesian2(c,h);l.pixelOffset=f}l.font=i.getFont()||"10px sans-serif";var d=undefined;if(i.getFill()){l.fillColor=this.extractColorFromOlStyle(i,false);d=Cesium.LabelStyle.FILL}if(i.getStroke()){l.outlineWidth=this.extractLineWidthFromOlStyle(i);l.outlineColor=this.extractColorFromOlStyle(i,true);d=Cesium.LabelStyle.OUTLINE}if(i.getFill()&&i.getStroke()){d=Cesium.LabelStyle.FILL_AND_OUTLINE}l.style=d;var p;switch(i.getTextAlign()){case"left":p=Cesium.HorizontalOrigin.LEFT;break;case"right":p=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:p=Cesium.HorizontalOrigin.CENTER}l.horizontalOrigin=p;if(i.getTextBaseline()){var v;switch(i.getTextBaseline()){case"top":v=Cesium.VerticalOrigin.TOP;break;case"middle":v=Cesium.VerticalOrigin.CENTER;break;case"bottom":v=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":v=Cesium.VerticalOrigin.TOP;break;case"hanging":v=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(false,"unhandled baseline "+i.getTextBaseline())}l.verticalOrigin=v}var g=o.add(l);this.setReferenceForPicking(e,n,g);return o};e.olStyleToCesium=function t(e,n,r){var i=n.getFill();var a=n.getStroke();if(r&&!a||!r&&!i){return null}var o=r?a.getColor():i.getColor();o=R["a"].convertColorToCesium(o);if(r&&a.getLineDash()){return Cesium.Material.fromType("Stripe",{horizontal:false,repeat:500,evenColor:o,oddColor:new Cesium.Color(0,0,0,0)})}else{return Cesium.Material.fromType("Color",{color:o})}};e.computePlainStyle=function t(e,n,r,i){var a=n.getStyleFunction();var o=null;if(a){o=a(n,i)}if(!o&&r){o=r(n,i)}if(!o){return null}return Array.isArray(o)?o:[o]};e.getGeometryFromFeature=function t(e,n,r){if(r){return r}var i=e.get("olcs.3d_geometry");if(i&&i instanceof Y["a"]){return i}if(n){var a=n.getGeometryFunction()(e);if(a instanceof Y["a"]){return a}}return e.getGeometry()};e.olFeatureToCesium=function t(n,r,i,a,e){var o=this;var s=this.getGeometryFromFeature(r,i,e);if(!s){return null}var u=a.projection;var l=function t(e){var n=a.featureToCesiumMap[Object(_["b"])(r)];if(n instanceof Array){n.push(e)}else{a.featureToCesiumMap[Object(_["b"])(r)]=[e]}};switch(s.getType()){case"GeometryCollection":var c=new Cesium.PrimitiveCollection;var h=s;h.getGeometries().forEach(function(t){if(t){var e=o.olFeatureToCesium(n,r,i,a,t);if(e){c.add(e)}}});return c;case"Point":s=s;var f=a.billboards;var d=this.olPointGeometryToCesium(n,r,s,u,i,f,l);if(!d){return null}else{return d}case"Circle":s=s;return this.olCircleGeometryToCesium(n,r,s,u,i);case"LineString":s=s;return this.olLineStringGeometryToCesium(n,r,s,u,i);case"Polygon":s=s;return this.olPolygonGeometryToCesium(n,r,s,u,i);case"MultiPoint":case"MultiLineString":case"MultiPolygon":var p=this.olMultiGeometryToCesium(n,r,s,u,i,a.billboards,l);if(!p){return null}else{return p}case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error("Ol geom type not handled : "+s.getType())}};e.olVectorLayerToCesium=function t(e,n,r){var i=n.getProjection();var a=n.getResolution();if(a===undefined||!i){console.assert(false,"View not ready");throw new Error("View not ready")}var o=e.getSource();if(o instanceof H){o=o.getSource()}console.assert(o instanceof j["a"]);var s=o.getFeatures();var u=new K(i,this.scene);var l=u.context;for(var c=0;c<s.length;++c){var h=s[c];if(!h){continue}var f=e.getStyleFunction();var d=this.computePlainStyle(e,h,f,a);if(!d||!d.length){continue}var p=null;for(var v=0;v<d.length;v++){var g=this.olFeatureToCesium(e,h,d[v],l);if(g){if(!p){p=g}else if(g){var m=0,y=void 0;while(y=g.get(m)){p.add(y);m++}}}}if(!p){continue}r[Object(_["b"])(h)]=p;u.getRootPrimitive().add(p)}return u};e.convert=function t(e,n,r,i){var a=n.getProjection();var o=n.getResolution();if(o==undefined||!a){return null}var s=e.getStyleFunction();var u=this.computePlainStyle(e,r,s,o);if(!u.length){return null}i.projection=a;var l=null;for(var c=0;c<u.length;c++){var h=this.olFeatureToCesium(e,r,u[c],i);if(!l){l=h}else if(h){var f=0,d=void 0;while(d=h.get(f)){l.add(d);f++}}}return l};return t}();var Z=X;function Q(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var J=function(i){Q(t,i);function t(t,e,n){var r;r=i.call(this,t,e)||this;r.converter=n||new Z(e);r.csAllPrimitives_=new Cesium.PrimitiveCollection;e.primitives.add(r.csAllPrimitives_);r.csAllPrimitives_.destroyPrimitives=false;return r}var e=t.prototype;e.addCesiumObject=function t(e){console.assert(e);e.getRootPrimitive()["counterpart"]=e;this.csAllPrimitives_.add(e.getRootPrimitive())};e.destroyCesiumObject=function t(e){e.getRootPrimitive().destroy()};e.removeSingleCesiumObject=function t(e,n){e.destroy();this.csAllPrimitives_.destroyPrimitives=n;this.csAllPrimitives_.remove(e.getRootPrimitive());this.csAllPrimitives_.destroyPrimitives=false};e.removeAllCesiumObjects=function t(e){this.csAllPrimitives_.destroyPrimitives=e;if(e){for(var n=0;n<this.csAllPrimitives_.length;++n){this.csAllPrimitives_.get(n)["counterpart"].destroy()}}this.csAllPrimitives_.removeAll();this.csAllPrimitives_.destroyPrimitives=false};e.updateLayerVisibility=function t(e,n){var r=true;[e.layer].concat(e.parents).forEach(function(t){var e=t.getVisible();if(e!==undefined){r&=e}else{r=false}});n.show=r};e.createSingleLayerCounterparts=function t(e){var n=this;var r=e.layer;if(!(r instanceof W["a"])){return null}console.assert(r instanceof A["a"]);var i=r.getSource();if(i instanceof H){i=i.getSource()}if(!i){return null}console.assert(i instanceof j["a"]);console.assert(this.view);var a=this.view;var o={};var s=this.converter.olVectorLayerToCesium(r,a,o);var u=s.getRootPrimitive();var l=s.olListenKeys;[e.layer].concat(e.parents).forEach(function(t){l.push(Object(_["c"])(t,"change:visible",function(){n.updateLayerVisibility(e,u)}))});this.updateLayerVisibility(e,u);var c=function(t){console.assert(r instanceof W["a"]||r instanceof U["a"]);var e=s.context;var n=this.converter.convert(r,a,t,e);if(n){o[Object(_["b"])(t)]=n;u.add(n)}}.bind(this);var h=function(t){var e=Object(_["b"])(t);var n=s.context;var r=n.featureToCesiumMap[e];if(r){delete n.featureToCesiumMap[e];r.forEach(function(t){if(t instanceof Cesium.Billboard){n.billboards.remove(t)}})}var i=o[e];delete o[e];if(i){u.remove(i)}}.bind(this);l.push(Object(_["c"])(i,"addfeature",function(t){console.assert(t.feature);c(t.feature)},this));l.push(Object(_["c"])(i,"removefeature",function(t){console.assert(t.feature);h(t.feature)},this));l.push(Object(_["c"])(i,"changefeature",function(t){var e=t.feature;console.assert(e);h(e);c(e)},this));return s?[s]:null};return t}(O);var tt=J;var et=n(171);function nt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}function rt(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}var it=function(i){nt(t,i);function t(t){var n;var e=t.parent;n=i.call(this,e.getOptions())||this;n.scenePostRenderListenerRemover_=null;n.scene_=t.scene;n.synchronizer_=t.synchronizer;n.parent_=e;n.positionWGS84_=undefined;n.observer_=new MutationObserver(n.handleElementChanged.bind(rt(rt(n))));n.attributeObserver_=[];n.listenerKeys_=[];var r=function t(e){return n.setPropertyFromEvent_(e)};n.listenerKeys_.push(n.parent_.on("change:position",r));n.listenerKeys_.push(n.parent_.on("change:element",r));n.listenerKeys_.push(n.parent_.on("change:offset",r));n.listenerKeys_.push(n.parent_.on("change:position",r));n.listenerKeys_.push(n.parent_.on("change:positioning",r));n.setProperties(n.parent_.getProperties());n.handleMapChanged();n.handleElementChanged();return n}var e=t.prototype;e.observeTarget_=function t(e){if(!this.observer_){return}this.observer_.disconnect();this.observer_.observe(e,{attributes:false,childList:true,characterData:true,subtree:true});this.attributeObserver_.forEach(function(t){t.disconnect()});this.attributeObserver_.length=0;for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===1){var i=new MutationObserver(this.handleElementChanged.bind(this));i.observe(r,{attributes:true,subtree:true});this.attributeObserver_.push(i)}}};e.setPropertyFromEvent_=function t(e){if(e.target&&e.key){this.set(e.key,e.target.get(e.key))}};e.getScene=function t(){return this.scene_};e.handleMapChanged=function t(){if(this.scenePostRenderListenerRemover_){this.scenePostRenderListenerRemover_();Object(_["e"])(this.element)}this.scenePostRenderListenerRemover_=null;var e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this));this.updatePixelPosition();var n=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();if(this.insertFirst){n.insertBefore(this.element,n.childNodes[0]||null)}else{n.appendChild(this.element)}}};e.handlePositionChanged=function t(){var e=this.getPosition();if(e){var n=this.parent_.getMap().getView().getProjection();this.positionWGS84_=Object(g["m"])(e,n,"EPSG:4326")}else{this.positionWGS84_=undefined}this.updatePixelPosition()};e.handleElementChanged=function t(){function a(e,t){var n=e.cloneNode();if(t){t.appendChild(n)}if(e.nodeType!=Node.TEXT_NODE){n.addEventListener("click",function(t){e.dispatchEvent(new MouseEvent("click",t));t.stopPropagation()})}var r=e.childNodes;for(var i=0;i<r.length;i++){if(!r[i]){continue}a(r[i],n)}return n}Object(_["d"])(this.element);var e=this.getElement();if(e){if(e.parentNode&&e.parentNode.childNodes){for(var n=e.parentNode.childNodes,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{i=n.next();if(i.done)break;o=i.value}var s=o;var u=a(s,null);this.element.appendChild(u)}}}if(e.parentNode){this.observeTarget_(e.parentNode)}};e.updatePixelPosition=function t(){var e=this.positionWGS84_;if(!this.scene_||!e){this.setVisible(false);return}var n;if(e.length===2){n=Cesium.Cartesian3.fromDegreesArray(e)[0]}else{n=Cesium.Cartesian3.fromDegreesArrayHeights(e)[0]}var r=this.scene_.camera;var i=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);var a=new Cesium.Occluder(i,r.position);if(!a.isPointVisible(n)){this.setVisible(false);return}var o=r.frustum.computeCullingVolume(r.position,r.direction,r.up);if(o.computeVisibility(new Cesium.BoundingSphere(n))!==1){this.setVisible(false);return}this.setVisible(true);var s=this.scene_.cartesianToCanvasCoordinates(n);var u=[s.x,s.y];var l=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(u,l)};e.destroy=function t(){if(this.scenePostRenderListenerRemover_){this.scenePostRenderListenerRemover_()}if(this.observer_){this.observer_.disconnect()}Object(u["b"])(this.listenerKeys_);this.listenerKeys_.splice(0);if(this.element.removeNode){this.element.removeNode(true)}else{this.element.remove()}this.element=null};return t}(et["a"]);var at=it;var ot=function(){function t(t,e){var n=this;this.map=t;this.overlays_=this.map.getOverlays();this.scene=e;this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var r=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];r.forEach(function(t){n.overlayContainerStopEvent_.addEventListener(t,function(t){return t.stopPropagation()})});this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_);this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.scene.canvas.parentElement.appendChild(this.overlayContainer_);this.overlayMap_={}}var e=t.prototype;e.getOverlayContainerStopEvent=function t(){return this.overlayContainerStopEvent_};e.getOverlayContainer=function t(){return this.overlayContainer_};e.synchronize=function t(){this.destroyAll();this.addOverlays();this.overlays_.on("add",this.addOverlayFromEvent_.bind(this));this.overlays_.on("remove",this.removeOverlayFromEvent_.bind(this))};e.addOverlayFromEvent_=function t(e){var n=e.element;this.addOverlay(n)};e.addOverlays=function t(){var e=this;this.overlays_.forEach(function(t){e.addOverlay()})};e.addOverlay=function t(e){if(!e){return}var n=new at({scene:this.scene,synchronizer:this,parent:e});var r=Object(_["b"])(e).toString();this.overlayMap_[r]=n};e.removeOverlayFromEvent_=function t(e){var n=e.element;this.removeOverlay(n)};e.removeOverlay=function t(e){var n=Object(_["b"])(e).toString();var r=this.overlayMap_[n];if(r){r.destroy();delete this.overlayMap_[n]}};e.destroyAll=function t(){var n=this;Object.keys(this.overlayMap_).forEach(function(t){var e=n.overlayMap_[t];e.destroy();delete n.overlayMap_[t]})};return t}();var st=ot;var ut=function(){function v(t){this.autoRenderLoop_=null;this.map_=t.map;this.time_=t.time||function(){return Cesium.JulianDate.now()};this.to4326Transform_=Object(g["i"])(this.map_.getView().getProjection(),"EPSG:4326");this.resolutionScale_=1;this.canvasClientWidth_=0;this.canvasClientHeight_=0;this.resolutionScaleChanged_=true;var e="position:absolute;top:0;left:0;width:100%;height:100%;";this.container_=document.createElement("DIV");var n=document.createAttribute("style");n.value=e+"visibility:hidden;";this.container_.setAttributeNode(n);var r=t.target||null;if(r){if(typeof r==="string"){r=document.getElementById(r)}r.appendChild(this.container_)}else{var i=this.map_.getViewport().querySelector(".ol-overlaycontainer");if(i&&i.parentNode){i.parentNode.insertBefore(this.container_,i)}}this.isOverMap_=!r;if(this.isOverMap_&&t.stopOpenLayersEventsPropagation){var a=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];for(var o=0,s=a.length;o<s;++o){this.container_.addEventListener(a[o],function(t){return t.stopPropagation()})}}this.canvas_=document.createElement("CANVAS");var u=document.createAttribute("style");u.value=e;this.canvas_.setAttributeNode(u);if(_["a"].supportsImageRenderingPixelated()){this.canvas_.style["imageRendering"]=_["a"].imageRenderingValue()}this.canvas_.oncontextmenu=function(){return false};this.canvas_.onselectstart=function(){return false};this.container_.appendChild(this.canvas_);this.enabled_=false;this.pausedInteractions_=[];this.hiddenRootGroup_=null;var l=t.sceneOptions!==undefined?t.sceneOptions:{};l.canvas=this.canvas_;l.scene3DOnly=true;this.scene_=new Cesium.Scene(l);var c=this.scene_.screenSpaceCameraController;c.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT});c.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT});c.enableLook=false;this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z;this.camera_=new m(this.scene_,this.map_);this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84);this.globe_.baseColor=Cesium.Color.WHITE;this.scene_.globe=this.globe_;this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;var h=new Cesium.SingleTileImageryProvider({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(h,0);this.dataSourceCollection_=new Cesium.DataSourceCollection;this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_});var f=t.createSynchronizers?t.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new M(this.map_,this.scene_),new tt(this.map_,this.scene_),new st(this.map_,this.scene_)];this.handleResize_();for(var d=f.length-1;d>=0;--d){f[d].synchronize()}this.lastFrameTime_=0;this.renderId_=undefined;this.targetFrameRate_=Number.POSITIVE_INFINITY;this.blockCesiumRendering_=false;this.warmingUp_=false;this.trackedFeature_=null;this.trackedEntity_=null;this.entityView_=null;this.needTrackedEntityUpdate_=false;this.boundingSphereScratch_=new Cesium.BoundingSphere;var p=new Cesium.EventHelper;p.add(this.scene_.postRender,v.prototype.updateTrackedEntity_,this);Cesium.Camera.enableSuspendTerrainAdjustment=false}var t=v.prototype;t.render_=function t(){if(this.renderId_!==undefined){cancelAnimationFrame(this.renderId_);this.renderId_=undefined}if((this.enabled_||this.warmingUp_)&&!this.blockCesiumRendering_){this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this))}};t.onAnimationFrame_=function t(e){this.renderId_=undefined;var n=1e3/this.targetFrameRate_;var r=e-this.lastFrameTime_;if(r<n){this.render_();return}this.lastFrameTime_=e;var i=this.time_();this.scene_.initializeFrame();this.handleResize_();this.dataSourceDisplay_.update(i);if(this.entityView_){var a=this.trackedEntity_;var o=this.dataSourceDisplay_.getBoundingSphere(a,false,this.boundingSphereScratch_);if(o===Cesium.BoundingSphereState.DONE){this.boundingSphereScratch_.radius=1;this.entityView_.update(i,this.boundingSphereScratch_)}}this.scene_.render(i);this.camera_.checkCameraChange();this.render_()};t.updateTrackedEntity_=function t(){if(!this.needTrackedEntityUpdate_){return}var e=this.trackedEntity_;var n=this.scene_;var r=this.dataSourceDisplay_.getBoundingSphere(e,false,this.boundingSphereScratch_);if(r===Cesium.BoundingSphereState.PENDING){return}n.screenSpaceCameraController.enableTilt=false;var i=r!==Cesium.BoundingSphereState.FAILED?this.boundingSphereScratch_:undefined;if(i){i.radius=1}this.entityView_=new Cesium.EntityView(e,n,n.mapProjection.ellipsoid);this.entityView_.update(this.time_(),i);this.needTrackedEntityUpdate_=false};t.handleResize_=function t(){var e=this.canvas_.clientWidth;var n=this.canvas_.clientHeight;if(e===0|n===0){return}if(e===this.canvasClientWidth_&&n===this.canvasClientHeight_&&!this.resolutionScaleChanged_){return}var r=this.resolutionScale_;if(!_["a"].supportsImageRenderingPixelated()){r*=window.devicePixelRatio||1}this.resolutionScaleChanged_=false;this.canvasClientWidth_=e;this.canvasClientHeight_=n;e*=r;n*=r;this.canvas_.width=e;this.canvas_.height=n;this.scene_.camera.frustum.aspectRatio=e/n};t.getCamera=function t(){return this.camera_};t.getOlMap=function t(){return this.map_};t.getOlView=function t(){var e=this.map_.getView();console.assert(e);return e};t.getCesiumScene=function t(){return this.scene_};t.getDataSources=function t(){return this.dataSourceCollection_};t.getDataSourceDisplay=function t(){return this.dataSourceDisplay_};t.getEnabled=function t(){return this.enabled_};t.setEnabled=function t(e){var r=this;if(this.enabled_===e){return}this.enabled_=e;this.container_.style.visibility=this.enabled_?"visible":"hidden";var n;if(this.enabled_){this.throwOnUnitializedMap_();if(this.isOverMap_){n=this.map_.getInteractions();n.forEach(function(t,e,n){r.pausedInteractions_.push(t)});n.clear();var i=this.map_.getLayerGroup();if(i.getVisible()){this.hiddenRootGroup_=i;this.hiddenRootGroup_.setVisible(false)}this.map_.getOverlayContainer().classList.add("olcs-hideoverlay");this.map_.getOverlayContainerStopEvent().classList.add("olcs-hideoverlay")}this.camera_.readFromView();this.render_()}else{if(this.isOverMap_){n=this.map_.getInteractions();this.pausedInteractions_.forEach(function(t){n.push(t)});this.pausedInteractions_.length=0;this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay");this.map_.getOverlayContainerStopEvent().classList.remove("olcs-hideoverlay");if(this.hiddenRootGroup_){this.hiddenRootGroup_.setVisible(true);this.hiddenRootGroup_=null}}this.camera_.updateView()}};t.warmUp=function t(e,n){var r=this;if(this.enabled_){return}this.throwOnUnitializedMap_();this.camera_.readFromView();var i=this.globe_.ellipsoid;var a=this.scene_.camera;var o=i.cartesianToCartographic(a.position);if(o.height<e){o.height=e;a.position=i.cartographicToCartesian(o)}this.warmingUp_=true;this.render_();setTimeout(function(){r.warmingUp_=false},n)};t.setBlockCesiumRendering=function t(e){if(this.blockCesiumRendering_!==e){this.blockCesiumRendering_=e;this.render_()}};t.enableAutoRenderLoop=function t(){if(!this.autoRenderLoop_){this.autoRenderLoop_=new s(this)}};t.getAutoRenderLoop=function t(){return this.autoRenderLoop_};t.setResolutionScale=function t(e){e=Math.max(0,e);if(e!==this.resolutionScale_){this.resolutionScale_=Math.max(0,e);this.resolutionScaleChanged_=true;if(this.autoRenderLoop_){this.autoRenderLoop_.restartRenderLoop()}}};t.setTargetFrameRate=function t(e){if(this.targetFrameRate_!==e){this.targetFrameRate_=e;this.render_()}};t.throwOnUnitializedMap_=function t(){var e=this.map_;var n=e.getView();var r=n.getCenter();if(!n.isDef()||isNaN(r[0])||isNaN(r[1])){throw new Error("The OpenLayers map is not properly initialized: "+r+" / "+n.getResolution())}};return v}();Object.defineProperties(ut.prototype,{trackedFeature:{get:function t(){return this.trackedFeature_},set:function t(i){if(this.trackedFeature_!==i){var e=this.scene_;if(!i||!i.getGeometry()){this.needTrackedEntityUpdate_=false;e.screenSpaceCameraController.enableTilt=true;if(this.trackedEntity_){this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_)}this.trackedEntity_=null;this.trackedFeature_=null;this.entityView_=null;e.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);return}this.trackedFeature_=i;this.needTrackedEntityUpdate_=true;var a=this.to4326Transform_;var n=function t(){var e=i.getGeometry();console.assert(e instanceof o["a"]);var n=e.getCoordinates();var r=a(n,undefined,n.length);return R["a"].ol4326CoordinateToCesiumCartesian(r)};var r={position:new Cesium.CallbackProperty(function(t,e){return n()},false),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(r)}}}});var lt=ut;function ct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(t){return false}}function ht(t,e,n){if(ct()){ht=Reflect.construct}else{ht=function t(e,n,r){var i=[null];i.push.apply(i,n);var a=Function.bind.apply(e,i);var o=new a;if(r)ft(o,r.prototype);return o}}return ht.apply(null,arguments)}function ft(t,e){ft=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return ft(t,e)}function dt(t){return gt(t)||vt(t)||pt()}function pt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function vt(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function gt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++){n[e]=t[e]}return n}}function mt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var yt=function(o){mt(t,o);function t(t,e){var n;var r=e===void 0?{}:e,i=r.map,a=r.cameraExtentInRadians;n=o.call(this)||this;n.cesiumUrl_=t;n.map=i;n.cameraExtentInRadians=a||null;n.boundingSphere_;n.blockLimiter_=false;n.promise_;n.ol3d;n.cesiumInitialTilt_=l(50);n.fogDensity=1e-4;n.fogSSEFactor=25;n.minimumZoomDistance=2;n.maximumZoomDistance=1e7;n.limitCameraToBoundingSphereRatio=function(t){return t>3e3?9:3};return n}var e=t.prototype;e.load=function t(){var e=this;if(!this.promise_){var n=new i(this.cesiumUrl_);this.promise_=n.load().then(function(){return e.onCesiumLoaded()})}return this.promise_};e.onCesiumLoaded=function t(){if(this.cameraExtentInRadians){var e=ht(Cesium.Rectangle,dt(this.cameraExtentInRadians));Cesium.Camera.DEFAULT_VIEW_RECTANGLE=e;this.boundingSphere_=Cesium.BoundingSphere.fromRectangle3D(e,Cesium.Ellipsoid.WGS84,300)}this.ol3d=this.instantiateOLCesium();var n=this.ol3d.getCesiumScene();this.configureForUsability(n);this.configureForPerformance(n);this.dispatchEvent("load");return this.ol3d};e.instantiateOLCesium=function t(){console.assert(this.map);var e=new lt({map:this.map});var n=e.getCesiumScene();var r=Cesium.createWorldTerrain();n.terrainProvider=r;return e};e.configureForPerformance=function t(e){var n=e.fog;n.enabled=true;n.density=this.fogDensity;n.screenSpaceErrorFactor=this.fogSSEFactor};e.configureForUsability=function t(e){var n=e.screenSpaceCameraController;n.minimumZoomDistance=this.minimumZoomDistance;n.maximumZoomDistance=this.maximumZoomDistance;e.globe.depthTestAgainstTerrain=true;e.globe.baseColor=Cesium.Color.WHITE;e.backgroundColor=Cesium.Color.WHITE;if(this.boundingSphere_){e.postRender.addEventListener(this.limitCameraToBoundingSphere.bind(this),e)}this.ol3d.enableAutoRenderLoop()};e.limitCameraToBoundingSphere=function t(){var e=this;if(this.boundingSphere_&&!this.blockLimiter_){var n=this.ol3d.getCesiumScene();var r=n.camera;var i=r.position;var a=Cesium.Cartographic.fromCartesian(i);var o=this.limitCameraToBoundingSphereRatio(a.height);if(Cesium.Cartesian3.distance(this.boundingSphere_.center,i)>this.boundingSphere_.radius*o){var s=r.flying;if(s===true){return}else{this.blockLimiter_=true;var u=function t(){return e.blockLimiter_=false};r.flyToBoundingSphere(this.boundingSphere_,{complete:u,cancel:u})}}}};e.toggle3d=function t(){var r=this;return this.load().then(function(t){var e=t.getEnabled();var n=t.getCesiumScene();if(e){console.assert(r.map);return R["a"].resetToNorthZenith(r.map,n).then(function(){t.setEnabled(false);r.dispatchEvent("toggle")})}else{t.setEnabled(true);r.dispatchEvent("toggle");return R["a"].rotateAroundBottomCenter(n,r.cesiumInitialTilt_)}})};e.set3dWithView=function t(l,c,h,f,d){var p=this;return this.load().then(function(t){var e=t.getEnabled();var n=t.getCesiumScene();var r=n.camera;var i=Cesium.Cartesian3.fromDegrees(l,c,h);var a=Cesium.Math.toRadians(f);var o=Cesium.Math.toRadians(d);var s=0;var u={heading:a,pitch:o,roll:s};if(!e){t.setEnabled(true);p.dispatchEvent("toggle")}r.setView({destination:i,orientation:u})})};e.is3dEnabled=function t(){return!!this.ol3d&&this.ol3d.getEnabled()};e.getHeading=function t(){return this.map?this.map.getView().getRotation()||0:0};e.getTiltOnGlobe=function t(){var e=this.ol3d.getCesiumScene();var n=R["a"].computeSignedTiltAngleOnGlobe(e);return-n};e.setHeading=function t(e){var n=this.ol3d.getCesiumScene();var r=R["a"].pickBottomPoint(n);if(r){R["a"].setHeadingUsingBottomCenter(n,e,r)}};e.getOl3d=function t(){return this.ol3d};e.getOlView=function t(){var e=this.map.getView();console.assert(e);return e};e.getCesiumViewMatrix=function t(){return this.ol3d.getCesiumScene().camera.viewMatrix};e.getCesiumScene=function t(){return this.ol3d.getCesiumScene()};e.flyToRectangle=function t(e,n){var r=this;if(n===void 0){n=0}var i=this.getCesiumScene().camera;var a=i.getRectangleCameraCoordinates(e);var o=Cesium.Cartesian3.magnitude(a)+n;Cesium.Cartesian3.normalize(a,a);Cesium.Cartesian3.multiplyByScalar(a,o,a);return new Promise(function(e,n){if(!r.cameraExtentInRadians){n();return}i.flyTo({destination:a,complete:function t(){return e()},cancel:function t(){return n()},endTransform:Cesium.Matrix4.IDENTITY})})};e.getCameraExtentRectangle=function t(){if(this.cameraExtentInRadians){return ht(Cesium.Rectangle,dt(this.cameraExtentInRadians))}};return t}(u["a"]);var _t=e["a"]=yt},,,,,,,,,function(t,e){},function(t,e,n){n(348);t.exports=angular},function(t,e,n){(function(zs){
/**
 * @license AngularJS v1.7.5
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(yt){"use strict";var c={objectMaxDepth:5,urlErrorParamsEnabled:true};function e(t){if(At(t)){if(k(t.objectMaxDepth)){c.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN}if(k(t.urlErrorParamsEnabled)&&Nt(t.urlErrorParamsEnabled)){c.urlErrorParamsEnabled=t.urlErrorParamsEnabled}}else{return c}}function r(t){return b(t)&&t>0}function N(o,s){s=s||Error;var u="https://errors.angularjs.org/1.7.5/";var t=u.replace(".","\\.")+"[\\s\\S]*";var l=new RegExp(t,"g");return function(){var t=arguments[0],e=arguments[1],n="["+(o?o+":":"")+t+"] ",r=Ut(arguments,2).map(function(t){return se(t,c.objectMaxDepth)}),i,a;n+=e.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);if(e<r.length){return r[e].replace(l,"")}return t});n+="\n"+u+(o?o+"/":"")+t;if(c.urlErrorParamsEnabled){for(a=0,i="?";a<r.length;a++,i="&"){n+=i+"p"+a+"="+encodeURIComponent(r[a])}}return new s(n)}}var a=/^\/(.+)\/([a-z]*)$/;var h="validity";var _t=Object.prototype.hasOwnProperty;var bt=function(t){return kt(t)?t.toLowerCase():t};var C=function(t){return kt(t)?t.toUpperCase():t};var Ot,wt,n,o=[].slice,i=[].splice,t=[].push,St=Object.prototype.toString,f=Object.getPrototypeOf,d=N("ng"),w=yt.angular||(yt.angular={}),S,s=0;Ot=yt.document.documentMode;function L(t){if(t==null||E(t))return false;if(It(t)||kt(t)||wt&&t instanceof wt)return true;var e="length"in Object(t)&&t.length;return b(e)&&(e>=0&&e-1 in t||typeof t.item==="function")}function Tt(t,e,n){var r,i;if(t){if(Dt(t)){for(r in t){if(r!=="prototype"&&r!=="length"&&r!=="name"&&t.hasOwnProperty(r)){e.call(n,t[r],r,t)}}}else if(It(t)||L(t)){var a=typeof t!=="object";for(r=0,i=t.length;r<i;r++){if(a||r in t){e.call(n,t[r],r,t)}}}else if(t.forEach&&t.forEach!==Tt){t.forEach(e,n,t)}else if(_(t)){for(r in t){e.call(n,t[r],r,t)}}else if(typeof t.hasOwnProperty==="function"){for(r in t){if(t.hasOwnProperty(r)){e.call(n,t[r],r,t)}}}else{for(r in t){if(_t.call(t,r)){e.call(n,t[r],r,t)}}}}return t}function u(t,e,n){var r=Object.keys(t).sort();for(var i=0;i<r.length;i++){e.call(n,t[r[i]],r[i])}return r}function T(n){return function(t,e){n(e,t)}}function p(){return++s}function v(t,e){if(e){t.$$hashKey=e}else{delete t.$$hashKey}}function g(t,e,n){var r=t.$$hashKey;for(var i=0,a=e.length;i<a;++i){var o=e[i];if(!At(o)&&!Dt(o))continue;var s=Object.keys(o);for(var u=0,l=s.length;u<l;u++){var c=s[u];var h=o[c];if(n&&At(h)){if(O(h)){t[c]=new Date(h.valueOf())}else if(x(h)){t[c]=new RegExp(h)}else if(h.nodeName){t[c]=h.cloneNode(true)}else if(H(h)){t[c]=h.clone()}else{if(!At(t[c]))t[c]=It(h)?[]:{};g(t[c],[h],true)}}else{t[c]=h}}}v(t,r);return t}function xt(t){return g(t,o.call(arguments,1),false)}function l(t){return g(t,o.call(arguments,1),true)}function m(t){return parseInt(t,10)}var A=Number.isNaN||function t(e){return e!==e};function Et(t,e){return xt(Object.create(t),e)}function Ct(){}Ct.$inject=[];function Mt(t){return t}Mt.$inject=[];function j(e){return function t(){return e}}function y(t){return Dt(t.toString)&&t.toString!==St}function jt(t){return typeof t==="undefined"}function k(t){return typeof t!=="undefined"}function At(t){return t!==null&&typeof t==="object"}function _(t){return t!==null&&typeof t==="object"&&!f(t)}function kt(t){return typeof t==="string"}function b(t){return typeof t==="number"}function O(t){return St.call(t)==="[object Date]"}function It(t){return Array.isArray(t)||t instanceof Array}function Rt(t){var e=St.call(t);switch(e){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return t instanceof Error}}function Dt(t){return typeof t==="function"}function x(t){return St.call(t)==="[object RegExp]"}function E(t){return t&&t.window===t}function Pt(t){return t&&t.$evalAsync&&t.$watch}function M(t){return St.call(t)==="[object File]"}function I(t){return St.call(t)==="[object FormData]"}function R(t){return St.call(t)==="[object Blob]"}function Nt(t){return typeof t==="boolean"}function D(t){return t&&Dt(t.then)}var P=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function $(t){return t&&b(t.length)&&P.test(St.call(t))}function F(t){return St.call(t)==="[object ArrayBuffer]"}var Lt=function(t){return kt(t)?t.trim():t};var G=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function H(t){return!!(t&&(t.nodeName||t.prop&&t.attr&&t.find))}function V(t){var e={},n=t.split(","),r;for(r=0;r<n.length;r++){e[n[r]]=true}return e}function $t(t){return bt(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){return Array.prototype.indexOf.call(t,e)!==-1}function Ft(t,e){var n=t.indexOf(e);if(n>=0){t.splice(n,1)}return n}function W(t,n,e){var a=[];var o=[];e=r(e)?e:NaN;if(n){if($(n)||F(n)){throw d("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(t===n){throw d("cpi","Can't copy! Source and destination are identical.")}if(It(n)){n.length=0}else{Tt(n,function(t,e){if(e!=="$$hashKey"){delete n[e]}})}a.push(t);o.push(n);return s(t,n,e)}return u(t,e);function s(t,e,n){n--;if(n<0){return"..."}var r=e.$$hashKey;var i;if(It(t)){for(var a=0,o=t.length;a<o;a++){e.push(u(t[a],n))}}else if(_(t)){for(i in t){e[i]=u(t[i],n)}}else if(t&&typeof t.hasOwnProperty==="function"){for(i in t){if(t.hasOwnProperty(i)){e[i]=u(t[i],n)}}}else{for(i in t){if(_t.call(t,i)){e[i]=u(t[i],n)}}}v(e,r);return e}function u(t,e){if(!At(t)){return t}var n=a.indexOf(t);if(n!==-1){return o[n]}if(E(t)||Pt(t)){throw d("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var r=false;var i=l(t);if(i===undefined){i=It(t)?[]:Object.create(f(t));r=true}a.push(t);o.push(i);return r?s(t,i,e):i}function l(t){switch(St.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(u(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);new Uint8Array(e).set(new Uint8Array(t));return e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);n.lastIndex=t.lastIndex;return n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(Dt(t.cloneNode)){return t.cloneNode(true)}}}function Gt(t,e){return t===e||t!==t&&e!==e}function Ht(t,e){if(t===e)return true;if(t===null||e===null)return false;if(t!==t&&e!==e)return true;var n=typeof t,r=typeof e,i,a,o;if(n===r&&n==="object"){if(It(t)){if(!It(e))return false;if((i=t.length)===e.length){for(a=0;a<i;a++){if(!Ht(t[a],e[a]))return false}return true}}else if(O(t)){if(!O(e))return false;return Gt(t.getTime(),e.getTime())}else if(x(t)){if(!x(e))return false;return t.toString()===e.toString()}else{if(Pt(t)||Pt(e)||E(t)||E(e)||It(e)||O(e)||x(e))return false;o=Xt();for(a in t){if(a.charAt(0)==="$"||Dt(t[a]))continue;if(!Ht(t[a],e[a]))return false;o[a]=true}for(a in e){if(!(a in o)&&a.charAt(0)!=="$"&&k(e[a])&&!Dt(e[a]))return false}return true}}return false}var Y=function(){if(!k(Y.rules)){var t=yt.document.querySelector("[ng-csp]")||yt.document.querySelector("[data-ng-csp]");if(t){var e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Y.rules={noUnsafeEval:!e||e.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!e||e.indexOf("no-inline-style")!==-1}}else{Y.rules={noUnsafeEval:n(),noInlineStyle:false}}}return Y.rules;function n(){try{new Function("");return false}catch(t){return true}}};var q=function(){if(k(q.name_))return q.name_;var t;var e,n=ot.length,r,i;for(e=0;e<n;++e){r=ot[e];t=yt.document.querySelector("["+r.replace(":","\\:")+"jq]");if(t){i=t.getAttribute(r+"jq");break}}return q.name_=i};function z(t,e,n){return t.concat(o.call(e,n))}function Ut(t,e){return o.call(t,e||0)}function Wt(t,e){var n=arguments.length>2?Ut(arguments,2):[];if(Dt(e)&&!(e instanceof RegExp)){return n.length?function(){return arguments.length?e.apply(t,z(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}else{return e}}function B(t,e){var n=e;if(typeof t==="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"){n=undefined}else if(E(e)){n="$WINDOW"}else if(e&&yt.document===e){n="$DOCUMENT"}else if(Pt(e)){n="$SCOPE"}return n}function K(t,e){if(jt(t))return undefined;if(!b(e)){e=e?2:null}return JSON.stringify(t,B,e)}function X(t){return kt(t)?JSON.parse(t):t}var Z=/:/g;function Q(t,e){t=t.replace(Z,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return A(n)?e:n}function J(t,e){t=new Date(t.getTime());t.setMinutes(t.getMinutes()+e);return t}function tt(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();var i=Q(e,r);return J(t,n*(i-r))}function Yt(t){t=wt(t).clone().empty();var e=wt("<div></div>").append(t).html();try{return t[0].nodeType===te?bt(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+bt(e)})}catch(t){return bt(e)}}function et(t){try{return decodeURIComponent(t)}catch(t){}}function nt(t){var i={};Tt((t||"").split("&"),function(t){var e,n,r;if(t){n=t=t.replace(/\+/g,"%20");e=t.indexOf("=");if(e!==-1){n=t.substring(0,e);r=t.substring(e+1)}n=et(n);if(k(n)){r=k(r)?et(r):true;if(!_t.call(i,n)){i[n]=r}else if(It(i[n])){i[n].push(r)}else{i[n]=[i[n],r]}}}});return i}function rt(t){var n=[];Tt(t,function(t,e){if(It(t)){Tt(t,function(t){n.push(at(e,true)+(t===true?"":"="+at(t,true)))})}else{n.push(at(e,true)+(t===true?"":"="+at(t,true)))}});return n.length?n.join("&"):""}function it(t){return at(t,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function at(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var ot=["ng-","data-ng-","ng:","x-ng-"];function st(t,e){var n,r,i=ot.length;for(r=0;r<i;++r){n=ot[r]+e;if(kt(n=t.getAttribute(n))){return n}}return null}function ut(n){var t=n.currentScript;if(!t){return true}if(!(t instanceof yt.HTMLScriptElement||t instanceof yt.SVGScriptElement)){return false}var e=t.attributes;var r=[e.getNamedItem("src"),e.getNamedItem("href"),e.getNamedItem("xlink:href")];return r.every(function(t){if(!t){return true}if(!t.value){return false}var e=n.createElement("a");e.href=t.value;if(n.location.origin===e.origin){return true}switch(e.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return true;default:return false}})}var lt=ut(yt.document);function ct(r,t){var i,a,e={};Tt(ot,function(t){var e=t+"app";if(!i&&r.hasAttribute&&r.hasAttribute(e)){i=r;a=r.getAttribute(e)}});Tt(ot,function(t){var e=t+"app";var n;if(!i&&(n=r.querySelector("["+e.replace(":","\\:")+"]"))){i=n;a=n.getAttribute(e)}});if(i){if(!lt){try{yt.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates "+"an extension, document.location.href does not match.")}catch(t){}return}e.strictDi=st(i,"strict-di")!==null;t(i,a?[a]:[],e)}}function ht(n,r,i){if(!At(i))i={};var t={strictDi:false};i=xt(t,i);var e=function(){n=wt(n);if(n.injector()){var t=n[0]===yt.document?"document":Yt(n);throw d("btstrpd","App already bootstrapped with this element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[];r.unshift(["$provide",function(t){t.value("$rootElement",n)}]);if(i.debugInfoEnabled){r.push(["$compileProvider",function(t){t.debugInfoEnabled(true)}])}r.unshift("ng");var e=Sn(r,i.strictDi);e.invoke(["$rootScope","$rootElement","$compile","$injector",function t(e,n,r,i){e.$apply(function(){n.data("$injector",i);r(n)(e)})}]);return e};var a=/^NG_ENABLE_DEBUG_INFO!/;var o=/^NG_DEFER_BOOTSTRAP!/;if(yt&&a.test(yt.name)){i.debugInfoEnabled=true;yt.name=yt.name.replace(a,"")}if(yt&&!o.test(yt.name)){return e()}yt.name=yt.name.replace(o,"");w.resumeBootstrap=function(t){Tt(t,function(t){r.push(t)});return e()};if(Dt(w.resumeDeferredBootstrap)){w.resumeDeferredBootstrap()}}function ft(){yt.name="NG_ENABLE_DEBUG_INFO!"+yt.name;yt.location.reload()}function dt(t){var e=w.element(t).injector();if(!e){throw d("test","no injector found for element argument to getTestability")}return e.get("$$testability")}var pt=/[A-Z]/g;function Vt(t,n){n=n||"_";return t.replace(pt,function(t,e){return(e?n:"")+t.toLowerCase()})}var vt=false;function gt(){var i;if(vt){return}var t=q();n=jt(t)?zs:!t?undefined:yt[t];if(n&&n.fn.on){wt=n;xt(n.fn,{scope:Ze.scope,isolateScope:Ze.isolateScope,controller:Ze.controller,injector:Ze.injector,inheritedData:Ze.inheritedData})}else{wt=Ie}i=wt.cleanData;wt.cleanData=function(t){var e;for(var n=0,r;(r=t[n])!=null;n++){e=(wt._data(r)||{}).events;if(e&&e.$destroy){wt(r).triggerHandler("$destroy")}}i(t)};w.element=wt;vt=true}function qt(t,e,n){if(!t){throw d("areq","Argument '{0}' is {1}",e||"?",n||"required")}return t}function mt(t,e,n){if(n&&It(t)){t=t[t.length-1]}qt(Dt(t),e,"not a function, got "+(t&&typeof t==="object"?t.constructor.name||"Object":typeof t));return t}function zt(t,e){if(t==="hasOwnProperty"){throw d("badname","hasOwnProperty is not a valid {0} name",e)}}function Bt(t,e,n){if(!e)return t;var r=e.split(".");var i;var a=t;var o=r.length;for(var s=0;s<o;s++){i=r[s];if(t){t=(a=t)[i]}}if(!n&&Dt(t)){return Wt(a,t)}return t}function Kt(t){var e=t[0];var n=t[t.length-1];var r;for(var i=1;e!==n&&(e=e.nextSibling);i++){if(r||t[i]!==e){if(!r){r=wt(o.call(t,0,i))}r.push(e)}}return r||t}function Xt(){return Object.create(null)}function Zt(t){if(t==null){return""}switch(typeof t){case"string":break;case"number":t=""+t;break;default:if(y(t)&&!It(t)&&!O(t)){t=t.toString()}else{t=K(t)}}return t}var Qt=1;var Jt=2;var te=3;var ee=8;var ne=9;var re=11;function ie(t){var h=N("$injector");var f=N("ng");function r(t,e,n){return t[e]||(t[e]=n())}var e=r(t,"angular",Object);e.$$minErr=e.$$minErr||N;return r(e,"module",function(){var n={};return function t(s,u,l){var c={};var e=function(t,e){if(t==="hasOwnProperty"){throw f("badname","hasOwnProperty is not a valid {0} name",e)}};e(s,"module");if(u&&n.hasOwnProperty(s)){n[s]=null}return r(n,s,function(){if(!u){throw h("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",s)}var a=[];var t=[];var e=[];var n=r("$injector","invoke","push",t);var o={_invokeQueue:a,_configBlocks:t,_runBlocks:e,info:function(t){if(k(t)){if(!At(t))throw f("aobj","Argument '{0}' must be an object","value");c=t;return this}return c},requires:u,name:s,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),decorator:i("$provide","decorator",t),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),component:i("$compileProvider","component"),config:n,run:function(t){e.push(t);return this}};if(l){n(l)}return o;function r(t,e,n,r){if(!r)r=a;return function(){r[n||"push"]([t,e,arguments]);return o}}function i(n,r,i){if(!i)i=a;return function(t,e){if(e&&Dt(e))e.$$moduleName=s;i.push([n,r,arguments]);return o}}})}})}function ae(t,e){if(It(t)){e=e||[];for(var n=0,r=t.length;n<r;n++){e[n]=t[n]}}else if(At(t)){e=e||{};for(var i in t){if(!(i.charAt(0)==="$"&&i.charAt(1)==="$")){e[i]=t[i]}}}return e||t}function oe(t,e){var n=[];if(r(e)){t=w.copy(t,null,e)}return JSON.stringify(t,function(t,e){e=B(t,e);if(At(e)){if(n.indexOf(e)>=0)return"...";n.push(e)}return e})}function se(t,e){if(typeof t==="function"){return t.toString().replace(/ \{[\s\S]*$/,"")}else if(jt(t)){return"undefined"}else if(typeof t!=="string"){return oe(t,e)}return t}var ue={full:"1.7.5",major:1,minor:7,dot:5,codeName:"anti-prettification"};function le(t){xt(t,{errorHandlingConfig:e,bootstrap:ht,copy:W,extend:xt,merge:l,equals:Ht,element:wt,forEach:Tt,injector:Sn,noop:Ct,bind:Wt,toJson:K,fromJson:X,identity:Mt,isUndefined:jt,isDefined:k,isString:kt,isFunction:Dt,isObject:At,isNumber:b,isElement:H,isArray:It,version:ue,isDate:O,callbacks:{$$counter:0},getTestability:dt,reloadWithDebugInfo:ft,$$minErr:N,$$csp:Y,$$encodeUriSegment:it,$$encodeUriQuery:at,$$lowercase:bt,$$stringify:Zt,$$uppercase:C});S=ie(yt);S("ng",["ngLocale"],["$provide",function t(e){e.provider({$$sanitizeUri:Pi});e.provider("$compile",zn).directive({a:Ya,input:Po,textarea:Po,form:Qa,script:Ls,select:Hs,option:Us,ngBind:$o,ngBindHtml:Go,ngBindTemplate:Fo,ngClass:Wo,ngClassEven:Vo,ngClassOdd:Yo,ngCloak:qo,ngController:zo,ngForm:Ja,ngHide:As,ngIf:Zo,ngInclude:Qo,ngInit:ts,ngNonBindable:_s,ngPluralize:Ss,ngRef:xs,ngRepeat:Es,ngShow:js,ngStyle:ks,ngSwitch:Is,ngSwitchWhen:Rs,ngSwitchDefault:Ds,ngOptions:ws,ngTransclude:Ns,ngModel:ds,ngList:es,ngChange:Ho,pattern:Ys,ngPattern:Ys,required:Ws,ngRequired:Ws,minlength:qs,ngMinlength:qs,maxlength:Vs,ngMaxlength:Vs,ngValue:Lo,ngModelOptions:ms}).directive({ngInclude:Jo}).directive(Va).directive(Bo);e.provider({$anchorScroll:Tn,$animate:Dn,$animateCss:Ln,$$animateJs:In,$$animateQueue:Rn,$$AnimateRunner:Nn,$$animateAsyncRun:Pn,$browser:Hn,$cacheFactory:Un,$controller:ar,$document:or,$$isDocumentHidden:sr,$exceptionHandler:ur,$filter:ca,$$forceReflow:lr,$interpolate:Ar,$interval:Ir,$$intervalFactory:Rr,$http:xr,$httpParamSerializer:mr,$httpParamSerializerJQLike:yr,$httpBackend:Cr,$xhrFactory:Er,$jsonpCallbacks:Dr,$location:ei,$log:ni,$parse:Ei,$rootScope:Di,$q:Ci,$$q:Mi,$sce:Wi,$sceDelegate:Ui,$sniffer:Yi,$$taskTrackerFactory:Vi,$templateCache:Wn,$templateRequest:Bi,$$testability:Ki,$timeout:Zi,$window:sa,$$rAF:Ri,$$jqLite:sn,$$Map:fn,$$cookieReader:la})}]).info({angularVersion:"1.7.5"})}Ie.expando="ng339";var ce=Ie.cache={},he=1;Ie._data=function(t){return this.cache[t[this.expando]]||{}};function fe(){return++he}var de=/-([a-z])/g;var pe=/^-ms-/;var ve={mouseleave:"mouseout",mouseenter:"mouseover"};var ge=N("jqLite");function me(t){return _e(t.replace(pe,"ms-"))}function ye(t,e){return e.toUpperCase()}function _e(t){return t.replace(de,ye)}var be=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var Oe=/<|&#?\w+;/;var we=/<([\w:-]+)/;var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var Te={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Te.optgroup=Te.option;Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead;Te.th=Te.td;function xe(t){return!Oe.test(t)}function Ee(t){var e=t.nodeType;return e===Qt||!e||e===ne}function Ce(t){for(var e in ce[t.ng339]){return true}return false}function Me(t,e){var n,r,i,a=e.createDocumentFragment(),o=[],s;if(xe(t)){o.push(e.createTextNode(t))}else{n=a.appendChild(e.createElement("div"));r=(we.exec(t)||["",""])[1].toLowerCase();i=Te[r]||Te._default;n.innerHTML=i[1]+t.replace(Se,"<$1></$2>")+i[2];s=i[0];while(s--){n=n.lastChild}o=z(o,n.childNodes);n=a.firstChild;n.textContent=""}a.textContent="";a.innerHTML="";Tt(o,function(t){a.appendChild(t)});return a}function je(t,e){e=e||yt.document;var n;if(n=be.exec(t)){return[e.createElement(n[1])]}if(n=Me(t,e)){return n.childNodes}return[]}function Ae(t,e){var n=t.parentNode;if(n){n.replaceChild(e,t)}e.appendChild(t)}var ke=yt.Node.prototype.contains||function(t){return!!(this.compareDocumentPosition(t)&16)};function Ie(t){if(t instanceof Ie){return t}var e;if(kt(t)){t=Lt(t);e=true}if(!(this instanceof Ie)){if(e&&t.charAt(0)!=="<"){throw ge("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new Ie(t)}if(e){Ye(this,je(t))}else if(Dt(t)){Xe(t)}else{Ye(this,t)}}function Re(t){return t.cloneNode(true)}function De(t,e){if(!e&&Ee(t))wt.cleanData([t]);if(t.querySelectorAll){wt.cleanData(t.querySelectorAll("*"))}}function Pe(t){var e;for(e in t){return false}return true}function Ne(t){var e=t.ng339;var n=e&&ce[e];var r=n&&n.events;var i=n&&n.data;if((!i||Pe(i))&&(!r||Pe(r))){delete ce[e];t.ng339=undefined}}function Le(n,t,r,e){if(k(e))throw ge("offargs","jqLite#off() does not support the `selector` argument");var i=Fe(n);var a=i&&i.events;var o=i&&i.handle;if(!o)return;if(!t){for(t in a){if(t!=="$destroy"){n.removeEventListener(t,o)}delete a[t]}}else{var s=function(t){var e=a[t];if(k(r)){Ft(e||[],r)}if(!(k(r)&&e&&e.length>0)){n.removeEventListener(t,o);delete a[t]}};Tt(t.split(" "),function(t){s(t);if(ve[t]){s(ve[t])}})}Ne(n)}function $e(t,e){var n=t.ng339;var r=n&&ce[n];if(r){if(e){delete r.data[e]}else{r.data={}}Ne(t)}}function Fe(t,e){var n=t.ng339,r=n&&ce[n];if(e&&!r){t.ng339=n=fe();r=ce[n]={events:{},data:{},handle:undefined}}return r}function Ge(t,e,n){if(Ee(t)){var r;var i=k(n);var a=!i&&e&&!At(e);var o=!e;var s=Fe(t,!a);var u=s&&s.data;if(i){u[_e(e)]=n}else{if(o){return u}else{if(a){return u&&u[_e(e)]}else{for(r in e){u[_e(r)]=e[r]}}}}}}function He(t,e){if(!t.getAttribute)return false;return(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ue(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var r=n;Tt(e.split(" "),function(t){t=Lt(t);r=r.replace(" "+t+" "," ")});if(r!==n){t.setAttribute("class",Lt(r))}}}function We(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var r=n;Tt(e.split(" "),function(t){t=Lt(t);if(r.indexOf(" "+t+" ")===-1){r+=t+" "}});if(r!==n){t.setAttribute("class",Lt(r))}}}function Ye(t,e){if(e){if(e.nodeType){t[t.length++]=e}else{var n=e.length;if(typeof n==="number"&&e.window!==e){if(n){for(var r=0;r<n;r++){t[t.length++]=e[r]}}}else{t[t.length++]=e}}}}function Ve(t,e){return qe(t,"$"+(e||"ngController")+"Controller")}function qe(t,e,n){if(t.nodeType===ne){t=t.documentElement}var r=It(e)?e:[e];while(t){for(var i=0,a=r.length;i<a;i++){if(k(n=wt.data(t,r[i])))return n}t=t.parentNode||t.nodeType===re&&t.host}}function ze(t){De(t,true);while(t.firstChild){t.removeChild(t.firstChild)}}function Be(t,e){if(!e)De(t);var n=t.parentNode;if(n)n.removeChild(t)}function Ke(t,e){e=e||yt;if(e.document.readyState==="complete"){e.setTimeout(t)}else{wt(e).on("load",t)}}function Xe(t){function e(){yt.document.removeEventListener("DOMContentLoaded",e);yt.removeEventListener("load",e);t()}if(yt.document.readyState==="complete"){yt.setTimeout(t)}else{yt.document.addEventListener("DOMContentLoaded",e);yt.addEventListener("load",e)}}var Ze=Ie.prototype={ready:Xe,toString:function(){var e=[];Tt(this,function(t){e.push(""+t)});return"["+e.join(", ")+"]"},eq:function(t){return t>=0?wt(this[t]):wt(this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice};var Qe={};Tt("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Qe[bt(t)]=t});var Je={};Tt("input,select,option,textarea,button,form,details".split(","),function(t){Je[t]=true});var tn={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function en(t,e){var n=Qe[e.toLowerCase()];return n&&Je[$t(t)]&&n}function nn(t){return tn[t]}Tt({data:Ge,removeData:$e,hasData:Ce,cleanData:function t(e){for(var n=0,r=e.length;n<r;n++){$e(e[n]);Le(e[n])}}},function(t,e){Ie[e]=t});Tt({data:Ge,inheritedData:qe,scope:function(t){return wt.data(t,"$scope")||qe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return wt.data(t,"$isolateScope")||wt.data(t,"$isolateScopeNoTemplate")},controller:Ve,injector:function(t){return qe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:He,css:function(t,e,n){e=me(e);if(k(n)){t.style[e]=n}else{return t.style[e]}},attr:function(t,e,n){var r;var i=t.nodeType;if(i===te||i===Jt||i===ee||!t.getAttribute){return}var a=bt(e);var o=Qe[a];if(k(n)){if(n===null||n===false&&o){t.removeAttribute(e)}else{t.setAttribute(e,o?a:n)}}else{r=t.getAttribute(e);if(o&&r!==null){r=a}return r===null?undefined:r}},prop:function(t,e,n){if(k(n)){t[e]=n}else{return t[e]}},text:function(){t.$dv="";return t;function t(t,e){if(jt(e)){var n=t.nodeType;return n===Qt||n===te?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(jt(e)){if(t.multiple&&$t(t)==="select"){var n=[];Tt(t.options,function(t){if(t.selected){n.push(t.value||t.text)}});return n}return t.value}t.value=e},html:function(t,e){if(jt(e)){return t.innerHTML}De(t,true);t.innerHTML=e},empty:ze},function(l,t){Ie.prototype[t]=function(t,e){var n,r;var i=this.length;if(l!==ze&&jt(l.length===2&&(l!==He&&l!==Ve)?t:e)){if(At(t)){for(n=0;n<i;n++){if(l===Ge){l(this[n],t)}else{for(r in t){l(this[n],r,t[r])}}}return this}else{var a=l.$dv;var o=jt(a)?Math.min(i,1):i;for(var s=0;s<o;s++){var u=l(this[s],t,e);a=a?a+u:u}return a}}else{for(n=0;n<i;n++){l(this[n],t,e)}return this}}});function rn(s,u){var t=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=u[e||t.type];var r=n?n.length:0;if(!r)return;if(jt(t.immediatePropagationStopped)){var i=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=true;if(t.stopPropagation){t.stopPropagation()}if(i){i.call(t)}}}t.isImmediatePropagationStopped=function(){return t.immediatePropagationStopped===true};var a=n.specialHandlerWrapper||an;if(r>1){n=ae(n)}for(var o=0;o<r;o++){if(!t.isImmediatePropagationStopped()){a(s,t,n[o])}}};t.elem=s;return t}function an(t,e,n){n.call(t,e)}function on(t,e,n){var r=e.relatedTarget;if(!r||r!==t&&!ke.call(t,r)){n.call(t,e)}}Tt({removeData:$e,on:function t(i,e,a,n){if(k(n))throw ge("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!Ee(i)){return}var r=Fe(i,true);var o=r.events;var s=r.handle;if(!s){s=r.handle=rn(i,o)}var u=e.indexOf(" ")>=0?e.split(" "):[e];var l=u.length;var c=function(t,e,n){var r=o[t];if(!r){r=o[t]=[];r.specialHandlerWrapper=e;if(t!=="$destroy"&&!n){i.addEventListener(t,s)}}r.push(a)};while(l--){e=u[l];if(ve[e]){c(ve[e],on);c(e,undefined,true)}else{c(e)}}},off:Le,one:function(e,n,r){e=wt(e);e.on(n,function t(){e.off(n,r);e.off(n,t)});e.on(n,r)},replaceWith:function(e,t){var n,r=e.parentNode;De(e);Tt(new Ie(t),function(t){if(n){r.insertBefore(t,n.nextSibling)}else{r.replaceChild(t,e)}n=t})},children:function(t){var e=[];Tt(t.childNodes,function(t){if(t.nodeType===Qt){e.push(t)}});return e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n!==Qt&&n!==re)return;e=new Ie(e);for(var r=0,i=e.length;r<i;r++){var a=e[r];t.appendChild(a)}},prepend:function(e,t){if(e.nodeType===Qt){var n=e.firstChild;Tt(new Ie(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){Ae(t,wt(e).eq(0).clone()[0])},remove:Be,detach:function(t){Be(t,true)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new Ie(e);for(var i=0,a=e.length;i<a;i++){var o=e[i];r.insertBefore(o,n.nextSibling);n=o}}},addClass:We,removeClass:Ue,toggleClass:function(n,t,r){if(t){Tt(t.split(" "),function(t){var e=r;if(jt(e)){e=!He(n,t)}(e?We:Ue)(n,t)})}},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==re?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){if(t.getElementsByTagName){return t.getElementsByTagName(e)}else{return[]}},clone:Re,triggerHandler:function(e,t,n){var r,i,a;var o=t.type||t;var s=Fe(e);var u=s&&s.events;var l=u&&u[o];if(l){r={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:Ct,type:o,target:e};if(t.type){r=xt(r,t)}i=ae(l);a=n?[r].concat(n):[r];Tt(i,function(t){if(!r.isImmediatePropagationStopped()){t.apply(e,a)}})}}},function(o,t){Ie.prototype[t]=function(t,e,n){var r;for(var i=0,a=this.length;i<a;i++){if(jt(r)){r=o(this[i],t,e,n);if(k(r)){r=wt(r)}}else{Ye(r,o(this[i],t,e,n))}}return k(r)?r:this}});Ie.prototype.bind=Ie.prototype.on;Ie.prototype.unbind=Ie.prototype.off;function sn(){this.$get=function t(){return xt(Ie,{hasClass:function(t,e){if(t.attr)t=t[0];return He(t,e)},addClass:function(t,e){if(t.attr)t=t[0];return We(t,e)},removeClass:function(t,e){if(t.attr)t=t[0];return Ue(t,e)}})}}function un(t,e){var n=t&&t.$$hashKey;if(n){if(typeof n==="function"){n=t.$$hashKey()}return n}var r=typeof t;if(r==="function"||r==="object"&&t!==null){n=t.$$hashKey=r+":"+(e||p)()}else{n=r+":"+t}return n}var ln=Object.create(null);function cn(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}cn.prototype={_idx:function(t){if(t!==this._lastKey){this._lastKey=t;this._lastIndex=this._keys.indexOf(t)}return this._lastIndex},_transformKey:function(t){return A(t)?ln:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(e!==-1){return this._values[e]}},has:function(t){t=this._transformKey(t);var e=this._idx(t);return e!==-1},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);if(n===-1){n=this._lastIndex=this._keys.length}this._keys[n]=t;this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);if(e===-1){return false}this._keys.splice(e,1);this._values.splice(e,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var hn=cn;var fn=[function(){this.$get=[function(){return hn}]}];var dn=/^([^(]+?)=>/;var pn=/^[^(]*\(\s*([^)]*)\)/m;var vn=/,/;var gn=/^\s*(_?)(\S+?)\1\s*$/;var mn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var yn=N("$injector");function _n(t){return Function.prototype.toString.call(t)}function bn(t){var e=_n(t).replace(mn,""),n=e.match(dn)||e.match(pn);return n}function On(t){var e=bn(t);if(e){return"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function wn(t,e,n){var r,i,a;if(typeof t==="function"){if(!(r=t.$inject)){r=[];if(t.length){if(e){if(!kt(n)||!n){n=t.name||On(t)}throw yn("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n)}i=bn(t);Tt(i[1].split(vn),function(t){t.replace(gn,function(t,e,n){r.push(n)})})}t.$inject=r}}else if(It(t)){a=t.length-1;mt(t[a],"fn");r=t.slice(0,a)}else{mt(t,"fn",true)}return r}function Sn(t,l){l=l===true;var i={},s="Provider",c=[],a=new hn,h={$provide:{provider:f(d),factory:f(v),service:f(g),value:f(m),constant:f(y),decorator:_}},o=h.$injector=O(h,function(t,e){if(w.isString(e)){c.push(e)}throw yn("unpr","Unknown provider: {0}",c.join(" <- "))}),n={},e=O(n,function(t,e){var n=o.get(t+s,e);return u.invoke(n.$get,n,undefined,t)}),u=e;h["$injector"+s]={$get:j(e)};u.modules=o.modules=Xt();var r=b(t);u=e.get("$injector");u.strictDi=l;Tt(r,function(t){if(t)u.invoke(t)});u.loadNewModules=function(t){Tt(b(t),function(t){if(t)u.invoke(t)})};return u;function f(n){return function(t,e){if(At(t)){Tt(t,T(n))}else{return n(t,e)}}}function d(t,e){zt(t,"service");if(Dt(e)||It(e)){e=o.instantiate(e)}if(!e.$get){throw yn("pget","Provider '{0}' must define $get factory method.",t)}return h[t+s]=e}function p(n,r){return function t(){var e=u.invoke(r,this);if(jt(e)){throw yn("undef","Provider '{0}' must return a value from $get factory method.",n)}return e}}function v(t,e,n){return d(t,{$get:n!==false?p(t,e):e})}function g(t,e){return v(t,["$injector",function(t){return t.instantiate(e)}])}function m(t,e){return v(t,j(e),false)}function y(t,e){zt(t,"constant");h[t]=e;n[t]=e}function _(t,e){var n=o.get(t+s),r=n.$get;n.$get=function(){var t=u.invoke(r,n);return u.invoke(e,null,{$delegate:t})}}function b(t){qt(jt(t)||It(t),"modulesToLoad","not an array");var n=[],r;Tt(t,function(e){if(a.get(e))return;a.set(e,true);function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=o.get(r[0]);i[r[1]].apply(i,r[2])}}try{if(kt(e)){r=S(e);u.modules[e]=r;n=n.concat(b(r.requires)).concat(r._runBlocks);t(r._invokeQueue);t(r._configBlocks)}else if(Dt(e)){n.push(o.invoke(e))}else if(It(e)){n.push(o.invoke(e))}else{mt(e,"module")}}catch(t){if(It(e)){e=e[e.length-1]}if(t.message&&t.stack&&t.stack.indexOf(t.message)===-1){t=t.message+"\n"+t.stack}throw yn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}});return n}function O(n,r){function u(e,t){if(n.hasOwnProperty(e)){if(n[e]===i){throw yn("cdep","Circular dependency found: {0}",e+" <- "+c.join(" <- "))}return n[e]}else{try{c.unshift(e);n[e]=i;n[e]=r(e,t);return n[e]}catch(t){if(n[e]===i){delete n[e]}throw t}finally{c.shift()}}}function a(t,e,n){var r=[],i=Sn.$$annotate(t,l,n);for(var a=0,o=i.length;a<o;a++){var s=i[a];if(typeof s!=="string"){throw yn("itkn","Incorrect injection token! Expected service name as string, got {0}",s)}r.push(e&&e.hasOwnProperty(s)?e[s]:u(s,n))}return r}function o(t){if(Ot||typeof t!=="function"){return false}var e=t.$$ngIsClass;if(!Nt(e)){e=t.$$ngIsClass=/^class\b/.test(_n(t))}return e}function t(t,e,n,r){if(typeof n==="string"){r=n;n=null}var i=a(t,n,r);if(It(t)){t=t[t.length-1]}if(!o(t)){return t.apply(e,i)}else{i.unshift(null);return new(Function.prototype.bind.apply(t,i))}}function e(t,e,n){var r=It(t)?t[t.length-1]:t;var i=a(t,e,n);i.unshift(null);return new(Function.prototype.bind.apply(r,i))}return{invoke:t,instantiate:e,get:u,annotate:Sn.$$annotate,has:function(t){return h.hasOwnProperty(t+s)||n.hasOwnProperty(t)}}}}Sn.$$annotate=wn;function Tn(){var t=true;this.disableAutoScrolling=function(){t=false};this.$get=["$window","$location","$rootScope",function(r,n,i){var a=r.document;function o(t){var e=null;Array.prototype.some.call(t,function(t){if($t(t)==="a"){e=t;return true}});return e}function s(){var t=l.yOffset;if(Dt(t)){t=t()}else if(H(t)){var e=t[0];var n=r.getComputedStyle(e);if(n.position!=="fixed"){t=0}else{t=e.getBoundingClientRect().bottom}}else if(!b(t)){t=0}return t}function u(t){if(t){t.scrollIntoView();var e=s();if(e){var n=t.getBoundingClientRect().top;r.scrollBy(0,n-e)}}else{r.scrollTo(0,0)}}function l(t){t=kt(t)?t:b(t)?t.toString():n.hash();var e;if(!t)u(null);else if(e=a.getElementById(t))u(e);else if(e=o(a.getElementsByName(t)))u(e);else if(t==="top")u(null)}if(t){i.$watch(function t(){return n.hash()},function t(e,n){if(e===n&&e==="")return;Ke(function(){i.$evalAsync(l)})})}return l}]}var xn=N("$animate");var En=1;var Cn="ng-animate";function Mn(t,e){if(!t&&!e)return"";if(!t)return e;if(!e)return t;if(It(t))t=t.join(" ");if(It(e))e=e.join(" ");return t+" "+e}function jn(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===En){return n}}}function An(t){if(kt(t)){t=t.split(" ")}var e=Xt();Tt(t,function(t){if(t.length){e[t]=true}});return e}function kn(t){return At(t)?t:{}}var In=function(){this.$get=Ct};var Rn=function(){var c=new hn;var h=[];this.$get=["$$AnimateRunner","$rootScope",function(a,o){return{enabled:Ct,on:Ct,off:Ct,pin:Ct,push:function(t,e,n,r){if(r){r()}n=n||{};if(n.from){t.css(n.from)}if(n.to){t.css(n.to)}if(n.addClass||n.removeClass){l(t,n.addClass,n.removeClass)}var i=new a;i.complete();return i}};function s(e,t,n){var r=false;if(t){t=kt(t)?t.split(" "):It(t)?t:[];Tt(t,function(t){if(t){r=true;e[t]=n}})}return r}function u(){Tt(h,function(t){var e=c.get(t);if(e){var r=An(t.attr("class"));var i="";var a="";Tt(e,function(t,e){var n=!!r[e];if(t!==n){if(t){i+=(i.length?" ":"")+e}else{a+=(a.length?" ":"")+e}}});Tt(t,function(t){if(i){We(t,i)}if(a){Ue(t,a)}});c.delete(t)}});h.length=0}function l(t,e,n){var r=c.get(t)||{};var i=s(r,e,true);var a=s(r,n,false);if(i||a){c.set(t,r);h.push(t);if(h.length===1){o.$$postDigest(u)}}}}]};var Dn=["$provide",function(r){var i=this;var n=null;var e=null;this.$$registeredAnimations=Object.create(null);this.register=function(t,e){if(t&&t.charAt(0)!=="."){throw xn("notcsel","Expecting class selector starting with '.' got '{0}'.",t)}var n=t+"-animation";i.$$registeredAnimations[t.substr(1)]=n;r.factory(n,e)};this.customFilter=function(t){if(arguments.length===1){e=Dt(t)?t:null}return e};this.classNameFilter=function(t){if(arguments.length===1){n=t instanceof RegExp?t:null;if(n){var e=new RegExp("[(\\s|\\/)]"+Cn+"[(\\s|\\/)]");if(e.test(n.toString())){n=null;throw xn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Cn)}}}return n};this.$get=["$$animateQueue",function(a){function i(t,e,n){if(n){var r=jn(n);if(r&&!r.parentNode&&!r.previousElementSibling){n=null}}if(n){n.after(t)}else{e.prepend(t)}}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(t){if(t.cancel){t.cancel()}},enter:function(t,e,n,r){e=e&&wt(e);n=n&&wt(n);e=e||n.parent();i(t,e,n);return a.push(t,"enter",kn(r))},move:function(t,e,n,r){e=e&&wt(e);n=n&&wt(n);e=e||n.parent();i(t,e,n);return a.push(t,"move",kn(r))},leave:function(t,e){return a.push(t,"leave",kn(e),function(){t.remove()})},addClass:function(t,e,n){n=kn(n);n.addClass=Mn(n.addclass,e);return a.push(t,"addClass",n)},removeClass:function(t,e,n){n=kn(n);n.removeClass=Mn(n.removeClass,e);return a.push(t,"removeClass",n)},setClass:function(t,e,n,r){r=kn(r);r.addClass=Mn(r.addClass,e);r.removeClass=Mn(r.removeClass,n);return a.push(t,"setClass",r)},animate:function(t,e,n,r,i){i=kn(i);i.from=i.from?xt(i.from,e):e;i.to=i.to?xt(i.to,n):n;r=r||"ng-inline-animate";i.tempClasses=Mn(i.tempClasses,r);return a.push(t,"animate",i)}}}]}];var Pn=function(){this.$get=["$$rAF",function(e){var n=[];function r(t){n.push(t);if(n.length>1)return;e(function(){for(var t=0;t<n.length;t++){n[t]()}n=[]})}return function(){var e=false;r(function(){e=true});return function(t){if(e){t()}else{r(t)}}}}]};var Nn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,r,i,a){var n=0;var o=1;var s=2;u.chain=function(t,e){var n=0;r();function r(){if(n===t.length){e(true);return}t[n](function(t){if(t===false){e(false);return}n++;r()})}};u.all=function(e,n){var r=0;var i=true;Tt(e,function(t){t.done(a)});function a(t){i=i&&t;if(++r===e.length){n(i)}}};function u(t){this.setHost(t);var e=r();var n=function(t){a(t,0,false)};this._doneCallbacks=[];this._tick=function(t){if(i()){n(t)}else{e(t)}};this._state=0}u.prototype={setHost:function(t){this.host=t||{}},done:function(t){if(this._state===s){t()}else{this._doneCallbacks.push(t)}},progress:Ct,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){if(t===false){n()}else{e()}})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise()["catch"](t)},finally:function(t){return this.getPromise()["finally"](t)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(t){var e=this;if(e._state===n){e._state=o;e._tick(function(){e._resolve(t)})}},_resolve:function(e){if(this._state!==s){Tt(this._doneCallbacks,function(t){t(e)});this._doneCallbacks.length=0;this._state=s}}};return u}]};var Ln=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(s,t,u){return function(t,e){var n=e||{};if(!n.$$prepared){n=W(n)}if(n.cleanupStyles){n.from=n.to=null}if(n.from){t.css(n.from);n.from=null}var r,i=new u;return{start:a,end:a};function a(){s(function(){o();if(!r){i.complete()}r=true});return i}function o(){if(n.addClass){t.addClass(n.addClass);n.addClass=null}if(n.removeClass){t.removeClass(n.removeClass);n.removeClass=null}if(n.to){t.css(n.to);n.to=null}}}}]};function $n(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function Fn(t){return t.replace(/#$/,"")}function Gn(a,t,e,o,n){var s=this,u=a.location,l=a.history,i=a.setTimeout,r=a.clearTimeout,c={},h=n(e);s.isMock=false;s.$$completeOutstandingRequest=h.completeTask;s.$$incOutstandingRequestCount=h.incTaskCount;s.notifyWhenNoOutstandingRequests=h.notifyWhenNoPendingTasks;var f,d,p=u.href,v=t.find("base"),g=null,m=!o.history?Ct:function t(){try{return l.state}catch(t){}};w();s.url=function(t,e,n){if(jt(n)){n=null}if(u!==a.location)u=a.location;if(l!==a.history)l=a.history;if(t){var r=d===n;if(p===t&&(!o.history||r)){return s}var i=p&&qr(p)===qr(t);p=t;d=n;if(o.history&&(!i||!r)){l[e?"replaceState":"pushState"](n,"",t);w()}else{if(!i){g=t}if(e){u.replace(t)}else if(!i){u.href=t}else{u.hash=$n(t)}if(u.href!==t){g=t}}if(g){g=t}return s}else{return Fn(g||u.href)}};s.state=function(){return f};var y=[],_=false;function b(){g=null;S()}var O=null;function w(){f=m();f=jt(f)?null:f;if(Ht(f,O)){f=O}O=f;d=f}function S(){var t=d;w();if(p===s.url()&&t===f){return}p=s.url();d=f;Tt(y,function(t){t(s.url(),f)})}s.onUrlChange=function(t){if(!_){if(o.history)wt(a).on("popstate",b);wt(a).on("hashchange",b);_=true}y.push(t);return t};s.$$applicationDestroyed=function(){wt(a).off("hashchange popstate",b)};s.$$checkUrlChange=S;s.baseHref=function(){var t=v.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""};s.defer=function(t,e,n){var r;e=e||0;n=n||h.DEFAULT_TASK_TYPE;h.incTaskCount(n);r=i(function(){delete c[r];h.completeTask(t,n)},e);c[r]=n;return r};s.defer.cancel=function(t){if(c.hasOwnProperty(t)){var e=c[t];delete c[t];r(t);h.completeTask(Ct,e);return true}return false}}function Hn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,n,r,i){return new Gn(t,r,e,n,i)}]}function Un(){this.$get=function(){var h={};function t(t,e){if(t in h){throw N("$cacheFactory")("iid","CacheId '{0}' is already taken!",t)}var r=0,n=xt({},e,{id:t}),i=Xt(),a=e&&e.capacity||Number.MAX_VALUE,o=Xt(),s=null,u=null;return h[t]={put:function(t,e){if(jt(e))return;if(a<Number.MAX_VALUE){var n=o[t]||(o[t]={key:t});l(n)}if(!(t in i))r++;i[t]=e;if(r>a){this.remove(u.key)}return e},get:function(t){if(a<Number.MAX_VALUE){var e=o[t];if(!e)return;l(e)}return i[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=o[t];if(!e)return;if(e===s)s=e.p;if(e===u)u=e.n;c(e.n,e.p);delete o[t]}if(!(t in i))return;delete i[t];r--},removeAll:function(){i=Xt();r=0;o=Xt();s=u=null},destroy:function(){i=null;n=null;o=null;delete h[t]},info:function(){return xt({},n,{size:r})}};function l(t){if(t!==s){if(!u){u=t}else if(u===t){u=t.n}c(t.n,t.p);c(t,s);s=t;s.n=null}}function c(t,e){if(t!==e){if(t)t.p=e;if(e)e.n=t}}}t.info=function(){var n={};Tt(h,function(t,e){n[e]=t.info()});return n};t.get=function(t){return h[t]};return t}}function Wn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var Yn=N("$compile");function Vn(){}var qn=new Vn;zn.$inject=["$provide","$$sanitizeUriProvider"];function zn(n,e){var b={},G="Directive",H=/^\s*directive:\s*([\w-]+)\s+(.*)$/,U=/(([\w-]+)(?::([^;]+))?;?)/,W=V("ngSrc,ngSrcset,src,srcset"),Y=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var ct=/^(on[a-z]+|formaction)$/;var s=Xt();function r(t,r,i){var a=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/;var o=Xt();Tt(t,function(t,e){t=t.trim();if(t in s){o[e]=s[t];return}var n=t.match(a);if(!n){throw Yn("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",r,e,t,i?"controller bindings definition":"isolate scope definition")}o[e]={mode:n[1][0],collection:n[2]==="*",optional:n[3]==="?",attrName:n[4]||e};if(n[4]){s[t]=o[e]}});return o}function ht(t,e){var n={isolateScope:null,bindToController:null};if(At(t.scope)){if(t.bindToController===true){n.bindToController=r(t.scope,e,true);n.isolateScope={}}else{n.isolateScope=r(t.scope,e,false)}}if(At(t.bindToController)){n.bindToController=r(t.bindToController,e,true)}if(n.bindToController&&!t.controller){throw Yn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e)}return n}function i(t){var e=t.charAt(0);if(!e||e!==bt(e)){throw Yn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t)}if(t!==t.trim()){throw Yn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}}function u(t){var i=t.require||t.controller&&t.name;if(!It(i)&&At(i)){Tt(i,function(t,e){var n=t.match(Y);var r=t.substring(n[0].length);if(!r)i[e]=n[0]+e})}return i}function l(t,e){if(t&&!(kt(t)&&/[EACM]/.test(t))){throw Yn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e)}return t||"EA"}this.directive=function t(o,e){qt(o,"name");zt(o,"directive");if(kt(o)){i(o);qt(e,"directiveFactory");if(!b.hasOwnProperty(o)){b[o]=[];n.factory(o+G,["$injector","$exceptionHandler",function(r,i){var a=[];Tt(b[o],function(t,e){try{var n=r.invoke(t);if(Dt(n)){n={compile:j(n)}}else if(!n.compile&&n.link){n.compile=j(n.link)}n.priority=n.priority||0;n.index=e;n.name=n.name||o;n.require=u(n);n.restrict=l(n.restrict,o);n.$$moduleName=t.$$moduleName;a.push(n)}catch(t){i(t)}});return a}])}b[o].push(e)}else{Tt(o,T(t))}return this};this.component=function t(e,i){if(!kt(e)){Tt(e,T(Wt(this,t)));return this}var a=i.controller||function(){};function n(r){function t(n){if(Dt(n)||It(n)){return function(t,e){return r.invoke(n,this,{$element:t,$attrs:e})}}else{return n}}var e=!i.template&&!i.templateUrl?"":i.template;var n={controller:a,controllerAs:ir(i.controller)||i.controllerAs||"$ctrl",template:t(e),templateUrl:t(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};Tt(i,function(t,e){if(e.charAt(0)==="$")n[e]=t});return n}Tt(i,function(t,e){if(e.charAt(0)==="$"){n[e]=t;if(Dt(a))a[e]=t}});n.$inject=["$injector"];return this.directive(e,n)};this.aHrefSanitizationWhitelist=function(t){if(k(t)){e.aHrefSanitizationWhitelist(t);return this}else{return e.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(t){if(k(t)){e.imgSrcSanitizationWhitelist(t);return this}else{return e.imgSrcSanitizationWhitelist()}};var ft=true;this.debugInfoEnabled=function(t){if(k(t)){ft=t;return this}return ft};var dt=false;this.strictComponentBindingsEnabled=function(t){if(k(t)){dt=t;return this}return dt};var pt=10;this.onChangesTtl=function(t){if(arguments.length){pt=t;return this}return pt};var vt=true;this.commentDirectivesEnabled=function(t){if(arguments.length){vt=t;return this}return vt};var gt=true;this.cssClassDirectivesEnabled=function(t){if(arguments.length){gt=t;return this}return gt};var mt=Xt();this.addPropertySecurityContext=function(t,e,n){var r=t.toLowerCase()+"|"+e.toLowerCase();if(r in mt&&mt[r]!==n){throw Yn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,mt[r],n)}mt[r]=n;return this};(function t(){function e(e,t){Tt(t,function(t){mt[t.toLowerCase()]=e})}e(Li.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]);e(Li.CSS,["*|style"]);e(Li.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]);e(Li.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]);e(Li.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})();this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(d,O,V,t,w,p,a,h,i){var c=/^\w/;var o=yt.document.createElement("div");var T=vt;var x=gt;var e=pt;var s;function u(){try{if(!--e){s=undefined;throw Yn("infchng","{0} $onChanges() iterations reached. Aborting!\n",pt)}a.$apply(function(){for(var t=0,e=s.length;t<e;++t){try{s[t]()}catch(t){V(t)}}s=undefined})}finally{e++}}function f(t,e){if(!t){return t}if(!kt(t)){throw Yn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString())}var n="";var r=Lt(t);var i=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var a=/\s/.test(r)?i:/(,)/;var o=r.split(a);var s=Math.floor(o.length/2);for(var u=0;u<s;u++){var l=u*2;n+=h.getTrustedMediaUrl(Lt(o[l]));n+=" "+Lt(o[l+1])}var c=Lt(o[u*2]).split(/\s/);n+=h.getTrustedMediaUrl(Lt(c[0]));if(c.length===2){n+=" "+Lt(c[1])}return n}function q(t,e){if(e){var n=Object.keys(e);var r,i,a;for(r=0,i=n.length;r<i;r++){a=n[r];this[a]=e[a]}}else{this.$attr={}}this.$$element=t}q.prototype={$normalize:Zn,$addClass:function(t){if(t&&t.length>0){i.addClass(this.$$element,t)}},$removeClass:function(t){if(t&&t.length>0){i.removeClass(this.$$element,t)}},$updateClass:function(t,e){var n=tr(t,e);if(n&&n.length){i.addClass(this.$$element,n)}var r=tr(e,t);if(r&&r.length){i.removeClass(this.$$element,r)}},$set:function(t,e,n,r){var i=this.$$element[0],a=en(i,t),o=nn(t),s=t,u;if(a){this.$$element.prop(t,e);r=a}else if(o){this[o]=e;s=o}this[t]=e;if(r){this.$attr[t]=r}else{r=this.$attr[t];if(!r){this.$attr[t]=r=Vt(t,"-")}}u=$t(this.$$element);if(u==="img"&&t==="srcset"){this[t]=e=f(e,"$set('srcset', value)")}if(n!==false){if(e===null||jt(e)){this.$$element.removeAttr(r)}else{if(c.test(r)){this.$$element.attr(r,e)}else{v(this.$$element[0],r,e)}}}var l=this.$$observers;if(l){Tt(l[s],function(t){try{t(e)}catch(t){V(t)}})}},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=Xt()),i=r[t]||(r[t]=[]);i.push(e);a.$evalAsync(function(){if(!i.$$inter&&n.hasOwnProperty(t)&&!jt(n[t])){e(n[t])}});return function(){Ft(i,e)}}};function v(t,e,n){o.innerHTML="<span "+e+">";var r=o.firstChild.attributes;var i=r[0];r.removeNamedItem(i.name);i.value=n;t.attributes.setNamedItem(i)}function M(t,e){try{t.addClass(e)}catch(t){}}var n=O.startSymbol(),r=O.endSymbol(),z=n==="{{"&&r==="}}"?Mt:function t(e){return e.replace(/\{\{/g,n).replace(/}}/g,r)},E=/^ng(Attr|Prop|On)([A-Z].*)$/;var C=/^(.+)Start$/;B.$$addBindingInfo=ft?function t(e,n){var r=e.data("$binding")||[];if(It(n)){r=r.concat(n)}else{r.push(n)}e.data("$binding",r)}:Ct;B.$$addBindingClass=ft?function t(e){M(e,"ng-binding")}:Ct;B.$$addScopeInfo=ft?function t(e,n,r,i){var a=r?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(a,n)}:Ct;B.$$addScopeClass=ft?function t(e,n){M(e,n?"ng-isolate-scope":"ng-scope")}:Ct;B.$$createComment=function(t,e){var n="";if(ft){n=" "+(t||"")+": ";if(e)n+=e+" "}return yt.document.createComment(n)};return B;function B(l,t,e,n,c){if(!(l instanceof wt)){l=wt(l)}var h=j(l,t,l,e,n,c);B.$$addScopeClass(l);var f=null;return function t(e,n,r){if(!l){throw Yn("multilink","This element has already been linked.")}qt(e,"scope");if(c&&c.needsNewScope){e=e.$parent.$new()}r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,o=r.futureParentElement;if(i&&i.$$boundTransclude){i=i.$$boundTransclude}if(!f){f=g(o)}var s;if(f!=="html"){s=wt(at(f,wt("<div></div>").append(l).html()))}else if(n){s=Ze.clone.call(l)}else{s=l}if(a){for(var u in a){s.data("$"+u+"Controller",a[u].instance)}}B.$$addScopeInfo(s,e);if(n)n(s,e);if(h)h(e,s,s,i);if(!n){l=h=null}return s}}function g(t){var e=t&&t[0];if(!e){return"html"}else{return $t(e)!=="foreignobject"&&St.call(e).match(/SVG/)?"svg":"html"}}function j(t,p,e,n,r,i){var v=[],a=It(t)||t instanceof wt,o,s,u,l,c,h,g;for(var f=0;f<t.length;f++){o=new q;if(Ot===11){m(t,f,a)}s=K(t[f],[],o,f===0?n:undefined,r);u=s.length?I(s,t[f],o,p,e,null,[],[],i):null;if(u&&u.scope){B.$$addScopeClass(o.$$element)}c=u&&u.terminal||!(l=t[f].childNodes)||!l.length?null:j(l,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:p);if(u||c){v.push(f,u,c);h=true;g=g||u}i=null}return h?d:null;function d(t,e,n,r){var i,a,o,s,u,l,c,h;var f;if(g){var d=e.length;f=new Array(d);for(u=0;u<v.length;u+=3){c=v[u];f[c]=e[c]}}else{f=e}for(u=0,l=v.length;u<l;){o=f[v[u++]];i=v[u++];a=v[u++];if(i){if(i.scope){s=t.$new();B.$$addScopeInfo(wt(o),s)}else{s=t}if(i.transcludeOnThisElement){h=A(t,i.transclude,r)}else if(!i.templateOnThisElement&&r){h=r}else if(!r&&p){h=A(t,p)}else{h=null}i(a,s,o,n,h)}else if(a){a(t,o.childNodes,undefined,r)}}}}function m(t,e,n){var r=t[e];var i=r.parentNode;var a;if(r.nodeType!==te){return}while(true){a=i?r.nextSibling:t[e+1];if(!a||a.nodeType!==te){break}r.nodeValue=r.nodeValue+a.nodeValue;if(a.parentNode){a.parentNode.removeChild(a)}if(n&&a===t[e+1]){t.splice(e+1,1)}}}function A(a,o,s){function t(t,e,n,r,i){if(!t){t=a.$new(false,i);t.$$transcluded=true}return o(t,e,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}var e=t.$$slots=Xt();for(var n in o.$$slots){if(o.$$slots[n]){e[n]=A(a,o.$$slots[n],s)}else{e[n]=null}}return t}function K(t,e,n,r,i){var a=t.nodeType,o=n.$attr,s,u,l;switch(a){case Qt:u=$t(t);R(e,Zn(u),"E",r,i);for(var c,h,f,d,p,v=t.attributes,g=0,m=v&&v.length;g<m;g++){var y=false;var _=false;var b=false,O=false,w=false;var S;c=v[g];h=c.name;d=c.value;f=Zn(h.toLowerCase());if(p=f.match(E)){b=p[1]==="Attr";O=p[1]==="Prop";w=p[1]==="On";h=h.replace(Kn,"").toLowerCase().substr(4+p[1].length).replace(/_(.)/g,function(t,e){return e.toUpperCase()})}else if((S=f.match(C))&&D(S[1])){y=h;_=h.substr(0,h.length-5)+"end";h=h.substr(0,h.length-6)}if(O||w){n[f]=d;o[f]=c.name;if(O){L(t,e,f,h)}else{$(e,f,h)}}else{f=Zn(h.toLowerCase());o[f]=h;if(b||!n.hasOwnProperty(f)){n[f]=d;if(en(t,f)){n[f]=true}}F(t,e,d,f,b);R(e,f,"A",r,i,y,_)}}if(u==="input"&&t.getAttribute("type")==="hidden"){t.setAttribute("autocomplete","off")}if(!x)break;l=t.className;if(At(l)){l=l.animVal}if(kt(l)&&l!==""){while(s=U.exec(l)){f=Zn(s[2]);if(R(e,f,"C",r,i)){n[f]=Lt(s[3])}l=l.substr(s.index+s[0].length)}}break;case te:N(e,t.nodeValue);break;case ee:if(!T)break;k(t,e,n,r,i);break}e.sort(P);return e}function k(t,e,n,r,i){try{var a=H.exec(t.nodeValue);if(a){var o=Zn(a[1]);if(R(e,o,"M",r,i)){n[o]=Lt(a[2])}}}catch(t){}}function X(t,e,n){var r=[];var i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t){throw Yn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n)}if(t.nodeType===Qt){if(t.hasAttribute(e))i++;if(t.hasAttribute(n))i--}r.push(t);t=t.nextSibling}while(i>0)}else{r.push(t)}return wt(r)}function Z(o,s,u){return function t(e,n,r,i,a){n=X(n[0],s,u);return o(e,n,r,i,a)}}function Q(t,e,n,r,i,a){var o;if(t){return B(e,n,r,i,a)}return function t(){if(!o){o=B(e,n,r,i,a);e=n=a=null}return o.apply(this,arguments)}}function I(t,O,w,e,n,r,S,T,i){i=i||{};var a=-Number.MAX_VALUE,x=i.newScopeDirective,E=i.controllerDirectives,C=i.newIsolateScopeDirective,M=i.templateDirective,o=i.nonTlbTranscludeDirective,s=false,u=false,j=i.hasElementTranscludeDirective,l=w.$$element=wt(O),c,h,f,d=r,p=e,v,g=false,m=false,y;for(var _=0,b=t.length;_<b;_++){c=t[_];var A=c.$$start;var k=c.$$end;if(A){l=X(O,A,k)}f=undefined;if(a>c.priority){break}y=c.scope;if(y){if(!c.templateUrl){if(At(y)){it("new/isolated scope",C||x,c,l);C=c}else{it("new/isolated scope",C,c,l)}}x=x||c}h=c.name;if(!g&&(c.replace&&(c.templateUrl||c.template)||c.transclude&&!c.$$tlb)){var I;for(var R=_+1;I=t[R++];){if(I.transclude&&!I.$$tlb||I.replace&&(I.templateUrl||I.template)){m=true;break}}g=true}if(!c.templateUrl&&c.controller){E=E||Xt();it("'"+h+"' controller",E[h],c,l);E[h]=c}y=c.transclude;if(y){s=true;if(!c.$$tlb){it("transclusion",o,c,l);o=c}if(y==="element"){j=true;a=c.priority;f=l;l=w.$$element=wt(B.$$createComment(h,w[h]));O=l[0];ot(n,Ut(f),O);p=Q(m,f,e,a,d&&d.name,{nonTlbTranscludeDirective:o})}else{var D=Xt();if(!At(y)){f=wt(Re(O)).contents()}else{f=yt.document.createDocumentFragment();var P=Xt();var N=Xt();Tt(y,function(t,e){var n=t.charAt(0)==="?";t=n?t.substring(1):t;P[t]=e;D[e]=null;N[e]=n});Tt(l.contents(),function(t){var e=P[Zn($t(t))];if(e){N[e]=true;D[e]=D[e]||yt.document.createDocumentFragment();D[e].appendChild(t)}else{f.appendChild(t)}});Tt(N,function(t,e){if(!t){throw Yn("reqslot","Required transclusion slot `{0}` was not filled.",e)}});for(var L in D){if(D[L]){var $=wt(D[L].childNodes);D[L]=Q(m,$,e)}}f=wt(f.childNodes)}l.empty();p=Q(m,f,e,undefined,undefined,{needsNewScope:c.$$isolateScope||c.$$newScope});p.$$slots=D}}if(c.template){u=true;it("template",M,c,l);M=c;y=Dt(c.template)?c.template(l,w):c.template;y=z(y);if(c.replace){d=c;if(xe(y)){f=[]}else{f=er(at(c.templateNamespace,Lt(y)))}O=f[0];if(f.length!==1||O.nodeType!==Qt){throw Yn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h,"")}ot(n,l,O);var F={$attr:{}};var G=K(O,[],F);var H=t.splice(_+1,t.length-(_+1));if(C||x){et(G,C,x)}t=t.concat(G).concat(H);nt(w,F);b=t.length}else{l.html(y)}}if(c.templateUrl){u=true;it("template",M,c,l);M=c;if(c.replace){d=c}Y=rt(t.splice(_,t.length-_),l,w,n,s&&p,S,T,{controllerDirectives:E,newScopeDirective:x!==c&&x,newIsolateScopeDirective:C,templateDirective:M,nonTlbTranscludeDirective:o});b=t.length}else if(c.compile){try{v=c.compile(l,w,p);var U=c.$$originalDirective||c;if(Dt(v)){W(null,Wt(U,v),A,k)}else if(v){W(Wt(U,v.pre),Wt(U,v.post),A,k)}}catch(t){V(t,Yt(l))}}if(c.terminal){Y.terminal=true;a=Math.max(a,c.priority)}}Y.scope=x&&x.scope===true;Y.transcludeOnThisElement=s;Y.templateOnThisElement=u;Y.transclude=p;i.hasElementTranscludeDirective=j;return Y;function W(t,e,n,r){if(t){if(n)t=Z(t,n,r);t.require=c.require;t.directiveName=h;if(C===c||c.$$isolateScope){t=st(t,{isolateScope:true})}S.push(t)}if(e){if(n)e=Z(e,n,r);e.require=c.require;e.directiveName=h;if(C===c||c.$$isolateScope){e=st(e,{isolateScope:true})}T.push(e)}}function Y(t,e,n,r,o){var i,a,s,u,l,c,h,f,d,p;if(O===n){d=w;f=w.$$element}else{f=wt(n);d=new q(f,w)}l=e;if(C){u=e.$new(true)}else if(x){l=e.$parent}if(o){h=b;h.$$boundTransclude=o;h.isSlotFilled=function(t){return!!o.$$slots[t]}}if(E){c=tt(f,d,h,E,u,e,C)}if(C){B.$$addScopeInfo(f,u,true,!(M&&(M===C||M===C.$$originalDirective)));B.$$addScopeClass(f,true);u.$$isolateBindings=C.$$isolateBindings;p=lt(e,d,u,u.$$isolateBindings,C);if(p.removeWatches){u.$on("$destroy",p.removeWatches)}}for(var v in c){var g=E[v];var m=c[v];var y=g.$$bindings.bindToController;m.instance=m();f.data("$"+g.name+"Controller",m.instance);m.bindingInfo=lt(l,d,m.instance,y,g)}Tt(E,function(t,e){var n=t.require;if(t.bindToController&&!It(n)&&At(n)){xt(c[e].instance,J(e,n,f,c))}});Tt(c,function(t){var e=t.instance;if(Dt(e.$onChanges)){try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){V(t)}}if(Dt(e.$onInit)){try{e.$onInit()}catch(t){V(t)}}if(Dt(e.$doCheck)){l.$watch(function(){e.$doCheck()});e.$doCheck()}if(Dt(e.$onDestroy)){l.$on("$destroy",function t(){e.$onDestroy()})}});for(i=0,a=S.length;i<a;i++){s=S[i];ut(s,s.isolateScope?u:e,f,d,s.require&&J(s.directiveName,s.require,f,c),h)}var _=e;if(C&&(C.template||C.templateUrl===null)){_=u}if(t){t(_,n.childNodes,undefined,o)}for(i=T.length-1;i>=0;i--){s=T[i];ut(s,s.isolateScope?u:e,f,d,s.require&&J(s.directiveName,s.require,f,c),h)}Tt(c,function(t){var e=t.instance;if(Dt(e.$postLink)){e.$postLink()}});function b(t,e,n,r){var i;if(!Pt(t)){r=n;n=e;e=t;t=undefined}if(j){i=c}if(!n){n=j?f.parent():f}if(r){var a=o.$$slots[r];if(a){return a(t,e,i,n,_)}else if(jt(a)){throw Yn("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",r,Yt(f))}}else{return o(t,e,i,n,_)}}}}function J(n,t,r,i){var a;if(kt(t)){var e=t.match(Y);var o=t.substring(e[0].length);var s=e[1]||e[3];var u=e[2]==="?";if(s==="^^"){r=r.parent()}else{a=i&&i[o];a=a&&a.instance}if(!a){var l="$"+o+"Controller";if(s==="^^"&&r[0]&&r[0].nodeType===ne){a=null}else{a=s?r.inheritedData(l):r.data(l)}}if(!a&&!u){throw Yn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,n)}}else if(It(t)){a=[];for(var c=0,h=t.length;c<h;c++){a[c]=J(n,t[c],r,i)}}else if(At(t)){a={};Tt(t,function(t,e){a[e]=J(n,t,r,i)})}return a||null}function tt(t,e,n,r,i,a,o){var s=Xt();for(var u in r){var l=r[u];var c={$scope:l===o||l.$$isolateScope?i:a,$element:t,$attrs:e,$transclude:n};var h=l.controller;if(h==="@"){h=e[l.name]}var f=p(h,c,true,l.controllerAs);s[l.name]=f;t.data("$"+l.name+"Controller",f.instance)}return s}function et(t,e,n){for(var r=0,i=t.length;r<i;r++){t[r]=Et(t[r],{$$isolateScope:e,$$newScope:n})}}function R(t,e,n,r,i,a,o){if(e===i)return null;var s=null;if(b.hasOwnProperty(e)){for(var u,l=d.get(e+G),c=0,h=l.length;c<h;c++){u=l[c];if((jt(r)||r>u.priority)&&u.restrict.indexOf(n)!==-1){if(a){u=Et(u,{$$start:a,$$end:o})}if(!u.$$bindings){var f=u.$$bindings=ht(u,u.name);if(At(f.isolateScope)){u.$$isolateBindings=f.isolateScope}}t.push(u);s=u}}}return s}function D(t){if(b.hasOwnProperty(t)){for(var e,n=d.get(t+G),r=0,i=n.length;r<i;r++){e=n[r];if(e.multiElement){return true}}}return false}function nt(n,r){var i=r.$attr,a=n.$attr;Tt(n,function(t,e){if(e.charAt(0)!=="$"){if(r[e]&&r[e]!==t){if(t.length){t+=(e==="style"?";":" ")+r[e]}else{t=r[e]}}n.$set(e,t,true,i[e])}});Tt(r,function(t,e){if(!n.hasOwnProperty(e)&&e.charAt(0)!=="$"){n[e]=t;if(e!=="class"&&e!=="style"){a[e]=i[e]}}})}function rt(f,d,p,v,g,m,y,_){var b=[],O,w,S=d[0],T=f.shift(),x=Et(T,{templateUrl:null,transclude:null,replace:null,$$originalDirective:T}),E=Dt(T.templateUrl)?T.templateUrl(d,p):T.templateUrl,C=T.templateNamespace;d.empty();t(E).then(function(t){var n,e,r,i;t=z(t);if(T.replace){if(xe(t)){r=[]}else{r=er(at(C,Lt(t)))}n=r[0];if(r.length!==1||n.nodeType!==Qt){throw Yn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",T.name,E)}e={$attr:{}};ot(v,d,n);var a=K(n,[],e);if(At(T.scope)){et(a,true)}f=a.concat(f);nt(p,e)}else{n=S;d.html(t)}f.unshift(x);O=I(f,n,p,g,d,T,m,y,_);Tt(v,function(t,e){if(t===n){v[e]=d[0]}});w=j(d[0].childNodes,g);while(b.length){var o=b.shift(),s=b.shift(),u=b.shift(),l=b.shift(),c=d[0];if(o.$$destroyed)continue;if(s!==S){var h=s.className;if(!(_.hasElementTranscludeDirective&&T.replace)){c=Re(n)}ot(u,wt(s),c);M(wt(c),h)}if(O.transcludeOnThisElement){i=A(o,O.transclude,l)}else{i=l}O(w,o,c,v,i)}b=null}).catch(function(t){if(Rt(t)){V(t)}});return function t(e,n,r,i,a){var o=a;if(n.$$destroyed)return;if(b){b.push(n,r,i,o)}else{if(O.transcludeOnThisElement){o=A(n,O.transclude,a)}O(w,n,r,i,o)}}}function P(t,e){var n=e.priority-t.priority;if(n!==0)return n;if(t.name!==e.name)return t.name<e.name?-1:1;return t.index-e.index}function it(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e){throw Yn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Yt(r))}}function N(t,e){var a=O(e,true);if(a){t.push({priority:0,compile:function t(e){var n=e.parent(),i=!!n.length;if(i)B.$$addBindingClass(n);return function t(e,n){var r=n.parent();if(!i)B.$$addBindingClass(r);B.$$addBindingInfo(r,a.expressions);e.$watch(a,function t(e){n[0].nodeValue=e})}}})}}function at(t,e){t=bt(t||"html");switch(t){case"svg":case"math":var n=yt.document.createElement("div");n.innerHTML="<"+t+">"+e+"</"+t+">";return n.childNodes[0].childNodes;default:return e}}function y(t,e){if(e==="srcdoc"){return h.HTML}if(e==="src"||e==="ngSrc"){if(["img","video","audio","source","track"].indexOf(t)===-1){return h.RESOURCE_URL}return h.MEDIA_URL}else if(e==="xlinkHref"){if(t==="image")return h.MEDIA_URL;if(t==="a")return h.URL;return h.RESOURCE_URL}else if(t==="form"&&e==="action"||t==="base"&&e==="href"||t==="link"&&e==="href"){return h.RESOURCE_URL}else if(t==="a"&&(e==="href"||e==="ngHref")){return h.URL}}function l(t,e){var n=e.toLowerCase();return mt[t+"|"+n]||mt["*|"+n]}function _(t){return f(h.valueOf(t),"ng-prop-srcset")}function L(t,e,r,o){if(ct.test(o)){throw Yn("nodomevents","Property bindings for HTML DOM event properties are disallowed")}var n=$t(t);var i=l(n,o);var s=Mt;if(o==="srcset"&&(n==="img"||n==="source")){s=_}else if(i){s=h.getTrusted.bind(h,i)}e.push({priority:100,compile:function t(e,n){var i=w(n[r]);var a=w(n[r],function t(e){return h.valueOf(e)});return{pre:function t(e,n){function r(){var t=i(e);n.prop(o,s(t))}r();e.$watch(a,r)}}}})}function $(t,e,n){t.push(Xo(w,a,V,e,n,false))}function F(t,e,o,s,n){var r=$t(t);var u=y(r,s);var i=!n;var l=W[s]||n;var c=O(o,i,u,l);if(!c)return;if(s==="multiple"&&r==="select"){throw Yn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Yt(t))}if(ct.test(s)){throw Yn("nodomevents","Interpolations for HTML DOM event attributes are disallowed")}e.push({priority:100,compile:function(){return{pre:function t(e,n,r){var i=r.$$observers||(r.$$observers=Xt());var a=r[s];if(a!==o){c=a&&O(a,true,u,l);o=a}if(!c)return;r[s]=c(e);(i[s]||(i[s]=[])).$$inter=true;(r.$$observers&&r.$$observers[s].$$scope||e).$watch(c,function t(e,n){if(s==="class"&&e!==n){r.$updateClass(e,n)}else{r.$set(s,e)}})}}}})}function ot(t,e,n){var r=e[0],i=e.length,a=r.parentNode,o,s;if(t){for(o=0,s=t.length;o<s;o++){if(t[o]===r){t[o++]=n;for(var u=o,l=u+i-1,c=t.length;u<c;u++,l++){if(l<c){t[u]=t[l]}else{delete t[u]}}t.length-=i-1;if(t.context===r){t.context=n}break}}}if(a){a.replaceChild(n,r)}var h=yt.document.createDocumentFragment();for(o=0;o<i;o++){h.appendChild(e[o])}if(wt.hasData(r)){wt.data(n,wt.data(r));wt(r).off("$destroy")}wt.cleanData(h.querySelectorAll("*"));for(o=1;o<i;o++){delete e[o]}e[0]=n;e.length=1}function st(t,e){return xt(function(){return t.apply(null,arguments)},t,e)}function ut(t,e,n,r,i,a){try{t(e,n,r,i,a)}catch(t){V(t,Yt(n))}}function S(t,e){if(dt){throw Yn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}}function lt(p,v,g,t,m){var y=[];var _={};var r;Tt(t,function t(e,r){var n=e.attrName,i=e.optional,a=e.mode,o,s,u,l,c;switch(a){case"@":if(!i&&!_t.call(v,n)){S(n,m.name);g[r]=v[n]=undefined}c=v.$observe(n,function(t){if(kt(t)||Nt(t)){var e=g[r];b(r,t,e);g[r]=t}});v.$$observers[n].$$scope=p;o=v[n];if(kt(o)){g[r]=O(o)(p)}else if(Nt(o)){g[r]=o}_[r]=new Bn(qn,g[r]);y.push(c);break;case"=":if(!_t.call(v,n)){if(i)break;S(n,m.name);v[n]=undefined}if(i&&!v[n])break;s=w(v[n]);if(s.literal){l=Ht}else{l=Gt}u=s.assign||function(){o=g[r]=s(p);throw Yn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",v[n],n,m.name)};o=g[r]=s(p);var h=function t(e){if(!l(e,g[r])){if(!l(e,o)){g[r]=e}else{u(p,e=g[r])}}o=e;return o};h.$stateful=true;if(e.collection){c=p.$watchCollection(v[n],h)}else{c=p.$watch(w(v[n],h),null,s.literal)}y.push(c);break;case"<":if(!_t.call(v,n)){if(i)break;S(n,m.name);v[n]=undefined}if(i&&!v[n])break;s=w(v[n]);var f=s.literal;var d=g[r]=s(p);_[r]=new Bn(qn,g[r]);c=p[e.collection?"$watchCollection":"$watch"](s,function t(e,n){if(n===e){if(n===d||f&&Ht(n,d)){return}n=d}b(r,e,n);g[r]=e});y.push(c);break;case"&":if(!i&&!_t.call(v,n)){S(n,m.name)}s=v.hasOwnProperty(n)?w(v[n]):Ct;if(s===Ct&&i)break;g[r]=function(t){return s(p,t)};break}});function b(t,e,n){if(Dt(g.$onChanges)&&!Gt(e,n)){if(!s){p.$$postDigest(u);s=[]}if(!r){r={};s.push(i)}if(r[t]){n=r[t].previousValue}r[t]=new Bn(n,e)}}function i(){g.$onChanges(r);r=undefined}return{initialChanges:_,removeWatches:y.length&&function t(){for(var e=0,n=y.length;e<n;++e){y[e]()}}}}}]}function Bn(t,e){this.previousValue=t;this.currentValue=e}Bn.prototype.isFirstChange=function(){return this.previousValue===qn};var Kn=/^((?:x|data)[:\-_])/i;var Xn=/[:\-_]+(.)/g;function Zn(t){return t.replace(Kn,"").replace(Xn,function(t,e,n){return n?e.toUpperCase():e})}function Qn(t,e,n,r){}function Jn(t,e,n,r,i){}function tr(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var a=0;a<r.length;a++){var o=r[a];for(var s=0;s<i.length;s++){if(o===i[s])continue t}n+=(n.length>0?" ":"")+o}return n}function er(t){t=wt(t);var e=t.length;if(e<=1){return t}while(e--){var n=t[e];if(n.nodeType===ee||n.nodeType===te&&n.nodeValue.trim()===""){i.call(t,e,1)}}return t}var nr=N("$controller");var rr=/^(\S+)(\s+as\s+([\w$]+))?$/;function ir(t,e){if(e&&kt(e))return e;if(kt(t)){var n=rr.exec(t);if(n)return n[3]}}function ar(){var f={};this.has=function(t){return f.hasOwnProperty(t)};this.register=function(t,e){zt(t,"controller");if(At(t)){xt(f,t)}else{f[t]=e}};this.$get=["$injector",function(c){return function t(n,r,e,i){var a,o,s,u;e=e===true;if(i&&kt(i)){u=i}if(kt(n)){o=n.match(rr);if(!o){throw nr("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",n)}s=o[1];u=u||o[3];n=f.hasOwnProperty(s)?f[s]:Bt(r.$scope,s,true);if(!n){throw nr("ctrlreg","The controller with the name '{0}' is not registered.",s)}mt(n,s,true)}if(e){var l=(It(n)?n[n.length-1]:n).prototype;a=Object.create(l||null);if(u){h(r,u,a,s||n.name)}return xt(function t(){var e=c.invoke(n,a,r,s);if(e!==a&&(At(e)||Dt(e))){a=e;if(u){h(r,u,a,s||n.name)}}return a},{instance:a,identifier:u})}a=c.instantiate(n,r,s);if(u){h(r,u,a,s||n.name)}return a};function h(t,e,n,r){if(!(t&&At(t.$scope))){throw N("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e)}t.$scope[e]=n}}]}function or(){this.$get=["$window",function(t){return wt(t.document)}]}function sr(){this.$get=["$document","$rootScope",function(t,e){var n=t[0];var r=n&&n.hidden;t.on("visibilitychange",i);e.$on("$destroy",function(){t.off("visibilitychange",i)});function i(){r=n.hidden}return function(){return r}}]}function ur(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}var lr=function(){this.$get=["$document",function(e){return function(t){if(t){if(!t.nodeType&&t instanceof wt){t=t[0]}}else{t=e[0].body}return t.offsetWidth+1}}]};var cr="application/json";var hr={"Content-Type":cr+";charset=utf-8"};var fr=/^\[|^\{(?!\{)/;var dr={"[":/]$/,"{":/}$/};var pr=/^\)]\}',?\n/;var vr=N("$http");function gr(t){if(At(t)){return O(t)?t.toISOString():K(t)}return t}function mr(){this.$get=function(){return function t(e){if(!e)return"";var n=[];u(e,function(t,e){if(t===null||jt(t)||Dt(t))return;if(It(t)){Tt(t,function(t){n.push(at(e)+"="+at(gr(t)))})}else{n.push(at(e)+"="+at(gr(t)))}});return n.join("&")}}}function yr(){this.$get=function(){return function t(e){if(!e)return"";var i=[];a(e,"",true);return i.join("&");function a(t,n,r){if(It(t)){Tt(t,function(t,e){a(t,n+"["+(At(t)?e:"")+"]")})}else if(At(t)&&!O(t)){u(t,function(t,e){a(t,n+(r?"":"[")+e+(r?"":"]"))})}else{if(Dt(t)){t=t()}i.push(at(n)+"="+(t==null?"":at(gr(t))))}}}}}function _r(e,t){if(kt(e)){var n=e.replace(pr,"").trim();if(n){var r=t("Content-Type");var i=r&&r.indexOf(cr)===0;if(i||br(n)){try{e=X(n)}catch(t){if(!i){return e}throw vr("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',e,t)}}}}return e}function br(t){var e=t.match(fr);return e&&dr[e[0]].test(t)}function Or(t){var n=Xt(),e;function r(t,e){if(t){n[t]=n[t]?n[t]+", "+e:e}}if(kt(t)){Tt(t.split("\n"),function(t){e=t.indexOf(":");r(bt(Lt(t.substr(0,e))),Lt(t.substr(e+1)))})}else if(At(t)){Tt(t,function(t,e){r(bt(e),Lt(t))})}return n}function wr(n){var r;return function(t){if(!r)r=Or(n);if(t){var e=r[bt(t)];if(e===undefined){e=null}return e}return r}}function Sr(e,n,r,t){if(Dt(t)){return t(e,n,r)}Tt(t,function(t){e=t(e,n,r)});return e}function Tr(t){return 200<=t&&t<300}function xr(){var x=this.defaults={transformResponse:[_r],transformRequest:[function(t){return At(t)&&!M(t)&&!R(t)&&!I(t)?K(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ae(hr),put:ae(hr),patch:ae(hr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var E=false;this.useApplyAsync=function(t){if(k(t)){E=!!t;return this}return E};var r=this.interceptors=[];var i=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(h,v,g,t,m,y,f,_){var b=t("$http");x.paramSerializer=kt(x.paramSerializer)?f.get(x.paramSerializer):x.paramSerializer;var d=[];Tt(r,function(t){d.unshift(kt(t)?f.get(t):f.invoke(t))});var O=ia(i);function w(t){if(!At(t)){throw N("$http")("badreq","Http request configuration must be an object.  Received: {0}",t)}if(!kt(_.valueOf(t.url))){throw N("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url)}var n=xt({method:"get",transformRequest:x.transformRequest,transformResponse:x.transformResponse,paramSerializer:x.paramSerializer,jsonpCallbackParam:x.jsonpCallbackParam},t);n.headers=u(t);n.method=C(n.method);n.paramSerializer=kt(n.paramSerializer)?f.get(n.paramSerializer):n.paramSerializer;h.$$incOutstandingRequestCount("$http");var e=[];var r=[];var i=y.resolve(n);Tt(d,function(t){if(t.request||t.requestError){e.unshift(t.request,t.requestError)}if(t.response||t.responseError){r.push(t.response,t.responseError)}});i=a(i,e);i=i.then(l);i=a(i,r);i=i.finally(o);return i;function a(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++];var a=e[n++];t=t.then(i,a)}e.length=0;return t}function o(){h.$$completeOutstandingRequest(Ct,"$http")}function s(t,n){var r,i={};Tt(t,function(t,e){if(Dt(t)){r=t(n);if(r!=null){i[e]=r}}else{i[e]=t}});return i}function u(t){var e=x.headers,n=xt({},t.headers),r,i,a;e=xt({},e.common,e[bt(t.method)]);t:for(r in e){i=bt(r);for(a in n){if(bt(a)===i){continue t}}n[r]=e[r]}return s(n,ae(t))}function l(t){var n=t.headers;var e=Sr(t.data,wr(n),undefined,t.transformRequest);if(jt(e)){Tt(n,function(t,e){if(bt(e)==="content-type"){delete n[e]}})}if(jt(t.withCredentials)&&!jt(x.withCredentials)){t.withCredentials=x.withCredentials}return p(t,e).then(c,c)}function c(t){var e=xt({},t);e.data=Sr(t.data,t.headers,t.status,n.transformResponse);return Tr(t.status)?e:y.reject(e)}}w.pendingRequests=[];e("get","delete","head","jsonp");n("post","put","patch");w.defaults=x;return w;function e(t){Tt(arguments,function(n){w[n]=function(t,e){return w(xt({},e||{},{method:n,url:t}))}})}function n(t){Tt(arguments,function(r){w[r]=function(t,e,n){return w(xt({},n||{},{method:r,url:t,data:e}))}})}function p(a,t){var o=y.defer(),e=o.promise,s,n,r=a.headers,i=bt(a.method)==="jsonp",u=a.url;if(i){u=_.getTrustedResourceUrl(u)}else if(!kt(u)){u=_.valueOf(u)}u=S(u,a.paramSerializer(a.params));if(i){u=T(u,a.jsonpCallbackParam)}w.pendingRequests.push(a);e.then(p,p);if((a.cache||x.cache)&&a.cache!==false&&(a.method==="GET"||a.method==="JSONP")){s=At(a.cache)?a.cache:At(x.cache)?x.cache:b}if(s){n=s.get(u);if(k(n)){if(D(n)){n.then(d,d)}else{if(It(n)){f(n[1],n[0],ae(n[2]),n[3],n[4])}else{f(n,200,{},"OK","complete")}}}else{s.put(u,e)}}if(jt(n)){var l=O(a.url)?g()[a.xsrfCookieName||x.xsrfCookieName]:undefined;if(l){r[a.xsrfHeaderName||x.xsrfHeaderName]=l}v(a.method,u,t,h,r,a.timeout,a.withCredentials,a.responseType,c(a.eventHandlers),c(a.uploadEventHandlers))}return e;function c(t){if(t){var e={};Tt(t,function(n,t){e[t]=function(t){if(E){m.$applyAsync(e)}else if(m.$$phase){e()}else{m.$apply(e)}function e(){n(t)}}});return e}}function h(t,e,n,r,i){if(s){if(Tr(t)){s.put(u,[t,e,Or(n),r,i])}else{s.remove(u)}}function a(){f(e,t,n,r,i)}if(E){m.$applyAsync(a)}else{a();if(!m.$$phase)m.$apply()}}function f(t,e,n,r,i){e=e>=-1?e:0;(Tr(e)?o.resolve:o.reject)({data:t,status:e,headers:wr(n),config:a,statusText:r,xhrStatus:i})}function d(t){f(t.data,t.status,ae(t.headers()),t.statusText,t.xhrStatus)}function p(){var t=w.pendingRequests.indexOf(a);if(t!==-1)w.pendingRequests.splice(t,1)}}function S(t,e){if(e.length>0){t+=(t.indexOf("?")===-1?"?":"&")+e}return t}function T(n,r){var t=n.split("?");if(t.length>2){throw vr("badjsonp",'Illegal use more than one "?", in url, "{1}"',n)}var e=nt(t[1]);Tt(e,function(t,e){if(t==="JSON_CALLBACK"){throw vr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n)}if(e===r){throw vr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',r,n)}});n+=(n.indexOf("?")===-1?"?":"&")+r+"=JSON_CALLBACK";return n}}]}function Er(){this.$get=function(){return function t(){return new yt.XMLHttpRequest}}}function Cr(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return Mr(t,r,t.defer,e,n[0])}]}function Mr(b,O,w,S,s){return function(t,i,e,a,n,r,o,s,u,l){i=i||b.url();if(bt(t)==="jsonp"){var c=S.createCallback(i);var h=T(i,c,function(t,e){var n=t===200&&S.getResponse(c);_(a,t,n,"",e,"complete");S.removeCallback(c)})}else{var f=O(t,i);var d=false;f.open(t,i,true);Tt(n,function(t,e){if(k(t)){f.setRequestHeader(e,t)}});f.onload=function t(){var e=f.statusText||"";var n="response"in f?f.response:f.responseText;var r=f.status===1223?204:f.status;if(r===0){r=n?200:ea(i).protocol==="file"?404:0}_(a,r,n,f.getAllResponseHeaders(),e,"complete")};var p=function(){_(a,-1,null,null,"","error")};var v=function(){_(a,-1,null,null,"",d?"timeout":"abort")};var g=function(){_(a,-1,null,null,"","timeout")};f.onerror=p;f.ontimeout=g;f.onabort=v;Tt(u,function(t,e){f.addEventListener(e,t)});Tt(l,function(t,e){f.upload.addEventListener(e,t)});if(o){f.withCredentials=true}if(s){try{f.responseType=s}catch(t){if(s!=="json"){throw t}}}f.send(jt(e)?null:e)}if(r>0){var m=w(function(){y("timeout")},r)}else if(D(r)){r.then(function(){y(k(r.$$timeoutId)?"timeout":"abort")})}function y(t){d=t==="timeout";if(h){h()}if(f){f.abort()}}function _(t,e,n,r,i,a){if(k(m)){w.cancel(m)}h=f=null;t(e,n,r,i,a)}};function T(t,r,i){t=t.replace("JSON_CALLBACK",r);var a=s.createElement("script"),o=null;a.type="text/javascript";a.src=t;a.async=true;o=function(t){a.removeEventListener("load",o);a.removeEventListener("error",o);s.body.removeChild(a);a=null;var e=-1;var n="unknown";if(t){if(t.type==="load"&&!S.wasCalled(r)){t={type:"error"}}n=t.type;e=t.type==="error"?404:200}if(i){i(e,n)}};a.addEventListener("load",o);a.addEventListener("error",o);s.body.appendChild(a);return o}}var jr=w.$interpolateMinErr=N("$interpolate");jr.throwNoconcat=function(t){throw jr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",t)};jr.interr=function(t,e){return jr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};function Ar(){var C="{{";var M="}}";this.startSymbol=function(t){if(t){C=t;return this}return C};this.endSymbol=function(t){if(t){M=t;return this}return M};this.$get=["$parse","$exceptionHandler","$sce",function(b,O,w){var S=C.length,T=M.length,e=new RegExp(C.replace(/./g,t),"g"),n=new RegExp(M.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function x(t){return t.replace(e,C).replace(n,M)}function E(t,e,n,r){var i=t.$watch(function t(e){i();return r(e)},e,n);return i}function r(a,t,r,i){var o=r===w.URL||r===w.MEDIA_URL;if(!a.length||a.indexOf(C)===-1){if(t&&!o)return;var e=x(a);if(o){e=w.getTrusted(r,e)}var n=j(e);n.exp=a;n.expressions=[];n.$$watchDelegate=E;return n}i=!!i;var s,u,l=0,c=[],h,f=a.length,d,p=[],v=[],g;while(l<f){if((s=a.indexOf(C,l))!==-1&&(u=a.indexOf(M,s+S))!==-1){if(l!==s){p.push(x(a.substring(l,s)))}d=a.substring(s+S,u);c.push(d);l=u+T;v.push(p.length);p.push("")}else{if(l!==f){p.push(x(a.substring(l)))}break}}g=p.length===1&&v.length===1;var m=o&&g?undefined:_;h=c.map(function(t){return b(t,m)});if(!t||c.length){var y=function(t){for(var e=0,n=c.length;e<n;e++){if(i&&jt(t[e]))return;p[v[e]]=t[e]}if(o){return w.getTrusted(r,g?p[0]:p.join(""))}else if(r&&p.length>1){jr.throwNoconcat(a)}return p.join("")};return xt(function t(e){var n=0;var r=c.length;var i=new Array(r);try{for(;n<r;n++){i[n]=h[n](e)}return y(i)}catch(t){O(jr.interr(a,t))}},{exp:a,expressions:c,$$watchDelegate:function(i,a){var o;return i.$watchGroup(h,function t(e,n){var r=y(e);a.call(this,r,e!==n?o:r,i);o=r})}})}function _(t){try{t=r&&!o?w.getTrusted(r,t):w.valueOf(t);return i&&!k(t)?t:Zt(t)}catch(t){O(jr.interr(a,t))}}}r.startSymbol=function(){return C};r.endSymbol=function(){return M};return r}]}var kr=N("$interval");function Ir(){this.$get=["$$intervalFactory","$window",function(t,i){var a={};var e=function(t,e,n){var r=i.setInterval(t,e);a[r]=n;return r};var r=function(t){i.clearInterval(t);delete a[t]};var n=t(e,r);n.cancel=function(t){if(!t)return false;if(!t.hasOwnProperty("$$intervalId")){throw kr("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")}if(!a.hasOwnProperty(t.$$intervalId))return false;var e=t.$$intervalId;var n=a[e];Ii(n.promise);n.reject("canceled");r(e);return true};return n}]}function Rr(){this.$get=["$browser","$q","$$q","$rootScope",function(v,g,m,y){return function t(d,p){return function t(e,n,r,i){var a=arguments.length>4,o=a?Ut(arguments,4):[],s=0,u=k(i)&&!i,l=(u?m:g).defer(),c=l.promise;r=k(r)?r:0;function h(){if(!a){e(s)}else{e.apply(null,o)}}function f(){if(u){v.defer(h)}else{y.$evalAsync(h)}l.notify(s++);if(r>0&&s>=r){l.resolve(s);p(c.$$intervalId)}if(!u)y.$apply()}c.$$intervalId=d(f,n,l,u);return c}}}]}var Dr=function(){this.$get=function(){var i=w.callbacks;var a={};function o(t){var e=function(t){e.data=t;e.called=true};e.id=t;return e}return{createCallback:function(t){var e="_"+(i.$$counter++).toString(36);var n="angular.callbacks."+e;var r=o(e);a[n]=i[e]=r;return n},wasCalled:function(t){return a[t].called},getResponse:function(t){return a[t].data},removeCallback:function(t){var e=a[t];delete i[e.id];delete a[t]}}}};var Pr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Nr={http:80,https:443,ftp:21};var Lr=N("$location");function $r(t){var e=t.split("/"),n=e.length;while(n--){e[n]=it(e[n].replace(/%2F/g,"/"))}return e.join("/")}function Fr(t,e){var n=t.split("/"),r=n.length;while(r--){n[r]=decodeURIComponent(n[r]);if(e){n[r]=n[r].replace(/\//g,"%2F")}}return n.join("/")}function Gr(t,e,n){var r=rt(e),i=n?"#"+it(n):"",a=$r(t);return a+(r?"?"+r:"")+i}function Hr(t,e){var n=ea(t);e.$$protocol=n.protocol;e.$$host=n.hostname;e.$$port=m(n.port)||Nr[n.protocol]||null}var Ur=/^\s*[\\/]{2,}/;function Wr(t,e,n){if(Ur.test(t)){throw Lr("badpath",'Invalid url "{0}".',t)}var r=t.charAt(0)!=="/";if(r){t="/"+t}var i=ea(t);var a=r&&i.pathname.charAt(0)==="/"?i.pathname.substring(1):i.pathname;e.$$path=Fr(a,n);e.$$search=nt(i.search);e.$$hash=decodeURIComponent(i.hash);if(e.$$path&&e.$$path.charAt(0)!=="/"){e.$$path="/"+e.$$path}}function Yr(t,e){return t.slice(0,e.length)===e}function Vr(t,e){if(Yr(e,t)){return e.substr(t.length)}}function qr(t){var e=t.indexOf("#");return e===-1?t:t.substr(0,e)}function zr(t){return t.substr(0,qr(t).lastIndexOf("/")+1)}function Br(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Kr(a,o,s){this.$$html5=true;s=s||"";Hr(a,this);this.$$parse=function(t){var e=Vr(o,t);if(!kt(e)){throw Lr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,o)}Wr(e,this,true);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$normalizeUrl=function(t){return o+t.substr(1)};this.$$parseLinkUrl=function(t,e){if(e&&e[0]==="#"){this.hash(e.slice(1));return true}var n,r;var i;if(k(n=Vr(a,t))){r=n;if(s&&k(n=Vr(s,n))){i=o+(Vr("/",n)||n)}else{i=a+r}}else if(k(n=Vr(o,t))){i=o+n}else if(o===t+"/"){i=o}if(i){this.$$parse(i)}return!!i}}function Xr(i,a,o){Hr(i,this);this.$$parse=function(t){var e=Vr(i,t)||Vr(a,t);var n;if(!jt(e)&&e.charAt(0)==="#"){n=Vr(o,e);if(jt(n)){n=e}}else{if(this.$$html5){n=e}else{n="";if(jt(e)){i=t;this.replace()}}}Wr(n,this,false);this.$$path=r(this.$$path,n,i);this.$$compose();function r(t,e,n){var r=/^\/[A-Z]:(\/.*)/;var i;if(Yr(e,n)){e=e.replace(n,"")}if(r.exec(e)){return t}i=r.exec(t);return i?i[1]:t}};this.$$normalizeUrl=function(t){return i+(t?o+t:"")};this.$$parseLinkUrl=function(t,e){if(qr(i)===qr(t)){this.$$parse(t);return true}return false}}function Zr(i,a,o){this.$$html5=true;Xr.apply(this,arguments);this.$$parseLinkUrl=function(t,e){if(e&&e[0]==="#"){this.hash(e.slice(1));return true}var n;var r;if(i===qr(t)){n=t}else if(r=Vr(a,t)){n=i+o+r}else if(a===t+"/"){n=a}if(n){this.$$parse(n)}return!!n};this.$$normalizeUrl=function(t){return i+o+t}}var Qr={$$absUrl:"",$$html5:false,$$replace:false,$$compose:function(){this.$$url=Gr(this.$$path,this.$$search,this.$$hash);this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=true},absUrl:Jr("$$absUrl"),url:function(t){if(jt(t)){return this.$$url}var e=Pr.exec(t);if(e[1]||t==="")this.path(decodeURIComponent(e[1]));if(e[2]||e[1]||t==="")this.search(e[3]||"");this.hash(e[5]||"");return this},protocol:Jr("$$protocol"),host:Jr("$$host"),port:Jr("$$port"),path:ti("$$path",function(t){t=t!==null?t.toString():"";return t.charAt(0)==="/"?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(kt(n)||b(n)){n=n.toString();this.$$search=nt(n)}else if(At(n)){n=W(n,{});Tt(n,function(t,e){if(t==null)delete n[e]});this.$$search=n}else{throw Lr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(jt(t)||t===null){delete this.$$search[n]}else{this.$$search[n]=t}}this.$$compose();return this},hash:ti("$$hash",function(t){return t!==null?t.toString():""}),replace:function(){this.$$replace=true;return this}};Tt([Zr,Xr,Kr],function(e){e.prototype=Object.create(Qr);e.prototype.state=function(t){if(!arguments.length){return this.$$state}if(e!==Kr||!this.$$html5){throw Lr("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=jt(t)?null:t;this.$$urlUpdatedByLocation=true;return this}});function Jr(t){return function(){return this[t]}}function ti(e,n){return function(t){if(jt(t)){return this[e]}this[e]=n(t);this.$$compose();return this}}function ei(){var g="!",m={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(t){if(k(t)){g=t;return this}else{return g}};this.html5Mode=function(t){if(Nt(t)){m.enabled=t;return this}else if(At(t)){if(Nt(t.enabled)){m.enabled=t.enabled}if(Nt(t.requireBase)){m.requireBase=t.requireBase}if(Nt(t.rewriteLinks)||kt(t.rewriteLinks)){m.rewriteLinks=t.rewriteLinks}return this}else{return m}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(o,s,u,a,t){var l,e,n=s.baseHref(),r=s.url(),i;if(m.enabled){if(!n&&m.requireBase){throw Lr("nobase","$location in HTML5 mode requires a <base> tag to be present!")}i=Br(r)+(n||"/");e=u.history?Kr:Zr}else{i=qr(r);e=Xr}var c=zr(i);l=new e(i,c,"#"+g);l.$$parseLinkUrl(r,r);l.$$state=s.state();var h=/^\s*(javascript|mailto):/i;function f(t,e){return t===e||ea(t).href===ea(e).href}function d(t,e,n){var r=l.url();var i=l.$$state;try{s.url(t,e,n);l.$$state=s.state()}catch(t){l.url(r);l.$$state=i;throw t}}a.on("click",function(t){var e=m.rewriteLinks;if(!e||t.ctrlKey||t.metaKey||t.shiftKey||t.which===2||t.button===2)return;var n=wt(t.target);while($t(n[0])!=="a"){if(n[0]===a[0]||!(n=n.parent())[0])return}if(kt(e)&&jt(n.attr(e)))return;var r=n.prop("href");var i=n.attr("href")||n.attr("xlink:href");if(At(r)&&r.toString()==="[object SVGAnimatedString]"){r=ea(r.animVal).href}if(h.test(r))return;if(r&&!n.attr("target")&&!t.isDefaultPrevented()){if(l.$$parseLinkUrl(r,i)){t.preventDefault();if(l.absUrl()!==s.url()){o.$apply()}}}});if(l.absUrl()!==r){s.url(l.absUrl(),true)}var p=true;s.onUrlChange(function(r,i){if(!Yr(r,c)){t.location.href=r;return}o.$evalAsync(function(){var t=l.absUrl();var e=l.$$state;var n;l.$$parse(r);l.$$state=i;n=o.$broadcast("$locationChangeStart",r,t,i,e).defaultPrevented;if(l.absUrl()!==r)return;if(n){l.$$parse(t);l.$$state=e;d(t,false,e)}else{p=false;v(t,e)}});if(!o.$$phase)o.$digest()});o.$watch(function t(){if(p||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=false;var n=s.url();var e=l.absUrl();var r=s.state();var i=l.$$replace;var a=!f(n,e)||l.$$html5&&u.history&&r!==l.$$state;if(p||a){p=false;o.$evalAsync(function(){var t=l.absUrl();var e=o.$broadcast("$locationChangeStart",t,n,l.$$state,r).defaultPrevented;if(l.absUrl()!==t)return;if(e){l.$$parse(n);l.$$state=r}else{if(a){d(t,i,r===l.$$state?null:l.$$state)}v(n,r)}})}}l.$$replace=false});return l;function v(t,e){o.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}}]}function ni(){var a=true,o=this;this.debugEnabled=function(t){if(k(t)){a=t;return this}else{return a}};this.$get=["$window",function(e){var n=Ot||/\bEdge\//.test(e.navigator&&e.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var t=r("debug");return function(){if(a){t.apply(o,arguments)}}}()};function i(t){if(Rt(t)){if(t.stack&&n){t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack}else if(t.sourceURL){t=t.message+"\n"+t.sourceURL+":"+t.line}}return t}function r(t){var n=e.console||{},r=n[t]||n.log||Ct;return function(){var e=[];Tt(arguments,function(t){e.push(i(t))});return Function.prototype.apply.call(r,n,e)}}}]}var ri=N("$parse");var ii={}.constructor.prototype.valueOf;function ai(t){return t+""}var oi=Xt();Tt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){oi[t]=true});var si={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var ui=function t(e){this.options=e};ui.prototype={constructor:ui,lex:function(t){this.text=t;this.index=0;this.tokens=[];while(this.index<this.text.length){var e=this.text.charAt(this.index);if(e==='"'||e==="'"){this.readString(e)}else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(e,"(){}[].,;:?")){this.tokens.push({index:this.index,text:e});this.index++}else if(this.isWhitespace(e)){this.index++}else{var n=e+this.peek();var r=n+this.peek(2);var i=oi[e];var a=oi[n];var o=oi[r];if(i||a||o){var s=o?r:a?n:e;this.tokens.push({index:this.index,text:s,operator:true});this.index+=s.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):false},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t==="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="\t"||t==="\n"||t==="\v"||t===" "},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){if(t.length===1)return t.charCodeAt(0);return(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index);var e=this.peek();if(!e){return t}var n=t.charCodeAt(0);var r=e.charCodeAt(0);if(n>=55296&&n<=56319&&r>=56320&&r<=57343){return t+e}return t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=k(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ri("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){var t="";var e=this.index;while(this.index<this.text.length){var n=bt(this.text.charAt(this.index));if(n==="."||this.isNumber(n)){t+=n}else{var r=this.peek();if(n==="e"&&this.isExpOperator(r)){t+=n}else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&t.charAt(t.length-1)==="e"){t+=n}else if(this.isExpOperator(n)&&(!r||!this.isNumber(r))&&t.charAt(t.length-1)==="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:e,text:t,constant:true,value:Number(t)})},readIdent:function(){var t=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var e=this.peekMultichar();if(!this.isIdentifierContinue(e)){break}this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:true})},readString:function(t){var e=this.index;this.index++;var n="";var r=t;var i=false;while(this.index<this.text.length){var a=this.text.charAt(this.index);r+=a;if(i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);if(!o.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+o+"]")}this.index+=4;n+=String.fromCharCode(parseInt(o,16))}else{var s=si[a];n=n+(s||a)}i=false}else if(a==="\\"){i=true}else if(a===t){this.index++;this.tokens.push({index:e,text:r,constant:true,value:n});return}else{n+=a}this.index++}this.throwError("Unterminated quote",e)}};var li=function t(e,n){this.lexer=e;this.options=n};li.Program="Program";li.ExpressionStatement="ExpressionStatement";li.AssignmentExpression="AssignmentExpression";li.ConditionalExpression="ConditionalExpression";li.LogicalExpression="LogicalExpression";li.BinaryExpression="BinaryExpression";li.UnaryExpression="UnaryExpression";li.CallExpression="CallExpression";li.MemberExpression="MemberExpression";li.Identifier="Identifier";li.Literal="Literal";li.ArrayExpression="ArrayExpression";li.Property="Property";li.ObjectExpression="ObjectExpression";li.ThisExpression="ThisExpression";li.LocalsExpression="LocalsExpression";li.NGValueParameter="NGValueParameter";li.prototype={ast:function(t){this.text=t;this.tokens=this.lexer.lex(t);var e=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return e},program:function(){var t=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))t.push(this.expressionStatement());if(!this.expect(";")){return{type:li.Program,body:t}}}},expressionStatement:function(){return{type:li.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var t=this.expression();while(this.expect("|")){t=this.filter(t)}return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!yi(t)){throw ri("lval","Trying to assign a value to a non l-value")}t={type:li.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR();var e;var n;if(this.expect("?")){e=this.expression();if(this.consume(":")){n=this.expression();return{type:li.ConditionalExpression,test:t,alternate:e,consequent:n}}}return t},logicalOR:function(){var t=this.logicalAND();while(this.expect("||")){t={type:li.LogicalExpression,operator:"||",left:t,right:this.logicalAND()}}return t},logicalAND:function(){var t=this.equality();while(this.expect("&&")){t={type:li.LogicalExpression,operator:"&&",left:t,right:this.equality()}}return t},equality:function(){var t=this.relational();var e;while(e=this.expect("==","!=","===","!==")){t={type:li.BinaryExpression,operator:e.text,left:t,right:this.relational()}}return t},relational:function(){var t=this.additive();var e;while(e=this.expect("<",">","<=",">=")){t={type:li.BinaryExpression,operator:e.text,left:t,right:this.additive()}}return t},additive:function(){var t=this.multiplicative();var e;while(e=this.expect("+","-")){t={type:li.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()}}return t},multiplicative:function(){var t=this.unary();var e;while(e=this.expect("*","/","%")){t={type:li.BinaryExpression,operator:e.text,left:t,right:this.unary()}}return t},unary:function(){var t;if(t=this.expect("+","-","!")){return{type:li.UnaryExpression,operator:t.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var t;if(this.expect("(")){t=this.filterChain();this.consume(")")}else if(this.expect("[")){t=this.arrayDeclaration()}else if(this.expect("{")){t=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){t=W(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){t={type:li.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){t=this.identifier()}else if(this.peek().constant){t=this.constant()}else{this.throwError("not a primary expression",this.peek())}var e;while(e=this.expect("(","[",".")){if(e.text==="("){t={type:li.CallExpression,callee:t,arguments:this.parseArguments()};this.consume(")")}else if(e.text==="["){t={type:li.MemberExpression,object:t,property:this.expression(),computed:true};this.consume("]")}else if(e.text==="."){t={type:li.MemberExpression,object:t,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return t},filter:function(t){var e=[t];var n={type:li.CallExpression,callee:this.identifier(),arguments:e,filter:true};while(this.expect(":")){e.push(this.expression())}return n},parseArguments:function(){var t=[];if(this.peekToken().text!==")"){do{t.push(this.filterChain())}while(this.expect(","))}return t},identifier:function(){var t=this.consume();if(!t.identifier){this.throwError("is not a valid identifier",t)}return{type:li.Identifier,name:t.text}},constant:function(){return{type:li.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}t.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:li.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}e={type:li.Property,kind:"init"};if(this.peek().constant){e.key=this.constant();e.computed=false;this.consume(":");e.value=this.expression()}else if(this.peek().identifier){e.key=this.identifier();e.computed=false;if(this.peek(":")){this.consume(":");e.value=this.expression()}else{e.value=e.key}}else if(this.peek("[")){this.consume("[");e.key=this.expression();this.consume("]");e.computed=true;this.consume(":");e.value=this.expression()}else{this.throwError("invalid key",this.peek())}t.push(e)}while(this.expect(","))}this.consume("}");return{type:li.ObjectExpression,properties:t}},throwError:function(t,e){throw ri("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0){throw ri("ueoe","Unexpected end of expression: {0}",this.text)}var e=this.expect(t);if(!e){this.throwError("is unexpected, expecting ["+t+"]",this.peek())}return e},peekToken:function(){if(this.tokens.length===0){throw ri("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var a=this.tokens[t];var o=a.text;if(o===e||o===n||o===r||o===i||!e&&!n&&!r&&!i){return a}}return false},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);if(i){this.tokens.shift();return i}return false},selfReferential:{this:{type:li.ThisExpression},$locals:{type:li.LocalsExpression}}};function ci(t,e){return typeof t!=="undefined"?t:e}function hi(t,e){if(typeof t==="undefined")return e;if(typeof e==="undefined")return t;return t+e}function fi(t,e){var n=t(e);return!n.$stateful}var di=1;var pi=2;function vi(t,e){switch(t.type){case li.MemberExpression:if(t.computed){return false}break;case li.UnaryExpression:return di;case li.BinaryExpression:return t.operator!=="+"?di:false;case li.CallExpression:return false}return undefined===e?pi:e}function gi(t,e,n){var r;var i;var a;var o=t.isPure=vi(t,n);switch(t.type){case li.Program:r=true;Tt(t.body,function(t){gi(t.expression,e,o);r=r&&t.expression.constant});t.constant=r;break;case li.Literal:t.constant=true;t.toWatch=[];break;case li.UnaryExpression:gi(t.argument,e,o);t.constant=t.argument.constant;t.toWatch=t.argument.toWatch;break;case li.BinaryExpression:gi(t.left,e,o);gi(t.right,e,o);t.constant=t.left.constant&&t.right.constant;t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case li.LogicalExpression:gi(t.left,e,o);gi(t.right,e,o);t.constant=t.left.constant&&t.right.constant;t.toWatch=t.constant?[]:[t];break;case li.ConditionalExpression:gi(t.test,e,o);gi(t.alternate,e,o);gi(t.consequent,e,o);t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant;t.toWatch=t.constant?[]:[t];break;case li.Identifier:t.constant=false;t.toWatch=[t];break;case li.MemberExpression:gi(t.object,e,o);if(t.computed){gi(t.property,e,o)}t.constant=t.object.constant&&(!t.computed||t.property.constant);t.toWatch=t.constant?[]:[t];break;case li.CallExpression:a=t.filter?fi(e,t.callee.name):false;r=a;i=[];Tt(t.arguments,function(t){gi(t,e,o);r=r&&t.constant;i.push.apply(i,t.toWatch)});t.constant=r;t.toWatch=a?i:[t];break;case li.AssignmentExpression:gi(t.left,e,o);gi(t.right,e,o);t.constant=t.left.constant&&t.right.constant;t.toWatch=[t];break;case li.ArrayExpression:r=true;i=[];Tt(t.elements,function(t){gi(t,e,o);r=r&&t.constant;i.push.apply(i,t.toWatch)});t.constant=r;t.toWatch=i;break;case li.ObjectExpression:r=true;i=[];Tt(t.properties,function(t){gi(t.value,e,o);r=r&&t.value.constant;i.push.apply(i,t.value.toWatch);if(t.computed){gi(t.key,e,false);r=r&&t.key.constant;i.push.apply(i,t.key.toWatch)}});t.constant=r;t.toWatch=i;break;case li.ThisExpression:t.constant=false;t.toWatch=[];break;case li.LocalsExpression:t.constant=false;t.toWatch=[];break}}function mi(t){if(t.length!==1)return;var e=t[0].expression;var n=e.toWatch;if(n.length!==1)return n;return n[0]!==e?n:undefined}function yi(t){return t.type===li.Identifier||t.type===li.MemberExpression}function _i(t){if(t.body.length===1&&yi(t.body[0].expression)){return{type:li.AssignmentExpression,left:t.body[0].expression,right:{type:li.NGValueParameter},operator:"="}}}function bi(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===li.Literal||t.body[0].expression.type===li.ArrayExpression||t.body[0].expression.type===li.ObjectExpression)}function Oi(t){return t.constant}function wi(t){this.$filter=t}wi.prototype={compile:function(t){var i=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};gi(t,i.$filter);var e="";var n;this.stage="assign";if(n=_i(t)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r);this.return_(r);e="fn.assign="+this.generateFunction("assign","s,v,l")}var a=mi(t.body);i.stage="inputs";Tt(a,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}};i.state.computing=n;var r=i.nextId();i.recurse(t,r);i.return_(r);i.state.inputs.push({name:n,isPure:t.isPure});t.watchId=e});this.state.computing="fn";this.stage="main";this.recurse(t);var o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;";var s=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,ai,ci,hi);this.state=this.stage=undefined;return s},USE:"use",STRICT:"strict",watchFns:function(){var e=[];var t=this.state.inputs;var n=this;Tt(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s"));if(t.isPure){e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}});if(t.length){e.push("fn.inputs=["+t.map(function(t){return t.name}).join(",")+"];")}return e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[];var r=this;Tt(this.state.filters,function(t,e){n.push(t+"=$filter("+r.escape(e)+")")});if(n.length)return"var "+n.join(",")+";";return""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,e,t,r,i,a){var o,s,u=this,l,c,h;r=r||Ct;if(!a&&k(n.watchId)){e=e||this.nextId();this.if_("i",this.lazyAssign(e,this.computedMember("i",n.watchId)),this.lazyRecurse(n,e,t,r,i,true));return}switch(n.type){case li.Program:Tt(n.body,function(t,e){u.recurse(t.expression,undefined,undefined,function(t){s=t});if(e!==n.body.length-1){u.current().body.push(s,";")}else{u.return_(s)}});break;case li.Literal:c=this.escape(n.value);this.assign(e,c);r(e||c);break;case li.UnaryExpression:this.recurse(n.argument,undefined,undefined,function(t){s=t});c=n.operator+"("+this.ifDefined(s,0)+")";this.assign(e,c);r(c);break;case li.BinaryExpression:this.recurse(n.left,undefined,undefined,function(t){o=t});this.recurse(n.right,undefined,undefined,function(t){s=t});if(n.operator==="+"){c=this.plus(o,s)}else if(n.operator==="-"){c=this.ifDefined(o,0)+n.operator+this.ifDefined(s,0)}else{c="("+o+")"+n.operator+"("+s+")"}this.assign(e,c);r(c);break;case li.LogicalExpression:e=e||this.nextId();u.recurse(n.left,e);u.if_(n.operator==="&&"?e:u.not(e),u.lazyRecurse(n.right,e));r(e);break;case li.ConditionalExpression:e=e||this.nextId();u.recurse(n.test,e);u.if_(e,u.lazyRecurse(n.alternate,e),u.lazyRecurse(n.consequent,e));r(e);break;case li.Identifier:e=e||this.nextId();if(t){t.context=u.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s");t.computed=false;t.name=n.name}u.if_(u.stage==="inputs"||u.not(u.getHasOwnProperty("l",n.name)),function(){u.if_(u.stage==="inputs"||"s",function(){if(i&&i!==1){u.if_(u.isNull(u.nonComputedMember("s",n.name)),u.lazyAssign(u.nonComputedMember("s",n.name),"{}"))}u.assign(e,u.nonComputedMember("s",n.name))})},e&&u.lazyAssign(e,u.nonComputedMember("l",n.name)));r(e);break;case li.MemberExpression:o=t&&(t.context=this.nextId())||this.nextId();e=e||this.nextId();u.recurse(n.object,o,undefined,function(){u.if_(u.notNull(o),function(){if(n.computed){s=u.nextId();u.recurse(n.property,s);u.getStringValue(s);if(i&&i!==1){u.if_(u.not(u.computedMember(o,s)),u.lazyAssign(u.computedMember(o,s),"{}"))}c=u.computedMember(o,s);u.assign(e,c);if(t){t.computed=true;t.name=s}}else{if(i&&i!==1){u.if_(u.isNull(u.nonComputedMember(o,n.property.name)),u.lazyAssign(u.nonComputedMember(o,n.property.name),"{}"))}c=u.nonComputedMember(o,n.property.name);u.assign(e,c);if(t){t.computed=false;t.name=n.property.name}}},function(){u.assign(e,"undefined")});r(e)},!!i);break;case li.CallExpression:e=e||this.nextId();if(n.filter){s=u.filter(n.callee.name);l=[];Tt(n.arguments,function(t){var e=u.nextId();u.recurse(t,e);l.push(e)});c=s+"("+l.join(",")+")";u.assign(e,c);r(e)}else{s=u.nextId();o={};l=[];u.recurse(n.callee,s,o,function(){u.if_(u.notNull(s),function(){Tt(n.arguments,function(t){u.recurse(t,n.constant?undefined:u.nextId(),undefined,function(t){l.push(t)})});if(o.name){c=u.member(o.context,o.name,o.computed)+"("+l.join(",")+")"}else{c=s+"("+l.join(",")+")"}u.assign(e,c)},function(){u.assign(e,"undefined")});r(e)})}break;case li.AssignmentExpression:s=this.nextId();o={};this.recurse(n.left,undefined,o,function(){u.if_(u.notNull(o.context),function(){u.recurse(n.right,s);c=u.member(o.context,o.name,o.computed)+n.operator+s;u.assign(e,c);r(e||c)})},1);break;case li.ArrayExpression:l=[];Tt(n.elements,function(t){u.recurse(t,n.constant?undefined:u.nextId(),undefined,function(t){l.push(t)})});c="["+l.join(",")+"]";this.assign(e,c);r(e||c);break;case li.ObjectExpression:l=[];h=false;Tt(n.properties,function(t){if(t.computed){h=true}});if(h){e=e||this.nextId();this.assign(e,"{}");Tt(n.properties,function(t){if(t.computed){o=u.nextId();u.recurse(t.key,o)}else{o=t.key.type===li.Identifier?t.key.name:""+t.key.value}s=u.nextId();u.recurse(t.value,s);u.assign(u.member(e,o,t.computed),s)})}else{Tt(n.properties,function(e){u.recurse(e.value,n.constant?undefined:u.nextId(),undefined,function(t){l.push(u.escape(e.key.type===li.Identifier?e.key.name:""+e.key.value)+":"+t)})});c="{"+l.join(",")+"}";this.assign(e,c)}r(e||c);break;case li.ThisExpression:this.assign(e,"s");r(e||"s");break;case li.LocalsExpression:this.assign(e,"l");r(e||"l");break;case li.NGValueParameter:this.assign(e,"v");r(e||"v");break}},getHasOwnProperty:function(t,e){var n=t+"."+e;var r=this.current().own;if(!r.hasOwnProperty(n)){r[n]=this.nextId(false,t+"&&("+this.escape(e)+" in "+t+")")}return r[n]},assign:function(t,e){if(!t)return;this.current().body.push(t,"=",e,";");return t},filter:function(t){if(!this.state.filters.hasOwnProperty(t)){this.state.filters[t]=this.nextId(true)}return this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===true){e()}else{var r=this.current().body;r.push("if(",t,"){");e();r.push("}");if(n){r.push("else{");n();r.push("}")}}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var r=/[^$_a-zA-Z0-9]/g;if(n.test(e)){return t+"."+e}else{return t+'["'+e.replace(r,this.stringEscapeFn)+'"]'}},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){if(n)return this.computedMember(t,e);return this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,a){var o=this;return function(){o.recurse(t,e,n,r,i,a)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(kt(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(b(t))return t.toString();if(t===true)return"true";if(t===false)return"false";if(t===null)return"null";if(typeof t==="undefined")return"undefined";throw ri("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;if(!t){this.current().vars.push(n+(e?"="+e:""))}return n},current:function(){return this.state[this.state.computing]}};function Si(t){this.$filter=t}Si.prototype={compile:function(t){var r=this;gi(t,r.$filter);var e;var i;if(e=_i(t)){i=this.recurse(e)}var n=mi(t.body);var a;if(n){a=[];Tt(n,function(t,e){var n=r.recurse(t);n.isPure=t.isPure;t.input=n;a.push(n);t.watchId=e})}var o=[];Tt(t.body,function(t){o.push(r.recurse(t.expression))});var s=t.body.length===0?Ct:t.body.length===1?o[0]:function(e,n){var r;Tt(o,function(t){r=t(e,n)});return r};if(i){s.assign=function(t,e,n){return i(t,n,e)}}if(a){s.inputs=a}return s},recurse:function(t,u,e){var o,l,n=this,c;if(t.input){return this.inputs(t.input,t.watchId)}switch(t.type){case li.Literal:return this.value(t.value,u);case li.UnaryExpression:l=this.recurse(t.argument);return this["unary"+t.operator](l,u);case li.BinaryExpression:o=this.recurse(t.left);l=this.recurse(t.right);return this["binary"+t.operator](o,l,u);case li.LogicalExpression:o=this.recurse(t.left);l=this.recurse(t.right);return this["binary"+t.operator](o,l,u);case li.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),u);case li.Identifier:return n.identifier(t.name,u,e);case li.MemberExpression:o=this.recurse(t.object,false,!!e);if(!t.computed){l=t.property.name}if(t.computed)l=this.recurse(t.property);return t.computed?this.computedMember(o,l,u,e):this.nonComputedMember(o,l,u,e);case li.CallExpression:c=[];Tt(t.arguments,function(t){c.push(n.recurse(t))});if(t.filter)l=this.$filter(t.callee.name);if(!t.filter)l=this.recurse(t.callee,true);return t.filter?function(t,e,n,r){var i=[];for(var a=0;a<c.length;++a){i.push(c[a](t,e,n,r))}var o=l.apply(undefined,i,r);return u?{context:undefined,name:undefined,value:o}:o}:function(t,e,n,r){var i=l(t,e,n,r);var a;if(i.value!=null){var o=[];for(var s=0;s<c.length;++s){o.push(c[s](t,e,n,r))}a=i.value.apply(i.context,o)}return u?{value:a}:a};case li.AssignmentExpression:o=this.recurse(t.left,true,1);l=this.recurse(t.right);return function(t,e,n,r){var i=o(t,e,n,r);var a=l(t,e,n,r);i.context[i.name]=a;return u?{value:a}:a};case li.ArrayExpression:c=[];Tt(t.elements,function(t){c.push(n.recurse(t))});return function(t,e,n,r){var i=[];for(var a=0;a<c.length;++a){i.push(c[a](t,e,n,r))}return u?{value:i}:i};case li.ObjectExpression:c=[];Tt(t.properties,function(t){if(t.computed){c.push({key:n.recurse(t.key),computed:true,value:n.recurse(t.value)})}else{c.push({key:t.key.type===li.Identifier?t.key.name:""+t.key.value,computed:false,value:n.recurse(t.value)})}});return function(t,e,n,r){var i={};for(var a=0;a<c.length;++a){if(c[a].computed){i[c[a].key(t,e,n,r)]=c[a].value(t,e,n,r)}else{i[c[a].key]=c[a].value(t,e,n,r)}}return u?{value:i}:i};case li.ThisExpression:return function(t){return u?{value:t}:t};case li.LocalsExpression:return function(t,e){return u?{value:e}:e};case li.NGValueParameter:return function(t,e,n){return u?{value:n}:n}}},"unary+":function(a,o){return function(t,e,n,r){var i=a(t,e,n,r);if(k(i)){i=+i}else{i=0}return o?{value:i}:i}},"unary-":function(a,o){return function(t,e,n,r){var i=a(t,e,n,r);if(k(i)){i=-i}else{i=-0}return o?{value:i}:i}},"unary!":function(a,o){return function(t,e,n,r){var i=!a(t,e,n,r);return o?{value:i}:i}},"binary+":function(s,u,l){return function(t,e,n,r){var i=s(t,e,n,r);var a=u(t,e,n,r);var o=hi(i,a);return l?{value:o}:o}},"binary-":function(s,u,l){return function(t,e,n,r){var i=s(t,e,n,r);var a=u(t,e,n,r);var o=(k(i)?i:0)-(k(a)?a:0);return l?{value:o}:o}},"binary*":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)*o(t,e,n,r);return s?{value:i}:i}},"binary/":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)/o(t,e,n,r);return s?{value:i}:i}},"binary%":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)%o(t,e,n,r);return s?{value:i}:i}},"binary===":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)===o(t,e,n,r);return s?{value:i}:i}},"binary!==":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)!==o(t,e,n,r);return s?{value:i}:i}},"binary==":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)==o(t,e,n,r);return s?{value:i}:i}},"binary!=":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)!=o(t,e,n,r);return s?{value:i}:i}},"binary<":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)<o(t,e,n,r);return s?{value:i}:i}},"binary>":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)>o(t,e,n,r);return s?{value:i}:i}},"binary<=":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)<=o(t,e,n,r);return s?{value:i}:i}},"binary>=":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)>=o(t,e,n,r);return s?{value:i}:i}},"binary&&":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)&&o(t,e,n,r);return s?{value:i}:i}},"binary||":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)||o(t,e,n,r);return s?{value:i}:i}},"ternary?:":function(a,o,s,u){return function(t,e,n,r){var i=a(t,e,n,r)?o(t,e,n,r):s(t,e,n,r);return u?{value:i}:i}},value:function(t,e){return function(){return e?{context:undefined,name:undefined,value:t}:t}},identifier:function(o,s,u){return function(t,e,n,r){var i=e&&o in e?e:t;if(u&&u!==1&&i&&i[o]==null){i[o]={}}var a=i?i[o]:undefined;if(s){return{context:i,name:o,value:a}}else{return a}}},computedMember:function(s,u,l,c){return function(t,e,n,r){var i=s(t,e,n,r);var a;var o;if(i!=null){a=u(t,e,n,r);a=ai(a);if(c&&c!==1){if(i&&!i[a]){i[a]={}}}o=i[a]}if(l){return{context:i,name:a,value:o}}else{return o}}},nonComputedMember:function(o,s,u,l){return function(t,e,n,r){var i=o(t,e,n,r);if(l&&l!==1){if(i&&i[s]==null){i[s]={}}}var a=i!=null?i[s]:undefined;if(u){return{context:i,name:s,value:a}}else{return a}}},inputs:function(i,a){return function(t,e,n,r){if(r)return r[a];return i(t,e,n)}}};function Ti(t,e,n){this.ast=new li(t,n);this.astCompiler=n.csp?new Si(e):new wi(e)}Ti.prototype={constructor:Ti,parse:function(t){var e=this.getAst(t);var n=this.astCompiler.compile(e.ast);n.literal=bi(e.ast);n.constant=Oi(e.ast);n.oneTime=e.oneTime;return n},getAst:function(t){var e=false;t=t.trim();if(t.charAt(0)===":"&&t.charAt(1)===":"){e=true;t=t.substring(2)}return{ast:this.ast.ast(t),oneTime:e}}};function xi(t){return Dt(t.valueOf)?t.valueOf():ii.call(t)}function Ei(){var c=Xt();var h={true:true,false:false,null:null,undefined:undefined};var v,g;this.addLiteral=function(t,e){h[t]=e};this.setIdentifierFns=function(t,e){v=t;g=e;return this};this.$get=["$filter",function(o){var t=Y().noUnsafeEval;var s={csp:t,literals:W(h),isIdentifierStart:Dt(v)&&v,isIdentifierContinue:Dt(g)&&g};e.$$getAst=n;return e;function e(t,e){var n,r;switch(typeof t){case"string":t=t.trim();r=t;n=c[r];if(!n){var i=new ui(s);var a=new Ti(i,o,s);n=a.parse(t);c[r]=p(n)}return u(n,e);case"function":return u(t,e);default:return u(Ct,e)}}function n(t){var e=new ui(s);var n=new Ti(e,o,s);return n.getAst(t).ast}function f(t,e,n){if(t==null||e==null){return t===e}if(typeof t==="object"){t=xi(t);if(typeof t==="object"&&!n){return false}}return t===e||t!==t&&e!==e}function r(t,e,n,o,r){var s=o.inputs;var u;if(s.length===1){var i=f;s=s[0];return t.$watch(function t(e){var n=s(e);if(!f(n,i,s.isPure)){u=o(e,undefined,undefined,[n]);i=n&&xi(n)}return u},e,n,r)}var l=[];var c=[];for(var a=0,h=s.length;a<h;a++){l[a]=f;c[a]=null}return t.$watch(function t(e){var n=false;for(var r=0,i=s.length;r<i;r++){var a=s[r](e);if(n||(n=!f(a,l[r],s[r].isPure))){c[r]=a;l[r]=a&&xi(a)}}if(n){u=o(e,undefined,undefined,c)}return u},e,n,r)}function i(t,e,n,r,i){var a=r.literal?d:k;var o,s;var u=r.$$intercepted||r;var l=r.$$interceptor||Mt;var c=r.inputs&&!u.inputs;f.literal=r.literal;f.constant=r.constant;f.inputs=r.inputs;p(f);o=t.$watch(f,e,n,i);return o;function h(){if(a(s)){o()}}function f(t,e,n,r){s=c&&r?r[0]:u(t,e,n,r);if(a(s)){t.$$postDigest(h)}return l(s)}}function d(t){var e=true;Tt(t,function(t){if(!k(t))e=false});return e}function a(t,e,n,r){var i=t.$watch(function t(e){i();return r(e)},e,n);return i}function p(t){if(t.constant){t.$$watchDelegate=a}else if(t.oneTime){t.$$watchDelegate=i}else if(t.inputs){t.$$watchDelegate=r}return t}function l(e,n){function t(t){return n(e(t))}t.$stateful=e.$stateful||n.$stateful;t.$$pure=e.$$pure&&n.$$pure;return t}function u(o,s){if(!s)return o;if(o.$$interceptor){s=l(o.$$interceptor,s);o=o.$$intercepted}var u=false;var t=function t(e,n,r,i){var a=u&&i?i[0]:o(e,n,r,i);return s(a)};t.$$intercepted=o;t.$$interceptor=s;t.literal=o.literal;t.oneTime=o.oneTime;t.constant=o.constant;if(!s.$stateful){u=!o.inputs;t.inputs=o.inputs?o.inputs:[o];if(!s.$$pure){t.inputs=t.inputs.map(function(n){if(n.isPure===pi){return function t(e){return n(e)}}return n})}}return p(t)}}]}function Ci(){var n=true;this.$get=["$rootScope","$exceptionHandler",function(e,t){return ji(function(t){e.$evalAsync(t)},t,n)}];this.errorOnUnhandledRejections=function(t){if(k(t)){n=t;return this}else{return n}}}function Mi(){var n=true;this.$get=["$browser","$exceptionHandler",function(e,t){return ji(function(t){e.defer(t)},t,n)}];this.errorOnUnhandledRejections=function(t){if(k(t)){n=t;return this}else{return n}}}function ji(o,s,u){var i=N("$q",TypeError);var l=0;var n=[];function r(){return new t}function t(){var e=this.promise=new a;this.resolve=function(t){f(e,t)};this.reject=function(t){p(e,t)};this.notify=function(t){g(e,t)}}function a(){this.$$state={status:0}}xt(a.prototype,{then:function(t,e,n){if(jt(t)&&jt(e)&&jt(n)){return this}var r=new a;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([r,t,e,n]);if(this.$$state.status>0)h(this.$$state);return r},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return y(t,b,e)},function(t){return y(t,m,e)},t)}});function e(t){var e,n,r;r=t.pending;t.processScheduled=false;t.pending=undefined;try{for(var i=0,a=r.length;i<a;++i){ki(t);n=r[i][0];e=r[i][t.status];try{if(Dt(e)){f(n,e(t.value))}else if(t.status===1){f(n,t.value)}else{p(n,t.value)}}catch(t){p(n,t);if(t&&t.$$passToExceptionHandler===true){s(t)}}}}finally{--l;if(u&&l===0){o(c)}}}function c(){while(!l&&n.length){var t=n.shift();if(!Ai(t)){ki(t);var e="Possibly unhandled rejection: "+se(t.value);if(Rt(t.value)){s(t.value,e)}else{s(e)}}}}function h(t){if(u&&!t.pending&&t.status===2&&!Ai(t)){if(l===0&&n.length===0){o(c)}n.push(t)}if(t.processScheduled||!t.pending)return;t.processScheduled=true;++l;o(function(){e(t)})}function f(t,e){if(t.$$state.status)return;if(e===t){v(t,i("qcycle","Expected promise to be resolved with value other than itself '{0}'",e))}else{d(t,e)}}function d(e,t){var n;var r=false;try{if(At(t)||Dt(t))n=t.then;if(Dt(n)){e.$$state.status=-1;n.call(t,i,a,o)}else{e.$$state.value=t;e.$$state.status=1;h(e.$$state)}}catch(t){a(t)}function i(t){if(r)return;r=true;d(e,t)}function a(t){if(r)return;r=true;v(e,t)}function o(t){g(e,t)}}function p(t,e){if(t.$$state.status)return;v(t,e)}function v(t,e){t.$$state.value=e;t.$$state.status=2;h(t.$$state)}function g(t,i){var a=t.$$state.pending;if(t.$$state.status<=0&&a&&a.length){o(function(){var t,e;for(var n=0,r=a.length;n<r;n++){e=a[n][0];t=a[n][3];try{g(e,Dt(t)?t(i):i)}catch(t){s(t)}}})}}function m(t){var e=new a;p(e,t);return e}function y(t,e,n){var r=null;try{if(Dt(n))r=n()}catch(t){return m(t)}if(D(r)){return r.then(function(){return e(t)},m)}else{return e(t)}}function _(t,e,n,r){var i=new a;f(i,t);return i.then(e,n,r)}var b=_;function O(t){var n=new a,r=0,i=It(t)?[]:{};Tt(t,function(t,e){r++;_(t).then(function(t){i[e]=t;if(!--r)f(n,i)},function(t){p(n,t)})});if(r===0){f(n,i)}return n}function w(t){var e=r();Tt(t,function(t){_(t).then(e.resolve,e.reject)});return e.promise}function S(t){if(!Dt(t)){throw i("norslvr","Expected resolverFn, got '{0}'",t)}var e=new a;function n(t){f(e,t)}function r(t){p(e,t)}t(n,r);return e}S.prototype=a.prototype;S.defer=r;S.reject=m;S.when=_;S.resolve=b;S.all=O;S.race=w;return S}function Ai(t){return!!t.pur}function ki(t){t.pur=true}function Ii(t){ki(t.$$state)}function Ri(){this.$get=["$window","$timeout",function(t,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame;var i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;var e=!!r;var a=e?function(t){var e=r(t);return function(){i(e)}}:function(t){var e=n(t,16.66,false);return function(){n.cancel(e)}};a.supported=e;return a}]}function Di(){var E=10;var C=N("$rootScope");var M=null;var j=null;this.digestTtl=function(t){if(arguments.length){E=t}return E};function u(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=p();this.$$ChildScope=null;this.$$suspended=false}e.prototype=t;return e}this.$get=["$exceptionHandler","$parse","$browser",function(v,g,m){function r(t){t.currentScope.$$destroyed=true}function n(t){if(Ot===9){if(t.$$childHead){n(t.$$childHead)}if(t.$$nextSibling){n(t.$$nextSibling)}}t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function i(){this.$id=p();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$suspended=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}i.prototype={constructor:i,$new:function(t,e){var n;e=e||this;if(t){n=new i;n.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=u(this)}n=new this.$$ChildScope}n.$parent=e;n.$$prevSibling=e.$$childTail;if(e.$$childHead){e.$$childTail.$$nextSibling=n;e.$$childTail=n}else{e.$$childHead=e.$$childTail=n}if(t||e!==this)n.$on("$destroy",r);return n},$watch:function(t,e,n,r){var i=g(t);var a=Dt(e)?e:Ct;if(i.$$watchDelegate){return i.$$watchDelegate(this,a,n,i,t)}var o=this,s=o.$$watchers,u={fn:a,last:T,get:i,exp:r||t,eq:!!n};M=null;if(!s){s=o.$$watchers=[];s.$$digestWatchIndex=-1}s.unshift(u);s.$$digestWatchIndex++;l(this,1);return function t(){var e=Ft(s,u);if(e>=0){l(o,-1);if(e<s.$$digestWatchIndex){s.$$digestWatchIndex--}}M=null}},$watchGroup:function(e,i){var a=new Array(e.length);var o=new Array(e.length);var r=[];var s=this;var u=false;var n=true;if(!e.length){var l=true;s.$evalAsync(function(){if(l)i(o,o,s)});return function t(){l=false}}if(e.length===1){return this.$watch(e[0],function t(e,n,r){o[0]=e;a[0]=n;i(o,e===n?o:a,r)})}Tt(e,function(t,n){var e=s.$watch(t,function t(e){o[n]=e;if(!u){u=true;s.$evalAsync(c)}});r.push(e)});function c(){u=false;try{if(n){n=false;i(o,o,s)}else{i(o,a,s)}}finally{for(var t=0;t<e.length;t++){a[t]=o[t]}}}return function t(){while(r.length){r.shift()()}}},$watchCollection:function(t,n){d.$$pure=g(t).literal;d.$stateful=!d.$$pure;var r=this;var s;var u;var i;var a=n.length>1;var l=0;var e=g(t,d);var c=[];var h={};var o=true;var f=0;function d(t){s=t;var e,n,r,i,a;if(jt(s))return;if(!At(s)){if(u!==s){u=s;l++}}else if(L(s)){if(u!==c){u=c;f=u.length=0;l++}e=s.length;if(f!==e){l++;u.length=f=e}for(var o=0;o<e;o++){a=u[o];i=s[o];r=a!==a&&i!==i;if(!r&&a!==i){l++;u[o]=i}}}else{if(u!==h){u=h={};f=0;l++}e=0;for(n in s){if(_t.call(s,n)){e++;i=s[n];a=u[n];if(n in u){r=a!==a&&i!==i;if(!r&&a!==i){l++;u[n]=i}}else{f++;u[n]=i;l++}}}if(f>e){l++;for(n in u){if(!_t.call(s,n)){f--;delete u[n]}}}}return l}function p(){if(o){o=false;n(s,s,r)}else{n(s,i,r)}if(a){if(!At(s)){i=s}else if(L(s)){i=new Array(s.length);for(var t=0;t<s.length;t++){i[t]=s[t]}}else{i={};for(var e in s){if(_t.call(s,e)){i[e]=s[e]}}}}}return this.$watch(e,p)},$digest:function(){var t,e,n,r,i,a,o,s=E,u,l,c=_.length?y:this,h=[],f,d;w("$digest");m.$$checkUrlChange();if(this===y&&j!==null){m.defer.cancel(j);x()}M=null;do{o=false;l=c;for(var p=0;p<_.length;p++){try{d=_[p];r=d.fn;r(d.scope,d.locals)}catch(t){v(t)}M=null}_.length=0;t:do{if(a=!l.$$suspended&&l.$$watchers){a.$$digestWatchIndex=a.length;while(a.$$digestWatchIndex--){try{t=a[a.$$digestWatchIndex];if(t){i=t.get;if((e=i(l))!==(n=t.last)&&!(t.eq?Ht(e,n):A(e)&&A(n))){o=true;M=t;t.last=t.eq?W(e,null):e;r=t.fn;r(e,n===T?e:n,l);if(s<5){f=4-s;if(!h[f])h[f]=[];h[f].push({msg:Dt(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n})}}else if(t===M){o=false;break t}}}catch(t){v(t)}}}if(!(u=!l.$$suspended&&l.$$watchersCount&&l.$$childHead||l!==c&&l.$$nextSibling)){while(l!==c&&!(u=l.$$nextSibling)){l=l.$parent}}}while(l=u);if((o||_.length)&&!s--){S();throw C("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",E,h)}}while(o||_.length);S();while(O<b.length){try{b[O++]()}catch(t){v(t)}}b.length=O=0;m.$$checkUrlChange()},$suspend:function(){this.$$suspended=true},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=false},$destroy:function(){if(this.$$destroyed)return;var t=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===y){m.$$applicationDestroyed()}l(this,-this.$$watchersCount);for(var e in this.$$listenerCount){o(this,this.$$listenerCount[e],e)}if(t&&t.$$childHead===this)t.$$childHead=this.$$nextSibling;if(t&&t.$$childTail===this)t.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=Ct;this.$on=this.$watch=this.$watchGroup=function(){return Ct};this.$$listeners={};this.$$nextSibling=null;n(this)},$eval:function(t,e){return g(t)(this,e)},$evalAsync:function(t,e){if(!y.$$phase&&!_.length){m.defer(function(){if(_.length){y.$digest()}},null,"$evalAsync")}_.push({scope:this,fn:g(t),locals:e})},$$postDigest:function(t){b.push(t)},$apply:function(t){try{w("$apply");try{return this.$eval(t)}finally{S()}}catch(t){v(t)}finally{try{y.$digest()}catch(t){v(t);throw t}}},$applyAsync:function(t){var e=this;if(t){a.push(n)}t=g(t);s();function n(){e.$eval(t)}},$on:function(e,n){var r=this.$$listeners[e];if(!r){this.$$listeners[e]=r=[]}r.push(n);var t=this;do{if(!t.$$listenerCount[e]){t.$$listenerCount[e]=0}t.$$listenerCount[e]++}while(t=t.$parent);var i=this;return function(){var t=r.indexOf(n);if(t!==-1){delete r[t];o(i,1,e)}}},$emit:function(t,e){var n=[],r,i=this,a=false,o={name:t,targetScope:i,stopPropagation:function(){a=true},preventDefault:function(){o.defaultPrevented=true},defaultPrevented:false},s=z([o],arguments,1),u,l;do{r=i.$$listeners[t]||n;o.currentScope=i;for(u=0,l=r.length;u<l;u++){if(!r[u]){r.splice(u,1);u--;l--;continue}try{r[u].apply(null,s)}catch(t){v(t)}}if(a){break}i=i.$parent}while(i);o.currentScope=null;return o},$broadcast:function(t,e){var n=this,r=n,i=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=true},defaultPrevented:false};if(!n.$$listenerCount[t])return a;var o=z([a],arguments,1),s,u,l;while(r=i){a.currentScope=r;s=r.$$listeners[t]||[];for(u=0,l=s.length;u<l;u++){if(!s[u]){s.splice(u,1);u--;l--;continue}try{s[u].apply(null,o)}catch(t){v(t)}}if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling)){while(r!==n&&!(i=r.$$nextSibling)){r=r.$parent}}}a.currentScope=null;return a}};var y=new i;var _=y.$$asyncQueue=[];var b=y.$$postDigestQueue=[];var a=y.$$applyAsyncQueue=[];var O=0;return y;function w(t){if(y.$$phase){throw C("inprog","{0} already in progress",y.$$phase)}y.$$phase=t}function S(){y.$$phase=null}function l(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function o(t,e,n){do{t.$$listenerCount[n]-=e;if(t.$$listenerCount[n]===0){delete t.$$listenerCount[n]}}while(t=t.$parent)}function T(){}function x(){while(a.length){try{a.shift()()}catch(t){v(t)}}j=null}function s(){if(j===null){j=m.defer(function(){y.$apply(x)},null,"$applyAsync")}}}]}function Pi(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){if(k(t)){a=t;return this}return a};this.imgSrcSanitizationWhitelist=function(t){if(k(t)){o=t;return this}return o};this.$get=function(){return function t(e,n){var r=n?o:a;var i=ea(e&&e.trim()).href;if(i!==""&&!i.match(r)){return"unsafe:"+i}return e}}}var Ni=N("$sce");var Li={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var $i=/_([a-z])/g;function Fi(t){return t.replace($i,ye)}function Gi(t){if(t==="self"){return t}else if(kt(t)){if(t.indexOf("***")>-1){throw Ni("iwcard","Illegal sequence *** in string matcher.  String: {0}",t)}t=G(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+t+"$")}else if(x(t)){return new RegExp("^"+t.source+"$")}else{throw Ni("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Hi(t){var e=[];if(k(t)){Tt(t,function(t){e.push(Gi(t))})}return e}function Ui(){this.SCE_CONTEXTS=Li;var h=["self"],f=[];this.resourceUrlWhitelist=function(t){if(arguments.length){h=Hi(t)}return h};this.resourceUrlBlacklist=function(t){if(arguments.length){f=Hi(t)}return f};this.$get=["$injector","$$sanitizeUri",function(t,r){var i=function t(e){throw Ni("unsafe","Attempting to use an unsafe value in a safe context.")};if(t.has("$sanitize")){i=t.get("$sanitize")}function a(t,e){if(t==="self"){return na(e)||ra(e)}else{return!!t.exec(e.href)}}function o(t){var e=ea(t.toString());var n,r,i=false;for(n=0,r=h.length;n<r;n++){if(a(h[n],e)){i=true;break}}if(i){for(n=0,r=f.length;n<r;n++){if(a(f[n],e)){i=false;break}}}return i}function e(t){var e=function t(e){this.$$unwrapTrustedValue=function(){return e}};if(t){e.prototype=new t}e.prototype.valueOf=function t(){return this.$$unwrapTrustedValue()};e.prototype.toString=function t(){return this.$$unwrapTrustedValue().toString()};return e}var n=e(),s={};s[Li.HTML]=e(n);s[Li.CSS]=e(n);s[Li.MEDIA_URL]=e(n);s[Li.URL]=e(s[Li.MEDIA_URL]);s[Li.JS]=e(n);s[Li.RESOURCE_URL]=e(s[Li.URL]);function u(t,e){var n=s.hasOwnProperty(t)?s[t]:null;if(!n){throw Ni("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e)}if(e===null||jt(e)||e===""){return e}if(typeof e!=="string"){throw Ni("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t)}return new n(e)}function l(t){if(t instanceof n){return t.$$unwrapTrustedValue()}else{return t}}function c(t,e){if(e===null||jt(e)||e===""){return e}var n=s.hasOwnProperty(t)?s[t]:null;if(n&&e instanceof n){return e.$$unwrapTrustedValue()}if(Dt(e.$$unwrapTrustedValue)){e=e.$$unwrapTrustedValue()}if(t===Li.MEDIA_URL||t===Li.URL){return r(e.toString(),t===Li.MEDIA_URL)}else if(t===Li.RESOURCE_URL){if(o(e)){return e}else{throw Ni("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}}else if(t===Li.HTML){return i(e)}throw Ni("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:u,getTrusted:c,valueOf:l}}]}function Wi(){var e=true;this.enabled=function(t){if(arguments.length){e=!!t}return e};this.$get=["$parse","$sceDelegate",function(i,t){if(e&&Ot<8){throw Ni("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var a=ae(Li);a.isEnabled=function(){return e};a.trustAs=t.trustAs;a.getTrusted=t.getTrusted;a.valueOf=t.valueOf;if(!e){a.trustAs=a.getTrusted=function(t,e){return e};a.valueOf=Mt}a.parseAs=function t(e,n){var r=i(n);if(r.literal&&r.constant){return r}else{return i(n,function(t){return a.getTrusted(e,t)})}};var r=a.parseAs,o=a.getTrusted,s=a.trustAs;Tt(Li,function(e,t){var n=bt(t);a[Fi("parse_as_"+n)]=function(t){return r(e,t)};a[Fi("get_trusted_"+n)]=function(t){return o(e,t)};a[Fi("trust_as_"+n)]=function(t){return s(e,t)}});return a}]}function Yi(){this.$get=["$window","$document",function(t,e){var n={},r=t.nw&&t.nw.process,i=!r&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),a=!i&&t.history&&t.history.pushState,o=m((/android (\d+)/.exec(bt((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},l=u.body&&u.body.style,c=false,h=false;if(l){c=!!("transition"in l||"webkitTransition"in l);h=!!("animation"in l||"webkitAnimation"in l)}return{history:!!(a&&!(o<4)&&!s),hasEvent:function(t){if(t==="input"&&Ot)return false;if(jt(n[t])){var e=u.createElement("div");n[t]="on"+t in e}return n[t]},csp:Y(),transitions:c,animations:h,android:o}}]}function Vi(){this.$get=j(function(t){return new qi(t)})}function qi(o){var t=this;var s={};var r=[];var u=t.ALL_TASKS_TYPE="$$all$$";var l=t.DEFAULT_TASK_TYPE="$$default$$";t.completeTask=e;t.incTaskCount=n;t.notifyWhenNoPendingTasks=i;function e(t,e){e=e||l;try{t()}finally{c(e);var n=s[e];var r=s[u];if(!r||!n){var i=!r?h:f;var a;while(a=i(e)){try{a()}catch(t){o.error(t)}}}}}function c(t){t=t||l;if(s[t]){s[t]--;s[u]--}}function h(){var t=r.pop();return t&&t.cb}function f(t){for(var e=r.length-1;e>=0;--e){var n=r[e];if(n.type===t){r.splice(e,1);return n.cb}}}function n(t){t=t||l;s[t]=(s[t]||0)+1;s[u]=(s[u]||0)+1}function i(t,e){e=e||u;if(!s[e]){t()}else{r.push({type:e,cb:t})}}}var zi=N("$templateRequest");function Bi(){var c;this.httpOptions=function(t){if(t){c=t;return this}return c};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(i,a,o,s,u){function l(e,n){l.totalPendingRequests++;if(!kt(e)||jt(a.get(e))){e=u.getTrustedResourceUrl(e)}var t=o.defaults&&o.defaults.transformResponse;if(It(t)){t=t.filter(function(t){return t!==_r})}else if(t===_r){t=null}return o.get(e,xt({cache:a,transformResponse:t},c)).finally(function(){l.totalPendingRequests--}).then(function(t){return a.put(e,t.data)},r);function r(t){if(!n){t=zi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",e,t.status,t.statusText);i(t)}return s.reject(t)}}l.totalPendingRequests=0;return l}]}function Ki(){this.$get=["$rootScope","$browser","$location",function(e,n,r){var t={};t.findBindings=function(t,r,i){var e=t.getElementsByClassName("ng-binding");var a=[];Tt(e,function(n){var t=w.element(n).data("$binding");if(t){Tt(t,function(t){if(i){var e=new RegExp("(^|\\s)"+G(r)+"(\\s|\\||$)");if(e.test(t)){a.push(n)}}else{if(t.indexOf(r)!==-1){a.push(n)}}})}});return a};t.findModels=function(t,e,n){var r=["ng-","data-ng-","ng\\:"];for(var i=0;i<r.length;++i){var a=n?"=":"*=";var o="["+r[i]+"model"+a+'"'+e+'"]';var s=t.querySelectorAll(o);if(s.length){return s}}};t.getLocation=function(){return r.url()};t.setLocation=function(t){if(t!==r.url()){r.url(t);e.$digest()}};t.whenStable=function(t){n.notifyWhenNoOutstandingRequests(t)};return t}]}var Xi=N("$timeout");function Zi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(u,l,c,h,f){var d={};function t(t,e,n){if(!Dt(t)){n=e;e=t;t=Ct}var r=Ut(arguments,3),i=k(n)&&!n,a=(i?h:c).defer(),o=a.promise,s;s=l.defer(function(){try{a.resolve(t.apply(null,r))}catch(t){a.reject(t);f(t)}finally{delete d[o.$$timeoutId]}if(!i)u.$apply()},e,"$timeout");o.$$timeoutId=s;d[s]=a;return o}t.cancel=function(t){if(!t)return false;if(!t.hasOwnProperty("$$timeoutId")){throw Xi("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")}if(!d.hasOwnProperty(t.$$timeoutId))return false;var e=t.$$timeoutId;var n=d[e];Ii(n.promise);n.reject("canceled");delete d[e];return l.defer.cancel(e)};return t}]}var Qi=yt.document.createElement("a");var Ji=ea(yt.location.href);var ta;function ea(t){if(!kt(t))return t;var e=t;if(Ot){Qi.setAttribute("href",e);e=Qi.href}Qi.setAttribute("href",e);return{href:Qi.href,protocol:Qi.protocol?Qi.protocol.replace(/:$/,""):"",host:Qi.host,search:Qi.search?Qi.search.replace(/^\?/,""):"",hash:Qi.hash?Qi.hash.replace(/^#/,""):"",hostname:Qi.hostname,port:Qi.port,pathname:Qi.pathname.charAt(0)==="/"?Qi.pathname:"/"+Qi.pathname}}function na(t){return aa(t,Ji)}function ra(t){return aa(t,oa())}function ia(t){var r=[Ji].concat(t.map(ea));return function t(e){var n=ea(e);return r.some(aa.bind(null,n))}}function aa(t,e){t=ea(t);e=ea(e);return t.protocol===e.protocol&&t.host===e.host}function oa(){if(yt.document.baseURI){return yt.document.baseURI}if(!ta){ta=yt.document.createElement("a");ta.href=".";ta=ta.cloneNode(false)}return ta.href}function sa(){this.$get=j(yt)}function ua(t){var o=t[0]||{};var s={};var u="";function l(t){try{return t.cookie||""}catch(t){return""}}function c(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var t,e,n,r,i;var a=l(o);if(a!==u){u=a;t=u.split("; ");s={};for(n=0;n<t.length;n++){e=t[n];r=e.indexOf("=");if(r>0){i=c(e.substring(0,r));if(jt(s[i])){s[i]=c(e.substring(r+1))}}}}return s}}ua.$inject=["$document"];function la(){this.$get=ua}ca.$inject=["$provide"];function ca(r){var i="Filter";function a(t,e){if(At(t)){var n={};Tt(t,function(t,e){n[e]=a(e,t)});return n}else{return r.factory(t+i,e)}}this.register=a;this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}];a("currency",ya);a("date",Na);a("filter",ha);a("json",La);a("limitTo",Ga);a("lowercase",$a);a("number",_a);a("orderBy",Ua);a("uppercase",Fa)}function ha(){return function(t,e,n,r){if(!L(t)){if(t==null){return t}else{throw N("filter")("notarray","Expected array but received: {0}",t)}}r=r||"$";var i=pa(e);var a;var o;switch(i){case"function":a=e;break;case"boolean":case"null":case"number":case"string":o=true;case"object":a=fa(e,n,r,o);break;default:return t}return Array.prototype.filter.call(t,a)}}function fa(e,n,r,i){var a=At(e)&&r in e;var t;if(n===true){n=Ht}else if(!Dt(n)){n=function(t,e){if(jt(t)){return false}if(t===null||e===null){return t===e}if(At(e)||At(t)&&!y(t)){return false}t=bt(""+t);e=bt(""+e);return t.indexOf(e)!==-1}}t=function(t){if(a&&!At(t)){return da(t,e[r],n,r,false)}return da(t,e,n,r,i)};return t}function da(t,e,n,r,i,a){var o=pa(t);var s=pa(e);if(s==="string"&&e.charAt(0)==="!"){return!da(t,e.substring(1),n,r,i)}else if(It(t)){return t.some(function(t){return da(t,e,n,r,i)})}switch(o){case"object":var u;if(i){for(u in t){if(u.charAt&&u.charAt(0)!=="$"&&da(t[u],e,n,r,true)){return true}}return a?false:da(t,e,n,r,false)}else if(s==="object"){for(u in e){var l=e[u];if(Dt(l)||jt(l)){continue}var c=u===r;var h=c?t:t[u];if(!da(h,l,n,r,c,c)){return false}}return true}else{return n(t,e)}case"function":return false;default:return n(t,e)}}function pa(t){return t===null?"null":typeof t}var va=22;var ga=".";var ma="0";ya.$inject=["$locale"];function ya(t){var i=t.NUMBER_FORMATS;return function(t,e,n){if(jt(e)){e=i.CURRENCY_SYM}if(jt(n)){n=i.PATTERNS[1].maxFrac}var r=!e?/\s*\u00A4\s*/g:/\u00A4/g;return t==null?t:wa(t,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(r,e)}}_a.$inject=["$locale"];function _a(t){var n=t.NUMBER_FORMATS;return function(t,e){return t==null?t:wa(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function ba(t){var e=0,n,r;var i,a,o;if((r=t.indexOf(ga))>-1){t=t.replace(ga,"")}if((i=t.search(/e/i))>0){if(r<0)r=i;r+=+t.slice(i+1);t=t.substring(0,i)}else if(r<0){r=t.length}for(i=0;t.charAt(i)===ma;i++){}if(i===(o=t.length)){n=[0];r=1}else{o--;while(t.charAt(o)===ma)o--;r-=i;n=[];for(a=0;i<=o;i++,a++){n[a]=+t.charAt(i)}}if(r>va){n=n.splice(0,va-1);e=r-1;r=1}return{d:n,e:e,i:r}}function Oa(t,e,n,r){var i=t.d;var a=i.length-t.i;e=jt(e)?Math.min(Math.max(n,a),r):+e;var o=e+t.i;var s=i[o];if(o>0){i.splice(Math.max(t.i,o));for(var u=o;u<i.length;u++){i[u]=0}}else{a=Math.max(0,a);t.i=1;i.length=Math.max(1,o=e+1);i[0]=0;for(var l=1;l<o;l++)i[l]=0}if(s>=5){if(o-1<0){for(var c=0;c>o;c--){i.unshift(0);t.i++}i.unshift(1);t.i++}else{i[o-1]++}}for(;a<Math.max(0,e);a++)i.push(0);var h=i.reduceRight(function(t,e,n,r){e=e+t;r[n]=e%10;return Math.floor(e/10)},0);if(h){i.unshift(h);t.i++}}function wa(t,e,n,r,i){if(!(kt(t)||b(t))||isNaN(t))return"";var a=!isFinite(t);var o=false;var s=Math.abs(t)+"",u="",l;if(a){u="∞"}else{l=ba(s);Oa(l,i,e.minFrac,e.maxFrac);var c=l.d;var h=l.i;var f=l.e;var d=[];o=c.reduce(function(t,e){return t&&!e},true);while(h<0){c.unshift(0);h++}if(h>0){d=c.splice(h,c.length)}else{d=c;c=[0]}var p=[];if(c.length>=e.lgSize){p.unshift(c.splice(-e.lgSize,c.length).join(""))}while(c.length>e.gSize){p.unshift(c.splice(-e.gSize,c.length).join(""))}if(c.length){p.unshift(c.join(""))}u=p.join(n);if(d.length){u+=r+d.join("")}if(f){u+="e+"+f}}if(t<0&&!o){return e.negPre+u+e.negSuf}else{return e.posPre+u+e.posSuf}}function Sa(t,e,n,r){var i="";if(t<0||r&&t<=0){if(r){t=-t+1}else{t=-t;i="-"}}t=""+t;while(t.length<e)t=ma+t;if(n){t=t.substr(t.length-e)}return i+t}function Ta(n,r,i,a,o){i=i||0;return function(t){var e=t["get"+n]();if(i>0||e>-i){e+=i}if(e===0&&i===-12)e=12;return Sa(e,r,a,o)}}function xa(a,o,s){return function(t,e){var n=t["get"+a]();var r=(s?"STANDALONE":"")+(o?"SHORT":"");var i=C(r+a);return e[i][n]}}function Ea(t,e,n){var r=-1*n;var i=r>=0?"+":"";i+=Sa(Math[r>0?"floor":"ceil"](r/60),2)+Sa(Math.abs(r%60),2);return i}function Ca(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Ma(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ja(a){return function(t){var e=Ca(t.getFullYear()),n=Ma(t);var r=+n-+e,i=1+Math.round(r/6048e5);return Sa(i,a)}}function Aa(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ka(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Ia(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}var Ra={yyyy:Ta("FullYear",4,0,false,true),yy:Ta("FullYear",2,0,true,true),y:Ta("FullYear",1,0,false,true),MMMM:xa("Month"),MMM:xa("Month",true),MM:Ta("Month",2,1),M:Ta("Month",1,1),LLLL:xa("Month",false,true),dd:Ta("Date",2),d:Ta("Date",1),HH:Ta("Hours",2),H:Ta("Hours",1),hh:Ta("Hours",2,-12),h:Ta("Hours",1,-12),mm:Ta("Minutes",2),m:Ta("Minutes",1),ss:Ta("Seconds",2),s:Ta("Seconds",1),sss:Ta("Milliseconds",3),EEEE:xa("Day"),EEE:xa("Day",true),a:Aa,Z:Ea,ww:ja(2),w:ja(1),G:ka,GG:ka,GGG:ka,GGGG:Ia};var Da=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Pa=/^-?\d+$/;Na.$inject=["$locale"];function Na(u){var h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function l(t){var e;if(e=t.match(h)){var n=new Date(0),r=0,i=0,a=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;if(e[9]){r=m(e[9]+e[10]);i=m(e[9]+e[11])}a.call(n,m(e[1]),m(e[2])-1,m(e[3]));var s=m(e[4]||0)-r;var u=m(e[5]||0)-i;var l=m(e[6]||0);var c=Math.round(parseFloat("0."+(e[7]||0))*1e3);o.call(n,s,u,l,c);return n}return t}return function(e,t,n){var r="",i=[],a,o;t=t||"mediumDate";t=u.DATETIME_FORMATS[t]||t;if(kt(e)){e=Pa.test(e)?m(e):l(e)}if(b(e)){e=new Date(e)}if(!O(e)||!isFinite(e.getTime())){return e}while(t){o=Da.exec(t);if(o){i=z(i,o,1);t=i.pop()}else{i.push(t);t=null}}var s=e.getTimezoneOffset();if(n){s=Q(n,s);e=tt(e,n,true)}Tt(i,function(t){a=Ra[t];r+=a?a(e,u.DATETIME_FORMATS,s):t==="''"?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return r}}function La(){return function(t,e){if(jt(e)){e=2}return K(t,e)}}var $a=j(bt);var Fa=j(C);function Ga(){return function(t,e,n){if(Math.abs(Number(e))===Infinity){e=Number(e)}else{e=m(e)}if(A(e))return t;if(b(t))t=t.toString();if(!L(t))return t;n=!n||isNaN(n)?0:m(n);n=n<0?Math.max(0,t.length+n):n;if(e>=0){return Ha(t,n,n+e)}else{if(n===0){return Ha(t,e,t.length)}else{return Ha(t,Math.max(0,n+e),n)}}}}function Ha(t,e,n){if(kt(t))return t.slice(e,n);return o.call(t,e,n)}Ua.$inject=["$parse"];function Ua(i){return function(t,e,n,r){if(t==null)return t;if(!L(t)){throw N("orderBy")("notarray","Expected array but received: {0}",t)}if(!It(e)){e=[e]}if(e.length===0){e=["+"]}var a=c(e);var o=n?-1:1;var s=Dt(r)?r:f;var i=Array.prototype.map.call(t,u);i.sort(l);t=i.map(function(t){return t.value});return t;function u(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:a.map(function(t){return h(t.get(e),n)})}}function l(t,e){for(var n=0,r=a.length;n<r;n++){var i=s(t.predicateValues[n],e.predicateValues[n]);if(i){return i*a[n].descending*o}}return(s(t.tieBreaker,e.tieBreaker)||f(t.tieBreaker,e.tieBreaker))*o}};function c(t){return t.map(function(t){var e=1,n=Mt;if(Dt(t)){n=t}else if(kt(t)){if(t.charAt(0)==="+"||t.charAt(0)==="-"){e=t.charAt(0)==="-"?-1:1;t=t.substring(1)}if(t!==""){n=i(t);if(n.constant){var r=n();n=function(t){return t[r]}}}}return{get:n,descending:e}})}function e(t){switch(typeof t){case"number":case"boolean":case"string":return true;default:return false}}function r(t){if(Dt(t.valueOf)){t=t.valueOf();if(e(t))return t}if(y(t)){t=t.toString();if(e(t))return t}return t}function h(t,e){var n=typeof t;if(t===null){n="null"}else if(n==="object"){t=r(t)}return{value:t,type:n,index:e}}function f(t,e){var n=0;var r=t.type;var i=e.type;if(r===i){var a=t.value;var o=e.value;if(r==="string"){a=a.toLowerCase();o=o.toLowerCase()}else if(r==="object"){if(At(a))a=t.index;if(At(o))o=e.index}if(a!==o){n=a<o?-1:1}}else{n=r==="undefined"?1:i==="undefined"?-1:r==="null"?1:i==="null"?-1:r<i?-1:1}return n}}function Wa(t){if(Dt(t)){t={link:t}}t.restrict=t.restrict||"AC";return j(t)}var Ya=j({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref){return function(t,e){if(e[0].nodeName.toLowerCase()!=="a")return;var n=St.call(e.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";e.on("click",function(t){if(!e.attr(n)){t.preventDefault()}})}}}});var Va={};Tt(Qe,function(t,r){if(t==="multiple")return;function i(t,e,n){t.$watch(n[a],function t(e){n.$set(r,!!e)})}var a=Zn("ng-"+r);var e=i;if(t==="checked"){e=function(t,e,n){if(n.ngModel!==n[a]){i(t,e,n)}}}Va[a]=function(){return{restrict:"A",priority:100,link:e}}});Tt(tn,function(t,i){Va[i]=function(){return{priority:100,link:function(t,e,n){if(i==="ngPattern"&&n.ngPattern.charAt(0)==="/"){var r=n.ngPattern.match(a);if(r){n.$set("ngPattern",new RegExp(r[1],r[2]));return}}t.$watch(n[i],function t(e){n.$set(i,e)})}}}});Tt(["src","srcset","href"],function(a){var o=Zn("ng-"+a);Va[o]=function(){return{priority:99,link:function(t,e,n){var r=a,i=a;if(a==="href"&&St.call(e.prop("href"))==="[object SVGAnimatedString]"){i="xlinkHref";n.$attr[i]="xlink:href";r=null}n.$observe(o,function(t){if(!t){if(a==="href"){n.$set(i,null)}return}n.$set(i,t);if(Ot&&r)e.prop(r,n[i])})}}}});var qa={$addControl:Ct,$getControls:j([]),$$renameControl:Ka,$removeControl:Ct,$setValidity:Ct,$setDirty:Ct,$setPristine:Ct,$setSubmitted:Ct,$$setSubmitted:Ct},za="ng-pending",Ba="ng-submitted";function Ka(t,e){t.$name=e}Xa.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function Xa(t,e,n,r,i){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=i(e.name||e.ngForm||"")(n);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=qa;this.$$element=t;this.$$animate=r;to(this)}Xa.prototype={$rollbackViewValue:function(){Tt(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){Tt(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){zt(t.$name,"input");this.$$controls.push(t);if(t.$name){this[t.$name]=t}t.$$parentForm=this},$getControls:function(){return ae(this.$$controls)},$$renameControl:function(t,e){var n=t.$name;if(this[n]===t){delete this[n]}this[e]=t;t.$name=e},$removeControl:function(n){if(n.$name&&this[n.$name]===n){delete this[n.$name]}Tt(this.$pending,function(t,e){this.$setValidity(e,null,n)},this);Tt(this.$error,function(t,e){this.$setValidity(e,null,n)},this);Tt(this.$$success,function(t,e){this.$setValidity(e,null,n)},this);Ft(this.$$controls,n);n.$$parentForm=qa},$setDirty:function(){this.$$animate.removeClass(this.$$element,is);this.$$animate.addClass(this.$$element,as);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,is,as+" "+Ba);this.$dirty=false;this.$pristine=true;this.$submitted=false;Tt(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){Tt(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){var t=this;while(t.$$parentForm&&t.$$parentForm!==qa){t=t.$$parentForm}t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ba);this.$submitted=true;Tt(this.$$controls,function(t){if(t.$$setSubmitted){t.$$setSubmitted()}})}};eo({clazz:Xa,set:function(t,e,n){var r=t[e];if(!r){t[e]=[n]}else{var i=r.indexOf(n);if(i===-1){r.push(n)}}},unset:function(t,e,n){var r=t[e];if(!r){return}Ft(r,n);if(r.length===0){delete t[e]}}});var Za=function(r){return["$timeout","$parse",function(c,e){var t={name:"form",restrict:r?"EAC":"E",require:["form","^^?form"],controller:Xa,compile:function t(e,n){e.addClass(is).addClass(ns);var l=n.name?"name":r&&n.ngForm?"ngForm":false;return{pre:function t(e,n,r,i){var a=i[0];if(!("action"in r)){var o=function(t){e.$apply(function(){a.$commitViewValue();a.$setSubmitted()});t.preventDefault()};n[0].addEventListener("submit",o);n.on("$destroy",function(){c(function(){n[0].removeEventListener("submit",o)},0,false)})}var s=i[1]||a.$$parentForm;s.$addControl(a);var u=l?h(a.$name):Ct;if(l){u(e,a);r.$observe(l,function(t){if(a.$name===t)return;u(e,undefined);a.$$parentForm.$$renameControl(a,t);u=h(a.$name);u(e,a)})}n.on("$destroy",function(){a.$$parentForm.$removeControl(a);u(e,undefined);xt(a,qa)})}}}};return t;function h(t){if(t===""){return e('this[""]').assign}return e(t).assign||Ct}}]};var Qa=Za();var Ja=Za(true);function to(t){t.$$classCache={};t.$$classCache[rs]=!(t.$$classCache[ns]=t.$$element.hasClass(ns))}function eo(t){var e=t.clazz,i=t.set,a=t.unset;e.prototype.$setValidity=function(t,e,n){if(jt(e)){o(this,"$pending",t,n)}else{s(this,"$pending",t,n)}if(!Nt(e)){a(this.$error,t,n);a(this.$$success,t,n)}else{if(e){a(this.$error,t,n);i(this.$$success,t,n)}else{i(this.$error,t,n);a(this.$$success,t,n)}}if(this.$pending){u(this,za,true);this.$valid=this.$invalid=undefined;l(this,"",null)}else{u(this,za,false);this.$valid=no(this.$error);this.$invalid=!this.$valid;l(this,"",this.$valid)}var r;if(this.$pending&&this.$pending[t]){r=undefined}else if(this.$error[t]){r=false}else if(this.$$success[t]){r=true}else{r=null}l(this,t,r);this.$$parentForm.$setValidity(t,r,this)};function o(t,e,n,r){if(!t[e]){t[e]={}}i(t[e],n,r)}function s(t,e,n,r){if(t[e]){a(t[e],n,r)}if(no(t[e])){t[e]=undefined}}function u(t,e,n){if(n&&!t.$$classCache[e]){t.$$animate.addClass(t.$$element,e);t.$$classCache[e]=true}else if(!n&&t.$$classCache[e]){t.$$animate.removeClass(t.$$element,e);t.$$classCache[e]=false}}function l(t,e,n){e=e?"-"+Vt(e,"-"):"";u(t,ns+e,n===true);u(t,rs+e,n===false)}}function no(t){if(t){for(var e in t){if(t.hasOwnProperty(e)){return false}}}return true}var ro=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var io=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var ao=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var oo=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var so=/^(\d{4,})-(\d{2})-(\d{2})$/;var uo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var lo=/^(\d{4,})-W(\d\d)$/;var co=/^(\d{4,})-(\d\d)$/;var ho=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var fo="keydown wheel mousedown";var po=Xt();Tt("date,datetime-local,month,time,week".split(","),function(t){po[t]=true});var vo={text:mo,date:Oo("date",so,bo(so,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Oo("datetimelocal",uo,bo(uo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Oo("time",ho,bo(ho,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Oo("week",lo,_o,"yyyy-Www"),month:Oo("month",co,bo(co,["yyyy","MM"]),"yyyy-MM"),number:Mo,url:Ao,email:ko,radio:Io,range:jo,checkbox:Do,hidden:Ct,button:Ct,submit:Ct,reset:Ct,file:Ct};function go(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function mo(t,e,n,r,i,a){yo(t,e,n,r,i,a);go(r)}function yo(t,r,i,a,e,o){var s=bt(r[0].type);if(!e.android){var u=false;r.on("compositionstart",function(){u=true});r.on("compositionupdate",function(t){if(jt(t.data)||t.data===""){u=false}});r.on("compositionend",function(){u=false;c()})}var l;var c=function(t){if(l){o.defer.cancel(l);l=null}if(u)return;var e=r.val(),n=t&&t.type;if(s!=="password"&&(!i.ngTrim||i.ngTrim!=="false")){e=Lt(e)}if(a.$viewValue!==e||e===""&&a.$$hasNativeValidators){a.$setViewValue(e,n)}};if(e.hasEvent("input")){r.on("input",c)}else{var n=function(t,e,n){if(!l){l=o.defer(function(){l=null;if(!e||e.value!==n){c(t)}})}};r.on("keydown",function(t){var e=t.keyCode;if(e===91||15<e&&e<19||37<=e&&e<=40)return;n(t,this,this.value)});if(e.hasEvent("paste")){r.on("paste cut drop",n)}}r.on("change",c);if(po[s]&&a.$$hasNativeValidators&&s===i.type){r.on(fo,function(t){if(!l){var e=this[h];var n=e.badInput;var r=e.typeMismatch;l=o.defer(function(){l=null;if(e.badInput!==n||e.typeMismatch!==r){c(t)}})}})}a.$render=function(){var t=a.$isEmpty(a.$viewValue)?"":a.$viewValue;if(r.val()!==t){r.val(t)}}}function _o(t,e){if(O(t)){return t}if(kt(t)){lo.lastIndex=0;var n=lo.exec(t);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,u=0,l=Ca(r),c=(i-1)*7;if(e){a=e.getHours();o=e.getMinutes();s=e.getSeconds();u=e.getMilliseconds()}return new Date(r,0,l.getDate()+c,a,o,s,u)}}return NaN}function bo(a,o){return function(t,e){var n,r;if(O(t)){return t}if(kt(t)){if(t.charAt(0)==='"'&&t.charAt(t.length-1)==='"'){t=t.substring(1,t.length-1)}if(ro.test(t)){return new Date(t)}a.lastIndex=0;n=a.exec(t);if(n){n.shift();if(e){r={yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}}else{r={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}Tt(n,function(t,e){if(e<o.length){r[o[e]]=+t}});var i=new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,r.sss*1e3||0);if(r.yyyy<100){i.setFullYear(r.yyyy)}return i}}return NaN}}function Oo(m,y,_,b){return function t(e,n,r,i,a,o,s){wo(e,n,r,i,m);yo(e,n,r,i,a,o);var u=m==="time"||m==="datetimelocal";var l;var c;i.$parsers.push(function(t){if(i.$isEmpty(t))return null;if(y.test(t)){return v(t,l)}i.$$parserName=m;return undefined});i.$formatters.push(function(t){if(t&&!O(t)){throw cs("datefmt","Expected `{0}` to be a date",t)}if(d(t)){l=t;var e=i.$options.getOption("timezone");if(e){c=e;l=tt(l,e,true)}return g(t,e)}else{l=null;c=null;return""}});if(k(r.min)||r.ngMin){var h;i.$validators.min=function(t){return!d(t)||jt(h)||_(t)>=h};r.$observe("min",function(t){h=p(t);i.$validate()})}if(k(r.max)||r.ngMax){var f;i.$validators.max=function(t){return!d(t)||jt(f)||_(t)<=f};r.$observe("max",function(t){f=p(t);i.$validate()})}function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return k(t)&&!O(t)?v(t)||undefined:t}function v(t,e){var n=i.$options.getOption("timezone");if(c&&c!==n){e=J(e,Q(c))}var r=_(t,e);if(!isNaN(r)&&n){r=tt(r,n)}return r}function g(t,e){var n=b;if(u&&kt(i.$options.getOption("timeSecondsFormat"))){n=b.replace("ss.sss",i.$options.getOption("timeSecondsFormat")).replace(/:$/,"")}var r=s("date")(t,n,e);if(u&&i.$options.getOption("timeStripZeroSeconds")){r=r.replace(/(?::00)?(?:\.000)?$/,"")}return r}}}function wo(t,n,e,r,i){var a=n[0];var o=r.$$hasNativeValidators=At(a.validity);if(o){r.$parsers.push(function(t){var e=n.prop(h)||{};if(e.badInput||e.typeMismatch){r.$$parserName=i;return undefined}return t})}}function So(e){e.$parsers.push(function(t){if(e.$isEmpty(t))return null;if(oo.test(t))return parseFloat(t);e.$$parserName="number";return undefined});e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!b(t)){throw cs("numfmt","Expected `{0}` to be a number",t)}t=t.toString()}return t})}function To(t){if(k(t)&&!b(t)){t=parseFloat(t)}return!A(t)?t:undefined}function xo(t){return(t|0)===t}function Eo(t){var e=t.toString();var n=e.indexOf(".");if(n===-1){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r){return Number(r[1])}}return 0}return e.length-n-1}function Co(t,e,n){var r=Number(t);var i=!xo(r);var a=!xo(e);var o=!xo(n);if(i||a||o){var s=i?Eo(r):0;var u=a?Eo(e):0;var l=o?Eo(n):0;var c=Math.max(s,u,l);var h=Math.pow(10,c);r=r*h;e=e*h;n=n*h;if(i)r=Math.round(r);if(a)e=Math.round(e);if(o)n=Math.round(n)}return(r-e)%n===0}function Mo(t,e,n,r,i,a){wo(t,e,n,r,"number");So(r);yo(t,e,n,r,i,a);var o;var s;if(k(n.min)||n.ngMin){r.$validators.min=function(t,e){return r.$isEmpty(e)||jt(o)||e>=o};n.$observe("min",function(t){o=To(t);r.$validate()})}if(k(n.max)||n.ngMax){r.$validators.max=function(t,e){return r.$isEmpty(e)||jt(s)||e<=s};n.$observe("max",function(t){s=To(t);r.$validate()})}if(k(n.step)||n.ngStep){var u;r.$validators.step=function(t,e){return r.$isEmpty(e)||jt(u)||Co(e,o||0,u)};n.$observe("step",function(t){u=To(t);r.$validate()})}}function jo(t,n,r,i,e,a){wo(t,n,r,i,"range");So(i);yo(t,n,r,i,e,a);var o=i.$$hasNativeValidators&&n[0].type==="range",s=o?0:undefined,u=o?100:undefined,l=o?1:undefined,c=n[0].validity,h=k(r.min),f=k(r.max),d=k(r.step);var p=i.$render;i.$render=o&&k(c.rangeUnderflow)&&k(c.rangeOverflow)?function t(){p();i.$setViewValue(n.val())}:p;if(h){i.$validators.min=o?function t(){return true}:function t(e,n){return i.$isEmpty(n)||jt(s)||n>=s};v("min",g)}if(f){i.$validators.max=o?function t(){return true}:function t(e,n){return i.$isEmpty(n)||jt(u)||n<=u};v("max",m)}if(d){i.$validators.step=o?function t(){return!c.stepMismatch}:function t(e,n){return i.$isEmpty(n)||jt(l)||Co(n,s||0,l)};v("step",y)}function v(t,e){n.attr(t,r[t]);r.$observe(t,e)}function g(t){s=To(t);if(A(i.$modelValue)){return}if(o){var e=n.val();if(s>e){e=s;n.val(e)}i.$setViewValue(e)}else{i.$validate()}}function m(t){u=To(t);if(A(i.$modelValue)){return}if(o){var e=n.val();if(u<e){n.val(u);e=u<s?s:u}i.$setViewValue(e)}else{i.$validate()}}function y(t){l=To(t);if(A(i.$modelValue)){return}if(o&&i.$viewValue!==n.val()){i.$setViewValue(n.val())}else{i.$validate()}}}function Ao(t,e,n,r,i,a){yo(t,e,n,r,i,a);go(r);r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||io.test(n)}}function ko(t,e,n,r,i,a){yo(t,e,n,r,i,a);go(r);r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||ao.test(n)}}function Io(t,n,r,i){var a=!r.ngTrim||Lt(r.ngTrim)!=="false";if(jt(r.name)){n.attr("name",p())}var e=function(t){var e;if(n[0].checked){e=r.value;if(a){e=Lt(e)}i.$setViewValue(e,t&&t.type)}};n.on("change",e);i.$render=function(){var t=r.value;if(a){t=Lt(t)}n[0].checked=t===i.$viewValue};r.$observe("value",i.$render)}function Ro(t,e,n,r,i){var a;if(k(r)){a=t(r);if(!a.constant){throw cs("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",n,r)}return a(e)}return i}function Do(t,e,n,r,i,a,o,s){var u=Ro(s,t,"ngTrueValue",n.ngTrueValue,true);var l=Ro(s,t,"ngFalseValue",n.ngFalseValue,false);var c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("change",c);r.$render=function(){e[0].checked=r.$viewValue};r.$isEmpty=function(t){return t===false};r.$formatters.push(function(t){return Ht(t,u)});r.$parsers.push(function(t){return t?u:l})}var Po=["$browser","$sniffer","$filter","$parse",function(i,a,o,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,r){if(r[0]){(vo[bt(n.type)]||vo.text)(t,e,n,r[0],a,i,o,s)}}}}}];var No=/^(true|false|\d+)$/;var Lo=function(){function a(t,e,n){var r=k(n)?n:Ot===9?"":null;t.prop("value",r);e.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,e){if(No.test(e.ngValue)){return function t(e,n,r){var i=e.$eval(r.ngValue);a(n,r,i)}}else{return function t(e,n,r){e.$watch(r.ngValue,function t(e){a(n,r,e)})}}}}};var $o=["$compile",function(i){return{restrict:"AC",compile:function t(e){i.$$addBindingClass(e);return function t(e,n,r){i.$$addBindingInfo(n,r.ngBind);n=n[0];e.$watch(r.ngBind,function t(e){n.textContent=Zt(e)})}}}}];var Fo=["$interpolate","$compile",function(a,o){return{compile:function t(e){o.$$addBindingClass(e);return function t(e,n,r){var i=a(n.attr(r.$attr.ngBindTemplate));o.$$addBindingInfo(n,i.expressions);n=n[0];r.$observe("ngBindTemplate",function(t){n.textContent=jt(t)?"":t})}}}}];var Go=["$sce","$parse","$compile",function(o,r,s){return{restrict:"A",compile:function t(e,n){var i=r(n.ngBindHtml);var a=r(n.ngBindHtml,function t(e){return o.valueOf(e)});s.$$addBindingClass(e);return function t(n,r,e){s.$$addBindingInfo(r,e.ngBindHtml);n.$watch(a,function t(){var e=i(n);r.html(o.getTrustedHtml(e)||"")})}}}}];var Ho=j({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function Uo(d,p){d="ngClass"+d;var v;return["$parse",function(f){return{restrict:"AC",link:function(t,e,u){var r=e.data("$classCounts");var n=true;var i;if(!r){r=Xt();e.data("$classCounts",r)}if(d!=="ngClass"){if(!v){v=f("$index",function t(e){return e&1})}t.$watch(v,c)}t.$watch(f(u[d],y),h);function a(t){t=l(m(t),1);u.$addClass(t)}function o(t){t=l(m(t),-1);u.$removeClass(t)}function s(t,e){var n=m(t);var r=m(e);var i=g(n,r);var a=g(r,n);var o=l(i,-1);var s=l(a,1);u.$addClass(s);u.$removeClass(o)}function l(t,e){var n=[];Tt(t,function(t){if(e>0||r[t]){r[t]=(r[t]||0)+e;if(r[t]===+(e>0)){n.push(t)}}});return n.join(" ")}function c(t){if(t===p){a(i)}else{o(i)}n=t}function h(t){if(n===p){s(i,t)}i=t}}}}];function g(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){var i=t[r];for(var a=0;a<e.length;a++){if(i===e[a])continue t}n.push(i)}return n}function m(t){return t&&t.split(" ")}function y(e){if(!e)return e;var t=e;if(It(e)){t=e.map(y).join(" ")}else if(At(e)){t=Object.keys(e).filter(function(t){return e[t]}).join(" ")}else if(!kt(e)){t=e+""}return t}}var Wo=Uo("",true);var Yo=Uo("Odd",0);var Vo=Uo("Even",1);var qo=Wa({compile:function(t,e){e.$set("ngCloak",undefined);t.removeClass("ng-cloak")}});var zo=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var Bo={};var Ko={blur:true,focus:true};Tt("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var i=Zn("ng-"+r);Bo[i]=["$parse","$rootScope","$exceptionHandler",function(t,e,n){return Xo(t,e,n,i,r,Ko[r])}]});function Xo(n,i,a,o,s,u){return{restrict:"A",compile:function(t,e){var r=n(e[o]);return function t(n,e){e.on(s,function(t){var e=function(){r(n,{$event:t})};if(!i.$$phase){n.$apply(e)}else if(u){n.$evalAsync(e)}else{try{e()}catch(t){a(t)}}})}}}}var Zo=["$animate","$compile",function(u,l){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function(t,n,r,e,i){var a,o,s;t.$watch(r.ngIf,function t(e){if(e){if(!o){i(function(t,e){o=e;t[t.length++]=l.$$createComment("end ngIf",r.ngIf);a={clone:t};u.enter(t,n.parent(),n)})}}else{if(s){s.remove();s=null}if(o){o.$destroy();o=null}if(a){s=Kt(a.clone);u.leave(s).done(function(t){if(t!==false)s=null});a=null}}})}}}];var Qo=["$templateRequest","$anchorScroll","$animate",function(g,m,y){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:w.noop,compile:function(t,e){var n=e.ngInclude||e.src,p=e.onload||"",v=e.autoscroll;return function(o,s,t,u,l){var c=0,h,e,f;var d=function(){if(e){e.remove();e=null}if(h){h.$destroy();h=null}if(f){y.leave(f).done(function(t){if(t!==false)e=null});e=f;f=null}};o.$watch(n,function t(r){var i=function(t){if(t!==false&&k(v)&&(!v||o.$eval(v))){m()}};var a=++c;if(r){g(r,true).then(function(t){if(o.$$destroyed)return;if(a!==c)return;var e=o.$new();u.template=t;var n=l(e,function(t){d();y.enter(t,null,s).done(i)});h=e;f=n;h.$emit("$includeContentLoaded",r);o.$eval(p)},function(){if(o.$$destroyed)return;if(a===c){d();o.$emit("$includeContentError",r)}});o.$emit("$includeContentRequested",r)}else{d();u.template=null}})}}}}];var Jo=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,e,r){if(St.call(n[0]).match(/SVG/)){n.empty();i(Me(r.template,yt.document).childNodes)(t,function t(e){n.append(e)},{futureParentElement:n});return}n.html(r.template);i(n.contents())(t)}}}];var ts=Wa({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}});var es=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ";var a=n.ngTrim!=="false";var o=a?Lt(i):i;var s=function(t){if(jt(t))return;var e=[];if(t){Tt(t.split(o),function(t){if(t)e.push(a?Lt(t):t)})}return e};r.$parsers.push(s);r.$formatters.push(function(t){if(It(t)){return t.join(i)}return undefined});r.$isEmpty=function(t){return!t||!t.length}}}};var ns="ng-valid",rs="ng-invalid",is="ng-pristine",as="ng-dirty",os="ng-untouched",ss="ng-touched",us="ng-empty",ls="ng-not-empty";var cs=N("ngModel");hs.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function hs(t,e,n,r,i,a,o,s,u){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=u(n.name||"",false)(t);this.$$parentForm=qa;this.$options=ps;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=i(n.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=t;this.$$rootScope=t.$root;this.$$attr=n;this.$$element=r;this.$$animate=a;this.$$timeout=o;this.$$parse=i;this.$$q=s;this.$$exceptionHandler=e;to(this);fs(this)}hs.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var e=this.$$parsedNgModel(t);if(Dt(e)){e=n(t)}return e};this.$$ngModelSet=function(t,e){if(Dt(this.$$parsedNgModel(t))){r(t,{$$$p:e})}else{this.$$parsedNgModelAssign(t,e)}}}else if(!this.$$parsedNgModel.assign){throw cs("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Yt(this.$$element))}},$render:Ct,$isEmpty:function(t){return jt(t)||t===""||t===null||t!==t},$$updateEmptyClasses:function(t){if(this.$isEmpty(t)){this.$$animate.removeClass(this.$$element,ls);this.$$animate.addClass(this.$$element,us)}else{this.$$animate.removeClass(this.$$element,us);this.$$animate.addClass(this.$$element,ls)}},$setPristine:function(){this.$dirty=false;this.$pristine=true;this.$$animate.removeClass(this.$$element,as);this.$$animate.addClass(this.$$element,is)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,is);this.$$animate.addClass(this.$$element,as);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,os,ss)},$setTouched:function(){this.$touched=true;this.$untouched=false;this.$$animate.setClass(this.$$element,ss,os)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(A(this.$modelValue)){return}var t=this.$$lastCommittedViewValue;var e=this.$$rawModelValue;var n=this.$valid;var r=this.$modelValue;var i=this.$options.getOption("allowInvalid");var a=this;this.$$runValidators(e,t,function(t){if(!i&&n!==t){a.$modelValue=t?e:undefined;if(a.$modelValue!==r){a.$$writeModelToScope()}}})},$$runValidators:function(a,o,e){this.$$currentValidationRunId++;var n=this.$$currentValidationRunId;var s=this;if(!t()){l(false);return}if(!r()){l(false);return}i();function t(){var t=s.$$parserName;if(jt(s.$$parserValid)){u(t,null)}else{if(!s.$$parserValid){Tt(s.$validators,function(t,e){u(e,null)});Tt(s.$asyncValidators,function(t,e){u(e,null)})}u(t,s.$$parserValid);return s.$$parserValid}return true}function r(){var r=true;Tt(s.$validators,function(t,e){var n=Boolean(t(a,o));r=r&&n;u(e,n)});if(!r){Tt(s.$asyncValidators,function(t,e){u(e,null)});return false}return true}function i(){var r=[];var i=true;Tt(s.$asyncValidators,function(t,e){var n=t(a,o);if(!D(n)){throw cs("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n)}u(e,undefined);r.push(n.then(function(){u(e,true)},function(){i=false;u(e,false)}))});if(!r.length){l(true)}else{s.$$q.all(r).then(function(){l(i)},Ct)}}function u(t,e){if(n===s.$$currentValidationRunId){s.$setValidity(t,e)}}function l(t){if(n===s.$$currentValidationRunId){e(t)}}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===t&&(t!==""||!this.$$hasNativeValidators)){return}this.$$updateEmptyClasses(t);this.$$lastCommittedViewValue=t;if(this.$pristine){this.$setDirty()}this.$$parseAndValidate()},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue;var e=t;var n=this;this.$$parserValid=jt(e)?undefined:true;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid){for(var r=0;r<this.$parsers.length;r++){e=this.$parsers[r](e);if(jt(e)){this.$$parserValid=false;break}}}if(A(this.$modelValue)){this.$modelValue=this.$$ngModelGet(this.$$scope)}var i=this.$modelValue;var a=this.$options.getOption("allowInvalid");this.$$rawModelValue=e;if(a){this.$modelValue=e;o()}this.$$runValidators(e,this.$$lastCommittedViewValue,function(t){if(!a){n.$modelValue=t?e:undefined;o()}});function o(){if(n.$modelValue!==i){n.$$writeModelToScope()}}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);Tt(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t;if(this.$options.getOption("updateOnDefault")){this.$$debounceViewValueCommit(e)}},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");if(b(e[t])){e=e[t]}else if(b(e["default"])&&this.$options.getOption("updateOn").indexOf(t)===-1){e=e["default"]}else if(b(e["*"])){e=e["*"]}this.$$timeout.cancel(this.$$pendingDebounce);var n=this;if(e>0){this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e)}else if(this.$$rootScope.$$phase){this.$commitViewValue()}else{this.$$scope.$apply(function(){n.$commitViewValue()})}},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t);this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();if(this.$viewValue!==t){this.$$updateEmptyClasses(t);this.$viewValue=this.$$lastCommittedViewValue=t;this.$render();this.$$runValidators(this.$modelValue,this.$viewValue,Ct)}},$$format:function(){var t=this.$formatters,e=t.length;var n=this.$modelValue;while(e--){n=t[e](n)}return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents){this.$$element.off(this.$$updateEvents,this.$$updateEventHandler)}this.$$updateEvents=this.$options.getOption("updateOn");if(this.$$updateEvents){this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)}},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}};function fs(r){r.$$scope.$watch(function t(e){var n=r.$$ngModelGet(e);if(n!==r.$modelValue&&(r.$modelValue===r.$modelValue||n===n)){r.$$setModelValue(n)}return n})}eo({clazz:hs,set:function(t,e){t[e]=true},unset:function(t,e){delete t[e]}});var ds=["$rootScope",function(s){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:hs,priority:1,compile:function t(e){e.addClass(is).addClass(os).addClass(ns);return{pre:function t(e,n,r,i){var a=i[0],o=i[1]||a.$$parentForm,s=i[2];if(s){a.$options=s.$options}a.$$initGetterSetters();o.$addControl(a);r.$observe("name",function(t){if(a.$name!==t){a.$$parentForm.$$renameControl(a,t)}});e.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function t(e,n,r,i){var a=i[0];a.$$setUpdateOnEvents();function o(){a.$setTouched()}n.on("blur",function(){if(a.$touched)return;if(s.$$phase){e.$evalAsync(o)}else{e.$apply(o)}})}}}}}];var ps;var vs=/(\s+|^)default(\s+|$)/;function gs(t){this.$$options=t}gs.prototype={getOption:function(t){return this.$$options[t]},createChild:function(n){var r=false;n=xt({},n);Tt(n,function(t,e){if(t==="$inherit"){if(e==="*"){r=true}else{n[e]=this.$$options[e];if(e==="updateOn"){n.updateOnDefault=this.$$options.updateOnDefault}}}else{if(e==="updateOn"){n.updateOnDefault=false;n[e]=Lt(t.replace(vs,function(){n.updateOnDefault=true;return" "}))}}},this);if(r){delete n["*"];ys(n,this.$$options)}ys(n,ps.$$options);return new gs(n)}};ps=new gs({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,timezone:null});var ms=function(){t.$inject=["$attrs","$scope"];function t(t,e){this.$$attrs=t;this.$$scope=e}t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:ps;var e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:t}};function ys(n,t){Tt(t,function(t,e){if(!k(n[e])){n[e]=t}})}var _s=Wa({terminal:true,priority:1e3});var bs=N("ngOptions");var Os=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var ws=["$compile","$document","$parse",function(_,b,l){function O(t,e,v){var h=t.match(Os);if(!h){throw bs("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",t,Yt(e))}var n=h[5]||h[7];var r=h[6];var i=/ as /.test(h[0])&&h[1];var g=h[9];var a=l(h[2]?h[1]:n);var o=i&&l(i);var m=o||a;var s=g&&l(g);var y=g?function(t,e){return s(v,e)}:function t(e){return un(e)};var _=function(t,e){return y(t,T(t,e))};var b=l(h[2]||h[1]);var O=l(h[3]||"");var w=l(h[4]||"");var S=l(h[8]);var u={};var T=r?function(t,e){u[r]=e;u[n]=t;return u}:function(t){u[n]=t;return u};function x(t,e,n,r,i){this.selectValue=t;this.viewValue=e;this.label=n;this.group=r;this.disabled=i}function E(t){var e;if(!r&&L(t)){e=t}else{e=[];for(var n in t){if(t.hasOwnProperty(n)&&n.charAt(0)!=="$"){e.push(n)}}}return e}return{trackBy:g,getTrackByValue:_,getWatchables:l(S,function(t){var e=[];t=t||[];var n=E(t);var r=n.length;for(var i=0;i<r;i++){var a=t===n?i:n[i];var o=t[a];var s=T(o,a);var u=y(o,s);e.push(u);if(h[2]||h[1]){var l=b(v,s);e.push(l)}if(h[4]){var c=w(v,s);e.push(c)}}return e}),getOptions:function(){var t=[];var e={};var n=S(v)||[];var r=E(n);var i=r.length;for(var a=0;a<i;a++){var o=n===r?a:r[a];var s=n[o];var u=T(s,o);var l=m(v,u);var c=y(l,u);var h=b(v,u);var f=O(v,u);var d=w(v,u);var p=new x(c,l,h,f,d);t.push(p);e[c]=p}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[_(t)]},getViewValueFromOption:function(t){return g?W(t.viewValue):t.viewValue}}}}}var w=yt.document.createElement("option"),S=yt.document.createElement("optgroup");function t(t,o,e,n){var s=n[0];var u=n[1];var l=e.multiple;for(var r=0,i=o.children(),a=i.length;r<a;r++){if(i[r].value===""){s.hasEmptyOption=true;s.emptyOption=i.eq(r);break}}o.empty();var c=!!s.emptyOption;var h=wt(w.cloneNode(false));h.val("?");var f;var d=O(e.ngOptions,o,t);var p=b[0].createDocumentFragment();s.generateUnknownOptionValue=function(t){return"?"};if(!l){s.writeValue=function t(e){if(!f)return;var n=o[0].options[o[0].selectedIndex];var r=f.getOptionFromViewValue(e);if(n)n.removeAttribute("selected");if(r){if(o[0].value!==r.selectValue){s.removeUnknownOption();o[0].value=r.selectValue;r.element.selected=true}r.element.setAttribute("selected","selected")}else{s.selectUnknownOrEmptyOption(e)}};s.readValue=function t(){var e=f.selectValueMap[o.val()];if(e&&!e.disabled){s.unselectEmptyOption();s.removeUnknownOption();return f.getViewValueFromOption(e)}return null};if(d.trackBy){t.$watch(function(){return d.getTrackByValue(u.$viewValue)},function(){u.$render()})}}else{s.writeValue=function t(e){if(!f)return;var n=e&&e.map(g)||[];f.items.forEach(function(t){if(t.element.selected&&!U(n,t)){t.element.selected=false}})};s.readValue=function t(){var e=o.val()||[],n=[];Tt(e,function(t){var e=f.selectValueMap[t];if(e&&!e.disabled)n.push(f.getViewValueFromOption(e))});return n};if(d.trackBy){t.$watchCollection(function(){if(It(u.$viewValue)){return u.$viewValue.map(function(t){return d.getTrackByValue(t)})}},function(){u.$render()})}}if(c){_(s.emptyOption)(t);o.prepend(s.emptyOption);if(s.emptyOption[0].nodeType===ee){s.hasEmptyOption=false;s.registerOption=function(t,e){if(e.val()===""){s.hasEmptyOption=true;s.emptyOption=e;s.emptyOption.removeClass("ng-scope");u.$render();e.on("$destroy",function(){var t=s.$isEmptyOptionSelected();s.hasEmptyOption=false;s.emptyOption=undefined;if(t)u.$render()})}}}else{s.emptyOption.removeClass("ng-scope")}}t.$watchCollection(d.getWatchables,y);function v(t,e){var n=w.cloneNode(false);e.appendChild(n);m(t,n)}function g(t){var e=f.getOptionFromViewValue(t);var n=e&&e.element;if(n&&!n.selected)n.selected=true;return e}function m(t,e){t.element=e;e.disabled=t.disabled;if(t.label!==e.label){e.label=t.label;e.textContent=t.label}e.value=t.selectValue}function y(){var t=f&&s.readValue();if(f){for(var e=f.items.length-1;e>=0;e--){var n=f.items[e];if(k(n.group)){Be(n.element.parentNode)}else{Be(n.element)}}}f=d.getOptions();var r={};f.items.forEach(function t(e){var n;if(k(e.group)){n=r[e.group];if(!n){n=S.cloneNode(false);p.appendChild(n);n.label=e.group===null?"null":e.group;r[e.group]=n}v(e,n)}else{v(e,p)}});o[0].appendChild(p);u.$render();if(!u.$isEmpty(t)){var i=s.readValue();var a=d.trackBy||l;if(a?!Ht(t,i):t!==i){u.$setViewValue(i);u.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function t(e,n,r,i){i[0].registerOption=Ct},post:t}}}];var Ss=["$locale","$interpolate","$log",function(p,v,g){var m=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(a,i,o){var t=o.count,s=o.$attr.when&&i.attr(o.$attr.when),u=o.offset||0,l=a.$eval(s)||{},c={},e=v.startSymbol(),n=v.endSymbol(),r=e+t+"-"+u+n,h=w.noop,f;Tt(o,function(t,e){var n=y.exec(e);if(n){var r=(n[1]?"-":"")+bt(n[2]);l[r]=i.attr(o.$attr[e])}});Tt(l,function(t,e){c[e]=v(t.replace(m,r))});a.$watch(t,function t(e){var n=parseFloat(e);var r=A(n);if(!r&&!(n in l)){n=p.pluralCat(n-u)}if(n!==f&&!(r&&A(f))){h();var i=c[n];if(jt(i)){if(e!=null){g.debug("ngPluralize: no rule defined for '"+n+"' in "+s)}h=Ct;d()}else{h=a.$watch(i,d)}f=n}});function d(t){i.text(t||"")}}}}];var Ts=N("ngRef");var xs=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,i){var a=Zn($t(t));var o=e(i.ngRef);var s=o.assign||function(){throw Ts("nonassign",'Expression in ngRef="{0}" is non-assignable!',i.ngRef)};return function(t,e,n){var r;if(n.hasOwnProperty("ngRefRead")){if(n.ngRefRead==="$element"){r=e}else{r=e.data("$"+n.ngRefRead+"Controller");if(!r){throw Ts("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',n.ngRefRead,i.ngRef)}}}else{r=e.data("$"+a+"Controller")}r=r||e;s(t,r);e.on("$destroy",function(){if(o(t)===r){s(t,null)}})}}}}];var Es=["$parse","$animate","$compile",function(l,A,c){var k="$$NG_REMOVED";var I=N("ngRepeat");var R=function(t,e,n,r,i,a,o){t[n]=r;if(i)t[i]=a;t.$index=e;t.$first=e===0;t.$last=e===o-1;t.$middle=!(t.$first||t.$last);t.$odd=!(t.$even=(e&1)===0)};var D=function(t){return t.clone[0]};var P=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function t(e,n){var w=n.ngRepeat;var S=c.$$createComment("end ngRepeat",w);var r=w.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r){throw I("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",w)}var i=r[1];var a=r[2];var T=r[3];var o=r[4];r=i.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!r){throw I("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i)}var x=r[3]||r[1];var E=r[2];if(T&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(T)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(T))){throw I("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",T)}var s,C,M,j;var u={$id:un};if(o){s=l(o)}else{M=function(t,e){return un(e)};j=function(t){return t}}return function t(y,_,e,n,b){if(s){C=function(t,e,n){if(E)u[E]=t;u[x]=e;u.$index=n;return s(y,u)}}var O=Xt();y.$watchCollection(a,function t(e){var i,n,a=_[0],r,o=Xt(),s,u,l,c,h,f,d,p,v;if(T){y[T]=e}if(L(e)){f=e;h=C||M}else{h=C||j;f=[];for(var g in e){if(_t.call(e,g)&&g.charAt(0)!=="$"){f.push(g)}}}s=f.length;p=new Array(s);for(i=0;i<s;i++){u=e===f?i:f[i];l=e[u];c=h(u,l,i);if(O[c]){d=O[c];delete O[c];o[c]=d;p[i]=d}else if(o[c]){Tt(p,function(t){if(t&&t.scope)O[t.id]=t});throw I("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",w,c,l)}else{p[i]={id:c,scope:undefined,clone:undefined};o[c]=true}}for(var m in O){d=O[m];v=Kt(d.clone);A.leave(v);if(v[0].parentNode){for(i=0,n=v.length;i<n;i++){v[i][k]=true}}d.scope.$destroy()}for(i=0;i<s;i++){u=e===f?i:f[i];l=e[u];d=p[i];if(d.scope){r=a;do{r=r.nextSibling}while(r&&r[k]);if(D(d)!==r){A.move(Kt(d.clone),null,a)}a=P(d);R(d.scope,i,x,l,E,u,s)}else{b(function t(e,n){d.scope=n;var r=S.cloneNode(false);e[e.length++]=r;A.enter(e,null,a);a=r;d.clone=e;o[d.id]=d;R(d.scope,i,x,l,E,u,s)})}}O=o})}}}}];var Cs="ng-hide";var Ms="ng-hide-animate";var js=["$animate",function(r){return{restrict:"A",multiElement:true,link:function(t,n,e){t.$watch(e.ngShow,function t(e){r[e?"removeClass":"addClass"](n,Cs,{tempClasses:Ms})})}}}];var As=["$animate",function(r){return{restrict:"A",multiElement:true,link:function(t,n,e){t.$watch(e.ngHide,function t(e){r[e?"addClass":"removeClass"](n,Cs,{tempClasses:Ms})})}}}];var ks=Wa(function(t,r,e){t.$watchCollection(e.ngStyle,function t(e,n){if(n&&e!==n){Tt(n,function(t,e){r.css(e,"")})}if(e)r.css(e)})});var Is=["$animate","$compile",function(f,d){return{require:"ngSwitch",controller:["$scope",function t(){this.cases={}}],link:function(t,e,n,o){var r=n.ngSwitch||n.on,s=[],u=[],l=[],c=[];var h=function(e,n){return function(t){if(t!==false)e.splice(n,1)}};t.$watch(r,function t(e){var n,r;while(l.length){f.cancel(l.pop())}for(n=0,r=c.length;n<r;++n){var i=Kt(u[n].clone);c[n].$destroy();var a=l[n]=f.leave(i);a.done(h(l,n))}u.length=0;c.length=0;if(s=o.cases["!"+e]||o.cases["?"]){Tt(s,function(i){i.transclude(function(t,e){c.push(e);var n=i.element;t[t.length++]=d.$$createComment("end ngSwitchWhen");var r={clone:t};u.push(r);f.enter(t,n.parent(),n)})})}})}}}];var Rs=Wa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(t,e,n,r,i){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});Tt(a,function(t){r.cases["!"+t]=r.cases["!"+t]||[];r.cases["!"+t].push({transclude:i,element:e})})}});var Ds=Wa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:i,element:e})}});var Ps=N("ngTransclude");var Ns=["$compile",function(n){return{restrict:"EAC",compile:function t(e){var c=n(e.contents());e.empty();return function t(e,n,r,i,a){if(!a){throw Ps("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",Yt(n))}if(r.ngTransclude===r.$attr.ngTransclude){r.ngTransclude=""}var o=r.ngTransclude||r.ngTranscludeSlot;a(s,null,o);if(o&&!a.isSlotFilled(o)){u()}function s(t,e){if(t.length&&l(t)){n.append(t)}else{u();e.$destroy()}}function u(){c(e,function(t){n.append(t)})}function l(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==te||r.nodeValue.trim()){return true}}}}}}}];var Ls=["$templateCache",function(i){return{restrict:"E",terminal:true,compile:function(t,e){if(e.type==="text/ng-template"){var n=e.id,r=t[0].text;i.put(n,r)}}}}];var $s={$setViewValue:Ct,$render:Ct};function Fs(t,e){t.prop("selected",e);t.attr("selected",e)}var Gs=["$element","$scope",function(a,e){var u=this,r=new hn;u.selectValueMap={};u.ngModelCtrl=$s;u.multiple=false;u.unknownOption=wt(yt.document.createElement("option"));u.hasEmptyOption=false;u.emptyOption=undefined;u.renderUnknownOption=function(t){var e=u.generateUnknownOptionValue(t);u.unknownOption.val(e);a.prepend(u.unknownOption);Fs(u.unknownOption,true);a.val(e)};u.updateUnknownOption=function(t){var e=u.generateUnknownOptionValue(t);u.unknownOption.val(e);Fs(u.unknownOption,true);a.val(e)};u.generateUnknownOptionValue=function(t){return"? "+un(t)+" ?"};u.removeUnknownOption=function(){if(u.unknownOption.parent())u.unknownOption.remove()};u.selectEmptyOption=function(){if(u.emptyOption){a.val("");Fs(u.emptyOption,true)}};u.unselectEmptyOption=function(){if(u.hasEmptyOption){Fs(u.emptyOption,false)}};e.$on("$destroy",function(){u.renderUnknownOption=Ct});u.readValue=function t(){var e=a.val();var n=e in u.selectValueMap?u.selectValueMap[e]:e;if(u.hasOption(n)){return n}return null};u.writeValue=function t(e){var n=a[0].options[a[0].selectedIndex];if(n)Fs(wt(n),false);if(u.hasOption(e)){u.removeUnknownOption();var r=un(e);a.val(r in u.selectValueMap?r:e);var i=a[0].options[a[0].selectedIndex];Fs(wt(i),true)}else{u.selectUnknownOrEmptyOption(e)}};u.addOption=function(t,e){if(e[0].nodeType===ee)return;zt(t,'"option value"');if(t===""){u.hasEmptyOption=true;u.emptyOption=e}var n=r.get(t)||0;r.set(t,n+1);l()};u.removeOption=function(t){var e=r.get(t);if(e){if(e===1){r.delete(t);if(t===""){u.hasEmptyOption=false;u.emptyOption=undefined}}else{r.set(t,e-1)}}};u.hasOption=function(t){return!!r.get(t)};u.$hasEmptyOption=function(){return u.hasEmptyOption};u.$isUnknownOptionSelected=function(){return a[0].options[0]===u.unknownOption[0]};u.$isEmptyOptionSelected=function(){return u.hasEmptyOption&&a[0].options[a[0].selectedIndex]===u.emptyOption[0]};u.selectUnknownOrEmptyOption=function(t){if(t==null&&u.emptyOption){u.removeUnknownOption();u.selectEmptyOption()}else if(u.unknownOption.parent().length){u.updateUnknownOption(t)}else{u.renderUnknownOption(t)}};var t=false;function l(){if(t)return;t=true;e.$$postDigest(function(){t=false;u.ngModelCtrl.$render()})}var n=false;function c(t){if(n)return;n=true;e.$$postDigest(function(){if(e.$$destroyed)return;n=false;u.ngModelCtrl.$setViewValue(u.readValue());if(t)u.ngModelCtrl.$render()})}u.registerOption=function(t,i,a,e,n){if(a.$attr.ngValue){var o,s;a.$observe("value",function t(e){var n;var r=i.prop("selected");if(k(s)){u.removeOption(o);delete u.selectValueMap[s];n=true}s=un(e);o=e;u.selectValueMap[s]=e;u.addOption(e,i);i.attr("value",s);if(n&&r){c()}})}else if(e){a.$observe("value",function t(e){u.readValue();var n;var r=i.prop("selected");if(k(o)){u.removeOption(o);n=true}o=e;u.addOption(e,i);if(n&&r){c()}})}else if(n){t.$watch(n,function t(e,n){a.$set("value",e);var r=i.prop("selected");if(n!==e){u.removeOption(n)}u.addOption(e,i);if(n&&r){c()}})}else{u.addOption(a.value,i)}a.$observe("disabled",function(t){if(t==="true"||t&&i.prop("selected")){if(u.multiple){c(true)}else{u.ngModelCtrl.$setViewValue(null);u.ngModelCtrl.$render()}}});i.on("$destroy",function(){var t=u.readValue();var e=a.value;u.removeOption(e);l();if(u.multiple&&t&&t.indexOf(e)!==-1||t===e){c(true)}})}}];var Hs=function(){return{restrict:"E",require:["select","?ngModel"],controller:Gs,priority:1,link:{pre:t,post:e}};function t(t,e,n,r){var i=r[0];var a=r[1];if(!a){i.registerOption=Ct;return}i.ngModelCtrl=a;e.on("change",function(){i.removeUnknownOption();t.$apply(function(){a.$setViewValue(i.readValue())})});if(n.multiple){i.multiple=true;i.readValue=function t(){var n=[];Tt(e.find("option"),function(t){if(t.selected&&!t.disabled){var e=t.value;n.push(e in i.selectValueMap?i.selectValueMap[e]:e)}});return n};i.writeValue=function t(r){Tt(e.find("option"),function(t){var e=!!r&&(U(r,t.value)||U(r,i.selectValueMap[t.value]));var n=t.selected;if(e!==n){Fs(wt(t),e)}})};var o,s=NaN;t.$watch(function t(){if(s===a.$viewValue&&!Ht(o,a.$viewValue)){o=ae(a.$viewValue);a.$render()}s=a.$viewValue});a.$isEmpty=function(t){return!t||t.length===0}}}function e(t,e,n,r){var i=r[1];if(!i)return;var a=r[0];i.$render=function(){a.writeValue(i.$viewValue)}}};var Us=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){var o,s;if(k(e.ngValue)){}else if(k(e.value)){o=n(e.value,true)}else{s=n(t.text(),true);if(!s){e.$set("value",t.text())}}return function(t,e,n){var r="$selectController",i=e.parent(),a=i.data(r)||i.parent().data(r);if(a){a.registerOption(t,e,n,o,s)}}}}}];var Ws=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(!r)return;n.required=true;r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)};n.$observe("required",function(){r.$validate()})}}};var Ys=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(!r)return;var i,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(kt(t)&&t.length>0){t=new RegExp("^"+t+"$")}if(t&&!t.test){throw N("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Yt(e))}i=t||undefined;r.$validate()});r.$validators.pattern=function(t,e){return r.$isEmpty(e)||jt(i)||i.test(e)}}}};var Vs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(!r)return;var i=-1;n.$observe("maxlength",function(t){var e=m(t);i=A(e)?-1:e;r.$validate()});r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}};var qs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(!r)return;var i=0;n.$observe("minlength",function(t){i=m(t)||0;r.$validate()});r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}};if(yt.angular.bootstrap){if(yt.console){console.log("WARNING: Tried to load AngularJS more than once.")}return}gt();le(w);w.module("ngLocale",[],["$provide",function(t){var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function a(t){t=t+"";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function o(t,e){var n=e;if(undefined===n){n=Math.min(a(t),3)}var r=Math.pow(10,n);var i=(t*r|0)%r;return{v:n,f:i}}t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=t|0;var r=o(t,e);if(n==1&&r.v==0){return i.ONE}return i.OTHER}})}]);wt(function(){ct(yt.document,ht)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')}).call(this,n(35))},function(t,e,n){n(350);t.exports="gettext"},function(t,e){angular.module("gettext",[]);angular.module("gettext").constant("gettext",function(t){return t});angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(l,s,n,t,u,e){var r;var c="$$noContext";var i='<span id="test" title="test" class="tested">test</span>';var h=angular.element("<span>"+i+"</span>").html()!==i;var f=function t(e){if(r.debug&&r.currentLanguage!==r.baseLanguage){return r.debugPrefix+e}else{return e}};var d=function t(e){if(r.showTranslatedMarkers){return r.translatedMarkerPrefix+e+r.translatedMarkerSuffix}else{return e}};function p(){e.$broadcast("gettextLanguageChanged")}r={debug:false,debugPrefix:"[MISSING]: ",showTranslatedMarkers:false,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:t("strings"),setCurrentLanguage:function t(e){this.currentLanguage=e;p()},getCurrentLanguage:function t(){return this.currentLanguage},setStrings:function t(e,n){if(!this.strings[e]){this.strings[e]={}}var r=l(e,1);for(var i in n){var a=n[i];if(h){i=angular.element("<span>"+i+"</span>").html()}if(angular.isString(a)||angular.isArray(a)){var o={};o[c]=a;a=o}if(!this.strings[e][i]){this.strings[e][i]={}}for(var s in a){var u=a[s];if(!angular.isArray(u)){this.strings[e][i][s]=[];this.strings[e][i][s][r]=u}else{this.strings[e][i][s]=u}}}p()},getStringFormFor:function t(e,n,r,i){if(!e){return null}var a=this.strings[e]||{};var o=a[n]||{};var s=o[i||c]||[];return s[l(e,r)]},getString:function t(e,n,r){var i=s(this.currentLanguage);e=this.getStringFormFor(this.currentLanguage,e,1,r)||this.getStringFormFor(i,e,1,r)||f(e);e=n?u(e)(n):e;return d(e)},getPlural:function t(e,n,r,i,a){var o=s(this.currentLanguage);n=this.getStringFormFor(this.currentLanguage,n,e,a)||this.getStringFormFor(o,n,e,a)||f(e===1?n:r);if(i){i.$count=e;n=u(n)(i)}return d(n)},loadRemote:function t(e){return n({method:"GET",url:e,cache:r.cache}).then(function(t){var e=t.data;for(var n in e){r.setStrings(n,e[n])}return t})}};return r}]);angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window","gettextUtil",function(d,i,p,v,t,g){var r=parseInt((/msie (\d+)/i.exec(t.navigator.userAgent)||[])[1],10);var n="translateParams";function s(t){return g.lcFirst(t.replace(n,""))}function m(e,r,i){var t=Object.keys(r).filter(function(t){return g.startsWith(t,n)&&t!==n});if(!t.length){return null}var a=e.$new();var o=[];t.forEach(function(n){var t=e.$watch(r[n],function(t){var e=s(n);a[e]=t;i(a)});o.push(t)});e.$on("$destroy",function(){o.forEach(function(t){t()});a.$destroy()});return a}return{restrict:"AE",terminal:true,compile:function t(e,n){g.assert(!n.translatePlural||n.translateN,"translate-n","translate-plural");g.assert(!n.translateN||n.translatePlural,"translate-plural","translate-n");var c=g.trim(e.html());var h=n.translatePlural;var f=n.translateContext;if(r<=8){if(c.slice(-13)==="\x3c!--IE fix--\x3e"){c=c.slice(0,-13)}}return{post:function t(a,o,e){var s=i(e.translateN);var u=null;var l=true;function n(t){t=t||null;var e;if(h){a=u||(u=a.$new());a.$count=s(a);e=d.getPlural(a.$count,c,h,null,f)}else{e=d.getString(c,null,f)}var n=o.contents();if(!n&&!e){return}if(e===g.trim(n.html())){if(l){v(n)(a)}return}var r=angular.element("<span>"+e+"</span>");v(r.contents())(t||a);var i=r.contents();p.enter(i,o);p.leave(n)}var r=m(a,e,n);n(r);l=false;if(e.translateN){a.$watch(e.translateN,function(){n(r)})}a.$on("gettextLanguageChanged",function(){n(r)})}}}}}]);angular.module("gettext").factory("gettextFallbackLanguage",function(){var n={};var r=/([^_]+)_[^_]+$/;return function(t){if(n[t]){return n[t]}var e=r.exec(t);if(e){n[t]=e[1];return e[1]}return null}});angular.module("gettext").filter("translate",["gettextCatalog",function(n){function t(t,e){return n.getString(t,null,e)}t.$stateful=true;return t}]);angular.module("gettext").factory("gettextPlurals",function(){var e={pt_BR:"pt_BR","pt-BR":"pt_BR"};return function(t,e){switch(n(t)){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return e%10!=1||e%100==11?1:0;case"jv":return e!=0?1:0;case"mk":return e==1||e%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return e>1?1:0;case"lv":return e%10==1&&e%100!=11?0:e!=0?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"mnk":return e==0?0:e==1?1:2;case"ro":return e==1?0:e==0||e%100>0&&e%100<20?1:2;case"pl":return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return e==1?0:e>=2&&e<=4?1:2;case"sl":return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0;case"mt":return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"gd":return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3;case"cy":return e==1?0:e==2?1:e!=8&&e!=11?2:3;case"kw":return e==1?0:e==2?1:e==3?2:3;case"ga":return e==1?0:e==2?1:e<7?2:e<11?3:4;case"ar":return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5;default:return e!=1?1:0}};function n(t){if(!e[t]){e[t]=t.split(/\-|_/).shift()}return e[t]}});angular.module("gettext").factory("gettextUtil",function t(){var e=function(){if(!String.prototype.trim){return function(t){return typeof t==="string"?t.replace(/^\s*/,"").replace(/\s*$/,""):t}}return function(t){return typeof t==="string"?t.trim():t}}();function n(t,e,n){if(!t){throw new Error("You should add a "+e+" attribute whenever you add a "+n+" attribute.")}}function r(t,e){return t.indexOf(e)===0}function i(t){var e=t.charAt(0).toLowerCase();return e+t.substr(1)}return{trim:e,assert:n,startsWith:r,lcFirst:i}})},function(t,n,r){(function(t,e){true?e(n,r(35),r(170)):undefined})(this,function(t,e,O){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e;O=O&&O.hasOwnProperty("default")?O["default"]:O;function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function w(t,e,n){if(e)r(t.prototype,e);if(n)r(t,n);return t}function i(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))}r.forEach(function(t){i(e,t,n[t])})}return e}function v(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}var T=function(i){var n="transitionend";var r=1e6;var a=1e3;function u(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function t(){return{bindType:n,delegateType:n,handle:function t(e){if(i(e.target).is(this)){return e.handleObj.handler.apply(this,arguments)}return undefined}}}function e(t){var e=this;var n=false;i(this).one(l.TRANSITION_END,function(){n=true});setTimeout(function(){if(!n){l.triggerTransitionEnd(e)}},t);return this}function o(){i.fn.emulateTransitionEnd=e;i.event.special[l.TRANSITION_END]=t()}var l={TRANSITION_END:"bsTransitionEnd",getUID:function t(e){do{e+=~~(Math.random()*r)}while(document.getElementById(e));return e},getSelectorFromElement:function t(e){var n=e.getAttribute("data-target");if(!n||n==="#"){n=e.getAttribute("href")||""}try{return document.querySelector(n)?n:null}catch(t){return null}},getTransitionDurationFromElement:function t(e){if(!e){return 0}var n=i(e).css("transition-duration");var r=parseFloat(n);if(!r){return 0}n=n.split(",")[0];return parseFloat(n)*a},reflow:function t(e){return e.offsetHeight},triggerTransitionEnd:function t(e){i(e).trigger(n)},supportsTransitionEnd:function t(){return Boolean(n)},isElement:function t(e){return(e[0]||e).nodeType},typeCheckConfig:function t(e,n,r){for(var i in r){if(Object.prototype.hasOwnProperty.call(r,i)){var a=r[i];var o=n[i];var s=o&&l.isElement(o)?"element":u(o);if(!new RegExp(a).test(s)){throw new Error(e.toUpperCase()+": "+('Option "'+i+'" provided type "'+s+'" ')+('but expected type "'+a+'".'))}}}}};o();return l}(e);var n=function(i){var t="alert";var e="4.1.3";var a="bs.alert";var n="."+a;var r=".data-api";var o=i.fn[t];var s={DISMISS:'[data-dismiss="alert"]'};var u={CLOSE:"close"+n,CLOSED:"closed"+n,CLICK_DATA_API:"click"+n+r};var l={ALERT:"alert",FADE:"fade",SHOW:"show"};var c=function(){function r(t){this._element=t}var t=r.prototype;t.close=function t(e){var n=this._element;if(e){n=this._getRootElement(e)}var r=this._triggerCloseEvent(n);if(r.isDefaultPrevented()){return}this._removeElement(n)};t.dispose=function t(){i.removeData(this._element,a);this._element=null};t._getRootElement=function t(e){var n=T.getSelectorFromElement(e);var r=false;if(n){r=document.querySelector(n)}if(!r){r=i(e).closest("."+l.ALERT)[0]}return r};t._triggerCloseEvent=function t(e){var n=i.Event(u.CLOSE);i(e).trigger(n);return n};t._removeElement=function t(e){var n=this;i(e).removeClass(l.SHOW);if(!i(e).hasClass(l.FADE)){this._destroyElement(e);return}var r=T.getTransitionDurationFromElement(e);i(e).one(T.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(r)};t._destroyElement=function t(e){i(e).detach().trigger(u.CLOSED).remove()};r._jQueryInterface=function t(n){return this.each(function(){var t=i(this);var e=t.data(a);if(!e){e=new r(this);t.data(a,e)}if(n==="close"){e[n](this)}})};r._handleDismiss=function t(e){return function(t){if(t){t.preventDefault()}e.close(this)}};w(r,null,[{key:"VERSION",get:function t(){return e}}]);return r}();i(document).on(u.CLICK_DATA_API,s.DISMISS,c._handleDismiss(new c));i.fn[t]=c._jQueryInterface;i.fn[t].Constructor=c;i.fn[t].noConflict=function(){i.fn[t]=o;return c._jQueryInterface};return c}(e);var a=function(o){var t="button";var e="4.1.3";var r="bs.button";var n="."+r;var i=".data-api";var a=o.fn[t];var s={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"};var u={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"};var l={CLICK_DATA_API:"click"+n+i,FOCUS_BLUR_DATA_API:"focus"+n+i+" "+("blur"+n+i)};var c=function(){function n(t){this._element=t}var t=n.prototype;t.toggle=function t(){var e=true;var n=true;var r=o(this._element).closest(u.DATA_TOGGLE)[0];if(r){var i=this._element.querySelector(u.INPUT);if(i){if(i.type==="radio"){if(i.checked&&this._element.classList.contains(s.ACTIVE)){e=false}else{var a=r.querySelector(u.ACTIVE);if(a){o(a).removeClass(s.ACTIVE)}}}if(e){if(i.hasAttribute("disabled")||r.hasAttribute("disabled")||i.classList.contains("disabled")||r.classList.contains("disabled")){return}i.checked=!this._element.classList.contains(s.ACTIVE);o(i).trigger("change")}i.focus();n=false}}if(n){this._element.setAttribute("aria-pressed",!this._element.classList.contains(s.ACTIVE))}if(e){o(this._element).toggleClass(s.ACTIVE)}};t.dispose=function t(){o.removeData(this._element,r);this._element=null};n._jQueryInterface=function t(e){return this.each(function(){var t=o(this).data(r);if(!t){t=new n(this);o(this).data(r,t)}if(e==="toggle"){t[e]()}})};w(n,null,[{key:"VERSION",get:function t(){return e}}]);return n}();o(document).on(l.CLICK_DATA_API,u.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var e=t.target;if(!o(e).hasClass(s.BUTTON)){e=o(e).closest(u.BUTTON)}c._jQueryInterface.call(o(e),"toggle")}).on(l.FOCUS_BLUR_DATA_API,u.DATA_TOGGLE_CARROT,function(t){var e=o(t.target).closest(u.BUTTON)[0];o(e).toggleClass(s.FOCUS,/^focus(in)?$/.test(t.type))});o.fn[t]=c._jQueryInterface;o.fn[t].Constructor=c;o.fn[t].noConflict=function(){o.fn[t]=a;return c._jQueryInterface};return c}(e);var o=function(v){var n="carousel";var e="4.1.3";var s="bs.carousel";var r="."+s;var t=".data-api";var i=v.fn[n];var a=37;var u=39;var l=500;var c={interval:5e3,keyboard:true,slide:false,pause:"hover",wrap:true};var h={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"};var g={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"};var m={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load"+r+t,CLICK_DATA_API:"click"+r+t};var y={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"};var _={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'};var o=function(){function o(t,e){this._items=null;this._interval=null;this._activeElement=null;this._isPaused=false;this._isSliding=false;this.touchTimeout=null;this._config=this._getConfig(e);this._element=v(t)[0];this._indicatorsElement=this._element.querySelector(_.INDICATORS);this._addEventListeners()}var t=o.prototype;t.next=function t(){if(!this._isSliding){this._slide(g.NEXT)}};t.nextWhenVisible=function t(){if(!document.hidden&&v(this._element).is(":visible")&&v(this._element).css("visibility")!=="hidden"){this.next()}};t.prev=function t(){if(!this._isSliding){this._slide(g.PREV)}};t.pause=function t(e){if(!e){this._isPaused=true}if(this._element.querySelector(_.NEXT_PREV)){T.triggerTransitionEnd(this._element);this.cycle(true)}clearInterval(this._interval);this._interval=null};t.cycle=function t(e){if(!e){this._isPaused=false}if(this._interval){clearInterval(this._interval);this._interval=null}if(this._config.interval&&!this._isPaused){this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval)}};t.to=function t(e){var n=this;this._activeElement=this._element.querySelector(_.ACTIVE_ITEM);var r=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0){return}if(this._isSliding){v(this._element).one(m.SLID,function(){return n.to(e)});return}if(r===e){this.pause();this.cycle();return}var i=e>r?g.NEXT:g.PREV;this._slide(i,this._items[e])};t.dispose=function t(){v(this._element).off(r);v.removeData(this._element,s);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null};t._getConfig=function t(e){e=S({},c,e);T.typeCheckConfig(n,e,h);return e};t._addEventListeners=function t(){var e=this;if(this._config.keyboard){v(this._element).on(m.KEYDOWN,function(t){return e._keydown(t)})}if(this._config.pause==="hover"){v(this._element).on(m.MOUSEENTER,function(t){return e.pause(t)}).on(m.MOUSELEAVE,function(t){return e.cycle(t)});if("ontouchstart"in document.documentElement){v(this._element).on(m.TOUCHEND,function(){e.pause();if(e.touchTimeout){clearTimeout(e.touchTimeout)}e.touchTimeout=setTimeout(function(t){return e.cycle(t)},l+e._config.interval)})}}};t._keydown=function t(e){if(/input|textarea/i.test(e.target.tagName)){return}switch(e.which){case a:e.preventDefault();this.prev();break;case u:e.preventDefault();this.next();break;default:}};t._getItemIndex=function t(e){this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(_.ITEM)):[];return this._items.indexOf(e)};t._getItemByDirection=function t(e,n){var r=e===g.NEXT;var i=e===g.PREV;var a=this._getItemIndex(n);var o=this._items.length-1;var s=i&&a===0||r&&a===o;if(s&&!this._config.wrap){return n}var u=e===g.PREV?-1:1;var l=(a+u)%this._items.length;return l===-1?this._items[this._items.length-1]:this._items[l]};t._triggerSlideEvent=function t(e,n){var r=this._getItemIndex(e);var i=this._getItemIndex(this._element.querySelector(_.ACTIVE_ITEM));var a=v.Event(m.SLIDE,{relatedTarget:e,direction:n,from:i,to:r});v(this._element).trigger(a);return a};t._setActiveIndicatorElement=function t(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(_.ACTIVE));v(n).removeClass(y.ACTIVE);var r=this._indicatorsElement.children[this._getItemIndex(e)];if(r){v(r).addClass(y.ACTIVE)}}};t._slide=function t(e,n){var r=this;var i=this._element.querySelector(_.ACTIVE_ITEM);var a=this._getItemIndex(i);var o=n||i&&this._getItemByDirection(e,i);var s=this._getItemIndex(o);var u=Boolean(this._interval);var l;var c;var h;if(e===g.NEXT){l=y.LEFT;c=y.NEXT;h=g.LEFT}else{l=y.RIGHT;c=y.PREV;h=g.RIGHT}if(o&&v(o).hasClass(y.ACTIVE)){this._isSliding=false;return}var f=this._triggerSlideEvent(o,h);if(f.isDefaultPrevented()){return}if(!i||!o){return}this._isSliding=true;if(u){this.pause()}this._setActiveIndicatorElement(o);var d=v.Event(m.SLID,{relatedTarget:o,direction:h,from:a,to:s});if(v(this._element).hasClass(y.SLIDE)){v(o).addClass(c);T.reflow(o);v(i).addClass(l);v(o).addClass(l);var p=T.getTransitionDurationFromElement(i);v(i).one(T.TRANSITION_END,function(){v(o).removeClass(l+" "+c).addClass(y.ACTIVE);v(i).removeClass(y.ACTIVE+" "+c+" "+l);r._isSliding=false;setTimeout(function(){return v(r._element).trigger(d)},0)}).emulateTransitionEnd(p)}else{v(i).removeClass(y.ACTIVE);v(o).addClass(y.ACTIVE);this._isSliding=false;v(this._element).trigger(d)}if(u){this.cycle()}};o._jQueryInterface=function t(r){return this.each(function(){var t=v(this).data(s);var e=S({},c,v(this).data());if(typeof r==="object"){e=S({},e,r)}var n=typeof r==="string"?r:e.slide;if(!t){t=new o(this,e);v(this).data(s,t)}if(typeof r==="number"){t.to(r)}else if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}else if(e.interval){t.pause();t.cycle()}})};o._dataApiClickHandler=function t(e){var n=T.getSelectorFromElement(this);if(!n){return}var r=v(n)[0];if(!r||!v(r).hasClass(y.CAROUSEL)){return}var i=S({},v(r).data(),v(this).data());var a=this.getAttribute("data-slide-to");if(a){i.interval=false}o._jQueryInterface.call(v(r),i);if(a){v(r).data(s).to(a)}e.preventDefault()};w(o,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return c}}]);return o}();v(document).on(m.CLICK_DATA_API,_.DATA_SLIDE,o._dataApiClickHandler);v(window).on(m.LOAD_DATA_API,function(){var t=[].slice.call(document.querySelectorAll(_.DATA_RIDE));for(var e=0,n=t.length;e<n;e++){var r=v(t[e]);o._jQueryInterface.call(r,r.data())}});v.fn[n]=o._jQueryInterface;v.fn[n].Constructor=o;v.fn[n].noConflict=function(){v.fn[n]=i;return o._jQueryInterface};return o}(e);var s=function(h){var n="collapse";var e="4.1.3";var f="bs.collapse";var t="."+f;var r=".data-api";var i=h.fn[n];var a={toggle:true,parent:""};var o={toggle:"boolean",parent:"(string|element)"};var d={SHOW:"show"+t,SHOWN:"shown"+t,HIDE:"hide"+t,HIDDEN:"hidden"+t,CLICK_DATA_API:"click"+t+r};var p={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"};var s={WIDTH:"width",HEIGHT:"height"};var v={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'};var u=function(){function c(e,t){this._isTransitioning=false;this._element=e;this._config=this._getConfig(t);this._triggerArray=h.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],'+('[data-toggle="collapse"][data-target="#'+e.id+'"]')));var n=[].slice.call(document.querySelectorAll(v.DATA_TOGGLE));for(var r=0,i=n.length;r<i;r++){var a=n[r];var o=T.getSelectorFromElement(a);var s=[].slice.call(document.querySelectorAll(o)).filter(function(t){return t===e});if(o!==null&&s.length>0){this._selector=o;this._triggerArray.push(a)}}this._parent=this._config.parent?this._getParent():null;if(!this._config.parent){this._addAriaAndCollapsedClass(this._element,this._triggerArray)}if(this._config.toggle){this.toggle()}}var t=c.prototype;t.toggle=function t(){if(h(this._element).hasClass(p.SHOW)){this.hide()}else{this.show()}};t.show=function t(){var e=this;if(this._isTransitioning||h(this._element).hasClass(p.SHOW)){return}var n;var r;if(this._parent){n=[].slice.call(this._parent.querySelectorAll(v.ACTIVES)).filter(function(t){return t.getAttribute("data-parent")===e._config.parent});if(n.length===0){n=null}}if(n){r=h(n).not(this._selector).data(f);if(r&&r._isTransitioning){return}}var i=h.Event(d.SHOW);h(this._element).trigger(i);if(i.isDefaultPrevented()){return}if(n){c._jQueryInterface.call(h(n).not(this._selector),"hide");if(!r){h(n).data(f,null)}}var a=this._getDimension();h(this._element).removeClass(p.COLLAPSE).addClass(p.COLLAPSING);this._element.style[a]=0;if(this._triggerArray.length){h(this._triggerArray).removeClass(p.COLLAPSED).attr("aria-expanded",true)}this.setTransitioning(true);var o=function t(){h(e._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).addClass(p.SHOW);e._element.style[a]="";e.setTransitioning(false);h(e._element).trigger(d.SHOWN)};var s=a[0].toUpperCase()+a.slice(1);var u="scroll"+s;var l=T.getTransitionDurationFromElement(this._element);h(this._element).one(T.TRANSITION_END,o).emulateTransitionEnd(l);this._element.style[a]=this._element[u]+"px"};t.hide=function t(){var e=this;if(this._isTransitioning||!h(this._element).hasClass(p.SHOW)){return}var n=h.Event(d.HIDE);h(this._element).trigger(n);if(n.isDefaultPrevented()){return}var r=this._getDimension();this._element.style[r]=this._element.getBoundingClientRect()[r]+"px";T.reflow(this._element);h(this._element).addClass(p.COLLAPSING).removeClass(p.COLLAPSE).removeClass(p.SHOW);var i=this._triggerArray.length;if(i>0){for(var a=0;a<i;a++){var o=this._triggerArray[a];var s=T.getSelectorFromElement(o);if(s!==null){var u=h([].slice.call(document.querySelectorAll(s)));if(!u.hasClass(p.SHOW)){h(o).addClass(p.COLLAPSED).attr("aria-expanded",false)}}}}this.setTransitioning(true);var l=function t(){e.setTransitioning(false);h(e._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).trigger(d.HIDDEN)};this._element.style[r]="";var c=T.getTransitionDurationFromElement(this._element);h(this._element).one(T.TRANSITION_END,l).emulateTransitionEnd(c)};t.setTransitioning=function t(e){this._isTransitioning=e};t.dispose=function t(){h.removeData(this._element,f);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null};t._getConfig=function t(e){e=S({},a,e);e.toggle=Boolean(e.toggle);T.typeCheckConfig(n,e,o);return e};t._getDimension=function t(){var e=h(this._element).hasClass(s.WIDTH);return e?s.WIDTH:s.HEIGHT};t._getParent=function t(){var n=this;var e=null;if(T.isElement(this._config.parent)){e=this._config.parent;if(typeof this._config.parent.jquery!=="undefined"){e=this._config.parent[0]}}else{e=document.querySelector(this._config.parent)}var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';var i=[].slice.call(e.querySelectorAll(r));h(i).each(function(t,e){n._addAriaAndCollapsedClass(c._getTargetFromElement(e),[e])});return e};t._addAriaAndCollapsedClass=function t(e,n){if(e){var r=h(e).hasClass(p.SHOW);if(n.length){h(n).toggleClass(p.COLLAPSED,!r).attr("aria-expanded",r)}}};c._getTargetFromElement=function t(e){var n=T.getSelectorFromElement(e);return n?document.querySelector(n):null};c._jQueryInterface=function t(r){return this.each(function(){var t=h(this);var e=t.data(f);var n=S({},a,t.data(),typeof r==="object"&&r?r:{});if(!e&&n.toggle&&/show|hide/.test(r)){n.toggle=false}if(!e){e=new c(this,n);t.data(f,e)}if(typeof r==="string"){if(typeof e[r]==="undefined"){throw new TypeError('No method named "'+r+'"')}e[r]()}})};w(c,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return a}}]);return c}();h(document).on(d.CLICK_DATA_API,v.DATA_TOGGLE,function(t){if(t.currentTarget.tagName==="A"){t.preventDefault()}var r=h(this);var e=T.getSelectorFromElement(this);var n=[].slice.call(document.querySelectorAll(e));h(n).each(function(){var t=h(this);var e=t.data(f);var n=e?"toggle":r.data();u._jQueryInterface.call(t,n)})});h.fn[n]=u._jQueryInterface;h.fn[n].Constructor=u;h.fn[n].noConflict=function(){h.fn[n]=i;return u._jQueryInterface};return u}(e);var u=function(h){var n="dropdown";var e="4.1.3";var f="bs.dropdown";var r="."+f;var t=".data-api";var i=h.fn[n];var s=27;var u=32;var d=9;var l=38;var p=40;var v=3;var g=new RegExp(l+"|"+p+"|"+s);var m={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+t,KEYDOWN_DATA_API:"keydown"+r+t,KEYUP_DATA_API:"keyup"+r+t};var y={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"};var _={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"};var a={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"};var o={offset:0,flip:true,boundary:"scrollParent",reference:"toggle",display:"dynamic"};var b={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};var c=function(){function c(t,e){this._element=t;this._popper=null;this._config=this._getConfig(e);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var t=c.prototype;t.toggle=function t(){if(this._element.disabled||h(this._element).hasClass(y.DISABLED)){return}var e=c._getParentFromElement(this._element);var n=h(this._menu).hasClass(y.SHOW);c._clearMenus();if(n){return}var r={relatedTarget:this._element};var i=h.Event(m.SHOW,r);h(e).trigger(i);if(i.isDefaultPrevented()){return}if(!this._inNavbar){if(typeof O==="undefined"){throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)")}var a=this._element;if(this._config.reference==="parent"){a=e}else if(T.isElement(this._config.reference)){a=this._config.reference;if(typeof this._config.reference.jquery!=="undefined"){a=this._config.reference[0]}}if(this._config.boundary!=="scrollParent"){h(e).addClass(y.POSITION_STATIC)}this._popper=new O(a,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&h(e).closest(_.NAVBAR_NAV).length===0){h(document.body).children().on("mouseover",null,h.noop)}this._element.focus();this._element.setAttribute("aria-expanded",true);h(this._menu).toggleClass(y.SHOW);h(e).toggleClass(y.SHOW).trigger(h.Event(m.SHOWN,r))};t.dispose=function t(){h.removeData(this._element,f);h(this._element).off(r);this._element=null;this._menu=null;if(this._popper!==null){this._popper.destroy();this._popper=null}};t.update=function t(){this._inNavbar=this._detectNavbar();if(this._popper!==null){this._popper.scheduleUpdate()}};t._addEventListeners=function t(){var e=this;h(this._element).on(m.CLICK,function(t){t.preventDefault();t.stopPropagation();e.toggle()})};t._getConfig=function t(e){e=S({},this.constructor.Default,h(this._element).data(),e);T.typeCheckConfig(n,e,this.constructor.DefaultType);return e};t._getMenuElement=function t(){if(!this._menu){var e=c._getParentFromElement(this._element);if(e){this._menu=e.querySelector(_.MENU)}}return this._menu};t._getPlacement=function t(){var e=h(this._element.parentNode);var n=a.BOTTOM;if(e.hasClass(y.DROPUP)){n=a.TOP;if(h(this._menu).hasClass(y.MENURIGHT)){n=a.TOPEND}}else if(e.hasClass(y.DROPRIGHT)){n=a.RIGHT}else if(e.hasClass(y.DROPLEFT)){n=a.LEFT}else if(h(this._menu).hasClass(y.MENURIGHT)){n=a.BOTTOMEND}return n};t._detectNavbar=function t(){return h(this._element).closest(".navbar").length>0};t._getPopperConfig=function t(){var e=this;var n={};if(typeof this._config.offset==="function"){n.fn=function(t){t.offsets=S({},t.offsets,e._config.offset(t.offsets)||{});return t}}else{n.offset=this._config.offset}var r={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if(this._config.display==="static"){r.modifiers.applyStyle={enabled:false}}return r};c._jQueryInterface=function t(n){return this.each(function(){var t=h(this).data(f);var e=typeof n==="object"?n:null;if(!t){t=new c(this,e);h(this).data(f,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};c._clearMenus=function t(e){if(e&&(e.which===v||e.type==="keyup"&&e.which!==d)){return}var n=[].slice.call(document.querySelectorAll(_.DATA_TOGGLE));for(var r=0,i=n.length;r<i;r++){var a=c._getParentFromElement(n[r]);var o=h(n[r]).data(f);var s={relatedTarget:n[r]};if(e&&e.type==="click"){s.clickEvent=e}if(!o){continue}var u=o._menu;if(!h(a).hasClass(y.SHOW)){continue}if(e&&(e.type==="click"&&/input|textarea/i.test(e.target.tagName)||e.type==="keyup"&&e.which===d)&&h.contains(a,e.target)){continue}var l=h.Event(m.HIDE,s);h(a).trigger(l);if(l.isDefaultPrevented()){continue}if("ontouchstart"in document.documentElement){h(document.body).children().off("mouseover",null,h.noop)}n[r].setAttribute("aria-expanded","false");h(u).removeClass(y.SHOW);h(a).removeClass(y.SHOW).trigger(h.Event(m.HIDDEN,s))}};c._getParentFromElement=function t(e){var n;var r=T.getSelectorFromElement(e);if(r){n=document.querySelector(r)}return n||e.parentNode};c._dataApiKeydownHandler=function t(e){if(/input|textarea/i.test(e.target.tagName)?e.which===u||e.which!==s&&(e.which!==p&&e.which!==l||h(e.target).closest(_.MENU).length):!g.test(e.which)){return}e.preventDefault();e.stopPropagation();if(this.disabled||h(this).hasClass(y.DISABLED)){return}var n=c._getParentFromElement(this);var r=h(n).hasClass(y.SHOW);if(!r&&(e.which!==s||e.which!==u)||r&&(e.which===s||e.which===u)){if(e.which===s){var i=n.querySelector(_.DATA_TOGGLE);h(i).trigger("focus")}h(this).trigger("click");return}var a=[].slice.call(n.querySelectorAll(_.VISIBLE_ITEMS));if(a.length===0){return}var o=a.indexOf(e.target);if(e.which===l&&o>0){o--}if(e.which===p&&o<a.length-1){o++}if(o<0){o=0}a[o].focus()};w(c,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return o}},{key:"DefaultType",get:function t(){return b}}]);return c}();h(document).on(m.KEYDOWN_DATA_API,_.DATA_TOGGLE,c._dataApiKeydownHandler).on(m.KEYDOWN_DATA_API,_.MENU,c._dataApiKeydownHandler).on(m.CLICK_DATA_API+" "+m.KEYUP_DATA_API,c._clearMenus).on(m.CLICK_DATA_API,_.DATA_TOGGLE,function(t){t.preventDefault();t.stopPropagation();c._jQueryInterface.call(h(this),"toggle")}).on(m.CLICK_DATA_API,_.FORM_CHILD,function(t){t.stopPropagation()});h.fn[n]=c._jQueryInterface;h.fn[n].Constructor=c;h.fn[n].noConflict=function(){h.fn[n]=i;return c._jQueryInterface};return c}(e,O);var l=function(s){var n="modal";var e="4.1.3";var o="bs.modal";var r="."+o;var t=".data-api";var i=s.fn[n];var a=27;var u={backdrop:true,keyboard:true,focus:true,show:true};var l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"};var c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,FOCUSIN:"focusin"+r,RESIZE:"resize"+r,CLICK_DISMISS:"click.dismiss"+r,KEYDOWN_DISMISS:"keydown.dismiss"+r,MOUSEUP_DISMISS:"mouseup.dismiss"+r,MOUSEDOWN_DISMISS:"mousedown.dismiss"+r,CLICK_DATA_API:"click"+r+t};var h={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"};var f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"};var d=function(){function i(t,e){this._config=this._getConfig(e);this._element=t;this._dialog=t.querySelector(f.DIALOG);this._backdrop=null;this._isShown=false;this._isBodyOverflowing=false;this._ignoreBackdropClick=false;this._scrollbarWidth=0}var t=i.prototype;t.toggle=function t(e){return this._isShown?this.hide():this.show(e)};t.show=function t(e){var n=this;if(this._isTransitioning||this._isShown){return}if(s(this._element).hasClass(h.FADE)){this._isTransitioning=true}var r=s.Event(c.SHOW,{relatedTarget:e});s(this._element).trigger(r);if(this._isShown||r.isDefaultPrevented()){return}this._isShown=true;this._checkScrollbar();this._setScrollbar();this._adjustDialog();s(document.body).addClass(h.OPEN);this._setEscapeEvent();this._setResizeEvent();s(this._element).on(c.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)});s(this._dialog).on(c.MOUSEDOWN_DISMISS,function(){s(n._element).one(c.MOUSEUP_DISMISS,function(t){if(s(t.target).is(n._element)){n._ignoreBackdropClick=true}})});this._showBackdrop(function(){return n._showElement(e)})};t.hide=function t(e){var n=this;if(e){e.preventDefault()}if(this._isTransitioning||!this._isShown){return}var r=s.Event(c.HIDE);s(this._element).trigger(r);if(!this._isShown||r.isDefaultPrevented()){return}this._isShown=false;var i=s(this._element).hasClass(h.FADE);if(i){this._isTransitioning=true}this._setEscapeEvent();this._setResizeEvent();s(document).off(c.FOCUSIN);s(this._element).removeClass(h.SHOW);s(this._element).off(c.CLICK_DISMISS);s(this._dialog).off(c.MOUSEDOWN_DISMISS);if(i){var a=T.getTransitionDurationFromElement(this._element);s(this._element).one(T.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(a)}else{this._hideModal()}};t.dispose=function t(){s.removeData(this._element,o);s(window,document,this._element,this._backdrop).off(r);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null};t.handleUpdate=function t(){this._adjustDialog()};t._getConfig=function t(e){e=S({},u,e);T.typeCheckConfig(n,e,l);return e};t._showElement=function t(e){var n=this;var r=s(this._element).hasClass(h.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element)}this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;if(r){T.reflow(this._element)}s(this._element).addClass(h.SHOW);if(this._config.focus){this._enforceFocus()}var i=s.Event(c.SHOWN,{relatedTarget:e});var a=function t(){if(n._config.focus){n._element.focus()}n._isTransitioning=false;s(n._element).trigger(i)};if(r){var o=T.getTransitionDurationFromElement(this._element);s(this._dialog).one(T.TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}};t._enforceFocus=function t(){var e=this;s(document).off(c.FOCUSIN).on(c.FOCUSIN,function(t){if(document!==t.target&&e._element!==t.target&&s(e._element).has(t.target).length===0){e._element.focus()}})};t._setEscapeEvent=function t(){var e=this;if(this._isShown&&this._config.keyboard){s(this._element).on(c.KEYDOWN_DISMISS,function(t){if(t.which===a){t.preventDefault();e.hide()}})}else if(!this._isShown){s(this._element).off(c.KEYDOWN_DISMISS)}};t._setResizeEvent=function t(){var e=this;if(this._isShown){s(window).on(c.RESIZE,function(t){return e.handleUpdate(t)})}else{s(window).off(c.RESIZE)}};t._hideModal=function t(){var e=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",true);this._isTransitioning=false;this._showBackdrop(function(){s(document.body).removeClass(h.OPEN);e._resetAdjustments();e._resetScrollbar();s(e._element).trigger(c.HIDDEN)})};t._removeBackdrop=function t(){if(this._backdrop){s(this._backdrop).remove();this._backdrop=null}};t._showBackdrop=function t(e){var n=this;var r=s(this._element).hasClass(h.FADE)?h.FADE:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className=h.BACKDROP;if(r){this._backdrop.classList.add(r)}s(this._backdrop).appendTo(document.body);s(this._element).on(c.CLICK_DISMISS,function(t){if(n._ignoreBackdropClick){n._ignoreBackdropClick=false;return}if(t.target!==t.currentTarget){return}if(n._config.backdrop==="static"){n._element.focus()}else{n.hide()}});if(r){T.reflow(this._backdrop)}s(this._backdrop).addClass(h.SHOW);if(!e){return}if(!r){e();return}var i=T.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(T.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){s(this._backdrop).removeClass(h.SHOW);var a=function t(){n._removeBackdrop();if(e){e()}};if(s(this._element).hasClass(h.FADE)){var o=T.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(T.TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}}else if(e){e()}};t._adjustDialog=function t(){var e=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&e){this._element.style.paddingLeft=this._scrollbarWidth+"px"}if(this._isBodyOverflowing&&!e){this._element.style.paddingRight=this._scrollbarWidth+"px"}};t._resetAdjustments=function t(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};t._checkScrollbar=function t(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};t._setScrollbar=function t(){var i=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(f.FIXED_CONTENT));var n=[].slice.call(document.querySelectorAll(f.STICKY_CONTENT));s(e).each(function(t,e){var n=e.style.paddingRight;var r=s(e).css("padding-right");s(e).data("padding-right",n).css("padding-right",parseFloat(r)+i._scrollbarWidth+"px")});s(n).each(function(t,e){var n=e.style.marginRight;var r=s(e).css("margin-right");s(e).data("margin-right",n).css("margin-right",parseFloat(r)-i._scrollbarWidth+"px")});var r=document.body.style.paddingRight;var a=s(document.body).css("padding-right");s(document.body).data("padding-right",r).css("padding-right",parseFloat(a)+this._scrollbarWidth+"px")}};t._resetScrollbar=function t(){var e=[].slice.call(document.querySelectorAll(f.FIXED_CONTENT));s(e).each(function(t,e){var n=s(e).data("padding-right");s(e).removeData("padding-right");e.style.paddingRight=n?n:""});var n=[].slice.call(document.querySelectorAll(""+f.STICKY_CONTENT));s(n).each(function(t,e){var n=s(e).data("margin-right");if(typeof n!=="undefined"){s(e).css("margin-right",n).removeData("margin-right")}});var r=s(document.body).data("padding-right");s(document.body).removeData("padding-right");document.body.style.paddingRight=r?r:""};t._getScrollbarWidth=function t(){var e=document.createElement("div");e.className=h.SCROLLBAR_MEASURER;document.body.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;document.body.removeChild(e);return n};i._jQueryInterface=function t(n,r){return this.each(function(){var t=s(this).data(o);var e=S({},u,s(this).data(),typeof n==="object"&&n?n:{});if(!t){t=new i(this,e);s(this).data(o,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n](r)}else if(e.show){t.show(r)}})};w(i,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return u}}]);return i}();s(document).on(c.CLICK_DATA_API,f.DATA_TOGGLE,function(t){var e=this;var n;var r=T.getSelectorFromElement(this);if(r){n=document.querySelector(r)}var i=s(n).data(o)?"toggle":S({},s(n).data(),s(this).data());if(this.tagName==="A"||this.tagName==="AREA"){t.preventDefault()}var a=s(n).one(c.SHOW,function(t){if(t.isDefaultPrevented()){return}a.one(c.HIDDEN,function(){if(s(e).is(":visible")){e.focus()}})});d._jQueryInterface.call(s(n),i,this)});s.fn[n]=d._jQueryInterface;s.fn[n].Constructor=d;s.fn[n].noConflict=function(){s.fn[n]=i;return d._jQueryInterface};return d}(e);var g=function(h){var n="tooltip";var e="4.1.3";var i="bs.tooltip";var a="."+i;var t=h.fn[n];var o="bs-tooltip";var s=new RegExp("(^|\\s)"+o+"\\S+","g");var u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"};var l={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};var c={animation:true,template:'<div class="tooltip" role="tooltip">'+'<div class="arrow"></div>'+'<div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,selector:false,placement:"top",offset:0,container:false,fallbackPlacement:"flip",boundary:"scrollParent"};var f={SHOW:"show",OUT:"out"};var d={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a};var p={FADE:"fade",SHOW:"show"};var v={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"};var g={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"};var r=function(){function r(t,e){if(typeof O==="undefined"){throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)")}this._isEnabled=true;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=t;this.config=this._getConfig(e);this.tip=null;this._setListeners()}var t=r.prototype;t.enable=function t(){this._isEnabled=true};t.disable=function t(){this._isEnabled=false};t.toggleEnabled=function t(){this._isEnabled=!this._isEnabled};t.toggle=function t(e){if(!this._isEnabled){return}if(e){var n=this.constructor.DATA_KEY;var r=h(e.currentTarget).data(n);if(!r){r=new this.constructor(e.currentTarget,this._getDelegateConfig());h(e.currentTarget).data(n,r)}r._activeTrigger.click=!r._activeTrigger.click;if(r._isWithActiveTrigger()){r._enter(null,r)}else{r._leave(null,r)}}else{if(h(this.getTipElement()).hasClass(p.SHOW)){this._leave(null,this);return}this._enter(null,this)}};t.dispose=function t(){clearTimeout(this._timeout);h.removeData(this.element,this.constructor.DATA_KEY);h(this.element).off(this.constructor.EVENT_KEY);h(this.element).closest(".modal").off("hide.bs.modal");if(this.tip){h(this.tip).remove()}this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper!==null){this._popper.destroy()}this._popper=null;this.element=null;this.config=null;this.tip=null};t.show=function t(){var n=this;if(h(this.element).css("display")==="none"){throw new Error("Please use show on visible elements")}var e=h.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){h(this.element).trigger(e);var r=h.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!r){return}var i=this.getTipElement();var a=T.getUID(this.constructor.NAME);i.setAttribute("id",a);this.element.setAttribute("aria-describedby",a);this.setContent();if(this.config.animation){h(i).addClass(p.FADE)}var o=typeof this.config.placement==="function"?this.config.placement.call(this,i,this.element):this.config.placement;var s=this._getAttachment(o);this.addAttachmentClass(s);var u=this.config.container===false?document.body:h(document).find(this.config.container);h(i).data(this.constructor.DATA_KEY,this);if(!h.contains(this.element.ownerDocument.documentElement,this.tip)){h(i).appendTo(u)}h(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new O(this.element,i,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:v.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function t(e){if(e.originalPlacement!==e.placement){n._handlePopperPlacementChange(e)}},onUpdate:function t(e){n._handlePopperPlacementChange(e)}});h(i).addClass(p.SHOW);if("ontouchstart"in document.documentElement){h(document.body).children().on("mouseover",null,h.noop)}var l=function t(){if(n.config.animation){n._fixTransition()}var e=n._hoverState;n._hoverState=null;h(n.element).trigger(n.constructor.Event.SHOWN);if(e===f.OUT){n._leave(null,n)}};if(h(this.tip).hasClass(p.FADE)){var c=T.getTransitionDurationFromElement(this.tip);h(this.tip).one(T.TRANSITION_END,l).emulateTransitionEnd(c)}else{l()}}};t.hide=function t(e){var n=this;var r=this.getTipElement();var i=h.Event(this.constructor.Event.HIDE);var a=function t(){if(n._hoverState!==f.SHOW&&r.parentNode){r.parentNode.removeChild(r)}n._cleanTipClass();n.element.removeAttribute("aria-describedby");h(n.element).trigger(n.constructor.Event.HIDDEN);if(n._popper!==null){n._popper.destroy()}if(e){e()}};h(this.element).trigger(i);if(i.isDefaultPrevented()){return}h(r).removeClass(p.SHOW);if("ontouchstart"in document.documentElement){h(document.body).children().off("mouseover",null,h.noop)}this._activeTrigger[g.CLICK]=false;this._activeTrigger[g.FOCUS]=false;this._activeTrigger[g.HOVER]=false;if(h(this.tip).hasClass(p.FADE)){var o=T.getTransitionDurationFromElement(r);h(r).one(T.TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}this._hoverState=""};t.update=function t(){if(this._popper!==null){this._popper.scheduleUpdate()}};t.isWithContent=function t(){return Boolean(this.getTitle())};t.addAttachmentClass=function t(e){h(this.getTipElement()).addClass(o+"-"+e)};t.getTipElement=function t(){this.tip=this.tip||h(this.config.template)[0];return this.tip};t.setContent=function t(){var e=this.getTipElement();this.setElementContent(h(e.querySelectorAll(v.TOOLTIP_INNER)),this.getTitle());h(e).removeClass(p.FADE+" "+p.SHOW)};t.setElementContent=function t(e,n){var r=this.config.html;if(typeof n==="object"&&(n.nodeType||n.jquery)){if(r){if(!h(n).parent().is(e)){e.empty().append(n)}}else{e.text(h(n).text())}}else{e[r?"html":"text"](n)}};t.getTitle=function t(){var e=this.element.getAttribute("data-original-title");if(!e){e=typeof this.config.title==="function"?this.config.title.call(this.element):this.config.title}return e};t._getAttachment=function t(e){return l[e.toUpperCase()]};t._setListeners=function t(){var r=this;var e=this.config.trigger.split(" ");e.forEach(function(t){if(t==="click"){h(r.element).on(r.constructor.Event.CLICK,r.config.selector,function(t){return r.toggle(t)})}else if(t!==g.MANUAL){var e=t===g.HOVER?r.constructor.Event.MOUSEENTER:r.constructor.Event.FOCUSIN;var n=t===g.HOVER?r.constructor.Event.MOUSELEAVE:r.constructor.Event.FOCUSOUT;h(r.element).on(e,r.config.selector,function(t){return r._enter(t)}).on(n,r.config.selector,function(t){return r._leave(t)})}h(r.element).closest(".modal").on("hide.bs.modal",function(){return r.hide()})});if(this.config.selector){this.config=S({},this.config,{trigger:"manual",selector:""})}else{this._fixTitle()}};t._fixTitle=function t(){var e=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||e!=="string"){this.element.setAttribute("data-original-title",this.element.getAttribute("title")||"");this.element.setAttribute("title","")}};t._enter=function t(e,n){var r=this.constructor.DATA_KEY;n=n||h(e.currentTarget).data(r);if(!n){n=new this.constructor(e.currentTarget,this._getDelegateConfig());h(e.currentTarget).data(r,n)}if(e){n._activeTrigger[e.type==="focusin"?g.FOCUS:g.HOVER]=true}if(h(n.getTipElement()).hasClass(p.SHOW)||n._hoverState===f.SHOW){n._hoverState=f.SHOW;return}clearTimeout(n._timeout);n._hoverState=f.SHOW;if(!n.config.delay||!n.config.delay.show){n.show();return}n._timeout=setTimeout(function(){if(n._hoverState===f.SHOW){n.show()}},n.config.delay.show)};t._leave=function t(e,n){var r=this.constructor.DATA_KEY;n=n||h(e.currentTarget).data(r);if(!n){n=new this.constructor(e.currentTarget,this._getDelegateConfig());h(e.currentTarget).data(r,n)}if(e){n._activeTrigger[e.type==="focusout"?g.FOCUS:g.HOVER]=false}if(n._isWithActiveTrigger()){return}clearTimeout(n._timeout);n._hoverState=f.OUT;if(!n.config.delay||!n.config.delay.hide){n.hide();return}n._timeout=setTimeout(function(){if(n._hoverState===f.OUT){n.hide()}},n.config.delay.hide)};t._isWithActiveTrigger=function t(){for(var e in this._activeTrigger){if(this._activeTrigger[e]){return true}}return false};t._getConfig=function t(e){e=S({},this.constructor.Default,h(this.element).data(),typeof e==="object"&&e?e:{});if(typeof e.delay==="number"){e.delay={show:e.delay,hide:e.delay}}if(typeof e.title==="number"){e.title=e.title.toString()}if(typeof e.content==="number"){e.content=e.content.toString()}T.typeCheckConfig(n,e,this.constructor.DefaultType);return e};t._getDelegateConfig=function t(){var e={};if(this.config){for(var n in this.config){if(this.constructor.Default[n]!==this.config[n]){e[n]=this.config[n]}}}return e};t._cleanTipClass=function t(){var e=h(this.getTipElement());var n=e.attr("class").match(s);if(n!==null&&n.length){e.removeClass(n.join(""))}};t._handlePopperPlacementChange=function t(e){var n=e.instance;this.tip=n.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(e.placement))};t._fixTransition=function t(){var e=this.getTipElement();var n=this.config.animation;if(e.getAttribute("x-placement")!==null){return}h(e).removeClass(p.FADE);this.config.animation=false;this.hide();this.show();this.config.animation=n};r._jQueryInterface=function t(n){return this.each(function(){var t=h(this).data(i);var e=typeof n==="object"&&n;if(!t&&/dispose|hide/.test(n)){return}if(!t){t=new r(this,e);h(this).data(i,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};w(r,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return c}},{key:"NAME",get:function t(){return n}},{key:"DATA_KEY",get:function t(){return i}},{key:"Event",get:function t(){return d}},{key:"EVENT_KEY",get:function t(){return a}},{key:"DefaultType",get:function t(){return u}}]);return r}();h.fn[n]=r._jQueryInterface;h.fn[n].Constructor=r;h.fn[n].noConflict=function(){h.fn[n]=t;return r._jQueryInterface};return r}(e,O);var c=function(i){var n="popover";var a="4.1.3";var o="bs.popover";var s="."+o;var t=i.fn[n];var u="bs-popover";var l=new RegExp("(^|\\s)"+u+"\\S+","g");var c=S({},g.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-header"></h3>'+'<div class="popover-body"></div></div>'});var h=S({},g.DefaultType,{content:"(string|element|function)"});var f={FADE:"fade",SHOW:"show"};var d={TITLE:".popover-header",CONTENT:".popover-body"};var p={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s};var e=function(t){v(r,t);function r(){return t.apply(this,arguments)||this}var e=r.prototype;e.isWithContent=function t(){return this.getTitle()||this._getContent()};e.addAttachmentClass=function t(e){i(this.getTipElement()).addClass(u+"-"+e)};e.getTipElement=function t(){this.tip=this.tip||i(this.config.template)[0];return this.tip};e.setContent=function t(){var e=i(this.getTipElement());this.setElementContent(e.find(d.TITLE),this.getTitle());var n=this._getContent();if(typeof n==="function"){n=n.call(this.element)}this.setElementContent(e.find(d.CONTENT),n);e.removeClass(f.FADE+" "+f.SHOW)};e._getContent=function t(){return this.element.getAttribute("data-content")||this.config.content};e._cleanTipClass=function t(){var e=i(this.getTipElement());var n=e.attr("class").match(l);if(n!==null&&n.length>0){e.removeClass(n.join(""))}};r._jQueryInterface=function t(n){return this.each(function(){var t=i(this).data(o);var e=typeof n==="object"?n:null;if(!t&&/destroy|hide/.test(n)){return}if(!t){t=new r(this,e);i(this).data(o,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};w(r,null,[{key:"VERSION",get:function t(){return a}},{key:"Default",get:function t(){return c}},{key:"NAME",get:function t(){return n}},{key:"DATA_KEY",get:function t(){return o}},{key:"Event",get:function t(){return p}},{key:"EVENT_KEY",get:function t(){return s}},{key:"DefaultType",get:function t(){return h}}]);return r}(g);i.fn[n]=e._jQueryInterface;i.fn[n].Constructor=e;i.fn[n].noConflict=function(){i.fn[n]=t;return e._jQueryInterface};return e}(e);var h=function(o){var i="scrollspy";var e="4.1.3";var a="bs.scrollspy";var n="."+a;var t=".data-api";var r=o.fn[i];var s={offset:10,method:"auto",target:""};var u={offset:"number",method:"string",target:"(string|element)"};var l={ACTIVATE:"activate"+n,SCROLL:"scroll"+n,LOAD_DATA_API:"load"+n+t};var c={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"};var h={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"};var f={OFFSET:"offset",POSITION:"position"};var d=function(){function r(t,e){var n=this;this._element=t;this._scrollElement=t.tagName==="BODY"?window:t;this._config=this._getConfig(e);this._selector=this._config.target+" "+h.NAV_LINKS+","+(this._config.target+" "+h.LIST_ITEMS+",")+(this._config.target+" "+h.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;o(this._scrollElement).on(l.SCROLL,function(t){return n._process(t)});this.refresh();this._process()}var t=r.prototype;t.refresh=function t(){var e=this;var n=this._scrollElement===this._scrollElement.window?f.OFFSET:f.POSITION;var i=this._config.method==="auto"?n:this._config.method;var a=i===f.POSITION?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();var r=[].slice.call(document.querySelectorAll(this._selector));r.map(function(t){var e;var n=T.getSelectorFromElement(t);if(n){e=document.querySelector(n)}if(e){var r=e.getBoundingClientRect();if(r.width||r.height){return[o(e)[i]().top+a,n]}}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]);e._targets.push(t[1])})};t.dispose=function t(){o.removeData(this._element,a);o(this._scrollElement).off(n);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null};t._getConfig=function t(e){e=S({},s,typeof e==="object"&&e?e:{});if(typeof e.target!=="string"){var n=o(e.target).attr("id");if(!n){n=T.getUID(i);o(e.target).attr("id",n)}e.target="#"+n}T.typeCheckConfig(i,e,u);return e};t._getScrollTop=function t(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};t._getScrollHeight=function t(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};t._getOffsetHeight=function t(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};t._process=function t(){var e=this._getScrollTop()+this._config.offset;var n=this._getScrollHeight();var r=this._config.offset+n-this._getOffsetHeight();if(this._scrollHeight!==n){this.refresh()}if(e>=r){var i=this._targets[this._targets.length-1];if(this._activeTarget!==i){this._activate(i)}return}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null;this._clear();return}var a=this._offsets.length;for(var o=a;o--;){var s=this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(typeof this._offsets[o+1]==="undefined"||e<this._offsets[o+1]);if(s){this._activate(this._targets[o])}}};t._activate=function t(e){this._activeTarget=e;this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+(t+'[href="'+e+'"]')});var r=o([].slice.call(document.querySelectorAll(n.join(","))));if(r.hasClass(c.DROPDOWN_ITEM)){r.closest(h.DROPDOWN).find(h.DROPDOWN_TOGGLE).addClass(c.ACTIVE);r.addClass(c.ACTIVE)}else{r.addClass(c.ACTIVE);r.parents(h.NAV_LIST_GROUP).prev(h.NAV_LINKS+", "+h.LIST_ITEMS).addClass(c.ACTIVE);r.parents(h.NAV_LIST_GROUP).prev(h.NAV_ITEMS).children(h.NAV_LINKS).addClass(c.ACTIVE)}o(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:e})};t._clear=function t(){var e=[].slice.call(document.querySelectorAll(this._selector));o(e).filter(h.ACTIVE).removeClass(c.ACTIVE)};r._jQueryInterface=function t(n){return this.each(function(){var t=o(this).data(a);var e=typeof n==="object"&&n;if(!t){t=new r(this,e);o(this).data(a,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};w(r,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return s}}]);return r}();o(window).on(l.LOAD_DATA_API,function(){var t=[].slice.call(document.querySelectorAll(h.DATA_SPY));var e=t.length;for(var n=e;n--;){var r=o(t[n]);d._jQueryInterface.call(r,r.data())}});o.fn[i]=d._jQueryInterface;o.fn[i].Constructor=d;o.fn[i].noConflict=function(){o.fn[i]=r;return d._jQueryInterface};return d}(e);var f=function(c){var t="tab";var e="4.1.3";var i="bs.tab";var n="."+i;var r=".data-api";var a=c.fn[t];var h={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK_DATA_API:"click"+n+r};var f={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"};var d={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"};var o=function(){function r(t){this._element=t}var t=r.prototype;t.show=function t(){var r=this;if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&c(this._element).hasClass(f.ACTIVE)||c(this._element).hasClass(f.DISABLED)){return}var e;var i;var n=c(this._element).closest(d.NAV_LIST_GROUP)[0];var a=T.getSelectorFromElement(this._element);if(n){var o=n.nodeName==="UL"?d.ACTIVE_UL:d.ACTIVE;i=c.makeArray(c(n).find(o));i=i[i.length-1]}var s=c.Event(h.HIDE,{relatedTarget:this._element});var u=c.Event(h.SHOW,{relatedTarget:i});if(i){c(i).trigger(s)}c(this._element).trigger(u);if(u.isDefaultPrevented()||s.isDefaultPrevented()){return}if(a){e=document.querySelector(a)}this._activate(this._element,n);var l=function t(){var e=c.Event(h.HIDDEN,{relatedTarget:r._element});var n=c.Event(h.SHOWN,{relatedTarget:i});c(i).trigger(e);c(r._element).trigger(n)};if(e){this._activate(e,e.parentNode,l)}else{l()}};t.dispose=function t(){c.removeData(this._element,i);this._element=null};t._activate=function t(e,n,r){var i=this;var a;if(n.nodeName==="UL"){a=c(n).find(d.ACTIVE_UL)}else{a=c(n).children(d.ACTIVE)}var o=a[0];var s=r&&o&&c(o).hasClass(f.FADE);var u=function t(){return i._transitionComplete(e,o,r)};if(o&&s){var l=T.getTransitionDurationFromElement(o);c(o).one(T.TRANSITION_END,u).emulateTransitionEnd(l)}else{u()}};t._transitionComplete=function t(e,n,r){if(n){c(n).removeClass(f.SHOW+" "+f.ACTIVE);var i=c(n.parentNode).find(d.DROPDOWN_ACTIVE_CHILD)[0];if(i){c(i).removeClass(f.ACTIVE)}if(n.getAttribute("role")==="tab"){n.setAttribute("aria-selected",false)}}c(e).addClass(f.ACTIVE);if(e.getAttribute("role")==="tab"){e.setAttribute("aria-selected",true)}T.reflow(e);c(e).addClass(f.SHOW);if(e.parentNode&&c(e.parentNode).hasClass(f.DROPDOWN_MENU)){var a=c(e).closest(d.DROPDOWN)[0];if(a){var o=[].slice.call(a.querySelectorAll(d.DROPDOWN_TOGGLE));c(o).addClass(f.ACTIVE)}e.setAttribute("aria-expanded",true)}if(r){r()}};r._jQueryInterface=function t(n){return this.each(function(){var t=c(this);var e=t.data(i);if(!e){e=new r(this);t.data(i,e)}if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n]()}})};w(r,null,[{key:"VERSION",get:function t(){return e}}]);return r}();c(document).on(h.CLICK_DATA_API,d.DATA_TOGGLE,function(t){t.preventDefault();o._jQueryInterface.call(c(this),"show")});c.fn[t]=o._jQueryInterface;c.fn[t].Constructor=o;c.fn[t].noConflict=function(){c.fn[t]=a;return o._jQueryInterface};return o}(e);(function(t){if(typeof t==="undefined"){throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.")}var e=t.fn.jquery.split(" ")[0].split(".");var n=1;var r=2;var i=9;var a=1;var o=4;if(e[0]<r&&e[1]<i||e[0]===n&&e[1]===i&&e[2]<a||e[0]>=o){throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}})(e);t.Util=T;t.Alert=n;t.Button=a;t.Carousel=o;t.Collapse=s;t.Dropdown=u;t.Modal=l;t.Popover=c;t.Scrollspy=h;t.Tab=f;t.Tooltip=g;Object.defineProperty(t,"__esModule",{value:true})})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(n,t,e){(function(t,e){true?n.exports=e():undefined})(this,function(){"use strict";function t(t,e,n,r,i){v(t,e,n||0,r||t.length-1,i||a)}function v(t,e,n,r,i){while(r>n){if(r-n>600){var a=r-n+1;var o=e-n+1;var s=Math.log(a);var u=.5*Math.exp(2*s/3);var l=.5*Math.sqrt(s*u*(a-u)/a)*(o-a/2<0?-1:1);var c=Math.max(n,Math.floor(e-o*u/a+l));var h=Math.min(r,Math.floor(e+(a-o)*u/a+l));v(t,e,c,h,i)}var f=t[e];var d=n;var p=r;g(t,n,e);if(i(t[r],f)>0)g(t,n,r);while(d<p){g(t,d,p);d++;p--;while(i(t[d],f)<0){d++}while(i(t[p],f)>0){p--}}if(i(t[n],f)===0)g(t,n,p);else{p++;g(t,p,r)}if(p<=e)n=p+1;if(e<=p)r=p-1}}function g(t,e,n){var r=t[e];t[e]=t[n];t[n]=r}function a(t,e){return t<e?-1:t>e?1:0}return t})},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function t(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function t(){return e.i}});Object.defineProperty(e,"exports",{enumerable:true});e.webpackPolyfill=1}return e}},function(e,n,r){var i,a,o;
/**
 * @preserve jQuery DateTimePicker
 * @homepage http://xdsoft.net/jqplugins/datetimepicker/
 * @author Chupurnov Valeriy (<chupurnov@gmail.com>)
 */var t=function t(rt){"use strict";var u={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:false,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:false,step:60,monthChangeSpinner:true,closeOnDateSelect:false,closeOnTimeSelect:true,closeOnWithoutClick:true,closeOnInputClick:true,openOnFocus:true,timepicker:true,datepicker:true,weeks:false,defaultTime:false,defaultDate:false,minDate:false,maxDate:false,minTime:false,maxTime:false,minDateTime:false,maxDateTime:false,allowTimes:[],opened:false,initTime:true,inline:false,theme:"",touchMovedThreshold:5,onSelectDate:function t(){},onSelectTime:function t(){},onChangeMonth:function t(){},onGetWeekOfYear:function t(){},onChangeYear:function t(){},onChangeDateTime:function t(){},onShow:function t(){},onClose:function t(){},onGenerate:function t(){},withoutCopyright:true,inverseButton:false,hours12:false,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:true,todayButton:true,prevButton:true,nextButton:true,defaultSelect:true,scrollMonth:true,scrollTime:true,scrollInput:true,lazyInit:false,mask:false,validateOnBlur:true,allowBlank:true,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:false,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:true,showApplyButton:false};var it=null,i=null,r="en",at="en";var a={meridiem:["AM","PM"]};var o=function t(){var e=u.i18n[at],n={days:e.dayOfWeek,daysShort:e.dayOfWeekShort,months:e.months,monthsShort:rt.map(e.months,function(t){return t.substring(0,3)})};if(typeof DateFormatter==="function"){it=i=new DateFormatter({dateSettings:rt.extend({},a,n)})}};var s={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function t(e,n){if(l(n)){return i.parseDate(e,n)}var r=moment(e,n);return r.isValid()?r.toDate():false},formatDate:function t(e,n){if(l(n)){return i.formatDate(e,n)}return moment(e).format(n)},formatMask:function t(e){return e.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};rt.datetimepicker={setLocale:function t(e){var n=u.i18n[e]?e:r;if(at!==n){at=n;o()}},setDateFormatter:function t(e){if(typeof e==="string"&&s.hasOwnProperty(e)){var n=s[e];rt.extend(u,n.default_options);it=n.formatter}else{it=e}}};var n={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"};var l=function t(e){return Object.values(n).indexOf(e)===-1?false:true};rt.extend(rt.datetimepicker,n);o();if(!window.getComputedStyle){window.getComputedStyle=function(n){this.el=n;this.getPropertyValue=function(t){var e=/(-([a-z]))/g;if(t==="float"){t="styleFloat"}if(e.test(t)){t=t.replace(e,function(t,e,n){return n.toUpperCase()})}return n.currentStyle[t]||null};return this}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(t,e){var n,r;for(n=e||0,r=this.length;n<r;n+=1){if(this[n]===t){return n}}return-1}}Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};rt.fn.xdsoftScroller=function(g,m){return this.each(function(){var a=rt(this),r=function t(e){var n={x:0,y:0},r;if(e.type==="touchstart"||e.type==="touchmove"||e.type==="touchend"||e.type==="touchcancel"){r=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];n.x=r.clientX;n.y=r.clientY}else if(e.type==="mousedown"||e.type==="mouseup"||e.type==="mousemove"||e.type==="mouseover"||e.type==="mouseout"||e.type==="mouseenter"||e.type==="mouseleave"){n.x=e.clientX;n.y=e.clientY}return n},o,s,u,l,c,h=100,n=false,i=0,f=0,d=0,e=false,p=0,v=function t(){};if(m==="hide"){a.find(".xdsoft_scrollbar").hide();return}if(!rt(this).hasClass("xdsoft_scroller_box")){o=a.children().eq(0);s=a[0].clientHeight;u=o[0].offsetHeight;l=rt('<div class="xdsoft_scrollbar"></div>');c=rt('<div class="xdsoft_scroller"></div>');l.append(c);a.addClass("xdsoft_scroller_box").append(l);v=function t(e){var n=r(e).y-i+p;if(n<0){n=0}if(n+c[0].offsetHeight>d){n=d-c[0].offsetHeight}a.trigger("scroll_element.xdsoft_scroller",[h?n/h:0])};c.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(t){if(!s){a.trigger("resize_scroll.xdsoft_scroller",[m])}i=r(t).y;p=parseInt(c.css("margin-top"),10);d=l[0].offsetHeight;if(t.type==="mousedown"||t.type==="touchstart"){if(g.ownerDocument){rt(g.ownerDocument.body).addClass("xdsoft_noselect")}rt([g.ownerDocument.body,g.contentWindow]).on("touchend mouseup.xdsoft_scroller",function t(){rt([g.ownerDocument.body,g.contentWindow]).off("touchend mouseup.xdsoft_scroller",t).off("mousemove.xdsoft_scroller",v).removeClass("xdsoft_noselect")});rt(g.ownerDocument.body).on("mousemove.xdsoft_scroller",v)}else{e=true;t.stopPropagation();t.preventDefault()}}).on("touchmove",function(t){if(e){t.preventDefault();v(t)}}).on("touchend touchcancel",function(){e=false;p=0});a.on("scroll_element.xdsoft_scroller",function(t,e){if(!s){a.trigger("resize_scroll.xdsoft_scroller",[e,true])}e=e>1?1:e<0||isNaN(e)?0:e;c.css("margin-top",h*e);setTimeout(function(){o.css("marginTop",-parseInt((o[0].offsetHeight-s)*e,10))},10)}).on("resize_scroll.xdsoft_scroller",function(t,e,n){var r,i;s=a[0].clientHeight;u=o[0].offsetHeight;r=s/u;i=r*l[0].offsetHeight;if(r>1){c.hide()}else{c.show();c.css("height",parseInt(i>10?i:10,10));h=l[0].offsetHeight-c[0].offsetHeight;if(n!==true){a.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(o.css("marginTop"),10))/(u-s)])}}});a.on("mousewheel",function(t){var e=Math.abs(parseInt(o.css("marginTop"),10));e=e-t.deltaY*20;if(e<0){e=0}a.trigger("scroll_element.xdsoft_scroller",[e/(u-s)]);t.stopPropagation();return false});a.on("touchstart",function(t){n=r(t);f=Math.abs(parseInt(o.css("marginTop"),10))});a.on("touchmove",function(t){if(n){t.preventDefault();var e=r(t);a.trigger("scroll_element.xdsoft_scroller",[(f-(e.y-n.y))/(u-s)])}});a.on("touchend touchcancel",function(){n=false;f=0})}a.trigger("resize_scroll.xdsoft_scroller",[m])})};rt.fn.datetimepicker=function($,n){var r=this,E=48,C=57,M=96,j=105,F=17,G=46,H=13,U=27,W=8,Y=37,V=38,q=39,z=40,B=9,K=116,X=65,Z=67,Q=86,J=90,tt=89,et=false,nt=rt.isPlainObject($)||!$?rt.extend(true,{},u,$):rt.extend(true,{},u),i=0,a,o,s=function t(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(){if(e.is(":disabled")||e.data("xdsoft_datetimepicker")){return}clearTimeout(i);i=setTimeout(function(){if(!e.data("xdsoft_datetimepicker")){a(e)}e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100)})};a=function t(A){var k=rt('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),e=rt('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),v=rt('<div class="xdsoft_datepicker active"></div>'),I=rt('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button>'+'<div class="xdsoft_label xdsoft_month"><span></span><i></i></div>'+'<div class="xdsoft_label xdsoft_year"><span></span><i></i></div>'+'<button type="button" class="xdsoft_next"></button></div>'),R=rt('<div class="xdsoft_calendar"></div>'),n=rt('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),l=n.find(".xdsoft_time_box").eq(0),D=rt('<div class="xdsoft_time_variant"></div>'),r=rt('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),P=rt('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),N=rt('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),i=false,a,o,s,u,c,h=0,L,g;if(nt.id){k.attr("id",nt.id)}if(nt.style){k.attr("style",nt.style)}if(nt.weeks){k.addClass("xdsoft_showweeks")}if(nt.rtl){k.addClass("xdsoft_rtl")}k.addClass("xdsoft_"+nt.theme);k.addClass(nt.className);I.find(".xdsoft_month span").after(P);I.find(".xdsoft_year span").after(N);I.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var e=rt(this).find(".xdsoft_select").eq(0),n=0,r=0,i=e.is(":visible"),a,o;I.find(".xdsoft_select").hide();if(L.currentTime){n=L.currentTime[rt(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()}e[i?"hide":"show"]();for(a=e.find("div.xdsoft_option"),o=0;o<a.length;o+=1){if(a.eq(o).data("value")===n){break}else{r+=a[0].offsetHeight}}e.xdsoftScroller(nt,r/(e.children()[0].offsetHeight-e[0].clientHeight));t.stopPropagation();return false});var f=function t(e){var n=e.originalEvent;var r=n.touches?n.touches[0]:n;this.touchStartPosition=this.touchStartPosition||r;var i=Math.abs(this.touchStartPosition.clientX-r.clientX);var a=Math.abs(this.touchStartPosition.clientY-r.clientY);var o=Math.sqrt(i*i+a*a);if(o>nt.touchMovedThreshold){this.touchMoved=true}};I.find(".xdsoft_select").xdsoftScroller(nt).on("touchstart mousedown.xdsoft",function(t){var e=t.originalEvent;this.touchMoved=false;this.touchStartPosition=e.touches?e.touches[0]:e;t.stopPropagation();t.preventDefault()}).on("touchmove",".xdsoft_option",f).on("touchend mousedown.xdsoft",".xdsoft_option",function(){if(!this.touchMoved){if(L.currentTime===undefined||L.currentTime===null){L.currentTime=L.now()}var t=L.currentTime.getFullYear();if(L&&L.currentTime){L.currentTime[rt(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](rt(this).data("value"))}rt(this).parent().parent().hide();k.trigger("xchange.xdsoft");if(nt.onChangeMonth&&rt.isFunction(nt.onChangeMonth)){nt.onChangeMonth.call(k,L.currentTime,k.data("input"))}if(t!==L.currentTime.getFullYear()&&rt.isFunction(nt.onChangeYear)){nt.onChangeYear.call(k,L.currentTime,k.data("input"))}}});k.getValue=function(){return L.getCurrentTime()};k.setOptions=function(t){var c={};nt=rt.extend(true,{},nt,t);if(t.allowTimes&&rt.isArray(t.allowTimes)&&t.allowTimes.length){nt.allowTimes=rt.extend(true,[],t.allowTimes)}if(t.weekends&&rt.isArray(t.weekends)&&t.weekends.length){nt.weekends=rt.extend(true,[],t.weekends)}if(t.allowDates&&rt.isArray(t.allowDates)&&t.allowDates.length){nt.allowDates=rt.extend(true,[],t.allowDates)}if(t.allowDateRe&&Object.prototype.toString.call(t.allowDateRe)==="[object String]"){nt.allowDateRe=new RegExp(t.allowDateRe)}if(t.highlightedDates&&rt.isArray(t.highlightedDates)&&t.highlightedDates.length){rt.each(t.highlightedDates,function(t,e){var n=rt.map(e.split(","),rt.trim),r,i=new m(it.parseDate(n[0],nt.formatDate),n[1],n[2]),a=it.formatDate(i.date,nt.formatDate);if(c[a]!==undefined){r=c[a].desc;if(r&&r.length&&i.desc&&i.desc.length){c[a].desc=r+"\n"+i.desc}}else{c[a]=i}});nt.highlightedDates=rt.extend(true,[],c)}if(t.highlightedPeriods&&rt.isArray(t.highlightedPeriods)&&t.highlightedPeriods.length){c=rt.extend(true,[],nt.highlightedDates);rt.each(t.highlightedPeriods,function(t,e){var n,r,i,a,o,s,u;if(rt.isArray(e)){n=e[0];r=e[1];i=e[2];u=e[3]}else{var l=rt.map(e.split(","),rt.trim);n=it.parseDate(l[0],nt.formatDate);r=it.parseDate(l[1],nt.formatDate);i=l[2];u=l[3]}while(n<=r){a=new m(n,i,u);o=it.formatDate(n,nt.formatDate);n.setDate(n.getDate()+1);if(c[o]!==undefined){s=c[o].desc;if(s&&s.length&&a.desc&&a.desc.length){c[o].desc=s+"\n"+a.desc}}else{c[o]=a}}});nt.highlightedDates=rt.extend(true,[],c)}if(t.disabledDates&&rt.isArray(t.disabledDates)&&t.disabledDates.length){nt.disabledDates=rt.extend(true,[],t.disabledDates)}if(t.disabledWeekDays&&rt.isArray(t.disabledWeekDays)&&t.disabledWeekDays.length){nt.disabledWeekDays=rt.extend(true,[],t.disabledWeekDays)}if((nt.open||nt.opened)&&!nt.inline){A.trigger("open.xdsoft")}if(nt.inline){i=true;k.addClass("xdsoft_inline");A.after(k).hide()}if(nt.inverseButton){nt.next="xdsoft_prev";nt.prev="xdsoft_next"}if(nt.datepicker){v.addClass("active")}else{v.removeClass("active")}if(nt.timepicker){n.addClass("active")}else{n.removeClass("active")}if(nt.value){L.setCurrentTime(nt.value);if(A&&A.val){A.val(L.str)}}if(isNaN(nt.dayOfWeekStart)){nt.dayOfWeekStart=0}else{nt.dayOfWeekStart=parseInt(nt.dayOfWeekStart,10)%7}if(!nt.timepickerScrollbar){l.xdsoftScroller(nt,"hide")}if(nt.minDate&&/^[\+\-](.*)$/.test(nt.minDate)){nt.minDate=it.formatDate(L.strToDateTime(nt.minDate),nt.formatDate)}if(nt.maxDate&&/^[\+\-](.*)$/.test(nt.maxDate)){nt.maxDate=it.formatDate(L.strToDateTime(nt.maxDate),nt.formatDate)}if(nt.minDateTime&&/^\+(.*)$/.test(nt.minDateTime)){nt.minDateTime=L.strToDateTime(nt.minDateTime).dateFormat(nt.formatDate)}if(nt.maxDateTime&&/^\+(.*)$/.test(nt.maxDateTime)){nt.maxDateTime=L.strToDateTime(nt.maxDateTime).dateFormat(nt.formatDate)}r.toggle(nt.showApplyButton);I.find(".xdsoft_today_button").css("visibility",!nt.todayButton?"hidden":"visible");I.find("."+nt.prev).css("visibility",!nt.prevButton?"hidden":"visible");I.find("."+nt.next).css("visibility",!nt.nextButton?"hidden":"visible");p(nt);if(nt.validateOnBlur){A.off("blur.xdsoft").on("blur.xdsoft",function(){if(nt.allowBlank&&(!rt.trim(rt(this).val()).length||typeof nt.mask==="string"&&rt.trim(rt(this).val())===nt.mask.replace(/[0-9]/g,"_"))){rt(this).val(null);k.data("xdsoft_datetime").empty()}else{var t=it.parseDate(rt(this).val(),nt.format);if(t){rt(this).val(it.formatDate(t,nt.format))}else{var e=+[rt(this).val()[0],rt(this).val()[1]].join(""),n=+[rt(this).val()[2],rt(this).val()[3]].join("");if(!nt.datepicker&&nt.timepicker&&e>=0&&e<24&&n>=0&&n<60){rt(this).val([e,n].map(function(t){return t>9?t:"0"+t}).join(":"))}else{rt(this).val(it.formatDate(L.now(),nt.format))}}k.data("xdsoft_datetime").setCurrentTime(rt(this).val())}k.trigger("changedatetime.xdsoft");k.trigger("close.xdsoft")})}nt.dayOfWeekStartPrev=nt.dayOfWeekStart===0?6:nt.dayOfWeekStart-1;k.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")};k.data("options",nt).on("touchstart mousedown.xdsoft",function(t){t.stopPropagation();t.preventDefault();N.hide();P.hide();return false});l.append(D);l.xdsoftScroller(nt);k.on("afterOpen.xdsoft",function(){l.xdsoftScroller(nt)});k.append(v).append(n);if(nt.withoutCopyright!==true){k.append(e)}v.append(I).append(R).append(r);rt(nt.parentID).append(k);a=function t(){var i=this;i.now=function(t){var e=new Date,n,r;if(!t&&nt.defaultDate){n=i.strToDateTime(nt.defaultDate);e.setFullYear(n.getFullYear());e.setMonth(n.getMonth());e.setDate(n.getDate())}e.setFullYear(e.getFullYear());if(!t&&nt.defaultTime){r=i.strtotime(nt.defaultTime);e.setHours(r.getHours());e.setMinutes(r.getMinutes());e.setSeconds(r.getSeconds());e.setMilliseconds(r.getMilliseconds())}return e};i.isValidDate=function(t){if(Object.prototype.toString.call(t)!=="[object Date]"){return false}return!isNaN(t.getTime())};i.setCurrentTime=function(t,e){if(typeof t==="string"){i.currentTime=i.strToDateTime(t)}else if(i.isValidDate(t)){i.currentTime=t}else if(!t&&!e&&nt.allowBlank&&!nt.inline){i.currentTime=null}else{i.currentTime=i.now()}k.trigger("xchange.xdsoft")};i.empty=function(){i.currentTime=null};i.getCurrentTime=function(){return i.currentTime};i.nextMonth=function(){if(i.currentTime===undefined||i.currentTime===null){i.currentTime=i.now()}var t=i.currentTime.getMonth()+1,e;if(t===12){i.currentTime.setFullYear(i.currentTime.getFullYear()+1);t=0}e=i.currentTime.getFullYear();i.currentTime.setDate(Math.min(new Date(i.currentTime.getFullYear(),t+1,0).getDate(),i.currentTime.getDate()));i.currentTime.setMonth(t);if(nt.onChangeMonth&&rt.isFunction(nt.onChangeMonth)){nt.onChangeMonth.call(k,L.currentTime,k.data("input"))}if(e!==i.currentTime.getFullYear()&&rt.isFunction(nt.onChangeYear)){nt.onChangeYear.call(k,L.currentTime,k.data("input"))}k.trigger("xchange.xdsoft");return t};i.prevMonth=function(){if(i.currentTime===undefined||i.currentTime===null){i.currentTime=i.now()}var t=i.currentTime.getMonth()-1;if(t===-1){i.currentTime.setFullYear(i.currentTime.getFullYear()-1);t=11}i.currentTime.setDate(Math.min(new Date(i.currentTime.getFullYear(),t+1,0).getDate(),i.currentTime.getDate()));i.currentTime.setMonth(t);if(nt.onChangeMonth&&rt.isFunction(nt.onChangeMonth)){nt.onChangeMonth.call(k,L.currentTime,k.data("input"))}k.trigger("xchange.xdsoft");return t};i.getWeekOfYear=function(t){if(nt.onGetWeekOfYear&&rt.isFunction(nt.onGetWeekOfYear)){var e=nt.onGetWeekOfYear.call(k,t);if(typeof e!=="undefined"){return e}}var n=new Date(t.getFullYear(),0,1);if(n.getDay()!==4){n.setMonth(0,1+(4-n.getDay()+7)%7)}return Math.ceil(((t-n)/864e5+n.getDay()+1)/7)};i.strToDateTime=function(t){var e=[],n,r;if(t&&t instanceof Date&&i.isValidDate(t)){return t}e=/^([+-]{1})(.*)$/.exec(t);if(e){e[2]=it.parseDate(e[2],nt.formatDate)}if(e&&e[2]){n=e[2].getTime()-e[2].getTimezoneOffset()*6e4;r=new Date(i.now(true).getTime()+parseInt(e[1]+"1",10)*n)}else{r=t?it.parseDate(t,nt.format):i.now()}if(!i.isValidDate(r)){r=i.now()}return r};i.strToDate=function(t){if(t&&t instanceof Date&&i.isValidDate(t)){return t}var e=t?it.parseDate(t,nt.formatDate):i.now(true);if(!i.isValidDate(e)){e=i.now(true)}return e};i.strtotime=function(t){if(t&&t instanceof Date&&i.isValidDate(t)){return t}var e=t?it.parseDate(t,nt.formatTime):i.now(true);if(!i.isValidDate(e)){e=i.now(true)}return e};i.str=function(){var t=nt.format;if(nt.yearOffset){t=t.replace("Y",i.currentTime.getFullYear()+nt.yearOffset);t=t.replace("y",String(i.currentTime.getFullYear()+nt.yearOffset).substring(2,4))}return it.formatDate(i.currentTime,t)};i.currentTime=this.now()};L=new a;r.on("touchend click",function(t){t.preventDefault();k.data("changed",true);L.setCurrentTime(d());A.val(L.str());k.trigger("close.xdsoft")});I.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){k.data("changed",true);L.setCurrentTime(0,true);k.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var t=L.getCurrentTime(),e,n;t=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=L.strToDate(nt.minDate);e=new Date(e.getFullYear(),e.getMonth(),e.getDate());if(t<e){return}n=L.strToDate(nt.maxDate);n=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(t>n){return}A.val(L.str());A.trigger("change");k.trigger("close.xdsoft")});I.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var n=rt(this),r=0,i=false;(function t(e){if(n.hasClass(nt.next)){L.nextMonth()}else if(n.hasClass(nt.prev)){L.prevMonth()}if(nt.monthChangeSpinner){if(!i){r=setTimeout(t,e||100)}}})(500);rt([nt.ownerDocument.body,nt.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(r);i=true;rt([nt.ownerDocument.body,nt.contentWindow]).off("touchend mouseup.xdsoft",t)})});n.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var a=rt(this),o=0,s=false,u=110;(function t(e){var n=l[0].clientHeight,r=D[0].offsetHeight,i=Math.abs(parseInt(D.css("marginTop"),10));if(a.hasClass(nt.next)&&r-n-nt.timeHeightInTimePicker>=i){D.css("marginTop","-"+(i+nt.timeHeightInTimePicker)+"px")}else if(a.hasClass(nt.prev)&&i-nt.timeHeightInTimePicker>=0){D.css("marginTop","-"+(i-nt.timeHeightInTimePicker)+"px")}l.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(D[0].style.marginTop,10)/(r-n))]);u=u>10?10:u-10;if(!s){o=setTimeout(t,e||u)}})(500);rt([nt.ownerDocument.body,nt.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(o);s=true;rt([nt.ownerDocument.body,nt.contentWindow]).off("touchend mouseup.xdsoft",t)})});o=0;k.on("xchange.xdsoft",function(t){clearTimeout(o);o=setTimeout(function(){if(L.currentTime===undefined||L.currentTime===null){L.currentTime=L.now()}var t="",e=new Date(L.currentTime.getFullYear(),L.currentTime.getMonth(),1,12,0,0),n=0,r,s=L.now(),i=false,a=false,o=false,u=false,l,c,h,f,d,p,v=[],g,m=true,y="",_,b,O;while(e.getDay()!==nt.dayOfWeekStart){e.setDate(e.getDate()-1)}t+="<table><thead><tr>";if(nt.weeks){t+="<th></th>"}for(r=0;r<7;r+=1){t+="<th>"+nt.i18n[at].dayOfWeekShort[(r+nt.dayOfWeekStart)%7]+"</th>"}t+="</tr></thead>";t+="<tbody>";if(nt.maxDate!==false){i=L.strToDate(nt.maxDate);i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59,999)}if(nt.minDate!==false){a=L.strToDate(nt.minDate);a=new Date(a.getFullYear(),a.getMonth(),a.getDate())}if(nt.minDateTime!==false){o=L.strToDate(nt.minDateTime);o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds())}if(nt.maxDateTime!==false){u=L.strToDate(nt.maxDateTime);u=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds())}var w;if(u!==false){w=(u.getFullYear()*12+u.getMonth())*31+u.getDate()}while(n<L.currentTime.countDaysInMonth()||e.getDay()!==nt.dayOfWeekStart||L.currentTime.getMonth()===e.getMonth()){v=[];n+=1;c=e.getDay();h=e.getDate();f=e.getFullYear();d=e.getMonth();p=L.getWeekOfYear(e);O="";v.push("xdsoft_date");if(nt.beforeShowDay&&rt.isFunction(nt.beforeShowDay.call)){g=nt.beforeShowDay.call(k,e)}else{g=null}if(nt.allowDateRe&&Object.prototype.toString.call(nt.allowDateRe)==="[object RegExp]"){if(!nt.allowDateRe.test(it.formatDate(e,nt.formatDate))){v.push("xdsoft_disabled")}}if(nt.allowDates&&nt.allowDates.length>0){if(nt.allowDates.indexOf(it.formatDate(e,nt.formatDate))===-1){v.push("xdsoft_disabled")}}var S=(e.getFullYear()*12+e.getMonth())*31+e.getDate();if(i!==false&&e>i||o!==false&&e<o||a!==false&&e<a||u!==false&&S>w||g&&g[0]===false){v.push("xdsoft_disabled")}if(nt.disabledDates.indexOf(it.formatDate(e,nt.formatDate))!==-1){v.push("xdsoft_disabled")}if(nt.disabledWeekDays.indexOf(c)!==-1){v.push("xdsoft_disabled")}if(A.is("[disabled]")){v.push("xdsoft_disabled")}if(g&&g[1]!==""){v.push(g[1])}if(L.currentTime.getMonth()!==d){v.push("xdsoft_other_month")}if((nt.defaultSelect||k.data("changed"))&&it.formatDate(L.currentTime,nt.formatDate)===it.formatDate(e,nt.formatDate)){v.push("xdsoft_current")}if(it.formatDate(s,nt.formatDate)===it.formatDate(e,nt.formatDate)){v.push("xdsoft_today")}if(e.getDay()===0||e.getDay()===6||nt.weekends.indexOf(it.formatDate(e,nt.formatDate))!==-1){v.push("xdsoft_weekend")}if(nt.highlightedDates[it.formatDate(e,nt.formatDate)]!==undefined){l=nt.highlightedDates[it.formatDate(e,nt.formatDate)];v.push(l.style===undefined?"xdsoft_highlighted_default":l.style);O=l.desc===undefined?"":l.desc}if(nt.beforeShowDay&&rt.isFunction(nt.beforeShowDay)){v.push(nt.beforeShowDay(e))}if(m){t+="<tr>";m=false;if(nt.weeks){t+="<th>"+p+"</th>"}}t+='<td data-date="'+h+'" data-month="'+d+'" data-year="'+f+'"'+' class="xdsoft_date xdsoft_day_of_week'+e.getDay()+" "+v.join(" ")+'" title="'+O+'">'+"<div>"+h+"</div>"+"</td>";if(e.getDay()===nt.dayOfWeekStartPrev){t+="</tr>";m=true}e.setDate(h+1)}t+="</tbody></table>";R.html(t);I.find(".xdsoft_label span").eq(0).text(nt.i18n[at].months[L.currentTime.getMonth()]);I.find(".xdsoft_label span").eq(1).text(L.currentTime.getFullYear()+nt.yearOffset);y="";_="";d="";var T=0;if(nt.minTime!==false){var x=L.strtotime(nt.minTime);T=60*x.getHours()+x.getMinutes()}var E=24*60;if(nt.maxTime!==false){var x=L.strtotime(nt.maxTime);E=60*x.getHours()+x.getMinutes()}if(nt.minDateTime!==false){var x=L.strToDateTime(nt.minDateTime);var C=it.formatDate(L.currentTime,nt.formatDate)===it.formatDate(x,nt.formatDate);if(C){var d=60*x.getHours()+x.getMinutes();if(d>T)T=d}}if(nt.maxDateTime!==false){var x=L.strToDateTime(nt.maxDateTime);var M=it.formatDate(L.currentTime,nt.formatDate)===it.formatDate(x,nt.formatDate);if(M){var d=60*x.getHours()+x.getMinutes();if(d<E)E=d}}b=function t(e,n){var r=L.now(),i,a=nt.allowTimes&&rt.isArray(nt.allowTimes)&&nt.allowTimes.length;r.setHours(e);e=parseInt(r.getHours(),10);r.setMinutes(n);n=parseInt(r.getMinutes(),10);v=[];var o=60*e+n;if(A.is("[disabled]")||o>=E||o<T){v.push("xdsoft_disabled")}i=new Date(L.currentTime);i.setHours(parseInt(L.currentTime.getHours(),10));if(!a){i.setMinutes(Math[nt.roundTime](L.currentTime.getMinutes()/nt.step)*nt.step)}if((nt.initTime||nt.defaultSelect||k.data("changed"))&&i.getHours()===parseInt(e,10)&&(!a&&nt.step>59||i.getMinutes()===parseInt(n,10))){if(nt.defaultSelect||k.data("changed")){v.push("xdsoft_current")}else if(nt.initTime){v.push("xdsoft_init_time")}}if(parseInt(s.getHours(),10)===parseInt(e,10)&&parseInt(s.getMinutes(),10)===parseInt(n,10)){v.push("xdsoft_today")}y+='<div class="xdsoft_time '+v.join(" ")+'" data-hour="'+e+'" data-minute="'+n+'">'+it.formatDate(r,nt.formatTime)+"</div>"};if(!nt.allowTimes||!rt.isArray(nt.allowTimes)||!nt.allowTimes.length){for(n=0,r=0;n<(nt.hours12?12:24);n+=1){for(r=0;r<60;r+=nt.step){var j=n*60+r;if(j<T)continue;if(j>=E)continue;_=(n<10?"0":"")+n;d=(r<10?"0":"")+r;b(_,d)}}}else{for(n=0;n<nt.allowTimes.length;n+=1){_=L.strtotime(nt.allowTimes[n]).getHours();d=L.strtotime(nt.allowTimes[n]).getMinutes();b(_,d)}}D.html(y);$="";for(n=parseInt(nt.yearStart,10);n<=parseInt(nt.yearEnd,10);n+=1){$+='<div class="xdsoft_option '+(L.currentTime.getFullYear()===n?"xdsoft_current":"")+'" data-value="'+n+'">'+(n+nt.yearOffset)+"</div>"}N.children().eq(0).html($);for(n=parseInt(nt.monthStart,10),$="";n<=parseInt(nt.monthEnd,10);n+=1){$+='<div class="xdsoft_option '+(L.currentTime.getMonth()===n?"xdsoft_current":"")+'" data-value="'+n+'">'+nt.i18n[at].months[n]+"</div>"}P.children().eq(0).html($);rt(k).trigger("generate.xdsoft")},10);t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(nt.timepicker){var t,e,n,r;if(D.find(".xdsoft_current").length){t=".xdsoft_current"}else if(D.find(".xdsoft_init_time").length){t=".xdsoft_init_time"}if(t){e=l[0].clientHeight;n=D[0].offsetHeight;r=D.find(t).index()*nt.timeHeightInTimePicker+1;if(n-e<r){r=n-e}l.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(n-e)])}else{l.trigger("scroll_element.xdsoft_scroller",[0])}}});s=0;R.on("touchend click.xdsoft","td",function(t){t.stopPropagation();s+=1;var e=rt(this),n=L.currentTime;if(n===undefined||n===null){L.currentTime=L.now();n=L.currentTime}if(e.hasClass("xdsoft_disabled")){return false}n.setDate(1);n.setFullYear(e.data("year"));n.setMonth(e.data("month"));n.setDate(e.data("date"));k.trigger("select.xdsoft",[n]);A.val(L.str());if(nt.onSelectDate&&rt.isFunction(nt.onSelectDate)){nt.onSelectDate.call(k,L.currentTime,k.data("input"),t)}k.data("changed",true);k.trigger("xchange.xdsoft");k.trigger("changedatetime.xdsoft");if((s>1||nt.closeOnDateSelect===true||nt.closeOnDateSelect===false&&!nt.timepicker)&&!nt.inline){k.trigger("close.xdsoft")}setTimeout(function(){s=0},200)});D.on("touchstart","div",function(t){this.touchMoved=false}).on("touchmove","div",f).on("touchend click.xdsoft","div",function(t){if(!this.touchMoved){t.stopPropagation();var e=rt(this),n=L.currentTime;if(n===undefined||n===null){L.currentTime=L.now();n=L.currentTime}if(e.hasClass("xdsoft_disabled")){return false}n.setHours(e.data("hour"));n.setMinutes(e.data("minute"));k.trigger("select.xdsoft",[n]);k.data("input").val(L.str());if(nt.onSelectTime&&rt.isFunction(nt.onSelectTime)){nt.onSelectTime.call(k,L.currentTime,k.data("input"),t)}k.data("changed",true);k.trigger("xchange.xdsoft");k.trigger("changedatetime.xdsoft");if(nt.inline!==true&&nt.closeOnTimeSelect===true){k.trigger("close.xdsoft")}}});v.on("mousewheel.xdsoft",function(t){if(!nt.scrollMonth){return true}if(t.deltaY<0){L.nextMonth()}else{L.prevMonth()}return false});A.on("mousewheel.xdsoft",function(t){if(!nt.scrollInput){return true}if(!nt.datepicker&&nt.timepicker){u=D.find(".xdsoft_current").length?D.find(".xdsoft_current").eq(0).index():0;if(u+t.deltaY>=0&&u+t.deltaY<D.children().length){u+=t.deltaY}if(D.children().eq(u).length){D.children().eq(u).trigger("mousedown")}return false}if(nt.datepicker&&!nt.timepicker){v.trigger(t,[t.deltaY,t.deltaX,t.deltaY]);if(A.val){A.val(L.str())}k.trigger("changedatetime.xdsoft");return false}});k.on("changedatetime.xdsoft",function(t){if(nt.onChangeDateTime&&rt.isFunction(nt.onChangeDateTime)){var e=k.data("input");nt.onChangeDateTime.call(k,L.currentTime,e,t);delete nt.value;e.trigger("change")}}).on("generate.xdsoft",function(){if(nt.onGenerate&&rt.isFunction(nt.onGenerate)){nt.onGenerate.call(k,L.currentTime,k.data("input"))}if(i){k.trigger("afterOpen.xdsoft");i=false}}).on("click.xdsoft",function(t){t.stopPropagation()});u=0;g=function t(e,n){do{e=e.parentNode;if(!e||n(e)===false){break}}while(e.nodeName!=="HTML")};c=function t(){var e,n,r,i,a,o,s,u,l,c,h,f,d;u=k.data("input");e=u.offset();n=u[0];c="top";r=e.top+n.offsetHeight-1;i=e.left;a="absolute";l=rt(nt.contentWindow).width();f=rt(nt.contentWindow).height();d=rt(nt.contentWindow).scrollTop();if(nt.ownerDocument.documentElement.clientWidth-e.left<v.parent().outerWidth(true)){var p=v.parent().outerWidth(true)-n.offsetWidth;i=i-p}if(u.parent().css("direction")==="rtl"){i-=k.outerWidth()-u.outerWidth()}if(nt.fixed){r-=d;i-=rt(nt.contentWindow).scrollLeft();a="fixed"}else{s=false;g(n,function(t){if(t===null){return false}if(nt.contentWindow.getComputedStyle(t).getPropertyValue("position")==="fixed"){s=true;return false}});if(s){a="fixed";if(r+k.outerHeight()>f+d){c="bottom";r=f+d-e.top}else{r-=d}}else{if(r+k[0].offsetHeight>f+d){r=e.top-k[0].offsetHeight+1}}if(r<0){r=0}if(i+n.offsetWidth>l){i=l-n.offsetWidth}}o=k[0];g(o,function(t){var e;e=nt.contentWindow.getComputedStyle(t).getPropertyValue("position");if(e==="relative"&&l>=t.offsetWidth){i=i-(l-t.offsetWidth)/2;return false}});h={position:a,left:i,top:"",bottom:""};h[c]=r;k.css(h)};k.on("open.xdsoft",function(t){var e=true;if(nt.onShow&&rt.isFunction(nt.onShow)){e=nt.onShow.call(k,L.currentTime,k.data("input"),t)}if(e!==false){k.show();c();rt(nt.contentWindow).off("resize.xdsoft",c).on("resize.xdsoft",c);if(nt.closeOnWithoutClick){rt([nt.ownerDocument.body,nt.contentWindow]).on("touchstart mousedown.xdsoft",function t(){k.trigger("close.xdsoft");rt([nt.ownerDocument.body,nt.contentWindow]).off("touchstart mousedown.xdsoft",t)})}}}).on("close.xdsoft",function(t){var e=true;I.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide();if(nt.onClose&&rt.isFunction(nt.onClose)){e=nt.onClose.call(k,L.currentTime,k.data("input"),t)}if(e!==false&&!nt.opened&&!nt.inline){k.hide()}t.stopPropagation()}).on("toggle.xdsoft",function(){if(k.is(":visible")){k.trigger("close.xdsoft")}else{k.trigger("open.xdsoft")}}).data("input",A);h=0;k.data("xdsoft_datetime",L);k.setOptions(nt);function d(){var t=false,e;if(nt.startDate){t=L.strToDate(nt.startDate)}else{t=nt.value||(A&&A.val&&A.val()?A.val():"");if(t){t=L.strToDateTime(t);if(nt.yearOffset){t=new Date(t.getFullYear()-nt.yearOffset,t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}}else if(nt.defaultDate){t=L.strToDateTime(nt.defaultDate);if(nt.defaultTime){e=L.strtotime(nt.defaultTime);t.setHours(e.getHours());t.setMinutes(e.getMinutes())}}}if(t&&L.isValidDate(t)){k.data("changed",true)}else{t=""}return t||0}function p(S){var T=function t(e,n){var r=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(r).test(n)},t=function t(e){try{if(S.ownerDocument.selection&&S.ownerDocument.selection.createRange){var n=S.ownerDocument.selection.createRange();return n.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange){return e.selectionStart}}catch(t){return 0}},x=function t(e,n){e=typeof e==="string"||e instanceof String?S.ownerDocument.getElementById(e):e;if(!e){return false}if(e.createTextRange){var r=e.createTextRange();r.collapse(true);r.moveEnd("character",n);r.moveStart("character",n);r.select();return true}if(e.setSelectionRange){e.setSelectionRange(n,n);return true}return false};if(S.mask){A.off("keydown.xdsoft")}if(S.mask===true){if(it.formatMask){S.mask=it.formatMask(S.format)}else{S.mask=S.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")}}if(rt.type(S.mask)==="string"){if(!T(S.mask,A.val())){A.val(S.mask.replace(/[0-9]/g,"_"));x(A[0],0)}A.on("paste.xdsoft",function(t){var e=t.clipboardData||t.originalEvent.clipboardData||window.clipboardData,n=e.getData("text"),r=this.value,i=this.selectionStart;var a=r.substr(0,i);var o=r.substr(i+n.length);r=a+n+o;i+=n.length;if(T(S.mask,r)){this.value=r;x(this,i)}else if(rt.trim(r)===""){this.value=S.mask.replace(/[0-9]/g,"_")}else{A.trigger("error_input.xdsoft")}t.preventDefault();return false});A.on("keydown.xdsoft",function(t){var e=this.value,n=t.which,r=this.selectionStart,i=this.selectionEnd,a=r!==i,o;if(n>=E&&n<=C||n>=M&&n<=j||n===W||n===G){o=n===W||n===G?"_":String.fromCharCode(M<=n&&n<=j?n-E:n);if(n===W&&r&&!a){r-=1}while(true){var s=S.mask.substr(r,1);var u=r<S.mask.length;var l=r>0;var c=/[^0-9_]/;var h=c.test(s);var f=h&&u&&l;if(!f)break;r+=n===W&&!a?-1:1}if(a){var d=i-r;var p=S.mask.replace(/[0-9]/g,"_");var v=p.substr(r,d);var g=v.substr(1);var m=e.substr(0,r);var y=o+g;var _=e.substr(r+d);e=m+y+_}else{var b=e.substr(0,r);var O=o;var w=e.substr(r+1);e=b+O+w}if(rt.trim(e)===""){e=p}else{if(r===S.mask.length){t.preventDefault();return false}}r+=n===W?0:1;while(/[^0-9_]/.test(S.mask.substr(r,1))&&r<S.mask.length&&r>0){r+=n===W?0:1}if(T(S.mask,e)){this.value=e;x(this,r)}else if(rt.trim(e)===""){this.value=S.mask.replace(/[0-9]/g,"_")}else{A.trigger("error_input.xdsoft")}}else{if([X,Z,Q,J,tt].indexOf(n)!==-1&&et||[U,V,z,Y,q,K,F,B,H].indexOf(n)!==-1){return true}}t.preventDefault();return false})}}L.setCurrentTime(d());A.data("xdsoft_datetimepicker",k).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){if(A.is(":disabled")||A.data("xdsoft_datetimepicker").is(":visible")&&nt.closeOnInputClick){return}if(!nt.openOnFocus){return}clearTimeout(h);h=setTimeout(function(){if(A.is(":disabled")){return}i=true;L.setCurrentTime(d(),true);if(nt.mask){p(nt)}k.trigger("open.xdsoft")},100)}).on("keydown.xdsoft",function(t){var e,n=t.which;if([H].indexOf(n)!==-1&&nt.enterLikeTab){e=rt("input:visible,textarea:visible,button:visible,a:visible");k.trigger("close.xdsoft");e.eq(e.index(this)+1).focus();return false}if([B].indexOf(n)!==-1){k.trigger("close.xdsoft");return true}}).on("blur.xdsoft",function(){k.trigger("close.xdsoft")})};o=function t(e){var n=e.data("xdsoft_datetimepicker");if(n){n.data("xdsoft_datetime",null);n.remove();e.data("xdsoft_datetimepicker",null).off(".xdsoft");rt(nt.contentWindow).off("resize.xdsoft");rt([nt.contentWindow,nt.ownerDocument.body]).off("mousedown.xdsoft touchstart");if(e.unmousewheel){e.unmousewheel()}}};rt(nt.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){if(t.keyCode===F){et=true}}).on("keyup.xdsoftctrl",function(t){if(t.keyCode===F){et=false}});this.each(function(){var t=rt(this).data("xdsoft_datetimepicker"),e;if(t){if(rt.type($)==="string"){switch($){case"show":rt(this).select().focus();t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"toggle":t.trigger("toggle.xdsoft");break;case"destroy":o(rt(this));break;case"reset":this.value=this.defaultValue;if(!this.value||!t.data("xdsoft_datetime").isValidDate(it.parseDate(this.value,nt.format))){t.data("changed",false)}t.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":e=t.data("input");e.trigger("blur.xdsoft");break;default:if(t[$]&&rt.isFunction(t[$])){r=t[$](n)}}}else{t.setOptions($)}return 0}if(rt.type($)!=="string"){if(!nt.lazyInit||nt.open||nt.inline){a(rt(this))}else{s(rt(this))}}});return r};rt.fn.datetimepicker.defaults=u;function m(t,e,n){"use strict";this.date=t;this.desc=e;this.style=n}};(function(t){if(true){!(a=[r(35),r(357)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(t)},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(f){var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice,p,v;if(f.event.fixHooks){for(var e=t.length;e;){f.event.fixHooks[t[--e]]=f.event.mouseHooks}}var g=f.event.special.mousewheel={version:"3.1.12",setup:function t(){if(this.addEventListener){for(var e=n.length;e;){this.addEventListener(n[--e],r,false)}}else{this.onmousewheel=r}f.data(this,"mousewheel-line-height",g.getLineHeight(this));f.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function t(){if(this.removeEventListener){for(var e=n.length;e;){this.removeEventListener(n[--e],r,false)}}else{this.onmousewheel=null}f.removeData(this,"mousewheel-line-height");f.removeData(this,"mousewheel-page-height")},getLineHeight:function t(e){var n=f(e),r=n["offsetParent"in f.fn?"offsetParent":"parent"]();if(!r.length){r=f("body")}return parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function t(e){return f(e).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};f.fn.extend({mousewheel:function t(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function t(e){return this.unbind("mousewheel",e)}});function r(t){var e=t||window.event,n=d.call(arguments,1),r=0,i=0,a=0,o=0,s=0,u=0;t=f.event.fix(e);t.type="mousewheel";if("detail"in e){a=e.detail*-1}if("wheelDelta"in e){a=e.wheelDelta}if("wheelDeltaY"in e){a=e.wheelDeltaY}if("wheelDeltaX"in e){i=e.wheelDeltaX*-1}if("axis"in e&&e.axis===e.HORIZONTAL_AXIS){i=a*-1;a=0}r=a===0?i:a;if("deltaY"in e){a=e.deltaY*-1;r=a}if("deltaX"in e){i=e.deltaX;if(a===0){r=i*-1}}if(a===0&&i===0){return}if(e.deltaMode===1){var l=f.data(this,"mousewheel-line-height");r*=l;a*=l;i*=l}else if(e.deltaMode===2){var c=f.data(this,"mousewheel-page-height");r*=c;a*=c;i*=c}o=Math.max(Math.abs(a),Math.abs(i));if(!v||o<v){v=o;if(y(e,o)){v/=40}}if(y(e,o)){r/=40;i/=40;a/=40}r=Math[r>=1?"floor":"ceil"](r/v);i=Math[i>=1?"floor":"ceil"](i/v);a=Math[a>=1?"floor":"ceil"](a/v);if(g.settings.normalizeOffset&&this.getBoundingClientRect){var h=this.getBoundingClientRect();s=t.clientX-h.left;u=t.clientY-h.top}t.deltaX=i;t.deltaY=a;t.deltaFactor=v;t.offsetX=s;t.offsetY=u;t.deltaMode=0;n.unshift(t,r,i,a);if(p){clearTimeout(p)}p=setTimeout(m,200);return(f.event.dispatch||f.event.handle).apply(this,n)}function m(){v=null}function y(t,e){return g.settings.adjustOldDeltas&&t.type==="mousewheel"&&e%120===0}})},function(t,e){},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<fieldset ng-disabled="attrCtrl.disabled">\n  <div\n      class="form-group"\n      ng-repeat="attribute in ::attrCtrl.attributes">\n    <div ng-if="attribute.type !== \'geometry\'">\n      <label\n          ng-if="::attribute.type !== \'boolean\'"\n          class="col-form-label">{{ ::attribute.name | translate }} <span class="text-muted">{{::attribute.required ? "*" : ""}}</span>\n      </label>\n      <div ng-switch="::attribute.type">\n\n        <div\n            ng-switch-when="boolean"\n            class="checkbox">\n          <label>\n            <input\n                name="{{::attribute.name}}"\n                ng-model="attrCtrl.properties[attribute.name]"\n                ng-change="attrCtrl.handleInputChange(attribute.name);"\n                type="checkbox">\n            </input>\n            <span> {{ ::attribute.name | translate }} <span class="text-muted">{{::attribute.required ? "*" : ""}}</span></span>\n          </label>\n        </div>\n\n        <select\n            name="{{::attribute.name}}"\n            ng-required="attribute.required"\n            ng-switch-when="select"\n            ng-model="attrCtrl.properties[attribute.name]"\n            ng-change="attrCtrl.handleInputChange(attribute.name);"\n            class="form-control"\n            type="text">\n          <option\n              ng-repeat="attribute in ::attribute.choices"\n              value="{{ ::attribute }}">\n            {{ ::attribute }}\n          </option>\n        </select>\n\n        <input\n            name="{{::attribute.name}}"\n            ng-required="attribute.required"\n            ng-switch-when="date"\n            ng-model="attrCtrl.properties[attribute.name]"\n            ng-change="attrCtrl.handleInputChange(attribute.name);"\n            ngeo-datetimepicker\n            ngeo-datetimepicker-options="\'{&quot;timepicker&quot;: false, &quot;format&quot;: &quot;\' + attribute.format + \'&quot;, &quot;allowBlank&quot;: true, &quot;todayButton&quot;: false, &quot;mask&quot;: &quot;\' + attribute.mask + \'&quot;}\'"\n            class="form-control"\n            type="text">\n        </input>\n\n        <input\n            name="{{::attribute.name}}"\n            id="time"\n            ng-required="attribute.required"\n            ng-switch-when="time"\n            ng-model="attrCtrl.properties[attribute.name]"\n            ng-change="attrCtrl.handleInputChange(attribute.name);"\n            ngeo-datetimepicker\n            ngeo-datetimepicker-options="\'{&quot;datepicker&quot;: false, &quot;format&quot;: &quot;\' + attribute.format + \'&quot;, &quot;todayButton&quot;: false, &quot;mask&quot;: &quot;\' + attribute.mask + \'&quot;, &quot;defaultTime&quot;: &quot;00:00&quot;}\'"\n            class="form-control"\n            type="text">\n        </input>\n\n        <input\n            name="{{::attribute.name}}"\n            ng-required="attribute.required"\n            ng-switch-when="datetime"\n            ng-model="attrCtrl.properties[attribute.name]"\n            ng-change="attrCtrl.handleInputChange(attribute.name);"\n            ngeo-datetimepicker\n            ngeo-datetimepicker-options="\'{&quot;scrollTime&quot;: false, &quot;format&quot;: &quot;\' + attribute.format + \'&quot;, &quot;allowBlank&quot;: true, &quot;todayButton&quot;: false, &quot;mask&quot;: &quot;\' + attribute.mask + \'&quot;, &quot;defaultTime&quot;: &quot;00:00&quot;}\'"\n            class="form-control"\n            type="text">\n        </input>\n\n        <div\n            ng-switch-when="number"\n            ng-switch="::attribute.numType">\n          <input\n              name="{{::attribute.name}}"\n              ng-required="attribute.required"\n              ng-switch-when="integer"\n              ng-model="attrCtrl.properties[attribute.name]"\n              ng-change="attrCtrl.handleInputChange(attribute.name);"\n              class="form-control"\n              step="1"\n              type="number">\n          </input>\n          <input\n              name="{{::attribute.name}}"\n              ng-required="attribute.required"\n              ng-switch-default\n              ng-model="attrCtrl.properties[attribute.name]"\n              ng-change="attrCtrl.handleInputChange(attribute.name);"\n              class="form-control"\n              type="number">\n          </input>\n        </div>\n\n        <input\n            name="{{::attribute.name}}"\n            ng-required="attribute.required"\n            ng-switch-default\n            ng-model="attrCtrl.properties[attribute.name]"\n            ng-change="attrCtrl.handleInputChange(attribute.name);"\n            ng-maxlength="attribute.maxLength"\n            class="form-control"\n            type="text">\n        </input>\n\n        <div ng-show="attrCtrl.form.$submitted || attrCtrl.form[attribute.name].$touched">\n          <p class="text-danger"\n             ng-show="attrCtrl.form[attribute.name].$error.required">\n            {{\'This field is required\' | translate}}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</fieldset>\n'}return __p}},function(r,t,i){(function t(e,n){if(true)r.exports=n(i(35),i(308),i(235));else{}})(this,function(n,r,i){return function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:false};n[t].call(e.exports,e,e.exports,i);e.loaded=true;return e.exports}i.m=n;i.c=r;i.p="assets";return i(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(1);var i=u(r);var a=n(2);var p=u(a);var o=n(3);var s=u(o);function u(t){return t&&t.__esModule?t:{default:t}}e.default=p.default.module("ui.date",[]).constant("uiDateConfig",{}).constant("uiDateFormatConfig","").factory("uiDateConverter",["uiDateFormatConfig",function(r){return{stringToDate:e,dateToString:t};function t(t,e){var n=t||r;if(e){if(n){try{return i.default.datepicker.formatDate(n,e)}catch(t){return undefined}}if(e.toISOString){return e.toISOString()}}return null}function e(t,e){t=t||r;if(p.default.isDate(e)&&!isNaN(e)){return e}if(p.default.isString(e)){if(t){return i.default.datepicker.parseDate(t,e)}var n=new Date(e);return isNaN(n.getTime())?null:n}if(p.default.isNumber(e)){return new Date(e)}return null}}]).directive("uiDate",["uiDateConfig","uiDateConverter",function t(n,d){return{require:"?ngModel",link:function t(s,u,l,c){var h=(0,i.default)(u);var f=function t(){return p.default.extend({},n,s.$eval(l.uiDate))};var e=function t(){var n=false;var e=f();function r(t){var e=["Hours","Minutes","Seconds","Milliseconds"];var n=p.default.isDate(c.$modelValue);var r={};if(!t&&n&&c.$modelValue.toDateString()===h.datepicker("getDate").toDateString()){return}if(n){p.default.forEach(e,function(t){r[t]=c.$modelValue["get"+t]()})}var i=h.datepicker("getDate");if(n){p.default.forEach(e,function(t){i["set"+t](r[t])})}c.$setViewValue(i)}if(c){var i=e.onSelect||p.default.noop;e.onSelect=function(t,e){s.$apply(function(){n=true;r();h.blur();i(t,e,h)})};var a=e.beforeShow||p.default.noop;e.beforeShow=function(t,e){n=true;a(t,e,h)};var o=e.onClose||p.default.noop;e.onClose=function(t,e){n=false;o(t,e,h)};u.on("focus",function(t){if(l.readonly){t.stopImmediatePropagation()}});h.off("blur.datepicker").on("blur.datepicker",function(){if(!n){s.$apply(function(){h.datepicker("setDate",h.datepicker("getDate"));r()})}});c.$validators.uiDateValidator=function t(e,n){return n===null||n===""||p.default.isDate(d.stringToDate(l.uiDateFormat,n))};c.$parsers.push(function t(e){return d.stringToDate(l.uiDateFormat,e)});c.$render=function(){if(p.default.isDate(c.$modelValue)===false&&p.default.isString(c.$modelValue)){c.$modelValue=d.stringToDate(l.uiDateFormat,c.$modelValue)}h.datepicker("setDate",c.$modelValue)}}if(h.data("datepicker")){h.datepicker("option",e);h.datepicker("refresh")}else{h.datepicker(e);h.on("$destroy",function(){h.datepicker("hide");h.datepicker("destroy")})}if(c){c.$render();r(true)}};s.$watch(f,e,true)}}}]).directive("uiDateFormat",["uiDateConverter",function(o){return{require:"ngModel",link:function t(e,n,r,i){var a=r.uiDateFormat;i.$formatters.unshift(function(t){return o.stringToDate(a,t)});i.$parsers.push(function(t){return o.dateToString(a,t)})}}}])},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e){t.exports=i}])})},function(t,e,n){"use strict";var r=n(362);var i=n.n(r);var a=n(363);var o=n.n(a);var s=n(364);var u=n.n(s);var l=n(365);var c=n.n(l);var h=n(366);var f=n.n(h);var d=n(367);var p=n.n(d);var v=n(368);var g=n.n(v);var m=n(369);var y=n.n(m);var _=n(370);var b=n.n(_);var O=n(371);var w=n.n(O);var S=n(372);var T=n.n(S);var x=n(373);var E=n.n(x);var C=n(374);var M=n.n(C);var j=n(375);var A=n.n(j);var k=n(376);var I=n.n(k);var R=n(377);var D=n.n(R);var P=n(378);var N=n.n(P);var L=n(379);var $=n.n(L);var F=n(380);var G=n.n(F);var H=n(381);var U=n.n(H)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(235)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){t.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional.fr);return t.regional.fr})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(235)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){t.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional["en-GB"]);return t.regional["en-GB"]})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(235)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){t.regional.de={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional.de);return t.regional.de})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(235)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};t.setDefaults(t.regional.it);return t.regional.it})},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<div class="ngeo-datepicker">\n  <form name="dateForm" class="ngeo-datepicker-form" novalidate>\n    <div ng-if="::datepickerCtrl.time.widget === \'datepicker\'">\n      <div class="ngeo-datepicker-start-date">\n        <span ng-if="::datepickerCtrl.time.mode === \'range\'" translate>From:</span>\n        <span ng-if="::datepickerCtrl.time.mode !== \'range\'" translate>Date:</span>\n        <input name="sdate" ui-date="datepickerCtrl.sdateOptions" ng-model="datepickerCtrl.sdate" required=""/>\n      </div>\n      <div\n        class="ngeo-datepicker-end-date"\n        ng-if="::datepickerCtrl.time.mode === \'range\'">\n        <span translate>To:</span>\n        <input name="edate" ui-date="datepickerCtrl.edateOptions" ng-model="datepickerCtrl.edate" required=""/>\n      </div>\n    </div>\n  </form>\n</div>\n'}return __p}},function(module,exports,__webpack_require__){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<div class="dropdown">\n  <button\n      class="btn btn-default btn-sm btn-block dropdown-toggle"\n      type="button"\n      data-toggle="dropdown"\n      ng-click="$ctrl.toggle()">\n    <span>{{ ::$ctrl.clone.name | translate }}</span>\n  </button>\n  <div\n    class="dropdown-menu form-group"\n    ng-class="{show: $ctrl.rule.active}">\n\n    <select\n        class="form-control ngeo-rule-operators-list"\n        ng-disabled="$ctrl.drawActive"\n        ng-if="::$ctrl.clone.operators"\n        ng-model="$ctrl.clone.operator"\n        ng-options="$ctrl.operators[operator] | translate for operator in ::$ctrl.clone.operators track by operator">\n    </select>\n\n    <div ng-switch="::$ctrl.clone.type">\n\n      <div\n          class="ngeo-rule-type-date form-group"\n          ng-if="$ctrl.rule.active"\n          ng-switch-when="date|datetime"\n          ng-switch-when-separator="|">\n        <div ng-switch="$ctrl.clone.operator">\n          <div ng-switch-when="..|time_during" ng-switch-when-separator="|">\n            <ngeo-date-picker\n                time="$ctrl.timeRangeMode"\n                on-date-selected="$ctrl.onDateRangeSelected(time)">\n            </ngeo-date-picker>\n          </div>\n          <div ng-switch-default>\n            <ngeo-date-picker\n                time="$ctrl.timeValueMode"\n                on-date-selected="$ctrl.onDateSelected(time)">\n            </ngeo-date-picker>\n          </div>\n        </div>\n      </div>\n\n      <div\n          class="ngeo-rule-type-geometry form-group"\n          ng-switch-when="geometry">\n        <div ng-switch="$ctrl.geomType">\n          <span\n              ng-switch-when="Point">\n          '+((__t=__webpack_require__(312))==null?"":__t)+'\n          </span>\n          <span\n              ng-switch-when="LineString">\n          '+((__t=__webpack_require__(313))==null?"":__t)+'\n          </span>\n          <span\n              ng-switch-when="Polygon">\n          '+((__t=__webpack_require__(314))==null?"":__t)+'\n          </span>\n          <span\n              ng-switch-when="Circle">\n          '+((__t=__webpack_require__(315))==null?"":__t)+'\n          </span>\n          <span\n              ng-switch-when="Rectangle">\n          '+((__t=__webpack_require__(316))==null?"":__t)+'\n          </span>\n        </div>\n        <ngeo-drawfeature\n            ngeo-drawfeature-active="$ctrl.drawActive"\n            ngeo-drawfeature-features="$ctrl.drawnFeatures"\n            ngeo-drawfeature-map="$ctrl.map">\n          <div\n              ngeo-btn-group\n              class="btn-group">\n              <a\n                data-toggle="tooltip"\n                title="{{\'Draw a point on the map\' | translate}}"\n                href\n                ngeo-btn\n                ngeo-drawpoint\n                class="btn btn-sm btn-default ngeo-drawfeature-point"\n                ng-show="[\'intersects\', \'within\'].indexOf($ctrl.clone.operator) !== -1"\n                ng-class="{active: dfCtrl.drawPoint.active}"\n                ng-model="dfCtrl.drawPoint.active">\n                '+((__t=__webpack_require__(312))==null?"":__t)+'\n              </a>\n              <a\n                data-toggle="tooltip"\n                title="{{\'Draw a line on the map\' | translate}}"\n                href\n                ngeo-btn\n                ngeo-measurelength\n                class="btn btn-sm btn-default ngeo-drawfeature-linestring"\n                ng-show="[\'intersects\', \'within\'].indexOf($ctrl.clone.operator) !== -1"\n                ng-class="{active: dfCtrl.measureLength.active}"\n                ng-model="dfCtrl.measureLength.active">\n                '+((__t=__webpack_require__(313))==null?"":__t)+'\n              </a>\n              <a\n                data-toggle="tooltip"\n                title="{{\'Draw a polygon on the map\' | translate}}"\n                href\n                ngeo-btn\n                ngeo-measurearea\n                class="btn btn-sm btn-default ngeo-drawfeature-polygon"\n                ng-class="{active: dfCtrl.measureArea.active}"\n                ng-model="dfCtrl.measureArea.active">\n                '+((__t=__webpack_require__(314))==null?"":__t)+'\n              </a>\n              <a\n                data-toggle="tooltip"\n                title="{{\'Draw a circle on the map\' | translate}}"\n                href\n                ngeo-btn\n                ngeo-measureazimut\n                class="btn btn-sm btn-default ngeo-drawfeature-circle"\n                ng-class="{active: dfCtrl.measureAzimut.active}"\n                ng-model="dfCtrl.measureAzimut.active">\n                '+((__t=__webpack_require__(315))==null?"":__t)+'\n              </a>\n              <a\n                data-toggle="tooltip"\n                title="{{\'Draw a rectangle on the map\' | translate}}"\n                href\n                ngeo-btn\n                ngeo-drawrectangle\n                class="btn btn-sm btn-default ngeo-drawfeature-rectangle"\n                ng-class="{active: dfCtrl.drawRectangle.active}"\n                ng-model="dfCtrl.drawRectangle.active">\n                '+((__t=__webpack_require__(316))==null?"":__t)+'\n              </a>\n          </div>\n\n          <div\n              class="ngeo-rule-type-geometry-instructions"\n              ng-if="$ctrl.drawActive">\n            <span ng-if="dfCtrl.drawPoint.active">\n              {{ \'Draw a point on the map.\' | translate }}\n            </span>\n            <span ng-if="dfCtrl.measureLength.active">\n              {{ \'Draw a line string on the map.\' | translate }}\n            </span>\n            <span ng-if="dfCtrl.measureArea.active">\n              {{ \'Draw a polygon on the map.\' | translate }}\n            </span>\n            <span ng-if="dfCtrl.measureAzimut.active">\n              {{ \'Draw a circle on the map.\' | translate }}\n            </span>\n            <span ng-if="dfCtrl.drawRectangle.active">\n              {{ \'Draw a rectangle on the map.\' | translate }}\n            </span>\n          </div>\n        </ngeo-drawfeature>\n      </div>\n\n      <div\n          class="checkbox ngeo-rule-type-select"\n          ng-switch-when="select">\n        <a\n            ng-click="$ctrl.selectAllChoices()"\n            href>{{ All | translate}}\n        </a>\n        <label\n            class="form-group ol-unselectable"\n            ng-repeat="choice in ::$ctrl.clone.choices">\n          <input\n              ng-checked="$ctrl.clone.getExpression() && $ctrl.clone.getExpression().split(\',\').indexOf(choice) > -1"\n              ng-click="$ctrl.toggleChoiceSelection(choice)"\n              type="checkbox"\n              value="choice" />\n          <span>{{ choice | translate }}</span>\n        </label>\n\n      </div>\n\n      <div\n          class="form-group ngeo-rule-type-text"\n          ng-switch-default>\n        <div ng-switch="$ctrl.clone.operator">\n          <div ng-switch-when="..">\n            <input\n                type="number"\n                class="form-control"\n                ng-model="$ctrl.clone.lowerBoundary"/>\n            <input\n                type="number"\n                class="form-control"\n                ng-model="$ctrl.clone.upperBoundary"/>\n          </div>\n          <div ng-switch-default>\n            <input\n                type="number"\n                class="form-control"\n                ng-if="$ctrl.clone.type === \'number\'"\n                ng-model="$ctrl.clone.expression"/>\n            <input\n                type="text"\n                class="form-control"\n                ng-if="$ctrl.clone.type !== \'number\'"\n                ng-model="$ctrl.clone.expression"/>\n          </div>\n        </div>\n      </div>\n\n      <div class="ngeo-rule-btns">\n        <button\n            class="btn btn-sm btn-default"\n            ng-click="$ctrl.apply()"\n            type="button">{{\'Apply\' | translate}}</button>\n        <button\n            class="btn btn-sm btn-default"\n            ng-click="$ctrl.cancel()"\n            type="button">{{\'Cancel\' | translate}}</button>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n\n<div\n    class="ngeo-rule-value"\n    ng-if="$ctrl.rule.value !== null">\n\n  <a\n      class="btn btn-sm btn-link"\n      ng-click="!$ctrl.rule.active && $ctrl.reset()"\n      ng-disabled="$ctrl.rule.active"\n      href>\n    <span class="fa fa-times"></span>\n  </a>\n\n  <div ng-switch="::$ctrl.rule.type">\n\n    <div\n        ng-switch-when="date|datetime"\n        ng-switch-when-separator="|">\n      <div ng-switch="$ctrl.rule.operator">\n        <div ng-switch-when="..|time_during" ng-switch-when-separator="|">\n          <span translate>From </span>\n          <span>{{ $ctrl.timeToDate($ctrl.rule.lowerBoundary) }}</span>\n          <span translate> to </span>\n          <span>{{ $ctrl.timeToDate($ctrl.rule.upperBoundary) }}</span>\n        </div>\n        <div ng-switch-default>\n          <span>{{ $ctrl.operatorsShortFormat[$ctrl.rule.operator] }}</span>\n          <span>{{ $ctrl.timeToDate($ctrl.rule.getExpression()) }}</span>\n        </div>\n      </div>\n    </div>\n\n    <div ng-switch-when="geometry">\n      <span>{{ $ctrl.operators[$ctrl.rule.operator] }}</span>\n      <span ng-switch="$ctrl.getRuleGeometryType()">\n        <span\n            class="gmf-icon gmf-icon-point"\n            ng-switch-when="Point">\n        </span>\n        <span\n            class="gmf-icon gmf-icon-line"\n            ng-switch-when="LineString">\n        </span>\n        <span\n            class="gmf-icon gmf-icon-polygon"\n            ng-switch-when="Polygon">\n        </span>\n        <span\n            class="gmf-icon gmf-icon-circle"\n            ng-switch-when="Circle">\n        </span>\n        <span\n            class="gmf-icon gmf-icon-rectangle"\n            ng-switch-when="Rectangle">\n        </span>\n      </span>\n    </div>\n\n    <div ng-switch-when="select">\n      <span ng-repeat="choice in $ctrl.rule.getExpression().split(\',\')">\n        {{ choice | translate }}{{ $last ? \'\' : \', \' }}\n      </span>\n    </div>\n\n    <div ng-switch-default>\n      <div ng-switch="$ctrl.rule.operator">\n        <div ng-switch-when="..|time_during" ng-switch-when-separator="|">\n          <span translate>Between </span>\n          <span>{{ $ctrl.rule.lowerBoundary }}</span>\n          <span translate> and </span>\n          <span>{{ $ctrl.rule.upperBoundary }}</span>\n        </div>\n        <div ng-switch-default>\n          <span>{{ $ctrl.operatorsShortFormat[$ctrl.rule.operator] }}</span>\n          <span>{{ $ctrl.rule.getExpression() }}</span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n'}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<div class="dropdown">\n  <button\n      class="btn btn-link dropdown-toggle ngeo-filter-condition-button"\n      ng-class="{disabled: $ctrl.aRuleIsActive}"\n      type="button"\n      data-toggle="dropdown"\n      ng-disabled="$ctrl.aRuleIsActive">\n    <span class="fa fa-cog"></span>\n  </button>\n  <ul class="dropdown-menu">\n    <li\n        class="ngeo-filter-condition-criteria-header"\n        translate>Criteria taken into account</li>\n    <li ng-repeat="condition in ::$ctrl.conditions">\n      <a\n          href\n          ng-click="$ctrl.setCondition(condition)">\n          <span\n              ng-class="{\'ngeo-filter-condition-criteria-active\': condition.value == $ctrl.datasource.filterCondition}"\n              class="fa fa-check ngeo-filter-condition-criteria">\n          </span>\n          <span>{{::condition.text | translate}}</span>\n      </a>\n    </li>\n  </ul>\n</div>\n\n<ngeo-rule\n    ng-repeat="rule in $ctrl.directedRules"\n    feature-overlay="::$ctrl.featureOverlay"\n    class="ngeo-filter-rule-directed"\n    map="$ctrl.map"\n    rule="rule"\n    tool-group="$ctrl.toolGroup">\n</ngeo-rule>\n\n<hr class="ngeo-filter-separator-rules" />\n\n<div ng-repeat="rule in $ctrl.customRules">\n  <a\n      class="btn btn-sm btn-link ngeo-filter-rule-custom-rm-btn"\n      ng-click="!$ctrl.aRuleIsActive && $ctrl.removeCustomRule(rule)"\n      ng-disabled="$ctrl.aRuleIsActive"\n      href>\n    <span class="fa fa-times"></span>\n  </a>\n  <ngeo-rule\n      feature-overlay="::$ctrl.featureOverlay"\n      class="ngeo-filter-rule-custom"\n      map="$ctrl.map"\n      rule="rule"\n      tool-group="$ctrl.toolGroup">\n  </ngeo-rule>\n</div>\n\n<div class="dropdown">\n  <button\n      class="btn btn-link dropdown-toggle"\n      ng-class="{disabled: $ctrl.aRuleIsActive}"\n      type="button"\n      data-toggle="dropdown"\n      ng-disabled="$ctrl.aRuleIsActive">\n    <span translate>+ Add a new criteria</span>\n  </button>\n  <ul class="dropdown-menu">\n    <li ng-repeat="attribute in ::$ctrl.geometryAttributes">\n      <a\n          href\n          ng-click="$ctrl.createAndAddCustomRule(attribute)">\n          <span translate>Spatial filter</span>\n      </a>\n    </li>\n    <li role="presentation" class="divider"></li>\n    <li ng-repeat="attribute in ::$ctrl.otherAttributes">\n      <a\n          href\n          ng-click="$ctrl.createAndAddCustomRule(attribute)">\n          <span>{{::attribute.name | translate}}</span>\n      </a>\n    </li>\n  </ul>\n</div>\n\n<hr class="ngeo-filter-separator-criteria" />\n\n<button\n    class="btn btn-link"\n    type="button"\n    ng-click="$ctrl.apply()"\n    ng-disabled="$ctrl.hasARule() === false || $ctrl.datasource.visible === false">\n  <span class="fa fa-check"></span>\n  <span translate>Apply filter</span>\n</button>\n\n<button\n    class="btn btn-link"\n    type="button"\n    ng-click="$ctrl.getData()"\n    ng-disabled="$ctrl.hasARule() === false || $ctrl.datasource.visible === false">\n  <span class="fa fa-chevron-right"></span>\n  <span translate>Get data</span>\n</button>\n'}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<div\n  class="ngeo-googlestreetview-instructions"\n  ng-if="$ctrl.location === null"\n  translate>\n  Click on a road on the map to start StreetView.\n</div>\n<div\n  class="ngeo-googlestreetview-nodata"\n  ng-if="$ctrl.noDataAtLocation"\n  translate>\n  Street View data not found for this location.\n</div>\n'}return __p}},function(n,t,r){(function(e){/** @preserve jQuery.floatThead 2.1.2 - https://mkoryak.github.io/floatThead/ - Copyright (c) 2012 - 2018 Misha Koryak **/
// @license MIT
(function(_t){_t.floatThead=_t.floatThead||{};_t.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function t(e){return _t([])},responsiveContainer:function t(e){return _t([])},getSizingRow:function t(e,n,r){return e.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:true,autoReflow:false,debug:false,support:{bootstrap:true,datatables:true,jqueryUI:true,perfectScrollbar:true},floatContainerCss:{"overflow-x":"hidden"}};var bt=function t(){var r={};var n=Object.prototype.hasOwnProperty,e=["Arguments","Function","String","Number","Date","RegExp"];r.has=function(t,e){return n.call(t,e)};r.keys=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t){if(r.has(t,n))e.push(n)}return e};var i=0;r.uniqueId=function(t){var e=++i+"";return t?t+e:e};_t.each(e,function(){var e=this;r["is"+e]=function(t){return Object.prototype.toString.call(t)=="[object "+e+"]"}});r.debounce=function(n,r,i){var a,o,s,u,l;return function(){s=this;o=arguments;u=new Date;var t=function t(){var e=new Date-u;if(e<r){a=setTimeout(t,r-e)}else{a=null;if(!i)l=n.apply(s,o)}};var e=i&&!a;if(!a){a=setTimeout(t,r)}if(e)l=n.apply(s,o);return l}};return r}();var Ot=typeof MutationObserver!=="undefined";var wt=function(){for(var t=3,e=document.createElement("b"),n=e.all||[];t=1+t,e.innerHTML="\x3c!--[if gt IE "+t+"]><i><![endif]--\x3e",n[0];){}return 4<t?t:document.documentMode}();var t=/Gecko\//.test(navigator.userAgent);var St=/WebKit\//.test(navigator.userAgent);if(!(wt||t||St)){wt=11}var s=function t(){if(St){var e=_t("<div>").css("width",0).append(_t("<table>").css("max-width","100%").append(_t("<tr>").append(_t("<th>").append(_t("<div>").css("min-width",100).text("X")))));_t("body").append(e);var n=e.find("table").width()==0;e.remove();return n}return false};var Tt=!t&&!wt;var xt=_t(window);var Et=t&&window.matchMedia;if(!window.matchMedia||Et){var e=window.onbeforeprint;var n=window.onafterprint;window.onbeforeprint=function(){e&&e();xt.triggerHandler("beforeprint")};window.onafterprint=function(){n&&n();xt.triggerHandler("afterprint")}}function Ct(t,e){if(wt==8){var n=xt.width();var r=bt.debounce(function(){var t=xt.width();if(n!=t){n=t;e()}},1);xt.on(t,r)}else{xt.on(t,bt.debounce(e,1))}}function Mt(t){var e=t[0];var n=e.parentElement;do{var r=window.getComputedStyle(n).getPropertyValue("overflow");if(r!="visible")break}while(n=n.parentElement);if(n==document.body){return _t([])}return _t(n)}function jt(t){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+t)}function At(t){var e=t.getBoundingClientRect();return e.width||e.right-e.left}function kt(){var t=document.createElement("scrolltester");t.style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block";document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;document.body.removeChild(t);return e}function It(t){if(t.dataTableSettings){for(var e=0;e<t.dataTableSettings.length;e++){var n=t.dataTableSettings[e].nTable;if(t[0]==n){return true}}}return false}function Rt(t,e,n){var r=n?"outerWidth":"width";if(s&&t.css("max-width")){var i=0;if(n){i+=parseInt(t.css("borderLeft"),10);i+=parseInt(t.css("borderRight"),10)}for(var a=0;a<e.length;a++){i+=At(e.get(a))}return i}else{return t[r]()}}_t.fn.floatThead=function(t){t=t||{};if(wt<8){return this}var mt=null;if(bt.isFunction(s)){s=s()}if(bt.isString(t)){var i=t;var a=Array.prototype.slice.call(arguments,1);var o=this;this.filter("table").each(function(){var t=_t(this);var e=t.data("floatThead-lazy");if(e){t.floatThead(e)}var n=t.data("floatThead-attached");if(n&&bt.isFunction(n[i])){var r=n[i].apply(this,a);if(r!==undefined){o=r}}});return o}var yt=_t.extend({},_t.floatThead.defaults||{},t);_t.each(t,function(t,e){if(!(t in _t.floatThead.defaults)&&yt.debug){jt("Used ["+t+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+bt.keys(_t.floatThead.defaults).join(", "))}});if(yt.debug){var e=_t.fn.jquery.split(".");if(parseInt(e[0],10)==1&&parseInt(e[1],10)<=7){jt("jQuery version "+_t.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}}this.filter(":not(."+yt.floatTableClass+")").each(function(){var n=bt.uniqueId();var _=_t(this);if(_.data("floatThead-attached")){return true}if(!_.is("table")){throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();')}Ot=yt.autoReflow&&Ot;var s=_.children("thead:first");var r=_.children("tbody:first");if(s.length==0||r.length==0){if(yt.debug){if(s.length==0){jt("The thead element is missing.")}else{jt("The tbody element is missing.")}}_.data("floatThead-lazy",yt);_.unbind("reflow").one("reflow",function(){_.floatThead(yt)});return}if(_.data("floatThead-lazy")){_.unbind("reflow")}_.data("floatThead-lazy",false);var i=true;var b,e;var O={vertical:0,horizontal:0};if(bt.isFunction(kt)){kt=kt()}var u=0;if(yt.scrollContainer===true){yt.scrollContainer=Mt}var w=yt.scrollContainer(_)||_t([]);var S=w.length>0;var T=S?_t([]):yt.responsiveContainer(_)||_t([]);var x=J();var E=null;if(yt.position==="auto"){E=null}else if(yt.position==="fixed"){E=false}else if(yt.position==="absolute"){E=true}else if(yt.debug){jt('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',yt.position)}if(E==null){E=S}var a=_.find("caption");var C=a.length==1;if(C){var M=(a.css("caption-side")||a.attr("align")||"top")==="top"}var o=_t("<fthfoot>").css({display:"table-footer-group","border-spacing":0,height:0,"border-collapse":"collapse",visibility:"hidden"});var j=false;var l=_t([]);var A=wt<=9&&!S&&E;var c=_t("<table/>");var h=_t("<colgroup/>");var f=_.children("colgroup:first");var d=true;if(f.length==0){f=_t("<colgroup/>");d=false}var p=_t("<fthtr>").css({display:"table-row","border-spacing":0,height:0,"border-collapse":"collapse"});var k=_t("<div>").css(yt.floatContainerCss).attr("aria-hidden","true");var I=false;var v=_t("<thead/>");var g=_t('<tr class="size-row" aria-hidden="true"/>');var m=_t([]);var y=_t([]);var R=_t([]);var D=_t([]);v.append(g);_.prepend(f);if(Tt){o.append(p);_.append(o)}c.append(h);k.append(c);if(yt.copyTableClass){c.attr("class",_.attr("class"))}c.attr({cellpadding:_.attr("cellpadding"),cellspacing:_.attr("cellspacing"),border:_.attr("border")});var t=_.css("display");c.css({borderCollapse:_.css("borderCollapse"),border:_.css("border"),display:t});if(!S){c.css("width","auto")}if(t==="none"){I=true}c.addClass(yt.floatTableClass).css({margin:0,"border-bottom-width":0});if(E){var P=function t(e,n){var r=e.css("position");var i=r=="relative"||r=="absolute";var a=e;if(!i||n){var o={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight")};k.css(o);a=e.data("floatThead-containerWrap")||e.wrap(_t("<div>").addClass(yt.floatWrapperClass).css({position:"relative",clear:"both"})).parent();e.data("floatThead-containerWrap",a);j=true}return a};if(S){l=P(w,true);l.prepend(k)}else{l=P(_);_.before(k)}}else{_.before(k)}k.css({position:E?"absolute":"fixed",marginTop:0,top:E?0:"auto",zIndex:yt.zIndex,willChange:"transform"});k.addClass(yt.floatContainerClass);W();var N={"table-layout":"fixed"};var L={"table-layout":_.css("tableLayout")||"auto"};var $=_[0].style.width||"";var F=_.css("minWidth")||"";function G(t){return t+".fth-"+n+".floatTHead"}function H(){var t=0;s.children("tr:visible").each(function(){t+=_t(this).outerHeight(true)});if(_.css("border-collapse")=="collapse"){var e=parseInt(_.css("border-top-width"),10);var n=parseInt(_.find("thead tr:first").find(">*:first").css("border-top-width"),10);if(e>n){t-=e/2}}g.outerHeight(t);m.outerHeight(t)}function U(){var t=Rt(_,D,true);var e=x?T:w;var n=e.length?At(e[0]):t;var r=e.css("overflow-y")!="hidden"?n-O.vertical:n;k.width(r);if(S){var i=100*t/r;c.css("width",i+"%")}else{c.outerWidth(t)}}function W(){b=(bt.isFunction(yt.top)?yt.top(_):yt.top)||0;e=(bt.isFunction(yt.bottom)?yt.bottom(_):yt.bottom)||0}function Y(){var t;var e=s.find(yt.headerCellSelector);if(d){t=f.find("col").length}else{t=0;e.each(function(){t+=parseInt(_t(this).attr("colspan")||1,10)})}if(t!==u){u=t;var n=[],r=[],i=[],a;for(var o=0;o<t;o++){a=e.eq(o).text();n.push('<th class="floatThead-col" aria-label="'+a+'"/>');r.push("<col/>");i.push(_t("<fthtd>").css({display:"table-cell",height:0,width:"auto"}))}r=r.join("");n=n.join("");if(Tt){p.empty();p.append(i);D=p.find("fthtd")}g.html(n);m=g.find("th");if(!d){f.html(r)}y=f.find("col");h.html(r);R=h.find("col")}return t}function V(){if(!i){i=true;if(E){var t=Rt(_,D,true);var e=l.width();if(t>e){_.css("minWidth",t)}}_.css(N);c.css(N);c.append(s);r.before(v);H()}}function q(){if(i){i=false;if(E){_.width($)}v.detach();_.prepend(s);_.css(L);c.css(L);_.css("minWidth",F);_.css("minWidth",Rt(_,D))}}var z=false;function B(t){if(z!=t){z=t;_.triggerHandler("floatThead",[t,k])}}function K(t){if(E!=t){E=t;k.css({position:E?"absolute":"fixed"})}}function X(t,e,n,r){if(Tt){return n}else if(r){return yt.getSizingRow(t,e,n)}else{return e}}function Z(){var r;var i=Y();return function(){var t=k.scrollLeft();y=f.find("col");var e=X(_,y,D,wt);if(e.length==i&&i>0){if(!d){for(r=0;r<i;r++){y.eq(r).css("width","")}}q();var n=[];for(r=0;r<i;r++){n[r]=At(e.get(r))}for(r=0;r<i;r++){R.eq(r).width(n[r]);y.eq(r).width(n[r])}V()}else{c.append(s);_.css(L);c.css(L);H()}k.scrollLeft(t);_.triggerHandler("reflowed",[k])}}function Q(t){var e=w.css("border-"+t+"-width");var n=0;if(e&&~e.indexOf("px")){n=parseInt(e,10)}return n}function J(){return T.css("overflow-x")=="auto"}function tt(){var o=w.scrollTop();var s;var u=0;var l=C?a.outerHeight(true):0;var c=M?l:-l;var h=k.height();var f=_.offset();var d=0;var p=0;if(S){var t=w.offset();u=f.top-t.top+o;if(C&&M){u+=l}d=Q("left");p=Q("top");u-=p}else{s=f.top-b-h+e+O.horizontal}var v=xt.scrollTop();var g=xt.scrollLeft();var m=function t(){return(J()?T:w).scrollLeft()||0};var y=m();return function(t){x=J();var e=_[0].offsetWidth<=0&&_[0].offsetHeight<=0;if(!e&&I){I=false;setTimeout(function(){_.triggerHandler("reflow")},1);return null}if(e){I=true;if(!E){return null}}if(t=="windowScroll"){v=xt.scrollTop();g=xt.scrollLeft()}else if(t=="containerScroll"){if(T.length){if(!x){return}y=T.scrollLeft()}else{o=w.scrollTop();y=w.scrollLeft()}}else if(t!="init"){v=xt.scrollTop();g=xt.scrollLeft();o=w.scrollTop();y=m()}if(St&&(v<0||g<0)){return}if(A){if(t=="windowScrollDone"){K(true)}else{K(false)}}else if(t=="windowScrollDone"){return null}f=_.offset();if(C&&M){f.top+=l}var n,r;var i=_.outerHeight();if(S&&E){if(u>=o){var a=u-o+p;n=a>0?a:0;B(false)}else{n=j?p:o;B(true)}r=d}else if(!S&&E){if(v>s+i+c){n=i-h+c}else if(f.top>=v+b){n=0;q();B(false)}else{n=b+v-f.top+u+(M?l:0);V();B(true)}r=y}else if(S&&!E){if(u>o||o-u>i){n=f.top-v;q();B(false)}else{n=f.top+o-v-u;V();B(true)}r=f.left+y-g}else if(!S&&!E){if(v>s+i+c){n=i+b-v+s+c}else if(f.top>v+b){n=f.top-v;V();B(false)}else{n=b;B(true)}r=f.left+y-g}return{top:Math.round(n),left:Math.round(r)}}}function et(){var o=null;var s=null;var u=null;return function(t,e,n){if(t!=null&&(o!=t.top||s!=t.left)){if(wt===8){k.css({top:t.top,left:t.left})}else{var r="translateX("+t.left+"px) translateY("+t.top+"px)";var i={"-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r,top:0};i[/rtl/i.test(document.documentElement.dir||"")?"right":"left"]=0;k.css(i)}o=t.top;s=t.left}if(e){U()}if(n){H()}var a=(x?T:w).scrollLeft();if(!E||u!=a){k.scrollLeft(a);u=a}}}function nt(){if(w.length){if(yt.support&&yt.support.perfectScrollbar&&w.data().perfectScrollbar){O={horizontal:0,vertical:0}}else{if(w.css("overflow-x")=="scroll"){O.horizontal=kt}else{var t=w.width(),e=Rt(_,D);var n=r<i?kt:0;O.horizontal=t-n<e?kt:0}if(w.css("overflow-y")=="scroll"){O.vertical=kt}else{var r=w.height(),i=_.height();var a=t<e?kt:0;O.vertical=r-a<i?kt:0}}}}nt();var rt;var it=function t(){rt=Z();rt()};it();var at=tt();var ot=et();ot(at("init"),true);var st=bt.debounce(function(){ot(at("windowScrollDone"),false)},1);var ut=function t(){ot(at("windowScroll"),false);if(A){st()}};var lt=function t(){ot(at("containerScroll"),false)};var ct=function t(){if(_.is(":hidden")){return}W();nt();it();at=tt();ot=et();ot(at("resize"),true,true)};var ht=bt.debounce(function(){if(_.is(":hidden")){return}nt();W();it();at=tt();ot(at("reflow"),true,true)},1);var ft=function t(){q()};var dt=function t(){V()};var pt=function t(e){if(e.matches){ft()}else{dt()}};var vt=null;if(window.matchMedia&&window.matchMedia("print").addListener&&!Et){vt=window.matchMedia("print");vt.addListener(pt)}else{xt.on("beforeprint",ft);xt.on("afterprint",dt)}if(S){if(E){w.on(G("scroll"),lt)}else{w.on(G("scroll"),lt);xt.on(G("scroll"),ut)}}else{T.on(G("scroll"),lt);xt.on(G("scroll"),ut)}xt.on(G("load"),ht);Ct(G("resize"),ct);_.on("reflow",ht);if(yt.support&&yt.support.datatables&&It(_)){_.on("filter",ht).on("sort",ht).on("page",ht)}if(yt.support&&yt.support.bootstrap){xt.on(G("shown.bs.tab"),ht)}if(yt.support&&yt.support.jqueryUI){xt.on(G("tabsactivate"),ht)}if(Ot){var gt=null;if(bt.isFunction(yt.autoReflow)){gt=yt.autoReflow(_,w)}if(!gt){gt=w.length?w[0]:_[0]}mt=new MutationObserver(function(t){var e=function t(e){return e&&e[0]&&(e[0].nodeName=="THEAD"||e[0].nodeName=="TD"||e[0].nodeName=="TH")};for(var n=0;n<t.length;n++){if(!(e(t[n].addedNodes)||e(t[n].removedNodes))){ht();break}}});mt.observe(gt,{childList:true,subtree:true})}_.data("floatThead-attached",{destroy:function t(){var e=".fth-"+n;q();_.css(L);f.remove();Tt&&o.remove();if(v.parent().length){v.replaceWith(s)}B(false);if(Ot){mt.disconnect();mt=null}_.off("reflow reflowed");w.off(e);T.off(e);if(j){if(w.length){w.unwrap()}else{_.unwrap()}}if(S){w.data("floatThead-containerWrap",false)}else{_.data("floatThead-containerWrap",false)}_.css("minWidth",F);k.remove();_.data("floatThead-attached",false);xt.off(e);if(vt){vt.removeListener(pt)}ft=dt=function t(){};return function t(){return _.floatThead(yt)}},reflow:function t(){ht()},setHeaderHeight:function t(){H()},getFloatContainer:function t(){return k},getRowGroups:function t(){if(i){return k.find(">table>thead").add(_.children("tbody,tfoot"))}else{return _.children("thead,tbody,tfoot")}}})});return this}})(function(){var t=e;if(true&&n.exports&&!t){t=r(35)}return t}())}).call(this,r(35))},function(t,e,n){(function(o){
/**
 * floatThead wrapper for AngularJS
 * @version v0.1.0 - 2015-10-25
 * @link https://github.com/brandon-barker/angular-floatThead
 * @author Brandon Barker
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(){"use strict";angular.module("floatThead",[]).directive("floatThead",["$timeout","$log",t]);function t(i,a){var t={require:"?ngModel",scope:{floatThead:"=?",floatTheadEnabled:"=?"},controller:["$scope","$element","$attrs",function(t,e,n){if(!n.hasOwnProperty("floatTheadEnabled")){t.floatTheadEnabled=n.floatTheadEnabled=true}if(!n.hasOwnProperty("floatThead")||n.floatThead===""){t.floatThead=n.floatThead={}}}],link:e,restrict:"A"};return t;function e(n,r,t,e){n.$watch("floatTheadEnabled",function(t){if(t===true){if(angular.isObject(n.floatThead)){o(r).floatThead(n.floatThead)}}else{o(r).floatThead("destroy")}});n.$watch("floatThead",function(t,e){if(t===e||!n.floatTheadEnabled){return}o(r).floatThead("destroy");if(angular.isObject(t)){o(r).floatThead(t)}},true);if(e){e.$formatters.push(function(){if(n.floatTheadEnabled&&angular.isObject(n.floatThead)){i(function(){o(r).floatThead("reflow")})}})}else{a.info("floatThead: ngModel not provided!")}r.bind("update",function(){i(function(){o(r).floatThead("reflow")},0)});r.bind("$destroy",function(){o(r).floatThead("destroy")})}}})()}).call(this,n(35))},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<div class="ngeo-grid-table-container">\n  <table float-thead="ctrl.floatTheadConfig" ng-model="ctrl.configuration.data"\n         class="table table-bordered table-striped table-hover">\n    <thead class="table-header">\n      <tr>\n        <th ng-repeat="columnDefs in ctrl.configuration.columnDefs"\n            ng-click="ctrl.sort(columnDefs.name)" ng-bind-html="columnDefs.name | ngeoTrustHtml | translate">\n          <i ng-show="ctrl.sortedBy !== columnDefs.name" class="fa fa-fw"></i>\n          <i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === true" class="fa fa-caret-up"></i>\n          <i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === false" class="fa fa-caret-down"></i>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="attributes in ctrl.configuration.data"\n          ng-class="[\'row-\' + ctrl.configuration.getRowUid(attributes), ctrl.configuration.isRowSelected(attributes) ? \'ngeo-grid-active\': \'\']"\n          ng-click="ctrl.clickRow(attributes, $event)" ng-mousedown="ctrl.preventTextSelection($event)">\n        <td ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-bind-html="attributes[columnDefs.name] | ngeoTrustHtmlAuto"></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<span ng-if="::!layertreeCtrl.isRoot">{{::layertreeCtrl.node.name}}</span>\n<input\n  type="checkbox"\n  ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n  ng-model="layertreeCtrl.getSetActive"\n  ng-model-options="{getterSetter: true}"/>\n<ul ng-if="::layertreeCtrl.node.children">\n  <li\n    ng-repeat="node in ::layertreeCtrl.node.children"\n    ngeo-layertree="::node"\n    ngeo-layertree-notroot\n    ngeo-layertree-map="layertreeCtrl.map"\n    ngeo-layertree-nodelayerexpr="layertreeCtrl.nodelayerExpr"\n    ngeo-layertree-listenersexpr="layertreeCtrl.listenersExpr">\n  </li>\n</ul>\n'}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<div class="btn-group btn-block" ng-class="::{\'dropup\': scaleselectorCtrl.options.dropup}">\n  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n    <span ng-bind-html="scaleselectorCtrl.currentScale | ngeoScalify | ngeoTrustHtml"></span>\n  </button>\n  <ul class="dropdown-menu btn-block" role="menu">\n    <li ng-repeat="zoomLevel in ::scaleselectorCtrl.zoomLevels">\n      <a href ng-click="scaleselectorCtrl.changeZoom(zoomLevel)"\n         ng-bind-html="scaleselectorCtrl.getScale(zoomLevel) | ngeoScalify | ngeoTrustHtml">\n      </a>\n    </li>\n  </ul>\n</div>\n'}return __p}},function(a,o,s){(function(c){var r,i;var r,i;(function(e,n){if(true){!(r=[s(35)],i=function(t){return e["Bloodhound"]=n(t)}.apply(o,r),i!==undefined&&(a.exports=i))}else{}})(this,function(h){var f=function(){"use strict";return{isMsie:function t(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function t(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function t(e){return typeof e==="string"},isNumber:function t(e){return typeof e==="number"},isArray:h.isArray,isFunction:h.isFunction,isObject:h.isPlainObject,isUndefined:function t(e){return typeof e==="undefined"},isElement:function t(e){return!!(e&&e.nodeType===1)},isJQuery:function t(e){return e instanceof h},toStr:function t(e){return f.isUndefined(e)||e===null?"":e+""},bind:h.proxy,each:function t(e,n){h.each(e,r);function r(t,e){return n(e,t)}},map:h.map,filter:h.grep,every:function t(n,r){var i=true;if(!n){return i}h.each(n,function(t,e){if(!(i=r.call(null,e,t,n))){return false}});return!!i},some:function t(n,r){var i=false;if(!n){return i}h.each(n,function(t,e){if(i=r.call(null,e,t,n)){return false}});return!!i},mixin:h.extend,identity:function t(e){return e},clone:function t(e){return h.extend(true,{},e)},getIdGenerator:function t(){var e=0;return function(){return e++}},templatify:function t(e){return h.isFunction(e)?e:n;function n(){return String(e)}},defer:function t(e){setTimeout(e,0)},debounce:function t(i,a,o){var s,u;return function(){var e=this,n=arguments,t,r;t=function t(){s=null;if(!o){u=i.apply(e,n)}};r=o&&!s;clearTimeout(s);s=setTimeout(t,a);if(r){u=i.apply(e,n)}return u}},throttle:function t(n,r){var i,a,o,s,u,l;u=0;l=function t(){u=new Date;o=null;s=n.apply(i,a)};return function(){var t=new Date,e=r-(t-u);i=this;a=arguments;if(e<=0){clearTimeout(o);o=null;u=t;s=n.apply(i,a)}else if(!o){o=setTimeout(l,e)}return s}},stringify:function t(e){return f.isString(e)?e:JSON.stringify(e)},guid:function t(){function e(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+e()+e(true)+e(true)+e()},noop:function t(){}}}();var s="1.2.0";var t=function(){"use strict";return{nonword:e,whitespace:t,ngram:n,obj:{nonword:r(e),whitespace:r(t),ngram:r(n)}};function t(t){t=f.toStr(t);return t?t.split(/\s+/):[]}function e(t){t=f.toStr(t);return t?t.split(/\W+/):[]}function n(t){t=f.toStr(t);var e=[],n="";f.each(t.split(""),function(t){if(t.match(/\s+/)){n=""}else{e.push(n+t);n+=t}});return e}function r(i){return function t(r){r=f.isArray(r)?r:[].slice.call(arguments,0);return function t(e){var n=[];f.each(r,function(t){n=n.concat(i(f.toStr(e[t])))});return n}}}}();var n=function(){"use strict";function t(t){this.maxSize=f.isNumber(t)?t:100;this.reset();if(this.maxSize<=0){this.set=this.get=h.noop}}f.mixin(t.prototype,{set:function t(e,n){var r=this.list.tail,i;if(this.size>=this.maxSize){this.list.remove(r);delete this.hash[r.key];this.size--}if(i=this.hash[e]){i.val=n;this.list.moveToFront(i)}else{i=new a(e,n);this.list.add(i);this.hash[e]=i;this.size++}},get:function t(e){var n=this.hash[e];if(n){this.list.moveToFront(n);return n.val}},reset:function t(){this.size=0;this.hash={};this.list=new e}});function e(){this.head=this.tail=null}f.mixin(e.prototype,{add:function t(e){if(this.head){e.next=this.head;this.head.prev=e}this.head=e;this.tail=this.tail||e},remove:function t(e){e.prev?e.prev.next=e.next:this.head=e.next;e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function t(e){this.remove(e);this.add(e)}});function a(t,e){this.key=t;this.val=e;this.prev=this.next=null}return t}();var e=function(){"use strict";var a;try{a=window.localStorage;a.setItem("~~~","!");a.removeItem("~~~")}catch(t){a=null}function t(t,e){this.prefix=["__",t,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+f.escapeRegExChars(this.prefix));this.ls=e||a;!this.ls&&this._noop()}f.mixin(t.prototype,{_prefix:function t(e){return this.prefix+e},_ttlKey:function t(e){return this._prefix(e)+this.ttlKey},_noop:function t(){this.get=this.set=this.remove=this.clear=this.isExpired=f.noop},_safeSet:function t(e,n){try{this.ls.setItem(e,n)}catch(t){if(t.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function t(e){if(this.isExpired(e)){this.remove(e)}return r(this.ls.getItem(this._prefix(e)))},set:function t(e,n,r){if(f.isNumber(r)){this._safeSet(this._ttlKey(e),o(i()+r))}else{this.ls.removeItem(this._ttlKey(e))}return this._safeSet(this._prefix(e),o(n))},remove:function t(e){this.ls.removeItem(this._ttlKey(e));this.ls.removeItem(this._prefix(e));return this},clear:function t(){var e,n=s(this.keyMatcher);for(e=n.length;e--;){this.remove(n[e])}return this},isExpired:function t(e){var n=r(this.ls.getItem(this._ttlKey(e)));return f.isNumber(n)&&i()>n?true:false}});return t;function i(){return(new Date).getTime()}function o(t){return JSON.stringify(f.isUndefined(t)?null:t)}function r(t){return h.parseJSON(t)}function s(t){var e,n,r=[],i=a.length;for(e=0;e<i;e++){if((n=a.key(e)).match(t)){r.push(n.replace(t,""))}}return r}}();var r=function(){"use strict";var l=0,c={},e=new n(10);function t(t){t=t||{};this.maxPendingRequests=t.maxPendingRequests||6;this.cancelled=false;this.lastReq=null;this._send=t.transport;this._get=t.limiter?t.limiter(this._get):this._get;this._cache=t.cache===false?new n(0):e}t.setMaxPendingRequests=function t(e){this.maxPendingRequests=e};t.resetCache=function t(){e.reset()};f.mixin(t.prototype,{_fingerprint:function t(e){e=e||{};return e.url+e.type+h.param(e.data||{})},_get:function t(e,n){var r=this,i,a;i=this._fingerprint(e);if(this.cancelled||i!==this.lastReq){return}if(a=c[i]){a.done(o).fail(s)}else if(l<this.maxPendingRequests){l++;c[i]=this._send(e).done(o).fail(s).always(u)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function o(t){n(null,t);r._cache.set(i,t)}function s(){n(true)}function u(){l--;delete c[i];if(r.onDeckRequestArgs){r._get.apply(r,r.onDeckRequestArgs);r.onDeckRequestArgs=null}}},get:function t(e,n){var r,i;n=n||h.noop;e=f.isString(e)?{url:e}:e||{};i=this._fingerprint(e);this.cancelled=false;this.lastReq=i;if(r=this._cache.get(i)){n(null,r)}else{this._get(e,n)}},cancel:function t(){this.cancelled=true}});return t}();var i=window.SearchIndex=function(){"use strict";var s="c",u="i";function t(t){t=t||{};if(!t.datumTokenizer||!t.queryTokenizer){h.error("datumTokenizer and queryTokenizer are both required")}this.identify=t.identify||f.stringify;this.datumTokenizer=t.datumTokenizer;this.queryTokenizer=t.queryTokenizer;this.matchAnyQueryToken=t.matchAnyQueryToken;this.reset()}f.mixin(t.prototype,{bootstrap:function t(e){this.datums=e.datums;this.trie=e.trie},add:function t(e){var a=this;e=f.isArray(e)?e:[e];f.each(e,function(t){var i,e;a.datums[i=a.identify(t)]=t;e=r(a.datumTokenizer(t));f.each(e,function(t){var e,n,r;e=a.trie;n=t.split("");while(r=n.shift()){e=e[s][r]||(e[s][r]=o());e[u].push(i)}})})},get:function t(e){var n=this;return f.map(e,function(t){return n.datums[t]})},search:function t(e){var a=this,n,o;n=r(this.queryTokenizer(e));f.each(n,function(t){var e,n,r,i;if(o&&o.length===0&&!a.matchAnyQueryToken){return false}e=a.trie;n=t.split("");while(e&&(r=n.shift())){e=e[s][r]}if(e&&n.length===0){i=e[u].slice(0);o=o?l(o,i):i}else{if(!a.matchAnyQueryToken){o=[];return false}}});return o?f.map(i(o),function(t){return a.datums[t]}):[]},all:function t(){var e=[];for(var n in this.datums){e.push(this.datums[n])}return e},reset:function t(){this.datums={};this.trie=o()},serialize:function t(){return{datums:this.datums,trie:this.trie}}});return t;function r(t){t=f.filter(t,function(t){return!!t});t=f.map(t,function(t){return t.toLowerCase()});return t}function o(){var t={};t[u]=[];t[s]={};return t}function i(t){var e={},n=[];for(var r=0,i=t.length;r<i;r++){if(!e[t[r]]){e[t[r]]=true;n.push(t[r])}}return n}function l(t,e){var n=0,r=0,i=[];t=t.sort();e=e.sort();var a=t.length,o=e.length;while(n<a&&r<o){if(t[n]<e[r]){n++}else if(t[n]>e[r]){r++}else{i.push(t[n]);n++;r++}}return i}}();var a=function(){"use strict";var r;r={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function t(t){this.url=t.url;this.ttl=t.ttl;this.cache=t.cache;this.prepare=t.prepare;this.transform=t.transform;this.transport=t.transport;this.thumbprint=t.thumbprint;this.storage=new e(t.cacheKey)}f.mixin(t.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},store:function t(e){if(!this.cache){return}this.storage.set(r.data,e,this.ttl);this.storage.set(r.protocol,location.protocol,this.ttl);this.storage.set(r.thumbprint,this.thumbprint,this.ttl)},fromCache:function t(){var e={},n;if(!this.cache){return null}e.data=this.storage.get(r.data);e.protocol=this.storage.get(r.protocol);e.thumbprint=this.storage.get(r.thumbprint);n=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol;return e.data&&!n?e.data:null},fromNetwork:function t(e){var n=this,r;if(!e){return}r=this.prepare(this._settings());this.transport(r).fail(i).done(a);function i(){e(true)}function a(t){e(null,n.transform(t))}},clear:function t(){this.storage.clear();return this}});return t}();var o=function(){"use strict";function t(t){this.url=t.url;this.prepare=t.prepare;this.transform=t.transform;this.indexResponse=t.indexResponse;this.transport=new r({cache:t.cache,limiter:t.limiter,transport:t.transport,maxPendingRequests:t.maxPendingRequests})}f.mixin(t.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},get:function t(e,n){var r=this,i;if(!n){return}e=e||"";i=this.prepare(e,this._settings());return this.transport.get(i,a);function a(t,e){t?n([]):n(r.transform(e))}},cancelLastRequest:function t(){this.transport.cancel()}});return t}();var u=function(){"use strict";return function t(e){var n,r;n={initialize:true,identify:f.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:false,sufficient:5,indexRemote:false,sorter:null,local:[],prefetch:null,remote:null};e=f.mixin(n,e||{});!e.datumTokenizer&&h.error("datumTokenizer is required");!e.queryTokenizer&&h.error("queryTokenizer is required");r=e.sorter;e.sorter=r?function(t){return t.sort(r)}:f.identity;e.local=f.isFunction(e.local)?e.local():e.local;e.prefetch=i(e.prefetch);e.remote=a(e.remote);return e};function i(t){var e;if(!t){return null}e={url:null,ttl:24*60*60*1e3,cache:true,cacheKey:null,thumbprint:"",prepare:f.identity,transform:f.identity,transport:null};t=f.isString(t)?{url:t}:t;t=f.mixin(e,t);!t.url&&h.error("prefetch requires url to be set");t.transform=t.filter||t.transform;t.cacheKey=t.cacheKey||t.url;t.thumbprint=s+t.thumbprint;t.transport=t.transport?o(t.transport):h.ajax;return t}function a(t){var e;if(!t){return}e={url:null,cache:true,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:f.identity,transport:null};t=f.isString(t)?{url:t}:t;t=f.mixin(e,t);!t.url&&h.error("remote requires url to be set");t.transform=t.filter||t.transform;t.prepare=n(t);t.limiter=r(t);t.transport=t.transport?o(t.transport):h.ajax;delete t.replace;delete t.wildcard;delete t.rateLimitBy;delete t.rateLimitWait;return t}function n(t){var e,n,r;e=t.prepare;n=t.replace;r=t.wildcard;if(e){return e}if(n){e=i}else if(t.wildcard){e=a}else{e=o}return e;function i(t,e){e.url=n(e.url,t);return e}function a(t,e){e.url=e.url.replace(r,encodeURIComponent(t));return e}function o(t,e){return e}}function r(t){var e,n,r;e=t.limiter;n=t.rateLimitBy;r=t.rateLimitWait;if(!e){e=/^throttle$/i.test(n)?a(r):i(r)}return e;function i(n){return function t(e){return f.debounce(e,n)}}function a(n){return function t(e){return f.throttle(e,n)}}}function o(a){return function t(e){var n=h.Deferred();a(e,r,i);return n;function r(t){f.defer(function(){n.resolve(t)})}function i(t){f.defer(function(){n.reject(t)})}}}}();var l=function(){"use strict";var e;e=window&&window.Bloodhound;function n(t){t=u(t);this.sorter=t.sorter;this.identify=t.identify;this.sufficient=t.sufficient;this.indexRemote=t.indexRemote;this.local=t.local;this.remote=t.remote?new o(t.remote):null;this.prefetch=t.prefetch?new a(t.prefetch):null;this.index=new i({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer});t.initialize!==false&&this.initialize()}n.noConflict=function t(){window&&(window.Bloodhound=e);return n};n.tokenizers=t;f.mixin(n.prototype,{__ttAdapter:function t(){var r=this;return this.remote?e:n;function e(t,e,n){return r.search(t,e,n)}function n(t,e){return r.search(t,e)}},_loadPrefetch:function t(){var n=this,r,e;r=h.Deferred();if(!this.prefetch){r.resolve()}else if(e=this.prefetch.fromCache()){this.index.bootstrap(e);r.resolve()}else{this.prefetch.fromNetwork(i)}return r.promise();function i(t,e){if(t){return r.reject()}n.add(e);n.prefetch.store(n.index.serialize());r.resolve()}},_initialize:function t(){var e=this,n;this.clear();(this.initPromise=this._loadPrefetch()).done(r);return this.initPromise;function r(){e.add(e.local)}},initialize:function t(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function t(e){this.index.add(e);return this},get:function t(e){e=f.isArray(e)?e:[].slice.call(arguments);return this.index.get(e)},search:function t(e,n,r){var i=this,a;n=n||f.noop;r=r||f.noop;a=this.sorter(this.index.search(e));n(this.remote?a.slice():a);if(this.remote&&a.length<this.sufficient){this.remote.get(e,o)}else if(this.remote){this.remote.cancelLastRequest()}return this;function o(t){var n=[];f.each(t,function(e){!f.some(a,function(t){return i.identify(e)===i.identify(t)})&&n.push(e)});i.indexRemote&&i.add(n);r(n)}},all:function t(){return this.index.all()},clear:function t(){this.index.reset();return this},clearPrefetchCache:function t(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function t(){r.resetCache();return this},ttAdapter:function t(){return this.__ttAdapter()}});return n}();return l});(function(t,e){if(true){!(r=[s(35)],i=function(t){return e(t)}.apply(o,r),i!==undefined&&(a.exports=i))}else{}})(this,function(_){var b=function(){"use strict";return{isMsie:function t(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function t(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function t(e){return typeof e==="string"},isNumber:function t(e){return typeof e==="number"},isArray:_.isArray,isFunction:_.isFunction,isObject:_.isPlainObject,isUndefined:function t(e){return typeof e==="undefined"},isElement:function t(e){return!!(e&&e.nodeType===1)},isJQuery:function t(e){return e instanceof _},toStr:function t(e){return b.isUndefined(e)||e===null?"":e+""},bind:_.proxy,each:function t(e,n){_.each(e,r);function r(t,e){return n(e,t)}},map:_.map,filter:_.grep,every:function t(n,r){var i=true;if(!n){return i}_.each(n,function(t,e){if(!(i=r.call(null,e,t,n))){return false}});return!!i},some:function t(n,r){var i=false;if(!n){return i}_.each(n,function(t,e){if(i=r.call(null,e,t,n)){return false}});return!!i},mixin:_.extend,identity:function t(e){return e},clone:function t(e){return _.extend(true,{},e)},getIdGenerator:function t(){var e=0;return function(){return e++}},templatify:function t(e){return _.isFunction(e)?e:n;function n(){return String(e)}},defer:function t(e){setTimeout(e,0)},debounce:function t(i,a,o){var s,u;return function(){var e=this,n=arguments,t,r;t=function t(){s=null;if(!o){u=i.apply(e,n)}};r=o&&!s;clearTimeout(s);s=setTimeout(t,a);if(r){u=i.apply(e,n)}return u}},throttle:function t(n,r){var i,a,o,s,u,l;u=0;l=function t(){u=new Date;o=null;s=n.apply(i,a)};return function(){var t=new Date,e=r-(t-u);i=this;a=arguments;if(e<=0){clearTimeout(o);o=null;u=t;s=n.apply(i,a)}else if(!o){o=setTimeout(l,e)}return s}},stringify:function t(e){return b.isString(e)?e:JSON.stringify(e)},guid:function t(){function e(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+e()+e(true)+e(true)+e()},noop:function t(){}}}();var o=function(){"use strict";var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t;function t(t){var n,e;e=b.mixin({},r,t);n={css:o(),classes:e,html:i(e),selectors:a(e)};return{css:n.css,html:n.html,classes:n.classes,selectors:n.selectors,mixin:function t(e){b.mixin(e,n)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div role="listbox" class="'+t.menu+'"></div>'}}function a(t){var n={};b.each(t,function(t,e){n[e]="."+t});return n}function o(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(b.isMsie()){b.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}return t}}();var O=function(){"use strict";var i,r;i="typeahead:";r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};function t(t){if(!t||!t.el){_.error("EventBus initialized without el")}this.$el=_(t.el)}b.mixin(t.prototype,{_trigger:function t(e,n){var r=_.Event(i+e);this.$el.trigger.call(this.$el,r,n||[]);return r},before:function t(e){var n,r;n=[].slice.call(arguments,1);r=this._trigger("before"+e,n);return r.isDefaultPrevented()},trigger:function t(e){var n;this._trigger(e,[].slice.call(arguments,1));if(n=r[e]){this._trigger(n,[].slice.call(arguments,1))}}});return t}();var e=function(){"use strict";var o=/\s+/,s=a();return{onSync:e,onAsync:t,off:n,trigger:i};function r(t,e,n,r){var i;if(!n){return this}e=e.split(o);n=r?l(n,r):n;this._callbacks=this._callbacks||{};while(i=e.shift()){this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]};this._callbacks[i][t].push(n)}return this}function t(t,e,n){return r.call(this,"async",t,e,n)}function e(t,e,n){return r.call(this,"sync",t,e,n)}function n(t){var e;if(!this._callbacks){return this}t=t.split(o);while(e=t.shift()){delete this._callbacks[e]}return this}function i(t){var e,n,r,i,a;if(!this._callbacks){return this}t=t.split(o);r=[].slice.call(arguments,1);while((e=t.shift())&&(n=this._callbacks[e])){i=u(n.sync,this,[e].concat(r));a=u(n.async,this,[e].concat(r));i()&&s(a)}return this}function u(r,i,a){return t;function t(){var t;for(var e=0,n=r.length;!t&&e<n;e+=1){t=r[e].apply(i,a)===false}return!t}}function a(){var t;if(window.setImmediate){t=function t(e){c(function(){e()})}}else{t=function t(e){setTimeout(function(){e()},0)}}return t}function l(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}}();var u=function(s){"use strict";var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false,diacriticInsensitive:false};var e={A:"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]",B:"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]",C:"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]",D:"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]",E:"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]",F:"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]",G:"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]",H:"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]",I:"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]",J:"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]",K:"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]",L:"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]",M:"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]",N:"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]",O:"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]",P:"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]",Q:"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]",R:"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]",S:"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]",T:"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]",U:"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]",V:"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]",W:"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]",X:"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]",Y:"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]",Z:"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]"};return function t(i){var a;i=b.mixin({},n,i);if(!i.node||!i.pattern){return}i.pattern=b.isArray(i.pattern)?i.pattern:[i.pattern];a=r(i.pattern,i.caseSensitive,i.wordsOnly,i.diacriticInsensitive);o(i.node,e);function e(t){var e,n,r;if(e=a.exec(t.data)){r=s.createElement(i.tagName);i.className&&(r.className=i.className);n=t.splitText(e.index);n.splitText(e[0].length);r.appendChild(n.cloneNode(true));t.parentNode.replaceChild(r,n)}return!!e}function o(t,e){var n,r=3;for(var i=0;i<t.childNodes.length;i++){n=t.childNodes[i];if(n.nodeType===r){i+=e(n)?1:0}else{o(n,e)}}}};function l(t){return e[t.toUpperCase()]||t}function r(t,e,n,r){var i=[],a;for(var o=0,s=t.length;o<s;o++){var u=b.escapeRegExChars(t[o]);if(r){u=u.replace(/\S/g,l)}i.push(u)}a=n?"\\b("+i.join("|")+")\\b":"("+i.join("|")+")";return e?new RegExp(a):new RegExp(a,"i")}}(window.document);var w=function(){"use strict";var o;o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function n(t,e){t=t||{};if(!t.input){_.error("input is missing")}e.mixin(this);this.$hint=_(t.hint);this.$input=_(t.input);this.$input.attr({"aria-activedescendant":"","aria-owns":this.$input.attr("id")+"_listbox",role:"combobox","aria-readonly":"true","aria-autocomplete":"list"});_(e.menu).attr("id",this.$input.attr("id")+"_listbox");this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=r(this.$input);this._checkLanguageDirection();if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop}this.onSync("cursorchange",this._updateDescendent)}n.normalizeQuery=function(t){return b.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")};b.mixin(n.prototype,e,{_onBlur:function t(){this.resetInputValue();this.trigger("blurred")},_onFocus:function t(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function t(e){var n=o[e.which||e.keyCode];this._managePreventDefault(n,e);if(n&&this._shouldTrigger(n,e)){this.trigger(n+"Keyed",e)}},_onInput:function t(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function t(e,n){var r;switch(e){case"up":case"down":r=!i(n);break;default:r=false}r&&n.preventDefault()},_shouldTrigger:function t(e,n){var r;switch(e){case"tab":r=!i(n);break;default:r=true}return r},_checkLanguageDirection:function t(){var e=(this.$input.css("direction")||"ltr").toLowerCase();if(this.dir!==e){this.dir=e;this.$hint.attr("dir",e);this.trigger("langDirChanged",e)}},_setQuery:function t(e,n){var r,i;r=a(e,this.query);i=r?this.query.length!==e.length:false;this.query=e;if(!n&&!r){this.trigger("queryChanged",this.query)}else if(!n&&i){this.trigger("whitespaceChanged",this.query)}},_updateDescendent:function t(e,n){this.$input.attr("aria-activedescendant",n)},bind:function t(){var e=this,n,r,i,a;n=b.bind(this._onBlur,this);r=b.bind(this._onFocus,this);i=b.bind(this._onKeydown,this);a=b.bind(this._onInput,this);this.$input.on("blur.tt",n).on("focus.tt",r).on("keydown.tt",i);if(!b.isMsie()||b.isMsie()>9){this.$input.on("input.tt",a)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){if(o[t.which||t.keyCode]){return}b.defer(b.bind(e._onInput,e,t))})}return this},focus:function t(){this.$input.focus()},blur:function t(){this.$input.blur()},getLangDir:function t(){return this.dir},getQuery:function t(){return this.query||""},setQuery:function t(e,n){this.setInputValue(e);this._setQuery(e,n)},hasQueryChangedSinceLastFocus:function t(){return this.query!==this.queryWhenFocused},getInputValue:function t(){return this.$input.val()},setInputValue:function t(e){this.$input.val(e);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function t(){this.setInputValue(this.query)},getHint:function t(){return this.$hint.val()},setHint:function t(e){this.$hint.val(e)},clearHint:function t(){this.setHint("")},clearHintIfInvalid:function t(){var e,n,r,i;e=this.getInputValue();n=this.getHint();r=e!==n&&n.indexOf(e)===0;i=e!==""&&r&&!this.hasOverflow();!i&&this.clearHint()},hasFocus:function t(){return this.$input.is(":focus")},hasOverflow:function t(){var e=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=e},isCursorAtEnd:function t(){var e,n,r;e=this.$input.val().length;n=this.$input[0].selectionStart;if(b.isNumber(n)){return n===e}else if(document.selection){r=document.selection.createRange();r.moveStart("character",-e);return e===r.text.length}return true},destroy:function t(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=_("<div>")}});return n;function r(t){return _('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function a(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function i(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}();var i=function(){"use strict";var s,n;s={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"};n=b.getIdGenerator();function t(t,e){t=t||{};t.templates=t.templates||{};t.templates.notFound=t.templates.notFound||t.templates.empty;if(!t.source){_.error("missing source")}if(!t.node){_.error("missing node")}if(t.name&&!a(t.name)){_.error("invalid dataset name: "+t.name)}e.mixin(this);this.highlight=!!t.highlight;this.name=b.toStr(t.name||n());this.limit=t.limit||5;this.displayFn=r(t.display||t.displayKey);this.templates=i(t.templates,this.displayFn);this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source;this.async=b.isUndefined(t.async)?this.source.length>2:!!t.async;this._resetLastSuggestion();this.$el=_(t.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}t.extractData=function t(e){var n=_(e);if(n.data(s.obj)){return{dataset:n.data(s.dataset)||"",val:n.data(s.val)||"",obj:n.data(s.obj)||null}}return null};b.mixin(t.prototype,e,{_overwrite:function t(e,n){n=n||[];if(n.length){this._renderSuggestions(e,n)}else if(this.async&&this.templates.pending){this._renderPending(e)}else if(!this.async&&this.templates.notFound){this._renderNotFound(e)}else{this._empty()}this.trigger("rendered",n,false,this.name)},_append:function t(e,n){n=n||[];if(n.length&&this.$lastSuggestion.length){this._appendSuggestions(e,n)}else if(n.length){this._renderSuggestions(e,n)}else if(!this.$lastSuggestion.length&&this.templates.notFound){this._renderNotFound(e)}this.trigger("rendered",n,true,this.name)},_renderSuggestions:function t(e,n){var r;r=this._getSuggestionsFragment(e,n);this.$lastSuggestion=r.children().last();this.$el.html(r).prepend(this._getHeader(e,n)).append(this._getFooter(e,n))},_appendSuggestions:function t(e,n){var r,i;r=this._getSuggestionsFragment(e,n);i=r.children().last();this.$lastSuggestion.after(r);this.$lastSuggestion=i},_renderPending:function t(e){var n=this.templates.pending;this._resetLastSuggestion();n&&this.$el.html(n({query:e,dataset:this.name}))},_renderNotFound:function t(e){var n=this.templates.notFound;this._resetLastSuggestion();n&&this.$el.html(n({query:e,dataset:this.name}))},_empty:function t(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function t(i,e){var a=this,o;o=document.createDocumentFragment();b.each(e,function t(e){var n,r;r=a._injectQuery(i,e);n=_(a.templates.suggestion(r)).data(s.dataset,a.name).data(s.obj,e).data(s.val,a.displayFn(e)).addClass(a.classes.suggestion+" "+a.classes.selectable);o.appendChild(n[0])});this.highlight&&u({className:this.classes.highlight,node:o,pattern:i});return _(o)},_getFooter:function t(e,n){return this.templates.footer?this.templates.footer({query:e,suggestions:n,dataset:this.name}):null},_getHeader:function t(e,n){return this.templates.header?this.templates.header({query:e,suggestions:n,dataset:this.name}):null},_resetLastSuggestion:function t(){this.$lastSuggestion=_()},_injectQuery:function t(e,n){return b.isObject(n)?b.mixin({_query:e},n):n},update:function t(n){var r=this,i=false,e=false,a=0;this.cancel();this.cancel=function t(){i=true;r.cancel=_.noop;r.async&&r.trigger("asyncCanceled",n,r.name)};this.source(n,o,s);!e&&o([]);function o(t){if(e){return}e=true;t=(t||[]).slice(0,r.limit);a=t.length;r._overwrite(n,t);if(a<r.limit&&r.async){r.trigger("asyncRequested",n,r.name)}}function s(t){t=t||[];if(!i&&a<r.limit){r.cancel=_.noop;var e=Math.abs(a-r.limit);a+=e;r._append(n,t.slice(0,e));r.async&&r.trigger("asyncReceived",n,r.name)}}},cancel:_.noop,clear:function t(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function t(){return this.$el.is(":empty")},destroy:function t(){this.$el=_("<div>")}});return t;function r(e){e=e||b.stringify;return b.isFunction(e)?e:t;function t(t){return t[e]}}function i(t,e){return{notFound:t.notFound&&b.templatify(t.notFound),pending:t.pending&&b.templatify(t.pending),header:t.header&&b.templatify(t.header),footer:t.footer&&b.templatify(t.footer),suggestion:t.suggestion||n};function n(t){return _('<div role="option">').attr("id",b.guid()).text(e(t))}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}}();var S=function(){"use strict";function t(t,n){var r=this;t=t||{};if(!t.node){_.error("node is required")}n.mixin(this);this.$node=_(t.node);this.query=null;this.datasets=b.map(t.datasets,e);function e(t){var e=r.$node.find(t.node).first();t.node=e.length?e:_("<div>").appendTo(r.$node);return new i(t,n)}}b.mixin(t.prototype,e,{_onSelectableClick:function t(e){this.trigger("selectableClicked",_(e.currentTarget))},_onRendered:function t(e,n,r,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",n,r,i)},_onCleared:function t(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function t(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function t(){return b.every(this.datasets,b.bind(function t(e){var n=e.isEmpty();this.$node.attr("aria-expanded",!n);return n},this))},_getSelectables:function t(){return this.$node.find(this.selectors.selectable)},_removeCursor:function t(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function t(e){var n,r,i,a;n=e.position().top;r=n+e.outerHeight(true);i=this.$node.scrollTop();a=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);if(n<0){this.$node.scrollTop(i+n)}else if(a<r){this.$node.scrollTop(i+(r-a))}},bind:function t(){var e=this,n;n=b.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,n);this.$node.on("mouseover",this.selectors.selectable,function(){e.setCursor(_(this))});this.$node.on("mouseleave",function(){e._removeCursor()});b.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)});return this},isOpen:function t(){return this.$node.hasClass(this.classes.open)},open:function t(){this.$node.scrollTop(0);this.$node.addClass(this.classes.open)},close:function t(){this.$node.attr("aria-expanded",false);this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function t(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function t(e){var n,r,i,a;r=this.getActiveSelectable();n=this._getSelectables();i=r?n.index(r):-1;a=i+e;a=(a+1)%(n.length+1)-1;a=a<-1?n.length-1:a;return a===-1?null:n.eq(a)},setCursor:function t(e){this._removeCursor();if(e=e&&e.first()){e.addClass(this.classes.cursor);this._ensureVisible(e)}},getSelectableData:function t(e){return e&&e.length?i.extractData(e):null},getActiveSelectable:function t(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function t(){var e=this._getSelectables().first();return e.length?e:null},update:function t(e){var n=e!==this.query;if(n){this.query=e;b.each(this.datasets,r)}return n;function r(t){t.update(e)}},empty:function t(){b.each(this.datasets,e);this.query=null;this.$node.addClass(this.classes.empty);function e(t){t.clear()}},destroy:function t(){this.$node.off(".tt");this.$node=_("<div>");b.each(this.datasets,e);function e(t){t.destroy()}}});return t}();var T=function(){"use strict";function t(t){this.$el=_("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"});t.$input.after(this.$el);b.each(t.menu.datasets,b.bind(function(t){if(t.onSync){t.onSync("rendered",b.bind(this.update,this));t.onSync("cleared",b.bind(this.cleared,this))}},this))}b.mixin(t.prototype,{update:function t(e,n){var r=n.length;var i;if(r===1){i={result:"result",is:"is"}}else{i={result:"results",is:"are"}}this.$el.text(r+" "+i.result+" "+i.is+" available, use up and down arrow keys to navigate.")},cleared:function t(){this.$el.text("")}});return t}();var x=function(){"use strict";var n=S.prototype;function t(){S.apply(this,[].slice.call(arguments,0))}b.mixin(t.prototype,S.prototype,{open:function t(){!this._allDatasetsEmpty()&&this._show();return n.open.apply(this,[].slice.call(arguments,0))},close:function t(){this._hide();return n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function t(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function t(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function t(e){this.$node.css(e==="ltr"?this.css.ltr:this.css.rtl);return n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function t(){this.$node.hide()},_show:function t(){this.$node.css("display","block")}});return t}();var E=function(){"use strict";function t(t,e){var n,r,i,a,o,s,u,l,c,h,f;t=t||{};if(!t.input){_.error("missing input")}if(!t.menu){_.error("missing menu")}if(!t.eventBus){_.error("missing event bus")}e.mixin(this);this.eventBus=t.eventBus;this.minLength=b.isNumber(t.minLength)?t.minLength:1;this.input=t.input;this.menu=t.menu;this.enabled=true;this.autoselect=!!t.autoselect;this.active=false;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);n=d(this,"activate","open","_onFocused");r=d(this,"deactivate","_onBlurred");i=d(this,"isActive","isOpen","_onEnterKeyed");a=d(this,"isActive","isOpen","_onTabKeyed");o=d(this,"isActive","_onEscKeyed");s=d(this,"isActive","open","_onUpKeyed");u=d(this,"isActive","open","_onDownKeyed");l=d(this,"isActive","isOpen","_onLeftKeyed");c=d(this,"isActive","isOpen","_onRightKeyed");h=d(this,"_openIfActive","_onQueryChanged");f=d(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",n,this).onSync("blurred",r,this).onSync("enterKeyed",i,this).onSync("tabKeyed",a,this).onSync("escKeyed",o,this).onSync("upKeyed",s,this).onSync("downKeyed",u,this).onSync("leftKeyed",l,this).onSync("rightKeyed",c,this).onSync("queryChanged",h,this).onSync("whitespaceChanged",f,this).onSync("langDirChanged",this._onLangDirChanged,this)}b.mixin(t.prototype,{_hacks:function t(){var i,a;i=this.input.$input||_("<div>");a=this.menu.$node||_("<div>");i.on("blur.tt",function(t){var e,n,r;e=document.activeElement;n=a.is(e);r=a.has(e).length>0;if(b.isMsie()&&(n||r)){t.preventDefault();t.stopImmediatePropagation();b.defer(function(){i.focus()})}});a.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function t(e,n){this.select(n)},_onDatasetCleared:function t(){this._updateHint()},_onDatasetRendered:function t(e,n,r,i){this._updateHint();if(this.autoselect){var a=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(a)}this.eventBus.trigger("render",n,r,i)},_onAsyncRequested:function t(e,n,r){this.eventBus.trigger("asyncrequest",r,n)},_onAsyncCanceled:function t(e,n,r){this.eventBus.trigger("asynccancel",r,n)},_onAsyncReceived:function t(e,n,r){this.eventBus.trigger("asyncreceive",r,n)},_onFocused:function t(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function t(){if(this.input.hasQueryChangedSinceLastFocus()){this.eventBus.trigger("change",this.input.getQuery())}},_onEnterKeyed:function t(e,n){var r;if(r=this.menu.getActiveSelectable()){if(this.select(r)){n.preventDefault();n.stopPropagation()}}else if(this.autoselect){if(this.select(this.menu.getTopSelectable())){n.preventDefault();n.stopPropagation()}}},_onTabKeyed:function t(e,n){var r;if(r=this.menu.getActiveSelectable()){this.select(r)&&n.preventDefault()}else if(r=this.menu.getTopSelectable()){this.autocomplete(r)&&n.preventDefault()}},_onEscKeyed:function t(){this.close()},_onUpKeyed:function t(){this.moveCursor(-1)},_onDownKeyed:function t(){this.moveCursor(+1)},_onLeftKeyed:function t(){if(this.dir==="rtl"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())}},_onRightKeyed:function t(){if(this.dir==="ltr"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())}},_onQueryChanged:function t(e,n){this._minLengthMet(n)?this.menu.update(n):this.menu.empty()},_onWhitespaceChanged:function t(){this._updateHint()},_onLangDirChanged:function t(e,n){if(this.dir!==n){this.dir=n;this.menu.setLanguageDirection(n)}},_openIfActive:function t(){this.isActive()&&this.open()},_minLengthMet:function t(e){e=b.isString(e)?e:this.input.getQuery()||"";return e.length>=this.minLength},_updateHint:function t(){var e,n,r,i,a,o,s;e=this.menu.getTopSelectable();n=this.menu.getSelectableData(e);r=this.input.getInputValue();if(n&&!b.isBlankString(r)&&!this.input.hasOverflow()){i=w.normalizeQuery(r);a=b.escapeRegExChars(i);o=new RegExp("^(?:"+a+")(.+$)","i");s=o.exec(n.val);s&&this.input.setHint(r+s[1])}else{this.input.clearHint()}},isEnabled:function t(){return this.enabled},enable:function t(){this.enabled=true},disable:function t(){this.enabled=false},isActive:function t(){return this.active},activate:function t(){if(this.isActive()){return true}else if(!this.isEnabled()||this.eventBus.before("active")){return false}else{this.active=true;this.eventBus.trigger("active");return true}},deactivate:function t(){if(!this.isActive()){return true}else if(this.eventBus.before("idle")){return false}else{this.active=false;this.close();this.eventBus.trigger("idle");return true}},isOpen:function t(){return this.menu.isOpen()},open:function t(){if(!this.isOpen()&&!this.eventBus.before("open")){this.menu.open();this._updateHint();this.eventBus.trigger("open")}return this.isOpen()},close:function t(){if(this.isOpen()&&!this.eventBus.before("close")){this.menu.close();this.input.clearHint();this.input.resetInputValue();this.eventBus.trigger("close")}return!this.isOpen()},setVal:function t(e){this.input.setQuery(b.toStr(e))},getVal:function t(){return this.input.getQuery()},select:function t(e){var n=this.menu.getSelectableData(e);if(n&&!this.eventBus.before("select",n.obj,n.dataset)){this.input.setQuery(n.val,true);this.eventBus.trigger("select",n.obj,n.dataset);this.close();return true}return false},autocomplete:function t(e){var n,r,i;n=this.input.getQuery();r=this.menu.getSelectableData(e);i=r&&n!==r.val;if(i&&!this.eventBus.before("autocomplete",r.obj,r.dataset)){this.input.setQuery(r.val);this.eventBus.trigger("autocomplete",r.obj,r.dataset);return true}return false},moveCursor:function t(e){var n,r,i,a,o,s,u;n=this.input.getQuery();r=this.menu.selectableRelativeToCursor(e);i=this.menu.getSelectableData(r);a=i?i.obj:null;o=i?i.dataset:null;u=r?r.attr("id"):null;this.input.trigger("cursorchange",u);s=this._minLengthMet()&&this.menu.update(n);if(!s&&!this.eventBus.before("cursorchange",a,o)){this.menu.setCursor(r);if(i){this.input.setInputValue(i.val)}else{this.input.resetInputValue();this._updateHint()}this.eventBus.trigger("cursorchange",a,o);return true}return false},destroy:function t(){this.input.destroy();this.menu.destroy()}});return t;function d(n){var t=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);b.each(t,function(t){return n[t].apply(n,e)})}}}();(function(){"use strict";var e,v,n;e=_.fn.typeahead;v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};n={initialize:function t(f,d){var p;d=b.isArray(d)?d:[].slice.call(arguments,1);f=f||{};p=o(f.classNames);return this.each(e);function e(){var t,e,n,r,i,a,o,s,u,l,c,h;b.each(d,function(t){t.highlight=!!f.highlight});t=_(this);e=_(p.html.wrapper);n=y(f.hint);r=y(f.menu);i=f.hint!==false&&!n;a=f.menu!==false&&!r;i&&(n=g(t,p));a&&(r=_(p.html.menu).css(p.css.menu));n&&n.val("");t=m(t,p);if(i||a){e.css(p.css.wrapper);t.css(i?p.css.input:p.css.inputWithNoHint);t.wrap(e).parent().prepend(i?n:null).append(a?r:null)}h=a?x:S;o=new O({el:t});s=new w({hint:n,input:t},p);u=new h({node:r,datasets:d},p);l=new T({$input:t,menu:u});c=new E({input:s,menu:u,eventBus:o,minLength:f.minLength,autoselect:f.autoselect},p);t.data(v.www,p);t.data(v.typeahead,c)}},isEnabled:function t(){var e;i(this.first(),function(t){e=t.isEnabled()});return e},enable:function t(){i(this,function(t){t.enable()});return this},disable:function t(){i(this,function(t){t.disable()});return this},isActive:function t(){var e;i(this.first(),function(t){e=t.isActive()});return e},activate:function t(){i(this,function(t){t.activate()});return this},deactivate:function t(){i(this,function(t){t.deactivate()});return this},isOpen:function t(){var e;i(this.first(),function(t){e=t.isOpen()});return e},open:function t(){i(this,function(t){t.open()});return this},close:function t(){i(this,function(t){t.close()});return this},select:function t(e){var n=false,r=_(e);i(this.first(),function(t){n=t.select(r)});return n},autocomplete:function t(e){var n=false,r=_(e);i(this.first(),function(t){n=t.autocomplete(r)});return n},moveCursor:function t(e){var n=false;i(this.first(),function(t){n=t.moveCursor(e)});return n},val:function t(e){var n;if(!arguments.length){i(this.first(),function(t){n=t.getVal()});return n}else{i(this,function(t){t.setVal(b.toStr(e))});return this}},destroy:function t(){i(this,function(t,e){a(e);t.destroy()});return this}};_.fn.typeahead=function(t){if(n[t]){return n[t].apply(this,[].slice.call(arguments,1))}else{return n.initialize.apply(this,arguments)}};_.fn.typeahead.noConflict=function t(){_.fn.typeahead=e;return this};function i(t,n){t.each(function(){var t=_(this),e;(e=t.data(v.typeahead))&&n(e,t)})}function g(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(r(t)).prop({readonly:true,required:false}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}function m(t,e){t.data(v.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")});t.addClass(e.classes.input).attr({spellcheck:false});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function a(n){var t,e;t=n.data(v.www);e=n.parent().filter(t.selectors.wrapper);b.each(n.data(v.attrs),function(t,e){b.isUndefined(t)?n.removeAttr(e):n.attr(e,t)});n.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(t.classes.input);if(e.length){n.detach().insertAfter(e);e.remove()}}function y(t){var e,n;e=b.isJQuery(t)||b.isElement(t);n=e?_(t).first():[];return n.length?n:null}})()})}).call(this,s(396).setImmediate)},function(t,i,a){(function(t){var e=typeof t!=="undefined"&&t||typeof self!=="undefined"&&self||window;var n=Function.prototype.apply;i.setTimeout=function(){return new r(n.call(setTimeout,e,arguments),clearTimeout)};i.setInterval=function(){return new r(n.call(setInterval,e,arguments),clearInterval)};i.clearTimeout=i.clearInterval=function(t){if(t){t.close()}};function r(t,e){this._id=t;this._clearFn=e}r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(e,this._id)};i.enroll=function(t,e){clearTimeout(t._idleTimeoutId);t._idleTimeout=e};i.unenroll=function(t){clearTimeout(t._idleTimeoutId);t._idleTimeout=-1};i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};a(397);i.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof t!=="undefined"&&t.setImmediate||this&&this.setImmediate;i.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof t!=="undefined"&&t.clearImmediate||this&&this.clearImmediate}).call(this,a(234))},function(t,e,n){(function(t,y){(function(r,i){"use strict";if(r.setImmediate){return}var a=1;var o={};var n=false;var s=r.document;var u;function t(t){if(typeof t!=="function"){t=new Function(""+t)}var e=new Array(arguments.length-1);for(var n=0;n<e.length;n++){e[n]=arguments[n+1]}var r={callback:t,args:e};o[a]=r;u(a);return a++}function l(t){delete o[t]}function c(t){var e=t.callback;var n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n);break}}function h(t){if(n){setTimeout(h,0,t)}else{var e=o[t];if(e){n=true;try{c(e)}finally{l(t);n=false}}}}function e(){u=function t(e){y.nextTick(function(){h(e)})}}function f(){if(r.postMessage&&!r.importScripts){var t=true;var e=r.onmessage;r.onmessage=function(){t=false};r.postMessage("","*");r.onmessage=e;return t}}function d(){var n="setImmediate$"+Math.random()+"$";var t=function t(e){if(e.source===r&&typeof e.data==="string"&&e.data.indexOf(n)===0){h(+e.data.slice(n.length))}};if(r.addEventListener){r.addEventListener("message",t,false)}else{r.attachEvent("onmessage",t)}u=function t(e){r.postMessage(n+e,"*")}}function p(){var n=new MessageChannel;n.port1.onmessage=function(t){var e=t.data;h(e)};u=function t(e){n.port2.postMessage(e)}}function v(){var r=s.documentElement;u=function t(e){var n=s.createElement("script");n.onreadystatechange=function(){h(e);n.onreadystatechange=null;r.removeChild(n);n=null};r.appendChild(n)}}function g(){u=function t(e){setTimeout(h,0,e)}}var m=Object.getPrototypeOf&&Object.getPrototypeOf(r);m=m&&m.setTimeout?m:r;if({}.toString.call(r.process)==="[object process]"){e()}else if(f()){d()}else if(r.MessageChannel){p()}else if(s&&"onreadystatechange"in s.createElement("script")){v()}else{g()}m.setImmediate=t;m.clearImmediate=l})(typeof self==="undefined"?typeof t==="undefined"?this:t:self)}).call(this,n(234),n(398))},function(t,e){var n=t.exports={};var r;var i;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=a}}catch(t){r=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(t){i=o}})();function s(e){if(r===setTimeout){return setTimeout(e,0)}if((r===a||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var h;var f=-1;function d(){if(!c||!h){return}c=false;if(h.length){l=h.concat(l)}else{f=-1}if(l.length){p()}}function p(){if(c){return}var t=s(d);c=true;var e=l.length;while(e){h=l;l=[];while(++f<e){if(h){h[f].run()}}f=-1;e=l.length}h=null;c=false;u(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}l.push(new v(t,e));if(l.length===1&&!c){s(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function g(){}n.on=g;n.addListener=g;n.once=g;n.off=g;n.removeListener=g;n.removeAllListeners=g;n.emit=g;n.prependListener=g;n.prependOnceListener=g;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(301),r(320),r(319),r(321),r(109),r(236)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(p){return p.widget("ui.sortable",p.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function t(e,n,r){return e>=n&&e<n+r},_isFloating:function t(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function t(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function t(e,n){this._super(e,n);if(e==="handle"){this._setHandleClassName()}},_setHandleClassName:function t(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");p.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function t(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function t(e,n){var r=null,i=false,a=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(e);p(e.target).parents().each(function(){if(p.data(this,a.widgetName+"-item")===a){r=p(this);return false}});if(p.data(e.target,a.widgetName+"-item")===a){r=p(e.target)}if(!r){return false}if(this.options.handle&&!n){p(this.options.handle,r).find("*").addBack().each(function(){if(this===e.target){i=true}});if(!i){return false}}this.currentItem=r;this._removeCurrentsFromItems();return true},_mouseStart:function t(e,n,r){var i,a,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};p.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){a=this.document.find("body");this.storedCursor=a.css("cursor");a.css("cursor",o.cursor);this.storedStylesheet=p("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!r){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",e,this._uiHash(this))}}if(p.ui.ddmanager){p.ui.ddmanager.current=this}if(p.ui.ddmanager&&!o.dropBehaviour){p.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function t(e){var n,r,i,a,o=this.options,s=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(e.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(e.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(e.pageY-this.document.scrollTop()<o.scrollSensitivity){s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed)}else if(this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity){s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)}if(e.pageX-this.document.scrollLeft()<o.scrollSensitivity){s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed)}else if(this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity){s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed)}}if(s!==false&&p.ui.ddmanager&&!o.dropBehaviour){p.ui.ddmanager.prepareOffsets(this,e)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(n=this.items.length-1;n>=0;n--){r=this.items[n];i=r.item[0];a=this._intersectsWithPointer(r);if(!a){continue}if(r.instance!==this.currentContainer){continue}if(i!==this.currentItem[0]&&this.placeholder[a===1?"next":"prev"]()[0]!==i&&!p.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!p.contains(this.element[0],i):true)){this.direction=a===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(r)){this._rearrange(e,r)}else{break}this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);if(p.ui.ddmanager){p.ui.ddmanager.drag(this,e)}this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function t(e,n){if(!e){return}if(p.ui.ddmanager&&!this.options.dropBehaviour){p.ui.ddmanager.drop(this,e)}if(this.options.revert){var r=this,i=this.placeholder.offset(),a=this.options.axis,o={};if(!a||a==="x"){o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!a||a==="y"){o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;p(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(e)})}else{this._clear(e,n)}return false},cancel:function t(){if(this.dragging){this._mouseUp(new p.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}p.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){p(this.domPosition.prev).after(this.currentItem)}else{p(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function t(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];e=e||{};p(n).each(function(){var t=(p(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);if(t){r.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}});if(!r.length&&e.key){r.push(e.key+"=")}return r.join("&")},toArray:function t(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];e=e||{};n.each(function(){r.push(p(e.item||this).attr(e.attribute||"id")||"")});return r},_intersectsWith:function t(e){var n=this.positionAbs.left,r=n+this.helperProportions.width,i=this.positionAbs.top,a=i+this.helperProportions.height,o=e.left,s=o+e.width,u=e.top,l=u+e.height,c=this.offset.click.top,h=this.offset.click.left,f=this.options.axis==="x"||i+c>u&&i+c<l,d=this.options.axis==="y"||n+h>o&&n+h<s,p=f&&d;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]){return p}else{return o<n+this.helperProportions.width/2&&r-this.helperProportions.width/2<s&&u<i+this.helperProportions.height/2&&a-this.helperProportions.height/2<l}},_intersectsWithPointer:function t(e){var n,r,i=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),a=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=i&&a;if(!o){return false}n=this._getDragVerticalDirection();r=this._getDragHorizontalDirection();return this.floating?r==="right"||n==="down"?2:1:n&&(n==="down"?2:1)},_intersectsWithSides:function t(e){var n=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();if(this.floating&&a){return a==="right"&&r||a==="left"&&!r}else{return i&&(i==="down"&&n||i==="up"&&!n)}},_getDragVerticalDirection:function t(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function t(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function t(e){this._refreshItems(e);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function t(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function t(e){var n,r,i,a,o=[],s=[],u=this._connectWith();if(u&&e){for(n=u.length-1;n>=0;n--){i=p(u[n],this.document[0]);for(r=i.length-1;r>=0;r--){a=p.data(i[r],this.widgetFullName);if(a&&a!==this&&!a.options.disabled){s.push([p.isFunction(a.options.items)?a.options.items.call(a.element):p(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}}}s.push([p.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):p(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function l(){o.push(this)}for(n=s.length-1;n>=0;n--){s[n][0].each(l)}return p(o)},_removeCurrentsFromItems:function t(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=p.grep(this.items,function(t){for(var e=0;e<n.length;e++){if(n[e]===t.item[0]){return false}}return true})},_refreshItems:function t(e){this.items=[];this.containers=[this];var n,r,i,a,o,s,u,l,c=this.items,h=[[p.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):p(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(n=f.length-1;n>=0;n--){i=p(f[n],this.document[0]);for(r=i.length-1;r>=0;r--){a=p.data(i[r],this.widgetFullName);if(a&&a!==this&&!a.options.disabled){h.push([p.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):p(a.options.items,a.element),a]);this.containers.push(a)}}}}for(n=h.length-1;n>=0;n--){o=h[n][1];s=h[n][0];for(r=0,l=s.length;r<l;r++){u=p(s[r]);u.data(this.widgetName+"-item",o);c.push({item:u,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function t(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var n,r,i,a;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]){continue}i=this.options.toleranceElement?p(this.options.toleranceElement,r.item):r.item;if(!e){r.width=i.outerWidth();r.height=i.outerHeight()}a=i.offset();r.left=a.left;r.top=a.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(n=this.containers.length-1;n>=0;n--){a=this.containers[n].element.offset();this.containers[n].containerCache.left=a.left;this.containers[n].containerCache.top=a.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}}return this},_createPlaceholder:function t(r){r=r||this;var i,a=r.options;if(!a.placeholder||a.placeholder.constructor===String){i=a.placeholder;a.placeholder={element:function t(){var e=r.currentItem[0].nodeName.toLowerCase(),t=p("<"+e+">",r.document[0]);r._addClass(t,"ui-sortable-placeholder",i||r.currentItem[0].className)._removeClass(t,"ui-sortable-helper");if(e==="tbody"){r._createTrPlaceholder(r.currentItem.find("tr").eq(0),p("<tr>",r.document[0]).appendTo(t))}else if(e==="tr"){r._createTrPlaceholder(r.currentItem,t)}else if(e==="img"){t.attr("src",r.currentItem.attr("src"))}if(!i){t.css("visibility","hidden")}return t},update:function t(e,n){if(i&&!a.forcePlaceholderSize){return}if(!n.height()){n.height(r.currentItem.innerHeight()-parseInt(r.currentItem.css("paddingTop")||0,10)-parseInt(r.currentItem.css("paddingBottom")||0,10))}if(!n.width()){n.width(r.currentItem.innerWidth()-parseInt(r.currentItem.css("paddingLeft")||0,10)-parseInt(r.currentItem.css("paddingRight")||0,10))}}}}r.placeholder=p(a.placeholder.element.call(r.element,r.currentItem));r.currentItem.after(r.placeholder);a.placeholder.update(r,r.placeholder)},_createTrPlaceholder:function t(e,n){var r=this;e.children().each(function(){p("<td>&#160;</td>",r.document[0]).attr("colspan",p(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function t(e){var n,r,i,a,o,s,u,l,c,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--){if(p.contains(this.currentItem[0],this.containers[n].element[0])){continue}if(this._intersectsWith(this.containers[n].containerCache)){if(f&&p.contains(this.containers[n].element[0],f.element[0])){continue}f=this.containers[n];d=n}else{if(this.containers[n].containerCache.over){this.containers[n]._trigger("out",e,this._uiHash(this));this.containers[n].containerCache.over=0}}}if(!f){return}if(this.containers.length===1){if(!this.containers[d].containerCache.over){this.containers[d]._trigger("over",e,this._uiHash(this));this.containers[d].containerCache.over=1}}else{i=1e4;a=null;c=f.floating||this._isFloating(this.currentItem);o=c?"left":"top";s=c?"width":"height";h=c?"pageX":"pageY";for(r=this.items.length-1;r>=0;r--){if(!p.contains(this.containers[d].element[0],this.items[r].item[0])){continue}if(this.items[r].item[0]===this.currentItem[0]){continue}u=this.items[r].item.offset()[o];l=false;if(e[h]-u>this.items[r][s]/2){l=true}if(Math.abs(e[h]-u)<i){i=Math.abs(e[h]-u);a=this.items[r];this.direction=l?"up":"down"}}if(!a&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[d]){if(!this.currentContainer.containerCache.over){this.containers[d]._trigger("over",e,this._uiHash());this.currentContainer.containerCache.over=1}return}a?this._rearrange(e,a,null,true):this._rearrange(e,null,this.containers[d].element,true);this._trigger("change",e,this._uiHash());this.containers[d]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[d];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[d]._trigger("over",e,this._uiHash(this));this.containers[d].containerCache.over=1}},_createHelper:function t(e){var n=this.options,r=p.isFunction(n.helper)?p(n.helper.apply(this.element[0],[e,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;if(!r.parents("body").length){p(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0])}if(r[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!r[0].style.width||n.forceHelperSize){r.width(this.currentItem.width())}if(!r[0].style.height||n.forceHelperSize){r.height(this.currentItem.height())}return r},_adjustOffsetFromHelper:function t(e){if(typeof e==="string"){e=e.split(" ")}if(p.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function t(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&p.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&p.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function t(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function t(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function t(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function t(){var e,n,r,i=this.options;if(i.containment==="parent"){i.containment=this.helper[0].parentNode}if(i.containment==="document"||i.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,i.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(i.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(i.containment)){e=p(i.containment)[0];n=p(i.containment).offset();r=p(e).css("overflow")!=="hidden";this.containment=[n.left+(parseInt(p(e).css("borderLeftWidth"),10)||0)+(parseInt(p(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(p(e).css("borderTopWidth"),10)||0)+(parseInt(p(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(p(e).css("borderLeftWidth"),10)||0)-(parseInt(p(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(p(e).css("borderTopWidth"),10)||0)-(parseInt(p(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function t(e,n){if(!n){n=this.position}var r=e==="absolute"?1:-1,i=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&p.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:i.scrollLeft())*r}},_generatePosition:function t(e){var n,r,i=this.options,a=e.pageX,o=e.pageY,s=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&p.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(s[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){a=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){o=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){a=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){o=this.containment[3]+this.offset.click.top}}if(i.grid){n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1];o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n;r=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0];a=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function t(e,n,r,i){r?r[0].appendChild(this.placeholder[0]):n.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?n.item[0]:n.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){if(a===this.counter){this.refreshPositions(!i)}})},_clear:function t(e,n){this.reverting=false;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(r in this._storedCSS){if(this._storedCSS[r]==="auto"||this._storedCSS[r]==="static"){this._storedCSS[r]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!n){i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!n){i.push(function(t){this._trigger("update",t,this._uiHash())})}if(this!==this.currentContainer){if(!n){i.push(function(t){this._trigger("remove",t,this._uiHash())});i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}}function a(e,n,r){return function(t){r._trigger(e,t,n._uiHash(n))}}for(r=this.containers.length-1;r>=0;r--){if(!n){i.push(a("deactivate",this,this.containers[r]))}if(this.containers[r].containerCache.over){i.push(a("out",this,this.containers[r]));this.containers[r].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!n){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!n){for(r=0;r<i.length;r++){i[r].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function t(){if(p.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function t(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||p([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(E){(function(){var a,w=Math.max,S=Math.abs,r=/left|center|right/,i=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,u=/%$/,e=E.fn.position;function T(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function x(t,e){return parseInt(E.css(t,e),10)||0}function n(t){var e=t[0];if(e.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(E.isWindow(e)){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(e.preventDefault){return{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}E.position={scrollbarWidth:function t(){if(a!==undefined){return a}var e,n,r=E("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),i=r.children()[0];E("body").append(r);e=i.offsetWidth;r.css("overflow","scroll");n=i.offsetWidth;if(e===n){n=r[0].clientWidth}r.remove();return a=e-n},getScrollInfo:function t(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),r=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&e.width<e.element[0].scrollWidth,a=r==="scroll"||r==="auto"&&e.height<e.element[0].scrollHeight;return{width:a?E.position.scrollbarWidth():0,height:i?E.position.scrollbarWidth():0}},getWithinInfo:function t(e){var n=E(e||window),r=E.isWindow(n[0]),i=!!n[0]&&n[0].nodeType===9,a=!r&&!i;return{element:n,isWindow:r,isDocument:i,offset:a?E(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}};E.fn.position=function(h){if(!h||!h.of){return e.apply(this,arguments)}h=E.extend({},h);var f,d,p,v,g,t,m=E(h.of),y=E.position.getWithinInfo(h.within),_=E.position.getScrollInfo(y),b=(h.collision||"flip").split(" "),O={};t=n(m);if(m[0].preventDefault){h.at="left top"}d=t.width;p=t.height;v=t.offset;g=E.extend({},v);E.each(["my","at"],function(){var t=(h[this]||"").split(" "),e,n;if(t.length===1){t=r.test(t[0])?t.concat(["center"]):i.test(t[0])?["center"].concat(t):["center","center"]}t[0]=r.test(t[0])?t[0]:"center";t[1]=i.test(t[1])?t[1]:"center";e=o.exec(t[0]);n=o.exec(t[1]);O[this]=[e?e[0]:0,n?n[0]:0];h[this]=[s.exec(t[0])[0],s.exec(t[1])[0]]});if(b.length===1){b[1]=b[0]}if(h.at[0]==="right"){g.left+=d}else if(h.at[0]==="center"){g.left+=d/2}if(h.at[1]==="bottom"){g.top+=p}else if(h.at[1]==="center"){g.top+=p/2}f=T(O.at,d,p);g.left+=f[0];g.top+=f[1];return this.each(function(){var n,t,s=E(this),u=s.outerWidth(),l=s.outerHeight(),e=x(this,"marginLeft"),r=x(this,"marginTop"),i=u+e+x(this,"marginRight")+_.width,a=l+r+x(this,"marginBottom")+_.height,c=E.extend({},g),o=T(O.my,s.outerWidth(),s.outerHeight());if(h.my[0]==="right"){c.left-=u}else if(h.my[0]==="center"){c.left-=u/2}if(h.my[1]==="bottom"){c.top-=l}else if(h.my[1]==="center"){c.top-=l/2}c.left+=o[0];c.top+=o[1];n={marginLeft:e,marginTop:r};E.each(["left","top"],function(t,e){if(E.ui.position[b[t]]){E.ui.position[b[t]][e](c,{targetWidth:d,targetHeight:p,elemWidth:u,elemHeight:l,collisionPosition:n,collisionWidth:i,collisionHeight:a,offset:[f[0]+o[0],f[1]+o[1]],my:h.my,at:h.at,within:y,elem:s})}});if(h.using){t=function t(e){var n=v.left-c.left,r=n+d-u,i=v.top-c.top,a=i+p-l,o={target:{element:m,left:v.left,top:v.top,width:d,height:p},element:{element:s,left:c.left,top:c.top,width:u,height:l},horizontal:r<0?"left":n>0?"right":"center",vertical:a<0?"top":i>0?"bottom":"middle"};if(d<u&&S(n+r)<d){o.horizontal="center"}if(p<l&&S(i+a)<p){o.vertical="middle"}if(w(S(n),S(r))>w(S(i),S(a))){o.important="horizontal"}else{o.important="vertical"}h.using.call(this,e,o)}}s.offset(E.extend(c,{using:t}))})};E.ui.position={fit:{left:function t(e,n){var r=n.within,i=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,o=e.left-n.collisionPosition.marginLeft,s=i-o,u=o+n.collisionWidth-a-i,l;if(n.collisionWidth>a){if(s>0&&u<=0){l=e.left+s+n.collisionWidth-a-i;e.left+=s-l}else if(u>0&&s<=0){e.left=i}else{if(s>u){e.left=i+a-n.collisionWidth}else{e.left=i}}}else if(s>0){e.left+=s}else if(u>0){e.left-=u}else{e.left=w(e.left-o,e.left)}},top:function t(e,n){var r=n.within,i=r.isWindow?r.scrollTop:r.offset.top,a=n.within.height,o=e.top-n.collisionPosition.marginTop,s=i-o,u=o+n.collisionHeight-a-i,l;if(n.collisionHeight>a){if(s>0&&u<=0){l=e.top+s+n.collisionHeight-a-i;e.top+=s-l}else if(u>0&&s<=0){e.top=i}else{if(s>u){e.top=i+a-n.collisionHeight}else{e.top=i}}}else if(s>0){e.top+=s}else if(u>0){e.top-=u}else{e.top=w(e.top-o,e.top)}}},flip:{left:function t(e,n){var r=n.within,i=r.offset.left+r.scrollLeft,a=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,s=e.left-n.collisionPosition.marginLeft,u=s-o,l=s+n.collisionWidth-a-o,c=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,h=n.at[0]==="left"?n.targetWidth:n.at[0]==="right"?-n.targetWidth:0,f=-2*n.offset[0],d,p;if(u<0){d=e.left+c+h+f+n.collisionWidth-a-i;if(d<0||d<S(u)){e.left+=c+h+f}}else if(l>0){p=e.left-n.collisionPosition.marginLeft+c+h+f-o;if(p>0||S(p)<l){e.left+=c+h+f}}},top:function t(e,n){var r=n.within,i=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,s=e.top-n.collisionPosition.marginTop,u=s-o,l=s+n.collisionHeight-a-o,t=n.my[1]==="top",c=t?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,h=n.at[1]==="top"?n.targetHeight:n.at[1]==="bottom"?-n.targetHeight:0,f=-2*n.offset[1],d,p;if(u<0){p=e.top+c+h+f+n.collisionHeight-a-i;if(p<0||p<S(u)){e.top+=c+h+f}}else if(l>0){d=e.top-n.collisionPosition.marginTop+c+h+f-o;if(d>0||S(d)<l){e.top+=c+h+f}}}},flipfit:{left:function t(){E.ui.position.flip.left.apply(this,arguments);E.ui.position.fit.left.apply(this,arguments)},top:function t(){E.ui.position.flip.top.apply(this,arguments);E.ui.position.fit.top.apply(this,arguments)}}}})();return E.ui.position})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(e){return e.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++t}})}}(),removeUniqueId:function t(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){e(this).removeAttr("id")}})}})})},function(t,e){
/**
 * @license AngularJS v1.7.5
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(C,M){"use strict";var j=M.$$minErr("$sanitize");var A;var k;var I;var R;var D;var P;var N;var L;var $;var F;function t(){var e=false;var r=false;this.$get=["$$sanitizeUri",function(n){e=true;if(r){k(f,c)}return function(t){var e=[];$(t,F(e,function(t,e){return!/^unsafe:/.test(n(t,e))}));return e.join("")}}];this.enableSvg=function(t){if(D(t)){r=t;return this}else{return r}};this.addValidElements=function(t){if(!e){if(R(t)){t={htmlElements:t}}_(c,t.svgElements);_(s,t.htmlVoidElements);_(f,t.htmlVoidElements);_(f,t.htmlElements)}return this};this.addValidAttrs=function(t){if(!e){k(g,y(t,true))}return this};A=M.bind;k=M.extend;I=M.forEach;R=M.isArray;D=M.isDefined;P=M.$$lowercase;N=M.noop;$=O;F=T;L=C.Node.prototype.contains||function(t){return!!(this.compareDocumentPosition(t)&16)};var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g;var s=m("area,br,col,hr,img,wbr");var t=m("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a=m("rp,rt"),o=k({},a,t);var u=k({},t,m("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var l=k({},a,m("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var c=m("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var h=m("script,style");var f=k({},s,u,l,o);var d=m("background,cite,href,longdesc,src,xlink:href,xml:base");var p=m("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var v=m("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var g=k({},d,v,p);function m(t,e){return y(t.split(","),e)}function y(t,e){var n={},r;for(r=0;r<t.length;r++){n[e?P(t[r]):t[r]]=true}return n}function _(t,e){if(e&&e.length){k(t,y(e))}}var b=function(r,e){var t;if(e&&e.implementation){t=e.implementation.createHTMLDocument("inert")}else{throw j("noinert","Can't create an inert html document")}var n=(t.documentElement||t.getDocumentElement()).querySelector("body");n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!n.querySelector("svg")){return i}else{n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(n.querySelector("svg img")){return a}else{return o}}function i(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(t){return undefined}var e=new r.XMLHttpRequest;e.responseType="document";e.open("GET","data:text/html;charset=utf-8,"+t,false);e.send(null);var n=e.response.body;n.firstChild.remove();return n}function a(t){t="<remove></remove>"+t;try{var e=(new r.DOMParser).parseFromString(t,"text/html").body;e.firstChild.remove();return e}catch(t){return undefined}}function o(t){n.innerHTML=t;if(e.documentMode){x(n)}return n}}(C,C.document);function O(t,e){if(t===null||t===undefined){t=""}else if(typeof t!=="string"){t=""+t}var n=b(t);if(!n)return"";var r=5;do{if(r===0){throw j("uinput","Failed to sanitize html because the input is unstable")}r--;t=n.innerHTML;n=b(t)}while(t!==n.innerHTML);var i=n.firstChild;while(i){switch(i.nodeType){case 1:e.start(i.nodeName.toLowerCase(),w(i.attributes));break;case 3:e.chars(i.textContent);break}var a;if(!(a=i.firstChild)){if(i.nodeType===1){e.end(i.nodeName.toLowerCase())}a=E("nextSibling",i);if(!a){while(a==null){i=E("parentNode",i);if(i===n)break;a=E("nextSibling",i);if(i.nodeType===1){e.end(i.nodeName.toLowerCase())}}}}i=a}while(i=n.firstChild){n.removeChild(i)}}function w(t){var e={};for(var n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}function S(t){return t.replace(/&/g,"&amp;").replace(n,function(t){var e=t.charCodeAt(0);var n=t.charCodeAt(1);return"&#"+((e-55296)*1024+(n-56320)+65536)+";"}).replace(i,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t,a){var n=false;var o=A(t,t.push);return{start:function t(i,e){i=P(i);if(!n&&h[i]){n=i}if(!n&&f[i]===true){o("<");o(i);I(e,function(t,e){var n=P(e);var r=i==="img"&&n==="src"||n==="background";if(g[n]===true&&(d[n]!==true||a(t,r))){o(" ");o(e);o('="');o(S(t));o('"')}});o(">")}},end:function t(e){e=P(e);if(!n&&f[e]===true&&s[e]!==true){o("</");o(e);o(">")}if(e==n){n=false}},chars:function t(e){if(!n){o(S(e))}}}}function x(t){while(t){if(t.nodeType===C.Node.ELEMENT_NODE){var e=t.attributes;for(var n=0,r=e.length;n<r;n++){var i=e[n];var a=i.name.toLowerCase();if(a==="xmlns:ns1"||a.lastIndexOf("ns1:",0)===0){t.removeAttributeNode(i);n--;r--}}}var o=t.firstChild;if(o){x(o)}t=E("nextSibling",t)}}function E(t,e){var n=e[t];if(n&&L.call(e,n)){throw j("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText)}return n}}function _(t){var e=[];var n=F(e,N);n.chars(t);return e.join("")}M.module("ngSanitize",[]).provider("$sanitize",t).info({angularVersion:"1.7.5"});M.module("ngSanitize").filter("linky",["$sanitize",function(h){var f=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;var p=M.$$minErr("linky");var v=M.isDefined;var g=M.isFunction;var m=M.isObject;var y=M.isString;return function(t,i,e){if(t==null||t==="")return t;if(!y(t))throw p("notstring","Expected string but received: {0}",t);var a=g(e)?e:m(e)?function t(){return e}:function t(){return{}};var n;var r=t;var o=[];var s;var u;while(n=r.match(f)){s=n[0];if(!n[2]&&!n[4]){s=(n[3]?"http://":"mailto:")+s}u=n.index;l(r.substr(0,u));c(s,n[0].replace(d,""));r=r.substring(u+n[0].length)}l(r);return h(o.join(""));function l(t){if(!t){return}o.push(_(t))}function c(t,e){var n,r=a(t);o.push("<a ");for(n in r){o.push(n+'="'+r[n]+'" ')}if(v(i)&&!("target"in r)){o.push('target="',i,'" ')}o.push('href="',t.replace(/"/g,"&quot;"),'">');l(e);o.push("</a>")}}}])})(window,window.angular)},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj){__p+='<h4 class="popover-title ngeo-popup-title">\n  <span ng-bind-html="title"></span>\n  <button type="button" class="close" ng-click="open = false"> &times;</button>\n</h4>\n<div class="popover-content" ng-bind-html="content"></div>\n'}return __p}},,,function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(301),r(445),r(324),r(109),r(236)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(_){_.widget("ui.resizable",_.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function t(e){return parseFloat(e)||0},_isNumber:function t(e){return!isNaN(parseFloat(e))},_hasScroll:function t(e,n){if(_(e).css("overflow")==="hidden"){return false}var r=n&&n==="left"?"scrollLeft":"scrollTop",i=false;if(e[r]>0){return true}e[r]=1;i=e[r]>0;e[r]=0;return i},_create:function t(){var e,n=this.options,r=this;this._addClass("ui-resizable");_.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(_("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(e);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(e);this._proportionallyResize()}this._setupHandles();if(n.autoHide){_(this.element).on("mouseenter",function(){if(n.disabled){return}r._removeClass("ui-resizable-autohide");r._handles.show()}).on("mouseleave",function(){if(n.disabled){return}if(!r.resizing){r._addClass("ui-resizable-autohide");r._handles.hide()}})}this._mouseInit()},_destroy:function t(){this._mouseDestroy();var e,t=function t(e){_(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);t(this.originalElement);return this},_setOption:function t(e,n){this._super(e,n);switch(e){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function t(){var e=this.options,n,r,i,a,o,s=this;this.handles=e.handles||(!_(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=_();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}i=this.handles.split(",");this.handles={};for(r=0;r<i.length;r++){n=_.trim(i[r]);a="ui-resizable-"+n;o=_("<div>");this._addClass(o,"ui-resizable-handle "+a);o.css({zIndex:e.zIndex});this.handles[n]=".ui-resizable-"+n;this.element.append(o)}}this._renderAxis=function(t){var e,n,r,i;t=t||this.element;for(e in this.handles){if(this.handles[e].constructor===String){this.handles[e]=this.element.children(this.handles[e]).first().show()}else if(this.handles[e].jquery||this.handles[e].nodeType){this.handles[e]=_(this.handles[e]);this._on(this.handles[e],{mousedown:s._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){n=_(this.handles[e],this.element);i=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth();r=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(r,i);this._proportionallyResize()}this._handles=this._handles.add(this.handles[e])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!s.resizing){if(this.className){o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}s.axis=o&&o[1]?o[1]:"se"}});if(e.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function t(){this._handles.remove()},_mouseCapture:function t(e){var n,r,i=false;for(n in this.handles){r=_(this.handles[n])[0];if(r===e.target||_.contains(r,e.target)){i=true}}return!this.options.disabled&&i},_mouseStart:function t(e){var n,r,i,a=this.options,o=this.element;this.resizing=true;this._renderProxy();n=this._num(this.helper.css("left"));r=this._num(this.helper.css("top"));if(a.containment){n+=_(a.containment).scrollLeft()||0;r+=_(a.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:n,top:r};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()};this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()};this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};this.originalPosition={left:n,top:r};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof a.aspectRatio==="number"?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;i=_(".ui-resizable-"+this.axis).css("cursor");_("body").css("cursor",i==="auto"?this.axis+"-resize":i);this._addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function t(e){var n,r,i=this.originalMousePosition,a=this.axis,o=e.pageX-i.left||0,s=e.pageY-i.top||0,u=this._change[a];this._updatePrevProperties();if(!u){return false}n=u.apply(this,[e,o,s]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){n=this._updateRatio(n,e)}n=this._respectSize(n,e);this._updateCache(n);this._propagate("resize",e);r=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!_.isEmptyObject(r)){this._updatePrevProperties();this._trigger("resize",e,this.ui());this._applyChanges()}return false},_mouseStop:function t(e){this.resizing=false;var n,r,i,a,o,s,u,l=this.options,c=this;if(this._helper){n=this._proportionallyResizeElements;r=n.length&&/textarea/i.test(n[0].nodeName);i=r&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height;a=r?0:c.sizeDiff.width;o={width:c.helper.width()-a,height:c.helper.height()-i};s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null;u=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;if(!l.animate){this.element.css(_.extend(o,{top:u,left:s}))}c.helper.height(c.size.height);c.helper.width(c.size.width);if(this._helper&&!l.animate){this._proportionallyResize()}}_("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function t(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function t(){var e={};if(this.position.top!==this.prevPosition.top){e.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){e.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){e.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){e.height=this.size.height+"px"}this.helper.css(e);return e},_updateVirtualBoundaries:function t(e){var n,r,i,a,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity};if(this._aspectRatio||e){n=o.minHeight*this.aspectRatio;i=o.minWidth/this.aspectRatio;r=o.maxHeight*this.aspectRatio;a=o.maxWidth/this.aspectRatio;if(n>o.minWidth){o.minWidth=n}if(i>o.minHeight){o.minHeight=i}if(r<o.maxWidth){o.maxWidth=r}if(a<o.maxHeight){o.maxHeight=a}}this._vBoundaries=o},_updateCache:function t(e){this.offset=this.helper.offset();if(this._isNumber(e.left)){this.position.left=e.left}if(this._isNumber(e.top)){this.position.top=e.top}if(this._isNumber(e.height)){this.size.height=e.height}if(this._isNumber(e.width)){this.size.width=e.width}},_updateRatio:function t(e){var n=this.position,r=this.size,i=this.axis;if(this._isNumber(e.height)){e.width=e.height*this.aspectRatio}else if(this._isNumber(e.width)){e.height=e.width/this.aspectRatio}if(i==="sw"){e.left=n.left+(r.width-e.width);e.top=null}if(i==="nw"){e.top=n.top+(r.height-e.height);e.left=n.left+(r.width-e.width)}return e},_respectSize:function t(e){var n=this._vBoundaries,r=this.axis,i=this._isNumber(e.width)&&n.maxWidth&&n.maxWidth<e.width,a=this._isNumber(e.height)&&n.maxHeight&&n.maxHeight<e.height,o=this._isNumber(e.width)&&n.minWidth&&n.minWidth>e.width,s=this._isNumber(e.height)&&n.minHeight&&n.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(r),h=/nw|ne|n/.test(r);if(o){e.width=n.minWidth}if(s){e.height=n.minHeight}if(i){e.width=n.maxWidth}if(a){e.height=n.maxHeight}if(o&&c){e.left=u-n.minWidth}if(i&&c){e.left=u-n.maxWidth}if(s&&h){e.top=l-n.minHeight}if(a&&h){e.top=l-n.maxHeight}if(!e.width&&!e.height&&!e.left&&e.top){e.top=null}else if(!e.width&&!e.height&&!e.top&&e.left){e.left=null}return e},_getPaddingPlusBorderDimensions:function t(e){var n=0,r=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],a=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;n<4;n++){r[n]=parseFloat(i[n])||0;r[n]+=parseFloat(a[n])||0}return{height:r[0]+r[2],width:r[1]+r[3]}},_proportionallyResize:function t(){if(!this._proportionallyResizeElements.length){return}var e,n=0,r=this.helper||this.element;for(;n<this._proportionallyResizeElements.length;n++){e=this._proportionallyResizeElements[n];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(e)}e.css({height:r.height()-this.outerDimensions.height||0,width:r.width()-this.outerDimensions.width||0})}},_renderProxy:function t(){var e=this.element,n=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||_("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function t(e,n){return{width:this.originalSize.width+n}},w:function t(e,n){var r=this.originalSize,i=this.originalPosition;return{left:i.left+n,width:r.width-n}},n:function t(e,n,r){var i=this.originalSize,a=this.originalPosition;return{top:a.top+r,height:i.height-r}},s:function t(e,n,r){return{height:this.originalSize.height+r}},se:function t(e,n,r){return _.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,r]))},sw:function t(e,n,r){return _.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,r]))},ne:function t(e,n,r){return _.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,r]))},nw:function t(e,n,r){return _.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,r]))}},_propagate:function t(e,n){_.ui.plugin.call(this,e,[n,this.ui()]);e!=="resize"&&this._trigger(e,n,this.ui())},plugins:{},ui:function t(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});_.ui.plugin.add("resizable","animate",{stop:function t(n){var r=_(this).resizable("instance"),e=r.options,i=r._proportionallyResizeElements,a=i.length&&/textarea/i.test(i[0].nodeName),o=a&&r._hasScroll(i[0],"left")?0:r.sizeDiff.height,s=a?0:r.sizeDiff.width,u={width:r.size.width-s,height:r.size.height-o},l=parseFloat(r.element.css("left"))+(r.position.left-r.originalPosition.left)||null,c=parseFloat(r.element.css("top"))+(r.position.top-r.originalPosition.top)||null;r.element.animate(_.extend(u,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function t(){var e={width:parseFloat(r.element.css("width")),height:parseFloat(r.element.css("height")),top:parseFloat(r.element.css("top")),left:parseFloat(r.element.css("left"))};if(i&&i.length){_(i[0]).css({width:e.width,height:e.height})}r._updateCache(e);r._propagate("resize",n)}})}});_.ui.plugin.add("resizable","containment",{start:function t(){var n,r,e,i,a,o,s,u=_(this).resizable("instance"),l=u.options,c=u.element,h=l.containment,f=h instanceof _?h.get(0):/parent/.test(h)?c.parent().get(0):h;if(!f){return}u.containerElement=_(f);if(/document/.test(h)||h===document){u.containerOffset={left:0,top:0};u.containerPosition={left:0,top:0};u.parentData={element:_(document),left:0,top:0,width:_(document).width(),height:_(document).height()||document.body.parentNode.scrollHeight}}else{n=_(f);r=[];_(["Top","Right","Left","Bottom"]).each(function(t,e){r[t]=u._num(n.css("padding"+e))});u.containerOffset=n.offset();u.containerPosition=n.position();u.containerSize={height:n.innerHeight()-r[3],width:n.innerWidth()-r[1]};e=u.containerOffset;i=u.containerSize.height;a=u.containerSize.width;o=u._hasScroll(f,"left")?f.scrollWidth:a;s=u._hasScroll(f)?f.scrollHeight:i;u.parentData={element:f,left:e.left,top:e.top,width:o,height:s}}},resize:function t(e){var n,r,i,a,o=_(this).resizable("instance"),s=o.options,u=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,h={top:0,left:0},f=o.containerElement,d=true;if(f[0]!==document&&/static/.test(f.css("position"))){h=u}if(l.left<(o._helper?u.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-u.left:o.position.left-h.left);if(c){o.size.height=o.size.width/o.aspectRatio;d=false}o.position.left=s.helper?u.left:0}if(l.top<(o._helper?u.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-u.top:o.position.top);if(c){o.size.width=o.size.height*o.aspectRatio;d=false}o.position.top=o._helper?u.top:0}i=o.containerElement.get(0)===o.element.parent().get(0);a=/relative|absolute/.test(o.containerElement.css("position"));if(i&&a){o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top}else{o.offset.left=o.element.offset().left;o.offset.top=o.element.offset().top}n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-u.left));r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-u.top));if(n+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-n;if(c){o.size.height=o.size.width/o.aspectRatio;d=false}}if(r+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-r;if(c){o.size.width=o.size.height*o.aspectRatio;d=false}}if(!d){o.position.left=o.prevPosition.left;o.position.top=o.prevPosition.top;o.size.width=o.prevSize.width;o.size.height=o.prevSize.height}},stop:function t(){var e=_(this).resizable("instance"),n=e.options,r=e.containerOffset,i=e.containerPosition,a=e.containerElement,o=_(e.helper),s=o.offset(),u=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;if(e._helper&&!n.animate&&/relative/.test(a.css("position"))){_(this).css({left:s.left-i.left-r.left,width:u,height:l})}if(e._helper&&!n.animate&&/static/.test(a.css("position"))){_(this).css({left:s.left-i.left-r.left,width:u,height:l})}}});_.ui.plugin.add("resizable","alsoResize",{start:function t(){var e=_(this).resizable("instance"),n=e.options;_(n.alsoResize).each(function(){var t=_(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function t(e,n){var r=_(this).resizable("instance"),i=r.options,a=r.originalSize,o=r.originalPosition,s={height:r.size.height-a.height||0,width:r.size.width-a.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0};_(i.alsoResize).each(function(){var t=_(this),r=_(this).data("ui-resizable-alsoresize"),i={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];_.each(e,function(t,e){var n=(r[e]||0)+(s[e]||0);if(n&&n>=0){i[e]=n||null}});t.css(i)})},stop:function t(){_(this).removeData("ui-resizable-alsoresize")}});_.ui.plugin.add("resizable","ghost",{start:function t(){var e=_(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0});e._addClass(e.ghost,"ui-resizable-ghost");if(_.uiBackCompat!==false&&typeof e.options.ghost==="string"){e.ghost.addClass(this.options.ghost)}e.ghost.appendTo(e.helper)},resize:function t(){var e=_(this).resizable("instance");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function t(){var e=_(this).resizable("instance");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});_.ui.plugin.add("resizable","grid",{resize:function t(){var e,n=_(this).resizable("instance"),r=n.options,i=n.size,a=n.originalSize,o=n.originalPosition,s=n.axis,u=typeof r.grid==="number"?[r.grid,r.grid]:r.grid,l=u[0]||1,c=u[1]||1,h=Math.round((i.width-a.width)/l)*l,f=Math.round((i.height-a.height)/c)*c,d=a.width+h,p=a.height+f,v=r.maxWidth&&r.maxWidth<d,g=r.maxHeight&&r.maxHeight<p,m=r.minWidth&&r.minWidth>d,y=r.minHeight&&r.minHeight>p;r.grid=u;if(m){d+=l}if(y){p+=c}if(v){d-=l}if(g){p-=c}if(/^(se|s|e)$/.test(s)){n.size.width=d;n.size.height=p}else if(/^(ne)$/.test(s)){n.size.width=d;n.size.height=p;n.position.top=o.top-f}else if(/^(sw)$/.test(s)){n.size.width=d;n.size.height=p;n.position.left=o.left-h}else{if(p-c<=0||d-l<=0){e=n._getPaddingPlusBorderDimensions(this)}if(p-c>0){n.size.height=p;n.position.top=o.top-f}else{p=c-e.height;n.size.height=p;n.position.top=o.top+a.height-p}if(d-l>0){n.size.width=d;n.position.left=o.left-h}else{d=l-e.width;n.size.width=d;n.position.left=o.left+a.width-d}}}});return _.ui.resizable})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){return t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function t(){return this.off(".ui-disableSelection")}})})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(t){return t.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}if(!n){n=e.body}if(!n.nodeName){n=e.body}return n}})},function(e,n,r){var i,a,o;(function(t){if(true){!(a=[r(35),r(109)],i=t,o=typeof i==="function"?i.apply(n,a):i,o!==undefined&&(e.exports=o))}else{}})(function(e){return e.ui.safeBlur=function(t){if(t&&t.nodeName.toLowerCase()!=="body"){e(t).trigger("blur")}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(35);var i=n.n(r);var p=n(57);function v(){v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};return v.apply(this,arguments)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function g(t,e,n){if(e)a(t.prototype,e);if(n)a(t,n);return t}var o=function(s){var n="modal";var e="4.1.3";var o="bs.modal";var r="."+o;var t=".data-api";var i=s.fn[n];var a=27;var u={backdrop:true,keyboard:true,focus:true,show:true};var l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"};var c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,FOCUSIN:"focusin"+r,RESIZE:"resize"+r,CLICK_DISMISS:"click.dismiss"+r,KEYDOWN_DISMISS:"keydown.dismiss"+r,MOUSEUP_DISMISS:"mouseup.dismiss"+r,MOUSEDOWN_DISMISS:"mousedown.dismiss"+r,CLICK_DATA_API:"click"+r+t};var h={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"};var f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"};var d=function(){function i(t,e){this._config=this._getConfig(e);this._element=t;this._dialog=t.querySelector(f.DIALOG);this._backdrop=null;this._isShown=false;this._isBodyOverflowing=false;this._ignoreBackdropClick=false;this._scrollbarWidth=0}var t=i.prototype;t.toggle=function t(e){return this._isShown?this.hide():this.show(e)};t.show=function t(e){var n=this;if(this._isTransitioning||this._isShown){return}if(s(this._element).hasClass(h.FADE)){this._isTransitioning=true}var r=s.Event(c.SHOW,{relatedTarget:e});s(this._element).trigger(r);if(this._isShown||r.isDefaultPrevented()){return}this._isShown=true;this._checkScrollbar();this._setScrollbar();this._adjustDialog();s(document.body).addClass(h.OPEN);this._setEscapeEvent();this._setResizeEvent();s(this._element).on(c.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)});s(this._dialog).on(c.MOUSEDOWN_DISMISS,function(){s(n._element).one(c.MOUSEUP_DISMISS,function(t){if(s(t.target).is(n._element)){n._ignoreBackdropClick=true}})});this._showBackdrop(function(){return n._showElement(e)})};t.hide=function t(e){var n=this;if(e){e.preventDefault()}if(this._isTransitioning||!this._isShown){return}var r=s.Event(c.HIDE);s(this._element).trigger(r);if(!this._isShown||r.isDefaultPrevented()){return}this._isShown=false;var i=s(this._element).hasClass(h.FADE);if(i){this._isTransitioning=true}this._setEscapeEvent();this._setResizeEvent();s(document).off(c.FOCUSIN);s(this._element).removeClass(h.SHOW);s(this._element).off(c.CLICK_DISMISS);s(this._dialog).off(c.MOUSEDOWN_DISMISS);if(i){var a=p["a"].getTransitionDurationFromElement(this._element);s(this._element).one(p["a"].TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(a)}else{this._hideModal()}};t.dispose=function t(){s.removeData(this._element,o);s(window,document,this._element,this._backdrop).off(r);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null};t.handleUpdate=function t(){this._adjustDialog()};t._getConfig=function t(e){e=v({},u,e);p["a"].typeCheckConfig(n,e,l);return e};t._showElement=function t(e){var n=this;var r=s(this._element).hasClass(h.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element)}this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;if(r){p["a"].reflow(this._element)}s(this._element).addClass(h.SHOW);if(this._config.focus){this._enforceFocus()}var i=s.Event(c.SHOWN,{relatedTarget:e});var a=function t(){if(n._config.focus){n._element.focus()}n._isTransitioning=false;s(n._element).trigger(i)};if(r){var o=p["a"].getTransitionDurationFromElement(this._element);s(this._dialog).one(p["a"].TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}};t._enforceFocus=function t(){var e=this;s(document).off(c.FOCUSIN).on(c.FOCUSIN,function(t){if(document!==t.target&&e._element!==t.target&&s(e._element).has(t.target).length===0){e._element.focus()}})};t._setEscapeEvent=function t(){var e=this;if(this._isShown&&this._config.keyboard){s(this._element).on(c.KEYDOWN_DISMISS,function(t){if(t.which===a){t.preventDefault();e.hide()}})}else if(!this._isShown){s(this._element).off(c.KEYDOWN_DISMISS)}};t._setResizeEvent=function t(){var e=this;if(this._isShown){s(window).on(c.RESIZE,function(t){return e.handleUpdate(t)})}else{s(window).off(c.RESIZE)}};t._hideModal=function t(){var e=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",true);this._isTransitioning=false;this._showBackdrop(function(){s(document.body).removeClass(h.OPEN);e._resetAdjustments();e._resetScrollbar();s(e._element).trigger(c.HIDDEN)})};t._removeBackdrop=function t(){if(this._backdrop){s(this._backdrop).remove();this._backdrop=null}};t._showBackdrop=function t(e){var n=this;var r=s(this._element).hasClass(h.FADE)?h.FADE:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className=h.BACKDROP;if(r){this._backdrop.classList.add(r)}s(this._backdrop).appendTo(document.body);s(this._element).on(c.CLICK_DISMISS,function(t){if(n._ignoreBackdropClick){n._ignoreBackdropClick=false;return}if(t.target!==t.currentTarget){return}if(n._config.backdrop==="static"){n._element.focus()}else{n.hide()}});if(r){p["a"].reflow(this._backdrop)}s(this._backdrop).addClass(h.SHOW);if(!e){return}if(!r){e();return}var i=p["a"].getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(p["a"].TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){s(this._backdrop).removeClass(h.SHOW);var a=function t(){n._removeBackdrop();if(e){e()}};if(s(this._element).hasClass(h.FADE)){var o=p["a"].getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(p["a"].TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}}else if(e){e()}};t._adjustDialog=function t(){var e=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&e){this._element.style.paddingLeft=this._scrollbarWidth+"px"}if(this._isBodyOverflowing&&!e){this._element.style.paddingRight=this._scrollbarWidth+"px"}};t._resetAdjustments=function t(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};t._checkScrollbar=function t(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};t._setScrollbar=function t(){var i=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(f.FIXED_CONTENT));var n=[].slice.call(document.querySelectorAll(f.STICKY_CONTENT));s(e).each(function(t,e){var n=e.style.paddingRight;var r=s(e).css("padding-right");s(e).data("padding-right",n).css("padding-right",parseFloat(r)+i._scrollbarWidth+"px")});s(n).each(function(t,e){var n=e.style.marginRight;var r=s(e).css("margin-right");s(e).data("margin-right",n).css("margin-right",parseFloat(r)-i._scrollbarWidth+"px")});var r=document.body.style.paddingRight;var a=s(document.body).css("padding-right");s(document.body).data("padding-right",r).css("padding-right",parseFloat(a)+this._scrollbarWidth+"px")}};t._resetScrollbar=function t(){var e=[].slice.call(document.querySelectorAll(f.FIXED_CONTENT));s(e).each(function(t,e){var n=s(e).data("padding-right");s(e).removeData("padding-right");e.style.paddingRight=n?n:""});var n=[].slice.call(document.querySelectorAll(""+f.STICKY_CONTENT));s(n).each(function(t,e){var n=s(e).data("margin-right");if(typeof n!=="undefined"){s(e).css("margin-right",n).removeData("margin-right")}});var r=s(document.body).data("padding-right");s(document.body).removeData("padding-right");document.body.style.paddingRight=r?r:""};t._getScrollbarWidth=function t(){var e=document.createElement("div");e.className=h.SCROLLBAR_MEASURER;document.body.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;document.body.removeChild(e);return n};i._jQueryInterface=function t(n,r){return this.each(function(){var t=s(this).data(o);var e=v({},u,s(this).data(),typeof n==="object"&&n?n:{});if(!t){t=new i(this,e);s(this).data(o,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n](r)}else if(e.show){t.show(r)}})};g(i,null,[{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return u}}]);return i}();s(document).on(c.CLICK_DATA_API,f.DATA_TOGGLE,function(t){var e=this;var n;var r=p["a"].getSelectorFromElement(this);if(r){n=document.querySelector(r)}var i=s(n).data(o)?"toggle":v({},s(n).data(),s(this).data());if(this.tagName==="A"||this.tagName==="AREA"){t.preventDefault()}var a=s(n).one(c.SHOW,function(t){if(t.isDefaultPrevented()){return}a.one(c.HIDDEN,function(){if(s(e).is(":visible")){e.focus()}})});d._jQueryInterface.call(s(n),i,this)});s.fn[n]=d._jQueryInterface;s.fn[n].Constructor=d;s.fn[n].noConflict=function(){s.fn[n]=i;return d._jQueryInterface};return d}(i.a);var s=o},,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(35);var i=n.n(r);var v=n(247);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function g(t,e,n){if(e)a(t.prototype,e);if(n)a(t,n);return t}function m(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}function y(){y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};return y.apply(this,arguments)}var o=function(i){var n="popover";var a="4.1.3";var o="bs.popover";var s="."+o;var t=i.fn[n];var u="bs-popover";var l=new RegExp("(^|\\s)"+u+"\\S+","g");var c=y({},v["a"].Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-header"></h3>'+'<div class="popover-body"></div></div>'});var h=y({},v["a"].DefaultType,{content:"(string|element|function)"});var f={FADE:"fade",SHOW:"show"};var d={TITLE:".popover-header",CONTENT:".popover-body"};var p={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s};var e=function(t){m(r,t);function r(){return t.apply(this,arguments)||this}var e=r.prototype;e.isWithContent=function t(){return this.getTitle()||this._getContent()};e.addAttachmentClass=function t(e){i(this.getTipElement()).addClass(u+"-"+e)};e.getTipElement=function t(){this.tip=this.tip||i(this.config.template)[0];return this.tip};e.setContent=function t(){var e=i(this.getTipElement());this.setElementContent(e.find(d.TITLE),this.getTitle());var n=this._getContent();if(typeof n==="function"){n=n.call(this.element)}this.setElementContent(e.find(d.CONTENT),n);e.removeClass(f.FADE+" "+f.SHOW)};e._getContent=function t(){return this.element.getAttribute("data-content")||this.config.content};e._cleanTipClass=function t(){var e=i(this.getTipElement());var n=e.attr("class").match(l);if(n!==null&&n.length>0){e.removeClass(n.join(""))}};r._jQueryInterface=function t(n){return this.each(function(){var t=i(this).data(o);var e=typeof n==="object"?n:null;if(!t&&/destroy|hide/.test(n)){return}if(!t){t=new r(this,e);i(this).data(o,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};g(r,null,[{key:"VERSION",get:function t(){return a}},{key:"Default",get:function t(){return c}},{key:"NAME",get:function t(){return n}},{key:"DATA_KEY",get:function t(){return o}},{key:"Event",get:function t(){return p}},{key:"EVENT_KEY",get:function t(){return s}},{key:"DefaultType",get:function t(){return h}}]);return r}(v["a"]);i.fn[n]=e._jQueryInterface;i.fn[n].Constructor=e;i.fn[n].noConflict=function(){i.fn[n]=t;return e._jQueryInterface};return e}(i.a);var s=o},,,,,,,,,,,,function(t,e){}]]);
//# sourceMappingURL=commons.6a6709.js.map