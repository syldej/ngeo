(function(l){function e(e){var t=e[0];var r=e[1];var n=e[2];var i,a,o=0,s=[];for(;o<t.length;o++){a=t[o];if(p[a]){s.push(p[a][0])}p[a]=0}for(i in r){if(Object.prototype.hasOwnProperty.call(r,i)){l[i]=r[i]}}if(v)v(e);while(s.length){s.shift()()}f.push.apply(f,n||[]);return u()}function u(){var e;for(var t=0;t<f.length;t++){var r=f[t];var n=true;for(var i=1;i<r.length;i++){var a=r[i];if(p[a]!==0)n=false}if(n){f.splice(t--,1);e=o(o.s=r[0])}}return e}var r={};var p={16:0};var f=[];function o(e){if(r[e]){return r[e].exports}var t=r[e]={i:e,l:false,exports:{}};l[e].call(t.exports,t,t.exports,o);t.l=true;return t.exports}o.m=l;o.c=r;o.d=function(e,t,r){if(!o.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};o.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};o.t=function(t,e){if(e&1)t=o(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);o.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r};o.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};o.d(e,"a",e);return e};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";var t=window["webpackJsonp"]=window["webpackJsonp"]||[];var n=t.push.bind(t);t.push=e;t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var v=n;f.push([452,0]);return u()})({452:function(e,t,r){r(51);r(52);e.exports=r(453)},453:function(e,t,r){"use strict";r.r(t);var n=r(454);var i=r.n(n);var c=r(88);var d=r(15);var h=r(19);var g=r(25);var m=r(38);var w=r(27);var y=r(77);var b=r(41);var x=r(74);var P=r(36);var a=r(23);var o=r(294);var s={};s.module=angular.module("app",["gettext",a["a"].name,o["a"].name]);s.MainController=function(e,t){var s=this;this.scope_=t;var l=new P["a"];this.map=new h["a"]({layers:[new y["a"]({source:new x["a"]({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:"&copy; "+'<a href="http://www.geo.admin.ch/internet/geoportal/'+'en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new b["a"]({source:l})],view:new g["a"]({projection:c["a"],extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var u=this.map;var r=new b["a"]({source:new P["a"]});this.snappedPoint_=new d["a"];r.getSource().addFeature(this.snappedPoint_);r.setMap(u);this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}];this.profileData=undefined;e.get("data/profile.json").then(function(e){var t=e.data["profile"];s.profileData=t;var r;var n=t.length;var i=new m["a"]([],"XYM");for(r=0;r<n;r++){var a=t[r];i.appendCoordinate([a.x,a.y,a.dist])}l.addFeature(new d["a"](i));var o=s.map.getSize();u.getView().fit(l.getExtent(),{size:o})});u.on("pointermove",function(e){if(e.dragging){return}var t=u.getEventCoordinate(e.originalEvent);s.snapToGeometry(t,l.getFeatures()[0].getGeometry())});var n=function e(t,r,n){return function(e){if(n!==undefined){e=e[n]}return e[r]}};var i={number:1,string:""};var a=n(i.number,"dist");var o={line1:{style:{},zExtractor:n(i.number,"mnt","values")}};var p={sort:n(i.number,"sort"),id:n(i.string,"id"),dist:n(i.number,"dist"),title:n(i.string,"title"),z:function e(t,r){if(r!==undefined){t["z"]=r}return t["z"]}};var f=function(e){this.point=e;this.snappedPoint_.setGeometry(new w["a"]([e.x,e.y]))}.bind(this);var v=function(){this.point=null;this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:a,linesConfiguration:o,poiExtractor:p,hoverCallback:f,outCallback:v};this.point=null;this.profileHighlight=undefined};s.MainController.$inject=["$http","$scope"];s.MainController.prototype.snapToGeometry=function(e,t){var r=t.getClosestPoint(e);var n=r[0]-e[0];var i=r[1]-e[1];var a=Math.sqrt(n*n+i*i);var o=a/this.map.getView().getResolution();if(o<8){this.profileHighlight=r[2]}else{this.profileHighlight=-1}this.scope_.$apply()};s.module.controller("MainController",s.MainController);t["default"]=s},454:function(e,t){}});
//# sourceMappingURL=elevationProfile.0caf4d.js.map