!function(p){function e(e){for(var t,r,n=e[0],o=e[1],l=e[2],a=0,i=[];a<n.length;a++)r=n[a],s[r]&&i.push(s[r][0]),s[r]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(p[t]=o[t]);for(y&&y(e);i.length;)i.shift()();return c.push.apply(c,l||[]),u()}function u(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=r[0]))}return e}var r={},s={22:0},c=[];function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return p[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=p,a.c=r,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var y=n;c.push([467,0]),u()}({467:function(e,t,r){r(52),r(53),e.exports=r(468)},468:function(e,t,r){"use strict";r.r(t);r(469);var o,n=r(18),l=r(26),a=r(17),i=r(31),p=r(305),u=r(292),s=r(19),c=r(204),y={};y.module=angular.module("app",["gettext",u.a.name,s.a.name,c.a.module.name]),y.layertreeComponent={bindings:{map:"=appLayertreeMap"},controller:"AppLayertreeController",template:'<div ngeo-layertree="::$ctrl.tree" ngeo-layertree-templateurl="examples/layertree" ngeo-layertree-map="$ctrl.map" ngeo-layertree-nodelayer="$ctrl.getLayer(node)"></div>'},y.module.run(["$templateCache",function(e){e.put("examples/layertree",r(470))}]),y.module.component("appLayertree",y.layertreeComponent),y.LayertreeController=function(e,t,r,n){var o=this;this.tree=void 0,e.get("data/tree.json").then(function(e){o.tree=e.data}),this.http_=e,this.sce_=t,this.getLayer_=r,this.infoPopup_=n(),this.promises_={}},y.LayertreeController.$inject=["$http","$sce","appGetLayer","ngeoCreatePopup"],y.LayertreeController.prototype.getLayer=function(e){return this.getLayer_(e)},y.LayertreeController.prototype.onButtonClick=function(t,e){var r=this,n=t.layerType;n in this.promises_||(this.promises_[n]=this.http_.get("data/metadata.html").then(function(e){return r.sce_.trustAsHtml(e.data)}));var o=this.infoPopup_;this.promises_[n].then(function(e){o.setTitle(t.name),o.setContent(e),o.setOpen(!0)})},y.module.controller("AppLayertreeController",y.LayertreeController),y.getLayer=(o={},function(e){if(!("layerType"in e))return null;var t,r=e.layerType;if(r in o)return o[r];t="stamenWatercolor"==r?new p.a({layer:"watercolor"}):"stamenTerrain-labels"==r?new p.a({layer:"terrain-labels"}):"osmHumanitarian"==r?new i.b({url:"https://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png"}):"osmCycle"==r?new i.b({url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png"}):"osmTransport"==r?new i.b({url:"https://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png"}):new i.b;var n=new a.a({source:t});return n.set("type",r),o[r]=n}),y.module.value("appGetLayer",y.getLayer),y.MainController=function(){this.map=new n.a({layers:[new a.a({source:new i.b})],view:new l.a({center:[-10983710.59086991,4686507.078220731],zoom:4})})},y.module.controller("MainController",y.MainController),t.default=y},469:function(e,t){},470:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<span ng-if="::!layertreeCtrl.isRoot">{{::layertreeCtrl.node.name}}</span>\n<input type="checkbox" ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n    ng-model="layertreeCtrl.getSetActive" ng-model-options="{getterSetter: true}"/>\n<button ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children"\n        ng-click="ctrl.onButtonClick(layertreeCtrl.node, layertreeCtrl.layer)">i</button>\n<ul ng-if="::layertreeCtrl.node.children">\n  <li ng-repeat="node in ::layertreeCtrl.node.children"\n      ngeo-layertree="::node"\n      ngeo-layertree-templateurl="partials/layertree.html"\n      ngeo-layertree-notroot\n      ngeo-layertree-map="layertreeCtrl.map"\n      ngeo-layertree-nodelayerexpr="layertreeCtrl.nodelayerExpr">\n  </li>\n</ul>\n';return __p}}});
//# sourceMappingURL=layertree.9bd7da.js.map